var jce=Object.defineProperty,Uce=(de,me,B)=>me in de?jce(de,me,{enumerable:!0,configurable:!0,writable:!0,value:B}):de[me]=B,Bt=(de,me,B)=>(Uce(de,"symbol"!=typeof me?me+"":me,B),B);(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[179],{2421:(de,me,B)=>{"use strict";function j(n){return"function"==typeof n}function ee(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const se=ee(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ie(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class ne{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(j(i))try{i()}catch(s){t=s instanceof se?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{fe(s)}catch(a){t=t??[],a instanceof se?t=[...t,...a.errors]:t.push(a)}}if(t)throw new se(t)}}add(t){var e;if(t&&t!==this)if(this.closed)fe(t);else{if(t instanceof ne){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ie(e,t)}remove(t){const{_finalizers:e}=this;e&&ie(e,t),t instanceof ne&&t._removeParent(this)}}ne.EMPTY=(()=>{const n=new ne;return n.closed=!0,n})();const re=ne.EMPTY;function ue(n){return n instanceof ne||n&&"closed"in n&&j(n.remove)&&j(n.add)&&j(n.unsubscribe)}function fe(n){j(n)?n():n.unsubscribe()}const Ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Le={setTimeout(n,t,...e){const{delegate:i}=Le;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Le;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function rt(n){Le.setTimeout(()=>{const{onUnhandledError:t}=Ce;if(!t)throw n;t(n)})}function st(){}const et=Qe("C",void 0,void 0);function Qe(n,t,e){return{kind:n,value:t,error:e}}let xt=null;function xe(n){if(Ce.useDeprecatedSynchronousErrorHandling){const t=!xt;if(t&&(xt={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=xt;if(xt=null,e)throw i}}else n()}class ut extends ne{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ue(t)&&t.add(this)):this.destination=_t}static create(t,e,i){return new Ot(t,e,i)}next(t){this.isStopped?ht(function we(n){return Qe("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ht(function Ne(n){return Qe("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ht(et,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yt=Function.prototype.bind;function Ht(n,t){return yt.call(n,t)}class Tt{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){on(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){on(i)}else on(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){on(e)}}}class Ot extends ut{constructor(t,e,i){let r;if(super(),j(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&Ce.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Ht(t.next,s),error:t.error&&Ht(t.error,s),complete:t.complete&&Ht(t.complete,s)}):r=t}this.destination=new Tt(r)}}function on(n){Ce.useDeprecatedSynchronousErrorHandling?function ot(n){Ce.useDeprecatedSynchronousErrorHandling&&xt&&(xt.errorThrown=!0,xt.error=n)}(n):rt(n)}function ht(n,t){const{onStoppedNotification:e}=Ce;e&&Le.setTimeout(()=>e(n,t))}const _t={closed:!0,next:st,error:function Cn(n){throw n},complete:st},Ve="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ae(n){return n}function Mt(n){return 0===n.length?Ae:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let nt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function hn(n){return n&&n instanceof ut||function Pe(n){return n&&j(n.next)&&j(n.error)&&j(n.complete)}(n)&&ue(n)}(e)?e:new Ot(e,i,r);return xe(()=>{const{operator:a,source:l}=this;s.add(a?a.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Xt(i))((r,s)=>{const a=new Ot({next:l=>{try{e(l)}catch(h){s(h),a.unsubscribe()}},error:s,complete:r});this.subscribe(a)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Ve](){return this}pipe(...e){return Mt(e)(this)}toPromise(e){return new(e=Xt(e))((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return n.create=t=>new n(t),n})();function Xt(n){var t;return null!==(t=n??Ce.Promise)&&void 0!==t?t:Promise}const Jn=ee(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let je=(()=>{class n extends nt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new ki(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Jn}next(e){xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?re:(this.currentObservers=null,s.push(e),new ne(()=>{this.currentObservers=null,ie(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new nt;return e.source=this,e}}return n.create=(t,e)=>new ki(t,e),n})();class ki extends je{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:re}}function Pi(n){return j(n?.lift)}function fn(n){return t=>{if(Pi(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Rn(n,t,e,i,r){return new pr(n,t,e,i,r)}class pr extends ut{constructor(t,e,i,r,s,a){super(t),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=e?function(l){try{e(l)}catch(h){t.error(h)}}:super._next,this._error=r?function(l){try{r(l)}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function vt(n,t){return fn((e,i)=>{let r=0;e.subscribe(Rn(i,s=>{i.next(n.call(t,s,r++))}))})}function io(n){return this instanceof io?(this.v=n,this):new io(n)}function Rp(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(D){i[D]&&(r[D]=function(A){return new Promise(function(k,P){s.push([D,A,k,P])>1||l(D,A)})})}function l(D,A){try{!function h(D){D.value instanceof io?Promise.resolve(D.value.v).then(m,v):C(s[0][2],D)}(i[D](A))}catch(k){C(s[0][3],k)}}function m(D){l("next",D)}function v(D){l("throw",D)}function C(D,A){D(A),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Op(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function mo(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(a){return new Promise(function(l,h){!function r(s,a,l,h){Promise.resolve(h).then(function(m){s({value:m,done:l})},a)}(l,h,(a=n[s](a)).done,a.value)})}}}const Xa=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Lc(n){return j(n?.then)}function Nc(n){return j(n[Ve])}function Qa(n){return Symbol.asyncIterator&&j(n?.[Symbol.asyncIterator])}function Ls(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Bc=function ba(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Vc(n){return j(n?.[Bc])}function Fp(n){return Rp(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield io(e.read());if(r)return yield io(void 0);yield yield io(i)}}finally{e.releaseLock()}})}function Hc(n){return j(n?.getReader)}function Dr(n){if(n instanceof nt)return n;if(null!=n){if(Nc(n))return function Kw(n){return new nt(t=>{const e=n[Ve]();if(j(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Xa(n))return function Ja(n){return new nt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Lc(n))return function Dh(n){return new nt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,rt)})}(n);if(Qa(n))return el(n);if(Vc(n))return function Yw(n){return new nt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Hc(n))return function Vv(n){return el(Fp(n))}(n)}throw Ls(n)}function el(n){return new nt(t=>{(function Zw(n,t){var e,i,r,s;return function fs(n,t,e,i){return new(e||(e=Promise))(function(s,a){function l(v){try{m(i.next(v))}catch(C){a(C)}}function h(v){try{m(i.throw(v))}catch(C){a(C)}}function m(v){v.done?s(v.value):function r(s){return s instanceof e?s:new e(function(a){a(s)})}(v.value).then(l,h)}m((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Op(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Ho(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Or(n,t,e=1/0){return j(t)?Or((i,r)=>vt((s,a)=>t(i,s,r,a))(Dr(n(i,r))),e):("number"==typeof t&&(e=t),fn((i,r)=>function Xw(n,t,e,i,r,s,a,l){const h=[];let m=0,v=0,C=!1;const D=()=>{C&&!h.length&&!m&&t.complete()},A=P=>m<i?k(P):h.push(P),k=P=>{s&&t.next(P),m++;let N=!1;Dr(e(P,v++)).subscribe(Rn(t,V=>{r?.(V),s?A(V):t.next(V)},()=>{N=!0},void 0,()=>{if(N)try{for(m--;h.length&&m<i;){const V=h.shift();a?Ho(t,a,()=>k(V)):k(V)}D()}catch(V){t.error(V)}}))};return n.subscribe(Rn(t,A,()=>{C=!0,D()})),()=>{l?.()}}(i,r,n,e)))}function tl(n=1/0){return Or(Ae,n)}const Ns=new nt(n=>n.complete());function Eh(n){return n&&j(n.schedule)}function Fi(n){return n[n.length-1]}function Sh(n){return j(Fi(n))?n.pop():void 0}function ti(n){return Eh(Fi(n))?n.pop():void 0}function vo(n,t=0){return fn((e,i)=>{e.subscribe(Rn(i,r=>Ho(i,n,()=>i.next(r),t),()=>Ho(i,n,()=>i.complete(),t),r=>Ho(i,n,()=>i.error(r),t)))})}function zv(n,t=0){return fn((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function wa(n,t){if(!n)throw new Error("Iterable cannot be null");return new nt(e=>{Ho(e,t,()=>{const i=n[Symbol.asyncIterator]();Ho(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function di(n,t){return t?function eC(n,t){if(null!=n){if(Nc(n))return function $v(n,t){return Dr(n).pipe(zv(t),vo(t))}(n,t);if(Xa(n))return function jv(n,t){return new nt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Lc(n))return function Jw(n,t){return Dr(n).pipe(zv(t),vo(t))}(n,t);if(Qa(n))return wa(n,t);if(Vc(n))return function Ur(n,t){return new nt(e=>{let i;return Ho(e,t,()=>{i=n[Bc](),Ho(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(a){return void e.error(a)}s?e.complete():e.next(r)},0,!0)}),()=>j(i?.return)&&i.return()})}(n,t);if(Hc(n))return function Np(n,t){return wa(Fp(n),t)}(n,t)}throw Ls(n)}(n,t):Dr(n)}function rr(...n){const t=ti(n),e=function Qw(n,t){return"number"==typeof Fi(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Dr(i[0]):tl(e)(di(i,t)):Ns}function Uv(n={}){const{connector:t=(()=>new je),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let a,l,h,m=0,v=!1,C=!1;const D=()=>{l?.unsubscribe(),l=void 0},A=()=>{D(),a=h=void 0,v=C=!1},k=()=>{const P=a;A(),P?.unsubscribe()};return fn((P,N)=>{m++,!C&&!v&&D();const V=h=h??t();N.add(()=>{m--,0===m&&!C&&!v&&(l=ro(k,r))}),V.subscribe(N),!a&&m>0&&(a=new Ot({next:q=>V.next(q),error:q=>{C=!0,D(),l=ro(A,e,q),V.error(q)},complete:()=>{v=!0,D(),l=ro(A,i),V.complete()}}),Dr(P).subscribe(a))})(s)}}function ro(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Ot({next:()=>{i.unsubscribe(),n()}});return t(...e).subscribe(i)}function Si(n){for(let t in n)if(n[t]===Si)return t;throw Error("Could not find renamed property on target object.")}function Bp(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function ai(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ai).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function zc(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Gv=Si({__forward_ref__:Si});function li(n){return n.__forward_ref__=li,n.toString=function(){return ai(this())},n}function an(n){return Vp(n)?n():n}function Vp(n){return"function"==typeof n&&n.hasOwnProperty(Gv)&&n.__forward_ref__===li}class qe extends Error{constructor(t,e){super(function Mh(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function mn(n){return"string"==typeof n?n:null==n?"":String(n)}function Ah(n,t){throw new qe(-201,!1)}function ws(n,t){null==n&&function Kn(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function Oe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Wr(n){return qv(n,jc)||qv(n,Ih)}function qv(n,t){return n.hasOwnProperty(t)?n[t]:null}function Xu(n){return n&&(n.hasOwnProperty(kh)||n.hasOwnProperty(Uc))?n[kh]:null}const jc=Si({\u0275prov:Si}),kh=Si({\u0275inj:Si}),Ih=Si({ngInjectableDef:Si}),Uc=Si({ngInjectorDef:Si});var Jt=(()=>((Jt=Jt||{})[Jt.Default=0]="Default",Jt[Jt.Host=1]="Host",Jt[Jt.Self=2]="Self",Jt[Jt.SkipSelf=4]="SkipSelf",Jt[Jt.Optional=8]="Optional",Jt))();let Rh;function so(n){const t=Rh;return Rh=n,t}function Yv(n,t,e){const i=Wr(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Jt.Optional?null:void 0!==t?t:void Ah(ai(n))}function nl(n){return{toString:n}.toString()}var yo=(()=>((yo=yo||{})[yo.OnPush=0]="OnPush",yo[yo.Default=1]="Default",yo))(),Er=(()=>{return(n=Er||(Er={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Er;var n})();const Ri=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Gc={},Wn=[],il=Si({\u0275cmp:Si}),Qu=Si({\u0275dir:Si}),$o=Si({\u0275pipe:Si}),Wc=Si({\u0275mod:Si}),Ca=Si({\u0275fac:Si}),rl=Si({__NG_ELEMENT_ID__:Si});let gs=0;function pn(n){return nl(()=>{const e=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===yo.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Wn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Er.Emulated,id:"c"+gs++,styles:n.styles||Wn,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,a=n.features;return r.inputs=Ph(n.inputs,i),r.outputs=Ph(n.outputs),a&&a.forEach(l=>l(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(qc).filter(Oh):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(ns).filter(Oh):null,r})}function qc(n){return mi(n)||mr(n)}function Oh(n){return null!==n}function ln(n){return nl(()=>({type:n.type,bootstrap:n.bootstrap||Wn,declarations:n.declarations||Wn,imports:n.imports||Wn,exports:n.exports||Wn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ph(n,t){if(null==n)return Gc;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const Ee=pn;function ms(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function mi(n){return n[il]||null}function mr(n){return n[Qu]||null}function ns(n){return n[$o]||null}function Vs(n,t){const e=n[Wc]||null;if(!e&&!0===t)throw new Error(`Type ${ai(n)} does not have '\u0275mod' property.`);return e}function xs(n){return Array.isArray(n)&&"object"==typeof n[1]}function oo(n){return Array.isArray(n)&&!0===n[1]}function Nh(n){return 0!=(8&n.flags)}function Bh(n){return 2==(2&n.flags)}function Vh(n){return 1==(1&n.flags)}function wo(n){return null!==n.template}function fC(n){return 0!=(256&n[2])}function Ul(n,t){return n.hasOwnProperty(Ca)?n[Ca]:null}class Hh{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Zi(){return nd}function nd(n){return n.type.prototype.ngOnChanges&&(n.setInput=Xv),yC}function yC(){const n=qp(this),t=n?.current;if(t){const e=n.previous;if(e===Gc)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Xv(n,t,e,i){const r=qp(n)||function Qv(n,t){return n[Wp]=t}(n,{previous:Gc,current:null}),s=r.current||(r.current={}),a=r.previous,l=this.declaredInputs[e],h=a[l];s[l]=new Hh(h&&h.currentValue,t,a===Gc),n[i]=t}Zi.ngInherit=!0;const Wp="__ngSimpleChanges__";function qp(n){return n[Wp]||null}function Oi(n){for(;Array.isArray(n);)n=n[0];return n}function $h(n,t){return Oi(t[n])}function On(n,t){return Oi(t[n.index])}function eu(n,t){return n.data[t]}function jn(n,t){return n[t]}function Nn(n,t){const e=t[n];return xs(e)?e:e[0]}function tu(n){return 64==(64&n[2])}function al(n,t){return null==t?null:n[t]}function ny(n){n[18]=0}function ll(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Zt={lFrame:lo(null),bindingsEnabled:!0};function iy(){return Zt.bindingsEnabled}function it(){return Zt.lFrame.lView}function Yn(){return Zt.lFrame.tView}function $s(n){return Zt.lFrame.contextLView=n,n[8]}function ni(n){return Zt.lFrame.contextLView=null,n}function xn(){let n=sy();for(;null!==n&&64===n.type;)n=n.parent;return n}function sy(){return Zt.lFrame.currentTNode}function jo(n,t){const e=Zt.lFrame;e.currentTNode=n,e.isParent=t}function Uo(){return Zt.lFrame.isParent}function Go(){Zt.lFrame.isParent=!1}function rs(){const n=Zt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function qo(){return Zt.lFrame.bindingIndex++}function Ko(n){const t=Zt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Yp(n,t){const e=Zt.lFrame;e.bindingIndex=e.bindingRootIndex=n,js(t)}function js(n){Zt.lFrame.currentDirectiveIndex=n}function Gh(n){const t=Zt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function Zp(){return Zt.lFrame.currentQueryIndex}function Wh(n){Zt.lFrame.currentQueryIndex=n}function MC(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Wl(n,t,e){if(e&Jt.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Jt.Host||(r=MC(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Zt.lFrame=Us();return i.currentTNode=t,i.lView=n,!0}function Yo(n){const t=Us(),e=n[1];Zt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Us(){const n=Zt.lFrame,t=null===n?null:n.child;return null===t?lo(n):t}function lo(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function cl(){const n=Zt.lFrame;return Zt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const iu=cl;function ru(){const n=cl();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ss(){return Zt.lFrame.selectedIndex}function xa(n){Zt.lFrame.selectedIndex=n}function zi(){const n=Zt.lFrame;return eu(n.tView,n.selectedIndex)}function Zo(){Zt.lFrame.currentNamespace="svg"}function qh(){!function TC(){Zt.lFrame.currentNamespace=null}()}function ld(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:h,ngAfterViewChecked:m,ngOnDestroy:v}=s;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),l&&((n.contentHooks||(n.contentHooks=[])).push(e,l),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,l)),h&&(n.viewHooks||(n.viewHooks=[])).push(-e,h),m&&((n.viewHooks||(n.viewHooks=[])).push(e,m),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,m)),null!=v&&(n.destroyHooks||(n.destroyHooks=[])).push(e,v)}}function Kh(n,t,e){ly(n,t,3,e)}function Yh(n,t,e,i){(3&n[2])===e&&ly(n,t,e,i)}function Qp(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function ly(n,t,e,i){const s=i??-1,a=t.length-1;let l=0;for(let h=void 0!==i?65535&n[18]:0;h<a;h++)if("number"==typeof t[h+1]){if(l=t[h],null!=i&&l>=i)break}else t[h]<0&&(n[18]+=65536),(l<s||-1==s)&&(kC(n,e,t,h),n[18]=(4294901760&n[18])+h+2),h++}function kC(n,t,e,i){const r=e[i]<0,s=e[i+1],l=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class cd{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function ql(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],a=e[i++],l=e[i++];n.setAttribute(t,a,l,s)}else{const s=r,a=e[++i];cy(s)?n.setProperty(t,s,a):n.setAttribute(t,s,a),i++}}return i}function eg(n){return 3===n||4===n||6===n}function cy(n){return 64===n.charCodeAt(0)}function ud(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||tg(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function tg(n,t,e,i,r){let s=0,a=n.length;if(-1===t)a=-1;else for(;s<n.length;){const l=n[s++];if("number"==typeof l){if(l===t){a=-1;break}if(l>t){a=s-1;break}}}for(;s<n.length;){const l=n[s];if("number"==typeof l)break;if(l===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(n.splice(a,0,t),s=a+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function uy(n){return-1!==n}function Da(n){return 32767&n}function Kl(n,t){let e=function dl(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Xh=!0;function Qh(n){const t=Xh;return Xh=n,t}let dy=0;const Pn={};function ou(n,t){const e=ig(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,au(i.data,n),au(t,null),au(i.blueprint,null));const r=Jh(n,t),s=n.injectorIndex;if(uy(r)){const a=Da(r),l=Kl(r,t),h=l[1].data;for(let m=0;m<8;m++)t[s+m]=l[a+m]|h[a+m]}return t[s+8]=r,s}function au(n,t){n.push(0,0,0,0,0,0,0,0,t)}function ig(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Jh(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=sg(r),null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Yl(n,t,e){!function LC(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(rl)&&(i=e[rl]),null==i&&(i=e[rl]=dy++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function hd(n,t,e){if(e&Jt.Optional||void 0!==n)return n;Ah()}function fd(n,t,e,i){if(e&Jt.Optional&&void 0===i&&(i=null),0==(e&(Jt.Self|Jt.Host))){const r=n[9],s=so(void 0);try{return r?r.get(t,i,e&Jt.Optional):Yv(t,i,e&Jt.Optional)}finally{so(s)}}return hd(i,0,e)}function Fr(n,t,e,i=Jt.Default,r){if(null!==n){if(1024&t[2]){const a=function my(n,t,e,i,r){let s=n,a=t;for(;null!==s&&null!==a&&1024&a[2]&&!(256&a[2]);){const l=ef(s,a,e,i|Jt.Self,Pn);if(l!==Pn)return l;let h=s.parent;if(!h){const m=a[21];if(m){const v=m.get(e,Pn,i);if(v!==Pn)return v}h=sg(a),a=a[15]}s=h}return r}(n,t,e,i,Pn);if(a!==Pn)return a}const s=ef(n,t,e,i,Pn);if(s!==Pn)return s}return fd(t,e,i,r)}function ef(n,t,e,i,r){const s=function NC(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(rl)?n[rl]:void 0;return"number"==typeof t?t>=0?255&t:gy:t}(e);if("function"==typeof s){if(!Wl(t,n,i))return i&Jt.Host?hd(r,0,i):fd(t,e,i,r);try{const a=s(i);if(null!=a||i&Jt.Optional)return a;Ah()}finally{iu()}}else if("number"==typeof s){let a=null,l=ig(n,t),h=-1,m=i&Jt.Host?t[16][6]:null;for((-1===l||i&Jt.SkipSelf)&&(h=-1===l?Jh(n,t):t[l+8],-1!==h&&py(i,!1)?(a=t[1],l=Da(h),t=Kl(h,t)):l=-1);-1!==l;){const v=t[1];if(fy(s,l,v.data)){const C=rg(l,t,e,a,i,m);if(C!==Pn)return C}h=t[l+8],-1!==h&&py(i,t[1].data[l+8]===m)&&fy(s,l,t)?(a=v,l=Da(h),t=Kl(h,t)):l=-1}}return r}function rg(n,t,e,i,r,s){const a=t[1],l=a.data[n+8],v=Ea(l,a,e,null==i?Bh(l)&&Xh:i!=a&&0!=(3&l.type),r&Jt.Host&&s===l);return null!==v?pd(t,a,v,l):Pn}function Ea(n,t,e,i,r){const s=n.providerIndexes,a=t.data,l=1048575&s,h=n.directiveStart,v=s>>20,D=r?l+v:n.directiveEnd;for(let A=i?l:l+v;A<D;A++){const k=a[A];if(A<h&&e===k||A>=h&&k.type===e)return A}if(r){const A=a[h];if(A&&wo(A)&&A.type===e)return h}return null}function pd(n,t,e,i){let r=n[e];const s=t.data;if(function IC(n){return n instanceof cd}(r)){const a=r;a.resolving&&function tC(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new qe(-200,`Circular dependency in DI detected for ${n}${e}`)}(function hi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():mn(n)}(s[e]));const l=Qh(a.canSeeViewProviders);a.resolving=!0;const h=a.injectImpl?so(a.injectImpl):null;Wl(n,i,Jt.Default);try{r=n[e]=a.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function ad(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const a=nd(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==h&&so(h),Qh(l),a.resolving=!1,iu()}}return r}function fy(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function py(n,t){return!(n&Jt.Self||n&Jt.Host&&t)}class Gs{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Fr(this._tNode,this._lView,t,i,e)}}function gy(){return new Gs(xn(),it())}function bt(n){return nl(()=>{const t=n.prototype.constructor,e=t[Ca]||Lr(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Ca]||Lr(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Lr(n){return Vp(n)?()=>{const t=Lr(an(n));return t&&t()}:Ul(n)}function sg(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function Ds(n){return function hy(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(eg(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(xn(),n)}const Xl="__parameters__";function lu(n,t,e){return nl(()=>{const i=function Di(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const a=new r(...s);return l.annotation=a,l;function l(h,m,v){const C=h.hasOwnProperty(Xl)?h[Xl]:Object.defineProperty(h,Xl,{value:[]})[Xl];for(;C.length<=v;)C.push(null);return(C[v]=C[v]||[]).push(a),h}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class Te{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Oe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ws(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Ws(i,t)):t!==n&&t.push(i)}return t}function xo(n,t){n.forEach(e=>Array.isArray(e)?xo(e,t):t(e))}function md(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Sr(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Sa(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function _i(n,t,e){let i=sr(n,t);return i>=0?n[1|i]=e:(i=~i,function lg(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function uu(n,t){const e=sr(n,t);if(e>=0)return n[1|e]}function sr(n,t){return function yy(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),a=n[s<<e];if(t===a)return s<<e;a>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const wd={},af="__NG_DI_FLAG__",lf="ngTempTokenPath",ug=/\n/gm,Cd="__source";let xd;function du(n){const t=xd;return xd=n,t}function WC(n,t=Jt.Default){if(void 0===xd)throw new qe(-203,!1);return null===xd?Yv(n,void 0,t):xd.get(n,t&Jt.Optional?null:void 0,t)}function le(n,t=Jt.Default){return(function Kv(){return Rh}()||WC)(an(n),t)}function bi(n,t=Jt.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),le(n,t)}function dg(n){const t=[];for(let e=0;e<n.length;e++){const i=an(n[e]);if(Array.isArray(i)){if(0===i.length)throw new qe(900,!1);let r,s=Jt.Default;for(let a=0;a<i.length;a++){const l=i[a],h=qC(l);"number"==typeof h?-1===h?r=l.token:s|=h:r=l}t.push(le(r,s))}else t.push(le(i))}return t}function Dd(n,t){return n[af]=t,n.prototype[af]=t,n}function qC(n){return n[af]}const qs=Dd(lu("Optional"),8),fl=Dd(lu("SkipSelf"),4);let pg,Sd;function nc(n){return function mg(){if(void 0===Sd&&(Sd=null,Ri.trustedTypes))try{Sd=Ri.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Sd}()?.createHTML(n)||n}class Do{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Oy extends Do{getTypeName(){return"HTML"}}class ex extends Do{getTypeName(){return"Style"}}class Py extends Do{getTypeName(){return"Script"}}class gu extends Do{getTypeName(){return"URL"}}class _g extends Do{getTypeName(){return"ResourceURL"}}function Es(n){return n instanceof Do?n.changingThisBreaksApplicationSecurity:n}function Jo(n,t){const e=function Fy(n){return n instanceof Do&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}class ix{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(nc(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class rx{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=nc(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=nc(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const a=e.item(r).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&t.removeAttribute(a)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const ox=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function pf(n){return(n=String(n)).match(ox)?n:"unsafe:"+n}function Aa(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Md(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Ny=Aa("area,br,col,hr,img,wbr"),By=Aa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vy=Aa("rp,rt"),sc=Md(Ny,Md(By,Aa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Md(Vy,Aa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Md(Vy,By)),or=Aa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Td=Md(or,Aa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Aa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ax=Aa("script,style,template");class lx{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sc.hasOwnProperty(e))return this.sanitizedSomething=!0,!ax.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),a=s.name,l=a.toLowerCase();if(!Td.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let h=s.value;or[l]&&(h=pf(h)),this.buf.push(" ",a,'="',Hy(h),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sc.hasOwnProperty(e)&&!Ny.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Hy(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const cx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ux=/([^\#-~ |!])/g;function Hy(n){return n.replace(/&/g,"&amp;").replace(cx,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ux,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mf;function zy(n,t){let e=null;try{mf=mf||function Ly(n){const t=new rx(n);return function sx(){try{return!!(new window.DOMParser).parseFromString(nc(""),"text/html")}catch{return!1}}()?new ix(t):t}(n);let i=t?String(t):"";e=mf.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=mf.getInertBodyElement(i)}while(i!==s);return nc((new lx).sanitizeChildren(wg(e)||e))}finally{if(e){const i=wg(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function wg(n){return"content"in n&&function $y(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ci=(()=>((ci=ci||{})[ci.NONE=0]="NONE",ci[ci.HTML=1]="HTML",ci[ci.STYLE=2]="STYLE",ci[ci.SCRIPT=3]="SCRIPT",ci[ci.URL=4]="URL",ci[ci.RESOURCE_URL=5]="RESOURCE_URL",ci))();function Mr(n){const t=function kd(){const n=it();return n&&n[12]}();return t?t.sanitize(ci.URL,n)||"":Jo(n,"URL")?Es(n):pf(mn(n))}const co=new Te("ENVIRONMENT_INITIALIZER"),Wy=new Te("INJECTOR",-1),qy=new Te("INJECTOR_DEF_TYPES");class Ky{get(t,e=wd){if(e===wd){const i=new Error(`NullInjectorError: No provider for ${ai(t)}!`);throw i.name="NullInjectorError",i}return e}}function mx(...n){return{\u0275providers:Yy(0,n)}}function Yy(n,...t){const e=[],i=new Set;let r;return xo(t,s=>{const a=s;Eo(a,e,[],i)&&(r||(r=[]),r.push(a))}),void 0!==r&&vf(r,e),e}function vf(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];xo(r,s=>{t.push(s)})}}function Eo(n,t,e,i){if(!(n=an(n)))return!1;let r=null,s=Xu(n);const a=!s&&mi(n);if(s||a){if(a&&!a.standalone)return!1;r=n}else{const h=n.ngModule;if(s=Xu(h),!s)return!1;r=h}const l=i.has(r);if(a){if(l)return!1;if(i.add(r),a.dependencies){const h="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const m of h)Eo(m,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!l){let m;i.add(r);try{xo(s.imports,v=>{Eo(v,t,e,i)&&(m||(m=[]),m.push(v))})}finally{}void 0!==m&&vf(m,t)}if(!l){const m=Ul(r)||(()=>new r);t.push({provide:r,useFactory:m,deps:Wn},{provide:qy,useValue:r,multi:!0},{provide:co,useValue:()=>le(r),multi:!0})}const h=s.providers;null==h||l||xo(h,v=>{t.push(v)})}}return r!==n&&void 0!==n.providers}const xg=Si({provide:String,useValue:Si});function Ta(n){return null!==n&&"object"==typeof n&&xg in n}function gl(n){return"function"==typeof n}const Dg=new Te("Set Injector scope."),So={},Xy={};let yf;function mu(){return void 0===yf&&(yf=new Ky),yf}class ea{}class Eg extends ea{constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mg(t,a=>this.processProvider(a)),this.records.set(Wy,ac(void 0,this)),r.has("environment")&&this.records.set(ea,ac(void 0,this));const s=this.records.get(Dg);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(qy.multi,Wn,Jt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=du(this),i=so(void 0);try{return t()}finally{du(e),so(i)}}get(t,e=wd,i=Jt.Default){this.assertNotDestroyed();const r=du(this),s=so(void 0);try{if(!(i&Jt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const h=function ui(n){return"function"==typeof n||"object"==typeof n&&n instanceof Te}(t)&&Wr(t);l=h&&this.injectableDefInScope(h)?ac(ml(t),So):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Jt.Self?mu():this.parent).get(t,e=i&Jt.Optional&&e===wd?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[lf]=a[lf]||[]).unshift(ai(t)),r)throw a;return function wy(n,t,e,i){const r=n[lf];throw t[Cd]&&r.unshift(t[Cd]),n.message=function KC(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=ai(t);if(Array.isArray(t))r=t.map(ai).join(" -> ");else if("object"==typeof t){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let l=t[a];s.push(a+":"+("string"==typeof l?JSON.stringify(l):ai(l)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(ug,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[lf]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{so(s),du(r)}}resolveInjectorInitializers(){const t=du(this),e=so(void 0);try{const i=this.get(co.multi,Wn,Jt.Self);for(const r of i)r()}finally{du(t),so(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(ai(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qe(205,!1)}processProvider(t){let e=gl(t=an(t))?t:an(t&&t.provide);const i=function yx(n){return Ta(n)?ac(void 0,n.useValue):ac(Sg(n),So)}(t);if(gl(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=ac(void 0,So,!0),r.factory=()=>dg(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===So&&(e.value=Xy,e.value=e.factory()),"object"==typeof e.value&&e.value&&function _x(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=an(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function ml(n){const t=Wr(n),e=null!==t?t.factory:Ul(n);if(null!==e)return e;if(n instanceof Te)throw new qe(204,!1);if(n instanceof Function)return function Id(n){const t=n.length;if(t>0)throw Sa(t,"?"),new qe(204,!1);const e=function oC(n){const t=n&&(n[jc]||n[Ih]);if(t){const e=function aC(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new qe(204,!1)}function Sg(n,t,e){let i;if(gl(n)){const r=an(n);return Ul(r)||ml(r)}if(Ta(n))i=()=>an(n.useValue);else if(function oc(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...dg(n.deps||[]));else if(function Zy(n){return!(!n||!n.useExisting)}(n))i=()=>le(an(n.useExisting));else{const r=an(n&&(n.useClass||n.provide));if(!function Qy(n){return!!n.deps}(n))return Ul(r)||ml(r);i=()=>new r(...dg(n.deps))}return i}function ac(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Jy(n){return!!n.\u0275providers}function Mg(n,t){for(const e of n)Array.isArray(e)?Mg(e,t):Jy(e)?Mg(e.\u0275providers,t):t(e)}class e_{}class n_{resolveComponentFactory(t){throw function t_(n){const t=Error(`No component factory found for ${ai(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let lc=(()=>{class n{}return n.NULL=new n_,n})();function Cx(){return vl(xn(),it())}function vl(n,t){return new St(On(n,t))}let St=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=Cx,n})();function cc(n){return n instanceof St?n.nativeElement:n}class Mo{}let c=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function o(){const n=it(),e=Nn(xn().index,n);return(xs(e)?e:n)[11]}(),n})(),u=(()=>{class n{}return n.\u0275prov=Oe({token:n,providedIn:"root",factory:()=>null}),n})();class d{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const f=new d("14.2.11"),p={};function U(n){return n.ngOriginalError}class X{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&U(t);for(;e&&U(e);)e=U(e);return e||null}}const Se=new Map;let Re=0;const Xe="__ngContext__";function tt(n,t){xs(t)?(n[Xe]=t[20],function ke(n){Se.set(n[20],n)}(t)):n[Xe]=t}function Ye(n){return n instanceof Function?n():n}var Tn=(()=>((Tn=Tn||{})[Tn.Important=1]="Important",Tn[Tn.DashCase=2]="DashCase",Tn))();function oi(n,t){return undefined(n,t)}function ar(n){const t=n[3];return oo(t)?t[3]:t}function Ar(n){return as(n[13])}function Ss(n){return as(n[4])}function as(n){for(;null!==n&&!oo(n);)n=n[4];return n}function Ys(n,t,e,i,r){if(null!=i){let s,a=!1;oo(i)?s=i:xs(i)&&(a=!0,i=i[0]);const l=Oi(i);0===n&&null!==e?null==r?bf(t,e,l):ko(t,e,l,r||null,!0):1===n&&null!==e?ko(t,e,l,r||null,!0):2===n?function PT(n,t,e){const i=wf(n,t);i&&function o_(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,l,a):3===n&&t.destroyNode(l),null!=s&&function Lz(n,t,e,i,r){const s=e[7];s!==Oi(e)&&Ys(t,n,i,s,r);for(let l=10;l<e.length;l++){const h=e[l];Og(h[1],h,n,t,i,s)}}(t,n,s,e,r)}}function yu(n,t,e){return n.createElement(t,e)}function Tg(n,t){const e=n[9],i=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,ll(r,-1)),e.splice(i,1)}function kg(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&Tg(r,i),t>0&&(n[e-1][4]=i[4]);const s=Sr(n,10+t);!function uc(n,t){Og(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function i_(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Og(n,t,e,3,null,null),function As(n){let t=n[13];if(!t)return Ig(n[1],n);for(;t;){let e=null;if(xs(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)xs(t)&&Ig(t[1],t),t=t[3];null===t&&(t=n),xs(t)&&Ig(t[1],t),e=t&&t[4]}t=e}}(t)}}function Ig(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function Dx(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof cd)){const s=e[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const l=r[s[a]],h=s[a+1];try{h.call(l)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function xx(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const a=e[s+1],l="function"==typeof a?a(t):Oi(t[a]),h=i[r=e[s+2]],m=e[s+3];"boolean"==typeof m?l.removeEventListener(e[s],h,m):m>=0?i[r=m]():i[r=-m].unsubscribe(),s+=2}else{const a=i[r=e[s+1]];e[s].call(a)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&oo(t[3])){e!==t[3]&&Tg(e,t);const i=t[19];null!==i&&i.detachView(n)}!function Ke(n){Se.delete(n[20])}(t)}}function r_(n,t,e){return function s_(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Er.None||r===Er.Emulated)return null}return On(i,e)}(n,t.parent,e)}function ko(n,t,e,i,r){n.insertBefore(t,e,i,r)}function bf(n,t,e){n.appendChild(t,e)}function Rd(n,t,e,i,r){null!==i?ko(n,t,e,i,r):bf(n,t,e)}function wf(n,t){return n.parentNode(t)}function Cf(n,t,e){return _u(n,t,e)}let _u=function Rg(n,t,e){return 40&n.type?On(n,e):null};function l_(n,t,e,i){const r=r_(n,i,t),s=t[11],l=Cf(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let h=0;h<e.length;h++)Rd(s,r,e[h],l,!1);else Rd(s,r,e,l,!1)}function c_(n,t){if(null!==t){const e=t.type;if(3&e)return On(t,n);if(4&e)return Sx(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return c_(n,i);{const r=n[t.index];return oo(r)?Sx(-1,r):Oi(r)}}if(32&e)return oi(t,n)()||Oi(n[t.index]);{const i=OT(n,t);return null!==i?Array.isArray(i)?i[0]:c_(ar(n[16]),i):c_(n,t.next)}}return null}function OT(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Sx(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return c_(i,r)}return t[7]}function Mx(n,t,e,i,r,s,a){for(;null!=e;){const l=i[e.index],h=e.type;if(a&&0===t&&(l&&tt(Oi(l),i),e.flags|=4),64!=(64&e.flags))if(8&h)Mx(n,t,e.child,i,r,s,!1),Ys(t,n,r,l,s);else if(32&h){const m=oi(e,i);let v;for(;v=m();)Ys(t,n,r,v,s);Ys(t,n,r,l,s)}else 16&h?FT(n,t,i,e,r,s):Ys(t,n,r,l,s);e=a?e.projectionNext:e.next}}function Og(n,t,e,i,r,s){Mx(e,i,n.firstChild,t,r,s,!1)}function FT(n,t,e,i,r,s){const a=e[16],h=a[6].projection[i.projection];if(Array.isArray(h))for(let m=0;m<h.length;m++)Ys(t,n,r,h[m],s);else Mx(n,t,h,a[3],r,s,!0)}function LT(n,t,e){n.setAttribute(t,"style",e)}function Ax(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function NT(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const BT="ng-template";function Bz(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==NT(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function VT(n){return 4===n.type&&n.value!==BT}function Vz(n,t,e){return t===(4!==n.type||e?n.value:BT)}function Hz(n,t,e){let i=4;const r=n.attrs||[],s=function jz(n){for(let t=0;t<n.length;t++)if(eg(n[t]))return t;return n.length}(r);let a=!1;for(let l=0;l<t.length;l++){const h=t[l];if("number"!=typeof h){if(!a)if(4&i){if(i=2|1&i,""!==h&&!Vz(n,h,e)||""===h&&1===t.length){if(ka(i))return!1;a=!0}}else{const m=8&i?h:t[++l];if(8&i&&null!==n.attrs){if(!Bz(n.attrs,m,e)){if(ka(i))return!1;a=!0}continue}const C=zz(8&i?"class":h,r,VT(n),e);if(-1===C){if(ka(i))return!1;a=!0;continue}if(""!==m){let D;D=C>s?"":r[C+1].toLowerCase();const A=8&i?D:null;if(A&&-1!==NT(A,m,0)||2&i&&m!==D){if(ka(i))return!1;a=!0}}}}else{if(!a&&!ka(i)&&!ka(h))return!1;if(a&&ka(h))continue;a=!1,i=h|1&i}}return ka(i)||a}function ka(n){return 0==(1&n)}function zz(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const a=t[r];if(a===n)return r;if(3===a||6===a)s=!0;else{if(1===a||2===a){let l=t[++r];for(;"string"==typeof l;)l=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=s?1:2}return-1}return function Uz(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function HT(n,t,e=!1){for(let i=0;i<t.length;i++)if(Hz(n,t[i],e))return!0;return!1}function Gz(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function zT(n,t){return n?":not("+t.trim()+")":t}function Wz(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&i){const l=n[++e];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!ka(a)&&(t+=zT(s,r),r=""),i=a,s=s||!ka(i);e++}return""!==r&&(t+=zT(s,r)),t}const In={};function Fe(n){$T(Yn(),it(),ss()+n,!1)}function $T(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&Kh(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Yh(t,s,0,e)}xa(e)}function WT(n,t=null,e=null,i){const r=qT(n,t,e,i);return r.resolveInjectorInitializers(),r}function qT(n,t=null,e=null,i,r=new Set){const s=[e||Wn,mx(n)];return i=i||("object"==typeof n?void 0:ai(n)),new Eg(s,t||mu(),i||null,r)}let lr=(()=>{class n{static create(e,i){if(Array.isArray(e))return WT({name:""},i,e,"");{const r=e.name??"";return WT({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=wd,n.NULL=new Ky,n.\u0275prov=Oe({token:n,providedIn:"any",factory:()=>le(Wy)}),n.__NG_ELEMENT_ID__=-1,n})();function O(n,t=Jt.Default){const e=it();return null===e?le(n,t):Fr(xn(),e,an(n),t)}function Od(){throw new Error("invalid")}function d_(n,t){return n<<17|t<<2}function Ia(n){return n>>17&32767}function Ox(n){return 2|n}function dc(n){return(131068&n)>>2}function Px(n,t){return-131069&n|t<<2}function Fx(n){return 1|n}function d1(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const a=n.data[s];Wh(r),a.contentQueries(2,t[s],s)}}}function p_(n,t,e,i,r,s,a,l,h,m,v){const C=t.blueprint.slice();return C[0]=r,C[2]=76|i,(null!==v||n&&1024&n[2])&&(C[2]|=1024),ny(C),C[3]=C[15]=n,C[8]=e,C[10]=a||n&&n[10],C[11]=l||n&&n[11],C[12]=h||n&&n[12]||null,C[9]=m||n&&n[9]||null,C[6]=s,C[20]=function De(){return Re++}(),C[21]=v,C[16]=2==t.type?n[16]:C,C}function Df(n,t,e,i,r){let s=n.data[t];if(null===s)s=function jx(n,t,e,i,r){const s=sy(),a=Uo(),h=n.data[t]=function T5(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=h),null!==s&&(a?null==s.child&&null!==h.parent&&(s.child=h):null===s.next&&(s.next=h)),h}(n,t,e,i,r),function SC(){return Zt.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const a=function id(){const n=Zt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return jo(s,!0),s}function Ef(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Ux(n,t,e){Yo(t);try{const i=n.viewQuery;null!==i&&Qx(1,i,e);const r=n.template;null!==r&&h1(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&d1(n,t),n.staticViewQueries&&Qx(2,n.viewQuery,e);const s=n.components;null!==s&&function S5(n,t){for(let e=0;e<t.length;e++)G5(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,ru()}}function g_(n,t,e,i){const r=t[2];if(128!=(128&r)){Yo(t);try{ny(t),function oy(n){return Zt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&h1(n,t,e,2,i);const a=3==(3&r);if(a){const m=n.preOrderCheckHooks;null!==m&&Kh(t,m,null)}else{const m=n.preOrderHooks;null!==m&&Yh(t,m,0,null),Qp(t,0)}if(function j5(n){for(let t=Ar(n);null!==t;t=Ss(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(512&r[2])&&ll(s,1),r[2]|=512}}}(t),function $5(n){for(let t=Ar(n);null!==t;t=Ss(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];tu(i)&&g_(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&d1(n,t),a){const m=n.contentCheckHooks;null!==m&&Kh(t,m)}else{const m=n.contentHooks;null!==m&&Yh(t,m,1),Qp(t,1)}!function D5(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)xa(~r);else{const s=r,a=e[++i],l=e[++i];Yp(a,s),l(2,t[s])}}}finally{xa(-1)}}(n,t);const l=n.components;null!==l&&function E5(n,t){for(let e=0;e<t.length;e++)U5(n,t[e])}(t,l);const h=n.viewQuery;if(null!==h&&Qx(2,h,i),a){const m=n.viewCheckHooks;null!==m&&Kh(t,m)}else{const m=n.viewHooks;null!==m&&Yh(t,m,2),Qp(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,ll(t[3],-1))}finally{ru()}}}function h1(n,t,e,i,r){const s=ss(),a=2&i;try{xa(-1),a&&t.length>22&&$T(n,t,22,!1),e(i,r)}finally{xa(s)}}function f1(n,t,e){if(Nh(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}}function Gx(n,t,e){!iy()||(function P5(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||ou(e,t),tt(i,t);const a=e.initialInputs;for(let l=r;l<s;l++){const h=n.data[l],m=wo(h);m&&V5(t,e,h);const v=pd(t,n,l,e);tt(v,t),null!==a&&H5(0,l-r,v,h,0,a),m&&(Nn(e.index,t)[8]=v)}}(n,t,e,On(e,t)),128==(128&e.flags)&&function F5(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function nu(){return Zt.lFrame.currentDirectiveIndex}();try{xa(s);for(let l=i;l<r;l++){const h=n.data[l],m=t[l];js(l),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&b1(h,m)}}finally{xa(-1),js(a)}}(n,t,e))}function Wx(n,t,e=On){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],l=-1===a?e(t,n):n[a];n[r++]=l}}}function p1(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=qx(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function qx(n,t,e,i,r,s,a,l,h,m){const v=22+i,C=v+r,D=function M5(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:In);return e}(v,C),A="function"==typeof m?m():m;return D[1]={type:n,blueprint:D,template:e,queries:null,viewQuery:l,declTNode:t,data:D.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:h,consts:A,incompleteFirstPass:!1}}function g1(n,t,e,i){const r=E1(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&S1(n).push(i,r.length-1))}function m1(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function v1(n,t){const i=t.directiveEnd,r=n.data,s=t.attrs,a=[];let l=null,h=null;for(let m=t.directiveStart;m<i;m++){const v=r[m],C=v.inputs,D=null===s||VT(t)?null:z5(C,s);a.push(D),l=m1(C,m,l),h=m1(v.outputs,m,h)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=16),l.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=l,t.outputs=h}function Ro(n,t,e,i,r,s,a,l){const h=On(t,e);let v,m=t.inputs;!l&&null!=m&&(v=m[i])?(Jx(n,e,v,i,r),Bh(t)&&y1(e,t.index)):3&t.type&&(i=function k5(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,t.value||"",i):r,s.setProperty(h,i,r))}function y1(n,t){const e=Nn(t,n);16&e[2]||(e[2]|=32)}function Kx(n,t,e,i){let r=!1;if(iy()){const s=function L5(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const a=i[s];HT(e,a.selectors,!1)&&(r||(r=[]),Yl(ou(e,t),n,a.type),wo(a)?(w1(n,e),r.unshift(a)):r.push(a))}return r}(n,t,e),a=null===i?null:{"":-1};if(null!==s){r=!0,C1(e,n.data.length,s.length);for(let v=0;v<s.length;v++){const C=s[v];C.providersResolver&&C.providersResolver(C)}let l=!1,h=!1,m=Ef(n,t,s.length,null);for(let v=0;v<s.length;v++){const C=s[v];e.mergedAttrs=ud(e.mergedAttrs,C.hostAttrs),x1(n,e,t,m,C),B5(m,C,a),null!==C.contentQueries&&(e.flags|=8),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(e.flags|=128);const D=C.type.prototype;!l&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),l=!0),!h&&(D.ngOnChanges||D.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),h=!0),m++}v1(n,e)}a&&function N5(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new qe(-301,!1);i.push(t[r],s)}}}(e,i,a)}return e.mergedAttrs=ud(e.mergedAttrs,e.attrs),r}function _1(n,t,e,i,r,s){const a=s.hostBindings;if(a){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const h=~t.index;(function O5(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(l)!=h&&l.push(h),l.push(i,r,a)}}function b1(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function w1(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function B5(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;wo(t)&&(e[""]=n)}}function C1(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function x1(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=Ul(r.type)),a=new cd(s,wo(r),O);n.blueprint[i]=a,e[i]=a,_1(n,t,0,i,Ef(n,e,r.hostVars,In),r)}function V5(n,t,e){const i=On(t,n),r=p1(e),s=n[10],a=m_(n,p_(n,r,null,e.onPush?32:16,i,t,s,s.createRenderer(i,e),null,null,null));n[t.index]=a}function wl(n,t,e,i,r,s){const a=On(n,t);!function Yx(n,t,e,i,r,s,a){if(null==s)n.removeAttribute(t,r,e);else{const l=null==a?mn(s):a(s,i||"",r);n.setAttribute(t,r,l,e)}}(t[11],a,s,n.value,e,i,r)}function H5(n,t,e,i,r,s){const a=s[t];if(null!==a){const l=i.setInput;for(let h=0;h<a.length;){const m=a[h++],v=a[h++],C=a[h++];null!==l?i.setInput(e,C,m,v):e[v]=C}}}function z5(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function D1(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function U5(n,t){const e=Nn(t,n);if(tu(e)){const i=e[1];48&e[2]?g_(i,e,i.template,e[8]):e[5]>0&&Zx(e)}}function Zx(n){for(let i=Ar(n);null!==i;i=Ss(i))for(let r=10;r<i.length;r++){const s=i[r];if(tu(s))if(512&s[2]){const a=s[1];g_(a,s,a.template,s[8])}else s[5]>0&&Zx(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Nn(e[i],n);tu(r)&&r[5]>0&&Zx(r)}}function G5(n,t){const e=Nn(t,n),i=e[1];(function W5(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Ux(i,e,e[8])}function m_(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Xx(n){for(;n;){n[2]|=32;const t=ar(n);if(fC(n)&&!t)return n;n=t}return null}function v_(n,t,e,i=!0){const r=t[10];r.begin&&r.begin();try{g_(n,t,n.template,e)}catch(a){throw i&&A1(t,a),a}finally{r.end&&r.end()}}function Qx(n,t,e){Wh(0),t(n,e)}function E1(n){return n[7]||(n[7]=[])}function S1(n){return n.cleanup||(n.cleanup=[])}function M1(n,t,e){return(null===n||wo(n))&&(e=function _C(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function A1(n,t){const e=n[9],i=e?e.get(X,null):null;i&&i.handleError(t)}function Jx(n,t,e,i,r){for(let s=0;s<e.length;){const a=e[s++],l=e[s++],h=t[a],m=n.data[a];null!==m.setInput?m.setInput(h,r,i,l):h[l]=r}}function hc(n,t,e){const i=$h(t,n);!function bl(n,t,e){n.setValue(t,e)}(n[11],i,e)}function y_(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const l=t[a];"number"==typeof l?s=l:1==s?r=zc(r,l):2==s&&(i=zc(i,l+": "+t[++a]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function __(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(Oi(s)),oo(s))for(let l=10;l<s.length;l++){const h=s[l],m=h[1].firstChild;null!==m&&__(h[1],h,m,i)}const a=e.type;if(8&a)__(n,t,e.child,i);else if(32&a){const l=oi(e,t);let h;for(;h=l();)i.push(h)}else if(16&a){const l=OT(t,e);if(Array.isArray(l))i.push(...l);else{const h=ar(t[16]);__(h[1],h,l,i,!0)}}e=r?e.projectionNext:e.next}return i}class Pg{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return __(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(oo(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(kg(t,i),Sr(e,i))}this._attachedToViewContainer=!1}i_(this._lView[1],this._lView)}onDestroy(t){g1(this._lView[1],this._lView,null,t)}markForCheck(){Xx(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){v_(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ls(n,t){Og(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new qe(902,!1);this._appRef=t}}class q5 extends Pg{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;v_(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class eD extends lc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=mi(t);return new Fg(e,this.ngModule)}}function T1(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class Y5{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){const r=this.injector.get(t,p,i);return r!==p||e===p?r:this.parentInjector.get(t,e,i)}}class Fg extends e_{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function qz(n){return n.map(Wz).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return T1(this.componentDef.inputs)}get outputs(){return T1(this.componentDef.outputs)}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof ea?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new Y5(t,s):t,l=a.get(Mo,null);if(null===l)throw new qe(407,!1);const h=a.get(u,null),m=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",C=i?function A5(n,t,e){return n.selectRootElement(t,e===Er.ShadowDom)}(m,i,this.componentDef.encapsulation):yu(m,v,function K5(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(v)),D=this.componentDef.onPush?288:272,A=qx(0,null,null,1,0,null,null,null,null,null),k=p_(null,A,null,D,null,null,l,m,h,a,null);let P,N;Yo(k);try{const V=function Q5(n,t,e,i,r,s){const a=e[1];e[22]=n;const h=Df(a,22,2,"#host",null),m=h.mergedAttrs=t.hostAttrs;null!==m&&(y_(h,m,!0),null!==n&&(ql(r,n,m),null!==h.classes&&Ax(r,n,h.classes),null!==h.styles&&LT(r,n,h.styles)));const v=i.createRenderer(n,t),C=p_(e,p1(t),null,t.onPush?32:16,e[22],h,i,v,s||null,null,null);return a.firstCreatePass&&(Yl(ou(h,e),a,t.type),w1(a,h),C1(h,e.length,1)),m_(e,C),e[22]=C}(C,this.componentDef,k,l,m);if(C)if(i)ql(m,C,["ng-version",f.full]);else{const{attrs:q,classes:te}=function Kz(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!ka(r))break;r=s}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);q&&ql(m,C,q),te&&te.length>0&&Ax(m,C,te.join(" "))}if(N=eu(A,22),void 0!==e){const q=N.projection=[];for(let te=0;te<this.ngContentSelectors.length;te++){const $=e[te];q.push(null!=$?Array.from($):null)}}P=function J5(n,t,e,i){const r=e[1],s=function R5(n,t,e){const i=xn();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),x1(n,i,t,Ef(n,t,1,null),e),v1(n,i));const r=pd(t,n,i.directiveStart,i);tt(r,t);const s=On(i,t);return s&&tt(s,t),r}(r,e,t);if(n[8]=e[8]=s,null!==i)for(const l of i)l(s,t);if(t.contentQueries){const l=xn();t.contentQueries(1,s,l.directiveStart)}const a=xn();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(xa(a.index),_1(e[1],a,0,a.directiveStart,a.directiveEnd,t),b1(t,s)),s}(V,this.componentDef,k,[e$]),Ux(A,k,null)}finally{ru()}return new X5(this.componentType,P,vl(N,k),k,N)}}class X5 extends class bx{}{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new q5(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const s=this._rootLView;Jx(s[1],s,r,t,e),y1(s,this._tNode.index)}}get injector(){return new Gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function e$(){const n=xn();ld(it()[1],n)}function Be(n){let t=function k1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(wo(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new qe(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const a=n;a.inputs=tD(n.inputs),a.declaredInputs=tD(n.declaredInputs),a.outputs=tD(n.outputs);const l=r.hostBindings;l&&r$(n,l);const h=r.viewQuery,m=r.contentQueries;if(h&&n$(n,h),m&&i$(n,m),Bp(n.inputs,r.inputs),Bp(n.declaredInputs,r.declaredInputs),Bp(n.outputs,r.outputs),wo(r)&&r.data.animation){const v=n.data;v.animation=(v.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let a=0;a<s.length;a++){const l=s[a];l&&l.ngInherit&&l(n),l===Be&&(e=!1)}}t=Object.getPrototypeOf(t)}!function t$(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ud(r.hostAttrs,e=ud(e,r.hostAttrs))}}(i)}function tD(n){return n===Gc?{}:n===Wn?[]:n}function n$(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function i$(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function r$(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let b_=null;function Pd(){if(!b_){const n=Ri.Symbol;if(n&&n.iterator)b_=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(b_=i)}}}return b_}function Lg(n){return!!nD(n)&&(Array.isArray(n)||!(n instanceof Map)&&Pd()in n)}function nD(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Cl(n,t,e){return n[t]=e}function Ts(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function ri(n,t,e,i){const r=it();return Ts(r,qo(),t)&&(Yn(),wl(zi(),r,n,t,e,i)),ri}function Mf(n,t,e,i){return Ts(n,qo(),e)?t+mn(e)+i:In}function Af(n,t,e,i,r,s){const l=function Fd(n,t,e,i){const r=Ts(n,t,e);return Ts(n,t+1,i)||r}(n,function Wo(){return Zt.lFrame.bindingIndex}(),e,r);return Ko(2),l?t+mn(e)+i+mn(r)+s:In}function Et(n,t,e,i,r,s,a,l){const h=it(),m=Yn(),v=n+22,C=m.firstCreatePass?function h$(n,t,e,i,r,s,a,l,h){const m=t.consts,v=Df(t,n,4,a||null,al(m,l));Kx(t,e,v,al(m,h)),ld(t,v);const C=v.tViews=qx(2,v,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,m);return null!==t.queries&&(t.queries.template(t,v),C.queries=t.queries.embeddedTView(v)),v}(v,m,h,t,e,i,r,s,a):m.data[v];jo(C,!1);const D=h[11].createComment("");l_(m,h,D,C),tt(D,h),m_(h,h[v]=D1(D,h,D,C)),Vh(C)&&Gx(m,h,C),null!=a&&Wx(h,C,l)}function Bg(n){return jn(function ao(){return Zt.lFrame.contextLView}(),22+n)}function at(n,t,e){const i=it();return Ts(i,qo(),t)&&Ro(Yn(),zi(),i,n,t,i[11],e,!1),at}function iD(n,t,e,i,r){const a=r?"class":"style";Jx(n,e,t.inputs[a],a,i)}function pe(n,t,e,i){const r=it(),s=Yn(),a=22+n,l=r[11],h=r[a]=yu(l,t,function od(){return Zt.lFrame.currentNamespace}()),m=s.firstCreatePass?function p$(n,t,e,i,r,s,a){const l=t.consts,m=Df(t,n,2,r,al(l,s));return Kx(t,e,m,al(l,a)),null!==m.attrs&&y_(m,m.attrs,!1),null!==m.mergedAttrs&&y_(m,m.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,m),m}(a,s,r,0,t,e,i):s.data[a];jo(m,!0);const v=m.mergedAttrs;null!==v&&ql(l,h,v);const C=m.classes;null!==C&&Ax(l,h,C);const D=m.styles;return null!==D&&LT(l,h,D),64!=(64&m.flags)&&l_(s,r,h,m),0===function CC(){return Zt.lFrame.elementDepthCount}()&&tt(h,r),function xC(){Zt.lFrame.elementDepthCount++}(),Vh(m)&&(Gx(s,r,m),f1(s,m,r)),null!==i&&Wx(r,m),pe}function ye(){let n=xn();Uo()?Go():(n=n.parent,jo(n,!1));const t=n;!function DC(){Zt.lFrame.elementDepthCount--}();const e=Yn();return e.firstCreatePass&&(ld(e,n),Nh(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function OC(n){return 0!=(16&n.flags)}(t)&&iD(e,t,it(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function PC(n){return 0!=(32&n.flags)}(t)&&iD(e,t,it(),t.stylesWithoutHost,!1),ye}function cn(n,t,e,i){return pe(n,t,e,i),ye(),cn}function Ji(n,t,e){const i=it(),r=Yn(),s=n+22,a=r.firstCreatePass?function g$(n,t,e,i,r){const s=t.consts,a=al(s,i),l=Df(t,n,8,"ng-container",a);return null!==a&&y_(l,a,!0),Kx(t,e,l,al(s,r)),null!==t.queries&&t.queries.elementStart(t,l),l}(s,r,i,t,e):r.data[s];jo(a,!0);const l=i[s]=i[11].createComment("");return l_(r,i,l,a),tt(l,i),Vh(a)&&(Gx(r,i,a),f1(r,a,i)),null!=e&&Wx(i,a),Ji}function er(){let n=xn();const t=Yn();return Uo()?Go():(n=n.parent,jo(n,!1)),t.firstCreatePass&&(ld(t,n),Nh(n)&&t.queries.elementEnd(n)),er}function xl(n,t,e){return Ji(n,t,e),er(),xl}function Ra(){return it()}function Vg(n){return!!n&&"function"==typeof n.then}function H1(n){return!!n&&"function"==typeof n.subscribe}const rD=H1;function jt(n,t,e,i){const r=it(),s=Yn(),a=xn();return z1(s,r,r[11],a,n,t,0,i),jt}function C_(n,t){const e=xn(),i=it(),r=Yn();return z1(r,i,M1(Gh(r.data),e,i),e,n,t),C_}function z1(n,t,e,i,r,s,a,l){const h=Vh(i),v=n.firstCreatePass&&S1(n),C=t[8],D=E1(t);let A=!0;if(3&i.type||l){const N=On(i,t),V=l?l(N):N,q=D.length,te=l?he=>l(Oi(he[i.index])):i.index;let $=null;if(!l&&h&&($=function m$(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const a=r[s];if(a===e&&r[s+1]===i){const l=t[7],h=r[s+2];return l.length>h?l[h]:null}"string"==typeof a&&(s+=2)}return null}(n,t,r,i.index)),null!==$)($.__ngLastListenerFn__||$).__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,A=!1;else{s=j1(i,t,C,s,!1);const he=e.listen(V,r,s);D.push(s,he),v&&v.push(r,te,q,q+1)}}else s=j1(i,t,C,s,!1);const k=i.outputs;let P;if(A&&null!==k&&(P=k[r])){const N=P.length;if(N)for(let V=0;V<N;V+=2){const _e=t[P[V]][P[V+1]].subscribe(s),Ze=D.length;D.push(s,_e),v&&v.push(r,i.index,Ze,-(Ze+1))}}}function $1(n,t,e,i){try{return!1!==e(i)}catch(r){return A1(n,r),!1}}function j1(n,t,e,i,r){return function s(a){if(a===Function)return i;Xx(2&n.flags?Nn(n.index,t):t);let h=$1(t,0,i,a),m=s.__ngNextListenerFn__;for(;m;)h=$1(t,0,m,a)&&h,m=m.__ngNextListenerFn__;return r&&!1===h&&(a.preventDefault(),a.returnValue=!1),h}}function Bn(n=1){return function Xp(n){return(Zt.lFrame.contextLView=function AC(n,t){for(;n>0;)t=t[15],n--;return t}(n,Zt.lFrame.contextLView))[8]}(n)}function v$(n,t){let e=null;const i=function $z(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?HT(n,s,!0):Gz(i,s))return r}else e=r}return e}function ia(n){const t=it()[16][6];if(!t.projection){const i=t.projection=Sa(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const a=n?v$(s,n):0;null!==a&&(r[a]?r[a].projectionNext=s:i[a]=s,r[a]=s),s=s.next}}}function cr(n,t=0,e){const i=it(),r=Yn(),s=Df(r,22+n,16,null,e||null);null===s.projection&&(s.projection=t),Go(),64!=(64&s.flags)&&function Fz(n,t,e){FT(t[11],0,t,e,r_(n,e,t),Cf(e.parent||t[6],e,t))}(r,i,s)}function J1(n,t,e,i,r){const s=n[e+1],a=null===t;let l=i?Ia(s):dc(s),h=!1;for(;0!==l&&(!1===h||a);){const v=n[l+1];b$(n[l],t)&&(h=!0,n[l+1]=i?Fx(v):Ox(v)),l=i?Ia(v):dc(v)}h&&(n[e+1]=i?Ox(s):Fx(s))}function b$(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&sr(n,t)>=0}const Kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ek(n){return n.substring(Kr.key,Kr.keyEnd)}function tk(n,t){const e=Kr.textEnd;return e===t?-1:(t=Kr.keyEnd=function D$(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Kr.key=t,e),Ff(n,t,e))}function Ff(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Cu(n,t,e){return Oa(n,t,e,!1),Cu}function wi(n,t){return Oa(n,t,null,!0),wi}function El(n,t){for(let e=function C$(n){return function ik(n){Kr.key=0,Kr.keyEnd=0,Kr.value=0,Kr.valueEnd=0,Kr.textEnd=n.length}(n),tk(n,Ff(n,0,Kr.textEnd))}(t);e>=0;e=tk(t,e))_i(n,ek(t),!0)}function Oa(n,t,e,i){const r=it(),s=Yn(),a=Ko(2);s.firstUpdatePass&&ak(s,n,a,i),t!==In&&Ts(r,a,t)&&ck(s,s.data[ss()],r,r[11],n,r[a+1]=function F$(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=ai(Es(n)))),n}(t,e),i,a)}function ok(n,t){return t>=n.expandoStartIndex}function ak(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[ss()],a=ok(n,e);dk(s,i)&&null===t&&!a&&(t=!1),t=function T$(n,t,e,i){const r=Gh(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Hg(e=oD(null,n,t,e,i),t.attrs,i),s=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==r)if(e=oD(r,n,t,e,i),null===s){let h=function k$(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==dc(i))return n[Ia(i)]}(n,t,i);void 0!==h&&Array.isArray(h)&&(h=oD(null,n,t,h[1],i),h=Hg(h,t.attrs,i),function I$(n,t,e,i){n[Ia(e?t.classBindings:t.styleBindings)]=i}(n,t,i,h))}else s=function R$(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Hg(i,n[s].hostAttrs,e);return Hg(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function y$(n,t,e,i,r,s){let a=s?t.classBindings:t.styleBindings,l=Ia(a),h=dc(a);n[i]=e;let v,m=!1;if(Array.isArray(e)){const C=e;v=C[1],(null===v||sr(C,v)>0)&&(m=!0)}else v=e;if(r)if(0!==h){const D=Ia(n[l+1]);n[i+1]=d_(D,l),0!==D&&(n[D+1]=Px(n[D+1],i)),n[l+1]=function p5(n,t){return 131071&n|t<<17}(n[l+1],i)}else n[i+1]=d_(l,0),0!==l&&(n[l+1]=Px(n[l+1],i)),l=i;else n[i+1]=d_(h,0),0===l?l=i:n[h+1]=Px(n[h+1],i),h=i;m&&(n[i+1]=Ox(n[i+1])),J1(n,v,i,!0),J1(n,v,i,!1),function _$(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&sr(s,t)>=0&&(e[i+1]=Fx(e[i+1]))}(t,v,n,i,s),a=d_(l,h),s?t.classBindings=a:t.styleBindings=a}(r,s,t,e,a,i)}}function oD(n,t,e,i,r){let s=null;const a=e.directiveEnd;let l=e.directiveStylingLast;for(-1===l?l=e.directiveStart:l++;l<a&&(s=t[l],i=Hg(i,s.hostAttrs,r),s!==n);)l++;return null!==n&&(e.directiveStylingLast=l),i}function Hg(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),_i(n,a,!!e||t[++s]))}return void 0===n?null:n}function ck(n,t,e,i,r,s,a,l){if(!(3&t.type))return;const h=n.data,m=h[l+1];x_(function n1(n){return 1==(1&n)}(m)?uk(h,t,e,r,dc(m),a):void 0)||(x_(s)||function t1(n){return 2==(2&n)}(m)&&(s=uk(h,null,e,r,l,a)),function Nz(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:Tn.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Tn.Important),n.setStyle(e,i,r,s))}}(i,a,$h(ss(),e),r,s))}function uk(n,t,e,i,r,s){const a=null===t;let l;for(;r>0;){const h=n[r],m=Array.isArray(h),v=m?h[1]:h,C=null===v;let D=e[r+1];D===In&&(D=C?Wn:void 0);let A=C?uu(D,i):v===i?D:void 0;if(m&&!x_(A)&&(A=uu(h,i)),x_(A)&&(l=A,a))return l;const k=n[r+1];r=a?Ia(k):dc(k)}if(null!==t){let h=s?t.residualClasses:t.residualStyles;null!=h&&(l=uu(h,i))}return l}function x_(n){return void 0!==n}function dk(n,t){return 0!=(n.flags&(t?16:32))}function Je(n,t=""){const e=it(),i=Yn(),r=n+22,s=i.firstCreatePass?Df(i,r,1,t,null):i.data[r],a=e[r]=function _l(n,t){return n.createText(t)}(e[11],t);l_(i,e,a,s),jo(s,!1)}function Ni(n){return Br("",n,""),Ni}function Br(n,t,e){const i=it(),r=Mf(i,n,t,e);return r!==In&&hc(i,ss(),r),Br}function D_(n,t,e,i,r){const s=it(),a=Af(s,n,t,e,i,r);return a!==In&&hc(s,ss(),a),D_}function _k(n,t,e){!function Pa(n,t,e,i){const r=Yn(),s=Ko(2);r.firstUpdatePass&&ak(r,null,s,i);const a=it();if(e!==In&&Ts(a,s,e)){const l=r.data[ss()];if(dk(l,i)&&!ok(r,s)){let h=i?l.classesWithoutHost:l.stylesWithoutHost;null!==h&&(e=zc(h,e||"")),iD(r,l,a,e,i)}else!function P$(n,t,e,i,r,s,a,l){r===In&&(r=Wn);let h=0,m=0,v=0<r.length?r[0]:null,C=0<s.length?s[0]:null;for(;null!==v||null!==C;){const D=h<r.length?r[h+1]:void 0,A=m<s.length?s[m+1]:void 0;let P,k=null;v===C?(h+=2,m+=2,D!==A&&(k=C,P=A)):null===C||null!==v&&v<C?(h+=2,k=v):(m+=2,k=C,P=A),null!==k&&ck(n,t,e,i,k,P,a,l),v=h<r.length?r[h]:null,C=m<s.length?s[m]:null}}(r,l,a,a[11],a[s+1],a[s+1]=function O$(n,t,e){if(null==e||""===e)return Wn;const i=[],r=Es(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}(_i,El,Mf(it(),n,t,e),!0)}function Ld(n,t,e){const i=it();return Ts(i,qo(),t)&&Ro(Yn(),zi(),i,n,t,i[11],e,!0),Ld}function E_(n,t,e){const i=it();if(Ts(i,qo(),t)){const s=Yn(),a=zi();Ro(s,a,i,n,t,M1(Gh(s.data),a,i),e,!0)}return E_}const Nf="en-US";let Ik=Nf;function cD(n,t,e,i,r){if(n=an(n),Array.isArray(n))for(let s=0;s<n.length;s++)cD(n[s],t,e,i,r);else{const s=Yn(),a=it();let l=gl(n)?n:an(n.provide),h=Sg(n);const m=xn(),v=1048575&m.providerIndexes,C=m.directiveStart,D=m.providerIndexes>>20;if(gl(n)||!n.multi){const A=new cd(h,r,O),k=dD(l,t,r?v:v+D,C);-1===k?(Yl(ou(m,a),s,l),uD(s,n,t.length),t.push(l),m.directiveStart++,m.directiveEnd++,r&&(m.providerIndexes+=1048576),e.push(A),a.push(A)):(e[k]=A,a[k]=A)}else{const A=dD(l,t,v+D,C),k=dD(l,t,v,v+D),P=A>=0&&e[A],N=k>=0&&e[k];if(r&&!N||!r&&!P){Yl(ou(m,a),s,l);const V=function J3(n,t,e,i,r){const s=new cd(n,e,O);return s.multi=[],s.index=t,s.componentProviders=0,nI(s,r,i&&!e),s}(r?Q3:X3,e.length,r,i,h);!r&&N&&(e[k].providerFactory=V),uD(s,n,t.length,0),t.push(l),m.directiveStart++,m.directiveEnd++,r&&(m.providerIndexes+=1048576),e.push(V),a.push(V)}else uD(s,n,A>-1?A:k,nI(e[r?k:A],h,!r&&i));!r&&i&&N&&e[k].componentProviders++}}}function uD(n,t,e,i){const r=gl(t),s=function Ks(n){return!!n.useClass}(t);if(r||s){const h=(s?an(t.useClass):t).prototype.ngOnDestroy;if(h){const m=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const v=m.indexOf(e);-1===v?m.push(e,[i,h]):m[v+1].push(i,h)}else m.push(e,h)}}}function nI(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function dD(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function X3(n,t,e,i){return hD(this.multi,[])}function Q3(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=pd(e,e[1],this.providerFactory.index,i);s=l.slice(0,a),hD(r,s);for(let h=a;h<l.length;h++)s.push(l[h])}else s=[],hD(r,s);return s}function hD(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function yn(n,t=[]){return e=>{e.providersResolver=(i,r)=>function Z3(n,t,e){const i=Yn();if(i.firstCreatePass){const r=wo(n);cD(e,i.data,i.blueprint,r,!0),cD(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Bd{}class iI{}class rI extends Bd{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eD(this);const i=Vs(t);this._bootstrapComponents=Ye(i.bootstrap),this._r3Injector=qT(t,e,[{provide:Bd,useValue:this},{provide:lc,useValue:this.componentFactoryResolver}],ai(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class fD extends iI{constructor(t){super(),this.moduleType=t}create(t){return new rI(this.moduleType,t)}}class tj extends Bd{constructor(t,e,i){super(),this.componentFactoryResolver=new eD(this),this.instance=null;const r=new Eg([...t,{provide:Bd,useValue:this},{provide:lc,useValue:this.componentFactoryResolver}],e||mu(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function k_(n,t,e=null){return new tj(n,t,e).injector}let nj=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=Yy(0,e.type),r=i.length>0?k_([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Oe({token:n,providedIn:"environment",factory:()=>new n(le(ea))}),n})();function sI(n){n.getStandaloneInjector=t=>t.get(nj).getOrCreateStandaloneInjector(n)}function gD(n,t,e){const i=rs()+n,r=it();return r[i]===In?Cl(r,i,e?t.call(e):t()):function Ng(n,t){return n[t]}(r,i)}function hI(n,t,e,i,r,s){const a=t+e;return Ts(n,a,r)?Cl(n,a+1,s?i.call(s,r):i(r)):function Wg(n,t){const e=n[t];return e===In?void 0:e}(n,a+1)}function mD(n,t){const e=Yn();let i;const r=n+22;e.firstCreatePass?(i=function bj(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=Ul(i.type)),a=so(O);try{const l=Qh(!1),h=s();return Qh(l),function f$(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,it(),r,h),h}finally{so(a)}}function vD(n,t,e){const i=n+22,r=it(),s=jn(r,i);return function qg(n,t){return n[1].data[t].pure}(r,i)?hI(r,rs(),t,s.transform,e,s):s.transform(e)}function yD(n){return t=>{setTimeout(n,void 0,t)}}const gn=class Ej extends je{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),a=i;if(t&&"object"==typeof t){const h=t;r=h.next?.bind(h),s=h.error?.bind(h),a=h.complete?.bind(h)}this.__isAsync&&(s=yD(s),r&&(r=yD(r)),a&&(a=yD(a)));const l=super.subscribe({next:r,error:s,complete:a});return t instanceof ne&&t.add(l),l}};function Sj(){return this._results[Pd()]()}class Kg{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Pd(),i=Kg.prototype;i[e]||(i[e]=Sj)}get changes(){return this._changes||(this._changes=new gn)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=Ws(t);(this._changesDetected=!function zC(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Tj,n})();const Mj=Vr,Aj=class extends Mj{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,r=p_(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[19];return null!==a&&(r[19]=a.createEmbeddedView(i)),Ux(i,r,t),new Pg(r)}};function Tj(){return I_(xn(),it())}function I_(n,t){return 4&n.type?new Aj(t,n,vl(n,t)):null}let Yr=(()=>{class n{}return n.__NG_ELEMENT_ID__=kj,n})();function kj(){return _I(xn(),it())}const Ij=Yr,vI=class extends Ij{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return vl(this._hostTNode,this._hostLView)}get injector(){return new Gs(this._hostTNode,this._hostLView)}get parentInjector(){const t=Jh(this._hostTNode,this._hostLView);if(uy(t)){const e=Kl(t,this._hostLView),i=Da(t);return new Gs(e[1].data[i+8],e)}return new Gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=yI(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=t.createEmbeddedView(e||{},s);return this.insert(a,r),a}createComponent(t,e,i,r,s){const a=t&&!function Jl(n){return"function"==typeof n}(t);let l;if(a)l=e;else{const C=e||{};l=C.index,i=C.injector,r=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}const h=a?t:new Fg(mi(t)),m=i||this.parentInjector;if(!s&&null==h.ngModule){const D=(a?m:this.parentInjector).get(ea,null);D&&(s=D)}const v=h.create(m,r,void 0,s);return this.insert(v.hostView,l),v}insert(t,e){const i=t._lView,r=i[1];if(function wC(n){return oo(n[3])}(i)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const C=i[3],D=new vI(C,C[6],C[3]);D.detach(D.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;!function _f(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],md(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function ta(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(a,t);const l=t[19];null!==l&&l.insertView(n),t[2]|=64}(r,i,a,s);const l=Sx(s,a),h=i[11],m=wf(h,a[7]);return null!==m&&function Ms(n,t,e,i,r,s){i[0]=r,i[6]=t,Og(n,i,e,1,r,s)}(r,a[6],h,i,m,l),t.attachToViewContainerRef(),md(_D(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=yI(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=kg(this._lContainer,e);i&&(Sr(_D(this._lContainer),e),i_(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=kg(this._lContainer,e);return i&&null!=Sr(_D(this._lContainer),e)?new Pg(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function yI(n){return n[8]}function _D(n){return n[8]||(n[8]=[])}function _I(n,t){let e;const i=t[n.index];if(oo(i))e=i;else{let r;if(8&n.type)r=Oi(i);else{const s=t[11];r=s.createComment("");const a=On(n,t);ko(s,wf(s,a),r,function Io(n,t){return n.nextSibling(t)}(s,a),!1)}t[n.index]=e=D1(i,t,r,n),m_(t,e)}return new vI(e,n,t)}class bD{constructor(t){this.queryList=t,this.matches=null}clone(){return new bD(this.queryList)}setDirty(){this.queryList.setDirty()}}class wD{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const a=e.getByIndex(s);r.push(this.queries[a.indexInDeclarationView].clone())}return new wD(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==DI(t,e).matches&&this.queries[e].setDirty()}}class bI{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class CD{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new CD(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class xD{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new xD(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,Pj(e,s)),this.matchTNodeWithReadOption(t,e,Ea(e,t,s,!1,!1))}else i===Vr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ea(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===St||r===Yr||r===Vr&&4&e.type)this.addMatch(e.index,-2);else{const s=Ea(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Pj(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Lj(n,t,e,i){return-1===e?function Fj(n,t){return 11&n.type?vl(n,t):4&n.type?I_(n,t):null}(t,n):-2===e?function Nj(n,t,e){return e===St?vl(t,n):e===Vr?I_(t,n):e===Yr?_I(t,n):void 0}(n,t,i):pd(n,n[1],e,t)}function wI(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,a=e.matches,l=[];for(let h=0;h<a.length;h+=2){const m=a[h];l.push(m<0?null:Lj(t,s[m],a[h+1],e.metadata.read))}r.matches=l}return r.matches}function DD(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const a=wI(n,t,r,e);for(let l=0;l<s.length;l+=2){const h=s[l];if(h>0)i.push(a[l/2]);else{const m=s[l+1],v=t[-h];for(let C=10;C<v.length;C++){const D=v[C];D[17]===D[3]&&DD(D[1],D,m,i)}if(null!==v[9]){const C=v[9];for(let D=0;D<C.length;D++){const A=C[D];DD(A[1],A,m,i)}}}}}return i}function Gt(n){const t=it(),e=Yn(),i=Zp();Wh(i+1);const r=DI(e,i);if(n.dirty&&function Pt(n){return 4==(4&n[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?DD(e,t,i,[]):wI(e,t,r,i);n.reset(s,cc),n.notifyOnChanges()}return!0}return!1}function vi(n,t,e){const i=Yn();i.firstCreatePass&&(xI(i,new bI(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),CI(i,it(),t)}function $i(n,t,e,i){const r=Yn();if(r.firstCreatePass){const s=xn();xI(r,new bI(t,e,i),s.index),function Vj(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}CI(r,it(),e)}function Wt(){return function Bj(n,t){return n[19].queries[t].queryList}(it(),Zp())}function CI(n,t,e){const i=new Kg(4==(4&e));g1(n,t,i,i.destroy),null===t[19]&&(t[19]=new wD),t[19].queries.push(new bD(i))}function xI(n,t,e){null===n.queries&&(n.queries=new CD),n.queries.track(new xD(t,e))}function DI(n,t){return n.queries.getByIndex(t)}function O_(...n){}const P_=new Te("Application Initializer");let F_=(()=>{class n{constructor(e){this.appInits=e,this.resolve=O_,this.reject=O_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Vg(s))e.push(s);else if(rD(s)){const a=new Promise((l,h)=>{s.subscribe({complete:l,error:h})});e.push(a)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(le(P_,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hf=new Te("AppId",{providedIn:"root",factory:function jI(){return`${TD()}${TD()}${TD()}`}});function TD(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const UI=new Te("Platform Initializer"),Fa=new Te("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),kD=new Te("appBootstrapListener"),cs=new Te("AnimationModuleType");let oU=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Sl=new Te("LocaleId",{providedIn:"root",factory:()=>bi(Sl,Jt.Optional|Jt.SkipSelf)||function aU(){return typeof $localize<"u"&&$localize.locale||Nf}()});class cU{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let ID=(()=>{class n{compileModuleSync(e){return new fD(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Ye(Vs(e).declarations).reduce((a,l)=>{const h=mi(l);return h&&a.push(new Fg(h)),a},[]);return new cU(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hU=(()=>Promise.resolve(0))();function RD(n){typeof Zone>"u"?hU.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Kt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gn(!1),this.onMicrotaskEmpty=new gn(!1),this.onStable=new gn(!1),this.onError=new gn(!1),typeof Zone>"u")throw new qe(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function fU(){let n=Ri.requestAnimationFrame,t=Ri.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function mU(n){const t=()=>{!function gU(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ri,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,PD(n),n.isCheckStableRunning=!0,OD(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),PD(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,a,l)=>{try{return qI(n),e.invokeTask(r,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),KI(n)}},onInvoke:(e,i,r,s,a,l,h)=>{try{return qI(n),e.invoke(r,s,a,l,h)}finally{n.shouldCoalesceRunChangeDetection&&t(),KI(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,PD(n),OD(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Kt.isInAngularZone())throw new qe(909,!1)}static assertNotInAngularZone(){if(Kt.isInAngularZone())throw new qe(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+r,t,pU,O_,O_);try{return s.runTask(a,e,i)}finally{s.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const pU={};function OD(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function PD(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function qI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function KI(n){n._nesting--,OD(n)}class vU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gn,this.onMicrotaskEmpty=new gn,this.onStable=new gn,this.onError=new gn}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const YI=new Te(""),L_=new Te("");let ND,FD=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ND||(function yU(n){ND=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Kt.assertNotInAngularZone(),RD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())RD(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(le(Kt),le(LD),le(L_))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),LD=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return ND?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),xu=null;const ZI=new Te("AllowMultipleToken"),BD=new Te("PlatformDestroyListeners");class XI{constructor(t,e){this.name=t,this.token=e}}function JI(n,t,e=[]){const i=`Platform: ${t}`,r=new Te(i);return(s=[])=>{let a=VD();if(!a||a.injector.get(ZI,!1)){const l=[...e,...s,{provide:r,useValue:!0}];n?n(l):function wU(n){if(xu&&!xu.get(ZI,!1))throw new qe(400,!1);xu=n;const t=n.get(tR);(function QI(n){const t=n.get(UI,null);t&&t.forEach(e=>e())})(n)}(function eR(n=[],t){return lr.create({name:t,providers:[{provide:Dg,useValue:"platform"},{provide:BD,useValue:new Set([()=>xu=null])},...n]})}(l,i))}return function xU(n){const t=VD();if(!t)throw new qe(401,!1);return t}()}}function VD(){return xu?.get(tR)??null}let tR=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function iR(n,t){let e;return e="noop"===n?new vU:("zone.js"===n?void 0:n)||new Kt(t),e}(i?.ngZone,function nR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:Kt,useValue:r}];return r.run(()=>{const a=lr.create({providers:s,parent:this.injector,name:e.moduleType.name}),l=e.create(a),h=l.injector.get(X,null);if(!h)throw new qe(402,!1);return r.runOutsideAngular(()=>{const m=r.onError.subscribe({next:v=>{h.handleError(v)}});l.onDestroy(()=>{N_(this._modules,l),m.unsubscribe()})}),function rR(n,t,e){try{const i=e();return Vg(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(h,r,()=>{const m=l.injector.get(F_);return m.runInitializers(),m.donePromise.then(()=>(function Rk(n){ws(n,"Expected localeId to be defined"),"string"==typeof n&&(Ik=n.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Sl,Nf)||Nf),this._moduleDoBootstrap(l),l))})})}bootstrapModule(e,i=[]){const r=sR({},i);return function _U(n,t,e){const i=new fD(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(zf);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new qe(403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qe(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(BD,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(le(lr))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function sR(n,t){return Array.isArray(t)?t.reduce(sR,n):{...n,...t}}let zf=(()=>{class n{constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new nt(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new nt(l=>{let h;this._zone.runOutsideAngular(()=>{h=this._zone.onStable.subscribe(()=>{Kt.assertNotInAngularZone(),RD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{Kt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{h.unsubscribe(),m.unsubscribe()}});this.isStable=rr(s,a.pipe(Uv()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof e_;if(!this._injector.get(F_).done)throw!r&&function _o(n){const t=mi(n)||mr(n)||ns(n);return null!==t&&t.standalone}(e),new qe(405,false);let a;a=r?e:this._injector.get(lc).resolveComponentFactory(e),this.componentTypes.push(a.componentType);const l=function bU(n){return n.isBoundToModule}(a)?void 0:this._injector.get(Bd),m=a.create(lr.NULL,[],i||a.selector,l),v=m.location.nativeElement,C=m.injector.get(YI,null);return C?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),N_(this.components,m),C?.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new qe(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;N_(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(kD,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>N_(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new qe(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(le(Kt),le(ea),le(X))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function N_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let aR=!0,Hr=(()=>{class n{}return n.__NG_ELEMENT_ID__=SU,n})();function SU(n){return function MU(n,t,e){if(Bh(n)&&!e){const i=Nn(n.index,t);return new Pg(i,i)}return 47&n.type?new Pg(t[16],t):null}(xn(),it(),16==(16&n))}class hR{constructor(){}supports(t){return Lg(t)}create(t){return new OU(t)}}const RU=(n,t)=>t;class OU{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||RU}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const a=!i||e&&e.currentIndex<pR(i,r,s)?e:i,l=pR(a,r,s),h=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)r++;else{s||(s=[]);const m=l-r,v=h-r;if(m!=v){for(let D=0;D<m;D++){const A=D<s.length?s[D]:s[D]=0,k=A+D;v<=k&&k<m&&(s[D]=A+1)}s[a.previousIndex]=v-m}}l!==h&&t(a,l,h)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Lg(t))throw new qe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)s=t[l],a=this._trackByFn(l,s),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,s,a,l)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,a,l),i=!0),e=e._next}else r=0,function c$(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Pd()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,l=>{a=this._trackByFn(r,l),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,l,a,r)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,a,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new PU(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fR),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fR),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class PU{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FU{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class fR{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new FU,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pR(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class gR{constructor(){}supports(t){return t instanceof Map||nD(t)}create(){return new LU}}class LU{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||nD(t)))throw new qe(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,a=r._next;return s&&(s._next=a),a&&(a._prev=s),r._next=null,r._prev=null,r}const i=new NU(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class NU{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mR(){return new Ml([new hR])}let Ml=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||mR()),deps:[[n,new fl,new qs]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new qe(901,!1)}}return n.\u0275prov=Oe({token:n,providedIn:"root",factory:mR}),n})();function vR(){return new Hd([new gR])}let Hd=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||vR()),deps:[[n,new fl,new qs]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new qe(901,!1)}}return n.\u0275prov=Oe({token:n,providedIn:"root",factory:vR}),n})();const HU=JI(null,"core",[]);let zU=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(le(zf))},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({}),n})();function pc(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let H_=null;function Al(){return H_}const un=new Te("DocumentToken");let UD=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:function(){return function GU(){return le(yR)}()},providedIn:"platform"}),n})();const WU=new Te("Location Initialized");let yR=(()=>{class n extends UD{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Al().getBaseHref(this._doc)}onPopState(e){const i=Al().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Al().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){_R()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){_R()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(le(un))},n.\u0275prov=Oe({token:n,factory:function(){return function qU(){return new yR(le(un))}()},providedIn:"platform"}),n})();function _R(){return!!window.history.pushState}function GD(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function bR(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function gc(n){return n&&"?"!==n[0]?"?"+n:n}let zd=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:function(){return bi(CR)},providedIn:"root"}),n})();const wR=new Te("appBaseHref");let CR=(()=>{class n extends zd{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??bi(un).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return GD(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+gc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const a=this.prepareExternalUrl(r+gc(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){const a=this.prepareExternalUrl(r+gc(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(le(UD),le(wR,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KU=(()=>{class n extends zd{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=GD(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let a=this.prepareExternalUrl(r+gc(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){let a=this.prepareExternalUrl(r+gc(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(le(UD),le(wR,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),Zg=(()=>{class n{constructor(e){this._subject=new gn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=bR(xR(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+gc(i))}normalize(e){return n.stripTrailingSlash(function ZU(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,xR(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+gc(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+gc(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=gc,n.joinWithSlash=GD,n.stripTrailingSlash=bR,n.\u0275fac=function(e){return new(e||n)(le(zd))},n.\u0275prov=Oe({token:n,factory:function(){return function YU(){return new Zg(le(zd))}()},providedIn:"root"}),n})();function xR(n){return n.replace(/\/index.html$/,"")}let Jg=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Lg(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ai(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(O(Ml),O(Hd),O(St),O(c))},n.\u0275dir=Ee({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class FG{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $d=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new FG(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,a),PR(l,r)}});for(let r=0,s=i.length;r<s;r++){const l=i.get(r).context;l.index=r,l.count=s,l.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{PR(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(Vr),O(Ml))},n.\u0275dir=Ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function PR(n,t){n.context.$implicit=t.item}let vc=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new NG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){FR("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){FR("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(Vr))},n.\u0275dir=Ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class NG{constructor(){this.$implicit=null,this.ngIf=null}}function FR(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ai(t)}'.`)}class tE{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let em=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),nE=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new tE(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(Vr),O(em,9))},n.\u0275dir=Ee({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),LR=(()=>{class n{constructor(e,i,r){r._addDefault(new tE(e,i))}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(Vr),O(em,9))},n.\u0275dir=Ee({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Z_=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),a=-1===r.indexOf("-")?void 0:Tn.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Hd),O(c))},n.\u0275dir=Ee({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class HG{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class zG{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const $G=new zG,jG=new HG;let BR=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Vg(e))return $G;if(H1(e))return jG;throw function Ba(n,t){return new qe(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(O(Hr,16))},n.\u0275pipe=ms({name:"async",type:n,pure:!1,standalone:!0}),n})(),Va=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({}),n})();const HR="browser";function jd(n){return n===HR}function $f(n){return"server"===n}let u4=(()=>{class n{}return n.\u0275prov=Oe({token:n,providedIn:"root",factory:()=>new d4(le(un),window)}),n})();class d4{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function h4(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=zR(this.window.history)||zR(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function zR(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class aE extends class I4 extends class UU{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function jU(n){H_||(H_=n)}(new aE)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function R4(){return nm=nm||document.querySelector("base"),nm?nm.getAttribute("href"):null}();return null==e?null:function O4(n){Q_=Q_||document.createElement("a"),Q_.setAttribute("href",n);const t=Q_.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){nm=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function OG(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Q_,nm=null;const GR=new Te("TRANSITION_ID"),F4=[{provide:P_,useFactory:function P4(n,t,e){return()=>{e.get(F_).donePromise.then(()=>{const i=Al(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[GR,un,lr],multi:!0}];let N4=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const J_=new Te("EventManagerPlugins");let eb=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(le(J_),le(Kt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();class WR{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=Al().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let qR=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),im=(()=>{class n extends qR{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(KR),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(KR))}}return n.\u0275fac=function(e){return new(e||n)(le(un))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();function KR(n){Al().remove(n)}const lE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cE=/%COMP%/g;function tb(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?tb(n,r,e):(r=r.replace(cE,n),e.push(r))}return e}function XR(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let nb=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new uE(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Er.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new j4(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Er.ShadowDom:return new U4(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=tb(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(le(eb),le(im),le(Hf))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();class uE{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(lE[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(JR(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(JR(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=lE[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=lE[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Tn.DashCase|Tn.Important)?t.style.setProperty(e,i,r&Tn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Tn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,XR(i)):this.eventManager.addEventListener(t,e,XR(i))}}function JR(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class j4 extends uE{constructor(t,e,i,r){super(t),this.component=i;const s=tb(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function H4(n){return"_ngcontent-%COMP%".replace(cE,n)}(r+"-"+i.id),this.hostAttr=function z4(n){return"_nghost-%COMP%".replace(cE,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class U4 extends uE{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=tb(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const l=document.createElement("style");l.textContent=s[a],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let G4=(()=>{class n extends WR{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(le(un))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const eO=["alt","control","meta","shift"],W4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},q4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let K4=(()=>{class n extends WR{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Al().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),eO.forEach(m=>{const v=i.indexOf(m);v>-1&&(i.splice(v,1),a+=m+".")}),a+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=a,h}static matchEventFullKeyCode(e,i){let r=W4[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),eO.forEach(a=>{a!==r&&(0,q4[a])(e)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(le(un))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const Q4=JI(HU,"browser",[{provide:Fa,useValue:HR},{provide:UI,useValue:function Y4(){aE.makeCurrent()},multi:!0},{provide:un,useFactory:function X4(){return function Xo(n){pg=n}(document),document},deps:[]}]),iO=new Te(""),rO=[{provide:L_,useClass:class L4{addToWindow(t){Ri.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Ri.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ri.getAllAngularRootElements=()=>t.getAllRootElements(),Ri.frameworkStabilizers||(Ri.frameworkStabilizers=[]),Ri.frameworkStabilizers.push(i=>{const r=Ri.getAllAngularTestabilities();let s=r.length,a=!1;const l=function(h){a=a||h,s--,0==s&&i(a)};r.forEach(function(h){h.whenStable(l)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Al().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:YI,useClass:FD,deps:[Kt,LD,L_]},{provide:FD,useClass:FD,deps:[Kt,LD,L_]}],sO=[{provide:Dg,useValue:"root"},{provide:X,useFactory:function Z4(){return new X},deps:[]},{provide:J_,useClass:G4,multi:!0,deps:[un,Kt,Fa]},{provide:J_,useClass:K4,multi:!0,deps:[un]},{provide:nb,useClass:nb,deps:[eb,im,Hf]},{provide:Mo,useExisting:nb},{provide:qR,useExisting:im},{provide:im,useClass:im,deps:[un]},{provide:eb,useClass:eb,deps:[J_,Kt]},{provide:class f4{},useClass:N4,deps:[]},[]];let oO=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Hf,useValue:e.appId},{provide:GR,useExisting:Hf},F4]}}}return n.\u0275fac=function(e){return new(e||n)(le(iO,12))},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[...sO,...rO],imports:[Va,zU]}),n})(),aO=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(le(un))},n.\u0275prov=Oe({token:n,factory:function(e){let i=null;return i=e?new e:function eW(){return new aO(le(un))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ib=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:function(e){let i=null;return i=e?new(e||n):le(uO),i},providedIn:"root"}),n})(),uO=(()=>{class n extends ib{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case ci.NONE:return i;case ci.HTML:return Jo(i,"HTML")?Es(i):zy(this._doc,String(i)).toString();case ci.STYLE:return Jo(i,"Style")?Es(i):i;case ci.SCRIPT:if(Jo(i,"Script"))return Es(i);throw new Error("unsafe value used in a script context");case ci.URL:return Jo(i,"URL")?Es(i):pf(String(i));case ci.RESOURCE_URL:if(Jo(i,"ResourceURL"))return Es(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function hf(n){return new Oy(n)}(e)}bypassSecurityTrustStyle(e){return function ff(n){return new ex(n)}(e)}bypassSecurityTrustScript(e){return function bg(n){return new Py(n)}(e)}bypassSecurityTrustUrl(e){return function tx(n){return new gu(n)}(e)}bypassSecurityTrustResourceUrl(e){return function nx(n){return new _g(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(le(un))},n.\u0275prov=Oe({token:n,factory:function(e){let i=null;return i=e?new e:function aW(n){return new uO(n.get(un))}(le(lr)),i},providedIn:"root"}),n})();function Lt(...n){return di(n,ti(n))}class Ei extends je{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const rb=ee(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:lW}=Array,{getPrototypeOf:cW,prototype:uW,keys:dW}=Object;function dO(n){if(1===n.length){const t=n[0];if(lW(t))return{args:t,keys:null};if(function hW(n){return n&&"object"==typeof n&&cW(n)===uW}(t)){const e=dW(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:fW}=Array;function fE(n){return vt(t=>function pW(n,t){return fW(t)?n(...t):n(t)}(n,t))}function hO(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function jf(...n){const t=ti(n),e=Sh(n),{args:i,keys:r}=dO(n);if(0===i.length)return di([],t);const s=new nt(function gW(n,t,e=Ae){return i=>{fO(t,()=>{const{length:r}=n,s=new Array(r);let a=r,l=r;for(let h=0;h<r;h++)fO(t,()=>{const m=di(n[h],t);let v=!1;m.subscribe(Rn(i,C=>{s[h]=C,v||(v=!0,l--),l||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>hO(r,a):Ae));return e?s.pipe(fE(e)):s}function fO(n,t,e){n?Ho(e,n,t):t()}function sb(...n){return function mW(){return tl(1)}()(di(n,ti(n)))}function rm(n){return new nt(t=>{Dr(n()).subscribe(t)})}function Uf(n,t){const e=j(n)?n:()=>n,i=r=>r.error(e());return new nt(t?r=>t.schedule(i,0,r):i)}function pE(){return fn((n,t)=>{let e=null;n._refCount++;const i=Rn(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class gE extends nt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Pi(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ne;const e=this.getSubject();t.add(this.source.subscribe(Rn(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ne.EMPTY)}return t}refCount(){return pE()(this)}}function Oo(n,t){return fn((e,i)=>{let r=null,s=0,a=!1;const l=()=>a&&!r&&i.complete();e.subscribe(Rn(i,h=>{r?.unsubscribe();let m=0;const v=s++;Dr(n(h,v)).subscribe(r=Rn(i,C=>i.next(t?t(h,C,v,m++):C),()=>{r=null,l()}))},()=>{a=!0,l()}))})}function yr(n){return n<=0?()=>Ns:fn((t,e)=>{let i=0;t.subscribe(Rn(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Ha(...n){const t=ti(n);return fn((e,i)=>{(t?sb(n,e,t):sb(n,e)).subscribe(i)})}function _r(n,t){return fn((e,i)=>{let r=0;e.subscribe(Rn(i,s=>n.call(t,s,r++)&&i.next(s)))})}function ob(n){return fn((t,e)=>{let i=!1;t.subscribe(Rn(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function pO(n=vW){return fn((t,e)=>{let i=!1;t.subscribe(Rn(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function vW(){return new rb}function Eu(n,t){const e=arguments.length>=2;return i=>i.pipe(n?_r((r,s)=>n(r,s,i)):Ae,yr(1),e?ob(t):pO(()=>new rb))}function Su(n,t){return j(t)?Or(n,t,1):Or(n,1)}function Zn(n,t,e){const i=j(n)||t||e?{next:n,error:t,complete:e}:n;return i?fn((r,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let l=!0;r.subscribe(Rn(s,h=>{var m;null===(m=i.next)||void 0===m||m.call(i,h),s.next(h)},()=>{var h;l=!1,null===(h=i.complete)||void 0===h||h.call(i),s.complete()},h=>{var m;l=!1,null===(m=i.error)||void 0===m||m.call(i,h),s.error(h)},()=>{var h,m;l&&(null===(h=i.unsubscribe)||void 0===h||h.call(i)),null===(m=i.finalize)||void 0===m||m.call(i)}))}):Ae}function za(n){return fn((t,e)=>{let s,i=null,r=!1;i=t.subscribe(Rn(e,void 0,void 0,a=>{s=Dr(n(a,za(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function yW(n,t,e,i,r){return(s,a)=>{let l=e,h=t,m=0;s.subscribe(Rn(a,v=>{const C=m++;h=l?n(h,v,C):(l=!0,v),i&&a.next(h)},r&&(()=>{l&&a.next(h),a.complete()})))}}function gO(n,t){return fn(yW(n,t,arguments.length>=2,!0))}function mE(n){return n<=0?()=>Ns:fn((t,e)=>{let i=[];t.subscribe(Rn(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function mO(n,t){const e=arguments.length>=2;return i=>i.pipe(n?_r((r,s)=>n(r,s,i)):Ae,mE(1),e?ob(t):pO(()=>new rb))}function vO(n,t=!1){return fn((e,i)=>{let r=0;e.subscribe(Rn(i,s=>{const a=n(s,r++);(a||t)&&i.next(s),!a&&i.complete()}))})}function ab(n){return fn((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const qn="primary",sm=Symbol("RouteTitle");class bW{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gf(n){return new bW(n)}function wW(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],l=n[s];if(a.startsWith(":"))r[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Tl(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!yO(n[r],t[r]))return!1;return!0}function yO(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function _O(n){return Array.prototype.concat.apply([],n)}function bO(n){return n.length>0?n[n.length-1]:null}function ys(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Mu(n){return rD(n)?n:Vg(n)?di(Promise.resolve(n)):Lt(n)}const DW={exact:function xO(n,t,e){if(!Gd(n.segments,t.segments)||!lb(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!xO(n.children[i],t.children[i],e))return!1;return!0},subset:DO},wO={exact:function EW(n,t){return Tl(n,t)},subset:function SW(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>yO(n[e],t[e]))},ignored:()=>!0};function CO(n,t,e){return DW[e.paths](n.root,t.root,e.matrixParams)&&wO[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function DO(n,t,e){return EO(n,t,t.segments,e)}function EO(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Gd(r,e)||t.hasChildren()||!lb(r,e,i))}if(n.segments.length===e.length){if(!Gd(n.segments,e)||!lb(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!DO(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Gd(n.segments,r)&&lb(n.segments,r,i)&&n.children[qn])&&EO(n.children[qn],t,s,i)}}function lb(n,t,e){return t.every((i,r)=>wO[e](n[r].parameters,i.parameters))}class Ud{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gf(this.queryParams)),this._queryParamMap}toString(){return TW.serialize(this)}}class Xn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ys(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cb(this)}}class om{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gf(this.parameters)),this._parameterMap}toString(){return TO(this)}}function Gd(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let SO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:function(){return new yE},providedIn:"root"}),n})();class yE{parse(t){const e=new BW(t);return new Ud(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${am(t.root,!0)}`,i=function RW(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ub(e)}=${ub(r)}`).join("&"):`${ub(e)}=${ub(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function kW(n){return encodeURI(n)}(t.fragment)}`:""}`}}const TW=new yE;function cb(n){return n.segments.map(t=>TO(t)).join("/")}function am(n,t){if(!n.hasChildren())return cb(n);if(t){const e=n.children[qn]?am(n.children[qn],!1):"",i=[];return ys(n.children,(r,s)=>{s!==qn&&i.push(`${s}:${am(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function AW(n,t){let e=[];return ys(n.children,(i,r)=>{r===qn&&(e=e.concat(t(i,r)))}),ys(n.children,(i,r)=>{r!==qn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===qn?[am(n.children[qn],!1)]:[`${r}:${am(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qn]?`${cb(n)}/${e[0]}`:`${cb(n)}/(${e.join("//")})`}}function MO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ub(n){return MO(n).replace(/%3B/gi,";")}function _E(n){return MO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function db(n){return decodeURIComponent(n)}function AO(n){return db(n.replace(/\+/g,"%20"))}function TO(n){return`${_E(n.path)}${function IW(n){return Object.keys(n).map(t=>`;${_E(t)}=${_E(n[t])}`).join("")}(n.parameters)}`}const OW=/^[^\/()?;=#]+/;function hb(n){const t=n.match(OW);return t?t[0]:""}const PW=/^[^=?&#]+/,LW=/^[^&#]+/;class BW{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xn([],{}):new Xn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[qn]=new Xn(t,e)),i}parseSegment(){const t=hb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new qe(4009,!1);return this.capture(t),new om(db(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=hb(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=hb(this.remaining);r&&(i=r,this.capture(i))}t[db(e)]=db(i)}parseQueryParam(t){const e=function FW(n){const t=n.match(PW);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function NW(n){const t=n.match(LW);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=AO(e),s=AO(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=hb(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new qe(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=qn);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[qn]:new Xn([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new qe(4011,!1)}}function bE(n){return n.segments.length>0?new Xn([],{[qn]:n}):n}function fb(n){const t={};for(const i of Object.keys(n.children)){const s=fb(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function VW(n){if(1===n.numberOfChildren&&n.children[qn]){const t=n.children[qn];return new Xn(n.segments.concat(t.segments),t.children)}return n}(new Xn(n.segments,t))}function Wd(n){return n instanceof Ud}function $W(n,t,e,i,r){if(0===e.length)return Wf(t.root,t.root,t.root,i,r);const s=function RO(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new IO(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return ys(s.outlets,(h,m)=>{l[m]="string"==typeof h?h.split("/"):h}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((l,h)=>{0==h&&"."===l||(0==h&&""===l?e=!0:".."===l?t++:""!=l&&r.push(l))}),r):[...r,s]},[]);return new IO(e,t,i)}(e);return s.toRoot()?Wf(t.root,t.root,new Xn([],{}),i,r):function a(h){const m=function UW(n,t,e,i){if(n.isAbsolute)return new qf(t.root,!0,0);if(-1===i)return new qf(e,e===t.root,0);return function OO(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new qe(4005,!1);r=i.segments.length}return new qf(i,!1,r-s)}(e,i+(lm(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,h),v=m.processChildren?um(m.segmentGroup,m.index,s.commands):CE(m.segmentGroup,m.index,s.commands);return Wf(t.root,m.segmentGroup,v,i,r)}(n.snapshot?._lastPathIndex)}function lm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function cm(n){return"object"==typeof n&&null!=n&&n.outlets}function Wf(n,t,e,i,r){let a,s={};i&&ys(i,(h,m)=>{s[m]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),a=n===t?e:kO(n,t,e);const l=bE(fb(a));return new Ud(l,s,r)}function kO(n,t,e){const i={};return ys(n.children,(r,s)=>{i[s]=r===t?e:kO(r,t,e)}),new Xn(n.segments,i)}class IO{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&lm(i[0]))throw new qe(4003,!1);const r=i.find(cm);if(r&&r!==bO(i))throw new qe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qf{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function CE(n,t,e){if(n||(n=new Xn([],{})),0===n.segments.length&&n.hasChildren())return um(n,t,e);const i=function WW(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const a=n.segments[r],l=e[i];if(cm(l))break;const h=`${l}`,m=i<e.length-1?e[i+1]:null;if(r>0&&void 0===h)break;if(h&&m&&"object"==typeof m&&void 0===m.outlets){if(!FO(h,m,a))return s;i+=2}else{if(!FO(h,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Xn(n.segments.slice(0,i.pathIndex),{});return s.children[qn]=new Xn(n.segments.slice(i.pathIndex),n.children),um(s,0,r)}return i.match&&0===r.length?new Xn(n.segments,{}):i.match&&!n.hasChildren()?xE(n,t,e):i.match?um(n,0,r):xE(n,t,e)}function um(n,t,e){if(0===e.length)return new Xn(n.segments,{});{const i=function GW(n){return cm(n[0])?n[0].outlets:{[qn]:n}}(e),r={};return ys(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=CE(n.children[a],t,s))}),ys(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new Xn(n.segments,r)}}function xE(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(cm(s)){const h=qW(s.outlets);return new Xn(i,h)}if(0===r&&lm(e[0])){i.push(new om(n.segments[t].path,PO(e[0]))),r++;continue}const a=cm(s)?s.outlets[qn]:`${s}`,l=r<e.length-1?e[r+1]:null;a&&l&&lm(l)?(i.push(new om(a,PO(l))),r+=2):(i.push(new om(a,{})),r++)}return new Xn(i,{})}function qW(n){const t={};return ys(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=xE(new Xn([],{}),0,e))}),t}function PO(n){const t={};return ys(n,(e,i)=>t[i]=`${e}`),t}function FO(n,t,e){return n==e.path&&Tl(t,e.parameters)}class yc{constructor(t,e){this.id=t,this.url=e}}class DE extends yc{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qd extends yc{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pb extends yc{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class LO extends yc{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KW extends yc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YW extends yc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZW extends yc{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XW extends yc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QW extends yc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JW{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class e8{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class t8{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n8{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i8{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r8{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NO{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class BO{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=EE(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=EE(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=SE(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return SE(t,this._root).map(e=>e.value)}}function EE(n,t){if(n===t.value)return t;for(const e of t.children){const i=EE(n,e);if(i)return i}return null}function SE(n,t){if(n===t.value)return[t];for(const e of t.children){const i=SE(n,e);if(i.length)return i.unshift(t),i}return[]}class _c{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Kf(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class VO extends BO{constructor(t,e){super(t),this.snapshot=e,ME(this,t)}toString(){return this.snapshot.toString()}}function HO(n,t){const e=function o8(n,t){const a=new gb([],{},{},"",{},qn,t,null,n.root,-1,{});return new $O("",new _c(a,[]))}(n,t),i=new Ei([new om("",{})]),r=new Ei({}),s=new Ei({}),a=new Ei({}),l=new Ei(""),h=new Au(i,r,a,l,s,qn,t,e.root);return h.snapshot=e.root,new VO(new _c(h,[]),e)}class Au{constructor(t,e,i,r,s,a,l,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=l,this.title=this.data?.pipe(vt(m=>m[sm]))??Lt(void 0),this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(vt(t=>Gf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(vt(t=>Gf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zO(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function a8(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class gb{constructor(t,e,i,r,s,a,l,h,m,v,C,D){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=l,this.title=this.data?.[sm],this.routeConfig=h,this._urlSegment=m,this._lastPathIndex=v,this._correctedLastPathIndex=D??v,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $O extends BO{constructor(t,e){super(e),this.url=t,ME(this,e)}toString(){return jO(this._root)}}function ME(n,t){t.value._routerState=n,t.children.forEach(e=>ME(n,e))}function jO(n){const t=n.children.length>0?` { ${n.children.map(jO).join(", ")} } `:"";return`${n.value}${t}`}function AE(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Tl(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Tl(t.params,e.params)||n.params.next(e.params),function CW(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Tl(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Tl(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function TE(n,t){const e=Tl(n.params,t.params)&&function MW(n,t){return Gd(n,t)&&n.every((e,i)=>Tl(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||TE(n.parent,t.parent))}function dm(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function c8(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return dm(n,i,r);return dm(n,i)})}(n,t,e);return new _c(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>dm(n,l)),a}}const i=function u8(n){return new Au(new Ei(n.url),new Ei(n.params),new Ei(n.queryParams),new Ei(n.fragment),new Ei(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>dm(n,s));return new _c(i,r)}}const kE="ngNavigationCancelingError";function UO(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Wd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=GO(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function GO(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[kE]=!0,i.cancellationCode=t,e&&(i.url=e),i}function WO(n){return qO(n)&&Wd(n.url)}function qO(n){return n&&n[kE]}class d8{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new hm,this.attachRef=null}}let hm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new d8,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mb=!1;let vb=(()=>{class n{constructor(e,i,r,s,a){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new gn,this.deactivateEvents=new gn,this.attachEvents=new gn,this.detachEvents=new gn,this.name=r||qn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new qe(4012,mb);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new qe(4012,mb);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new qe(4012,mb);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new qe(4013,mb);this._activatedRoute=e;const r=this.location,a=e._futureSnapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,h=new h8(e,l,r.injector);if(i&&function f8(n){return!!n.resolveComponentFactory}(i)){const m=i.resolveComponentFactory(a);this.activated=r.createComponent(m,r.length,h)}else this.activated=r.createComponent(a,{index:r.length,injector:h,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(O(hm),O(Yr),Ds("name"),O(Hr),O(ea))},n.\u0275dir=Ee({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class h8{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Au?this.route:t===hm?this.childContexts:this.parent.get(t,e)}}let IE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pn({type:n,selectors:[["ng-component"]],standalone:!0,features:[sI],decls:1,vars:0,template:function(e,i){1&e&&cn(0,"router-outlet")},dependencies:[vb],encapsulation:2}),n})();function KO(n,t){return n.providers&&!n._injector&&(n._injector=k_(n.providers,t,`Route: ${n.path}`)),n._injector??t}function OE(n){const t=n.children&&n.children.map(OE),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==qn&&(e.component=IE),e}function oa(n){return n.outlet||qn}function YO(n,t){const e=n.filter(i=>oa(i)===t);return e.push(...n.filter(i=>oa(i)!==t)),e}function fm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class y8{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),AE(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Kf(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),ys(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Kf(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Kf(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Kf(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new r8(s.value.snapshot))}),t.children.length&&this.forwardEvent(new n8(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(AE(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),AE(l.route.value),this.activateChildRoutes(t,null,a.children)}else{const l=fm(r.snapshot),h=l?.get(lc)??null;a.attachRef=null,a.route=r,a.resolver=h,a.injector=l,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class ZO{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class yb{constructor(t,e){this.component=t,this.route=e}}function _8(n,t,e){const i=n._root;return pm(i,t?t._root:null,e,[i.value])}function Yf(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function sC(n){return null!==Wr(n)}(n)?t.get(n):n:i}function pm(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Kf(t);return n.children.forEach(a=>{(function w8(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=t?t.value:null,l=e?e.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const h=function C8(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Gd(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Gd(n.url,t.url)||!Tl(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!TE(n,t)||!Tl(n.queryParams,t.queryParams);default:return!TE(n,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new ZO(i)):(s.data=a.data,s._resolvedData=a._resolvedData),pm(n,t,s.component?l?l.children:null:e,i,r),h&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new yb(l.outlet.component,a))}else a&&gm(t,l,r),r.canActivateChecks.push(new ZO(i)),pm(n,null,s.component?l?l.children:null:e,i,r)})(a,s[a.value.outlet],e,i.concat([a.value]),r),delete s[a.value.outlet]}),ys(s,(a,l)=>gm(a,e.getContext(l),r)),r}function gm(n,t,e){const i=Kf(n),r=n.value;ys(i,(s,a)=>{gm(s,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new yb(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function mm(n){return"function"==typeof n}function PE(n){return n instanceof rb||"EmptyError"===n?.name}const _b=Symbol("INITIAL_VALUE");function Zf(){return Oo(n=>jf(n.map(t=>t.pipe(yr(1),Ha(_b)))).pipe(vt(t=>{for(const e of t)if(!0!==e){if(e===_b)return _b;if(!1===e||e instanceof Ud)return e}return!0}),_r(t=>t!==_b),yr(1)))}function XO(n){return function ft(...n){return Mt(n)}(Zn(t=>{if(Wd(t))throw UO(0,t)}),vt(t=>!0===t))}const FE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QO(n,t,e,i,r){const s=LE(n,t,e);return s.matched?function V8(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Lt(r.map(a=>{const l=Yf(a,n);return Mu(function A8(n){return n&&mm(n.canMatch)}(l)?l.canMatch(t,e):n.runInContext(()=>l(t,e)))})).pipe(Zf(),XO()):Lt(!0)}(i=KO(t,i),t,e).pipe(vt(a=>!0===a?s:{...FE})):Lt(s)}function LE(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...FE}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||wW)(e,n,t);if(!r)return{...FE};const s={};ys(r.posParams,(l,h)=>{s[h]=l.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function bb(n,t,e,i,r="corrected"){if(e.length>0&&function $8(n,t,e){return e.some(i=>wb(n,t,i)&&oa(i)!==qn)}(n,e,i)){const a=new Xn(t,function z8(n,t,e,i){const r={};r[qn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&oa(s)!==qn){const a=new Xn([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[oa(s)]=a}return r}(n,t,i,new Xn(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function j8(n,t,e){return e.some(i=>wb(n,t,i))}(n,e,i)){const a=new Xn(n.segments,function H8(n,t,e,i,r,s){const a={};for(const l of i)if(wb(n,e,l)&&!r[oa(l)]){const h=new Xn([],{});h._sourceSegment=n,h._segmentIndexShift="legacy"===s?n.segments.length:t.length,a[oa(l)]=h}return{...r,...a}}(n,t,e,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const s=new Xn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function wb(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function JO(n,t,e,i){return!!(oa(n)===i||i!==qn&&wb(t,e,n))&&("**"===n.path||LE(t,n,e).matched)}function eP(n,t,e){return 0===t.length&&!n.children[e]}const Cb=!1;class xb{constructor(t){this.segmentGroup=t||null}}class tP{constructor(t){this.urlTree=t}}function vm(n){return Uf(new xb(n))}function nP(n){return Uf(new tP(n))}class q8{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=bb(this.urlTree.root,[],[],this.config).segmentGroup,e=new Xn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,qn).pipe(vt(s=>this.createUrlTree(fb(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(za(s=>{if(s instanceof tP)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof xb?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,qn).pipe(vt(r=>this.createUrlTree(fb(r),t.queryParams,t.fragment))).pipe(za(r=>{throw r instanceof xb?this.noMatchError(r):r}))}noMatchError(t){return new qe(4002,Cb)}createUrlTree(t,e,i){const r=bE(t);return new Ud(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(vt(s=>new Xn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return di(r).pipe(Su(s=>{const a=i.children[s],l=YO(e,s);return this.expandSegmentGroup(t,l,a,s).pipe(vt(h=>({segment:h,outlet:s})))}),gO((s,a)=>(s[a.outlet]=a.segment,s),{}),mO())}expandSegment(t,e,i,r,s,a){return di(i).pipe(Su(l=>this.expandSegmentAgainstRoute(t,e,i,l,r,s,a).pipe(za(m=>{if(m instanceof xb)return Lt(null);throw m}))),Eu(l=>!!l),za((l,h)=>{if(PE(l))return eP(e,r,s)?Lt(new Xn([],{})):vm(e);throw l}))}expandSegmentAgainstRoute(t,e,i,r,s,a,l){return JO(r,e,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,a):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a):vm(e):vm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?nP(s):this.lineralizeSegments(i,s).pipe(Or(a=>{const l=new Xn(a,{});return this.expandSegment(t,l,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){const{matched:l,consumedSegments:h,remainingSegments:m,positionalParamSegments:v}=LE(e,r,s);if(!l)return vm(e);const C=this.applyRedirectCommands(h,r.redirectTo,v);return r.redirectTo.startsWith("/")?nP(C):this.lineralizeSegments(r,C).pipe(Or(D=>this.expandSegment(t,e,i,D.concat(m),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=KO(i,t),i.loadChildren?(i._loadedRoutes?Lt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(vt(l=>(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,new Xn(r,{})))):Lt(new Xn(r,{}))):QO(e,i,r,t).pipe(Oo(({matched:a,consumedSegments:l,remainingSegments:h})=>a?this.getChildConfig(t=i._injector??t,i,r).pipe(Or(v=>{const C=v.injector??t,D=v.routes,{segmentGroup:A,slicedSegments:k}=bb(e,l,h,D),P=new Xn(A.segments,A.children);if(0===k.length&&P.hasChildren())return this.expandChildren(C,D,P).pipe(vt(te=>new Xn(l,te)));if(0===D.length&&0===k.length)return Lt(new Xn(l,{}));const N=oa(i)===s;return this.expandSegment(C,P,D,k,N?qn:s,!0).pipe(vt(q=>new Xn(l.concat(q.segments),q.children)))})):vm(e)))}getChildConfig(t,e,i){return e.children?Lt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Lt({routes:e._loadedRoutes,injector:e._loadedInjector}):function B8(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Lt(!0):Lt(r.map(a=>{const l=Yf(a,n);return Mu(function D8(n){return n&&mm(n.canLoad)}(l)?l.canLoad(t,e):n.runInContext(()=>l(t,e)))})).pipe(Zf(),XO())}(t,e,i).pipe(Or(r=>r?this.configLoader.loadChildren(t,e).pipe(Zn(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function G8(n){return Uf(GO(Cb,3))}())):Lt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Lt(i);if(r.numberOfChildren>1||!r.children[qn])return Uf(new qe(4e3,Cb));r=r.children[qn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Ud(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ys(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const l=r.substring(1);i[s]=e[l]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let a={};return ys(e.children,(l,h)=>{a[h]=this.createSegmentGroup(t,l,i,r)}),new Xn(s,a)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new qe(4001,Cb);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class Y8{}class Q8{constructor(t,e,i,r,s,a,l,h){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=l,this.urlSerializer=h}recognize(){const t=bb(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,qn).pipe(vt(e=>{if(null===e)return null;const i=new gb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new _c(i,e),s=new $O(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=zO(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return di(Object.keys(i.children)).pipe(Su(r=>{const s=i.children[r],a=YO(e,r);return this.processSegmentGroup(t,a,s,r)}),gO((r,s)=>r&&s?(r.push(...s),r):null),vO(r=>null!==r),ob(null),mO(),vt(r=>{if(null===r)return null;const s=iP(r);return function J8(n){n.sort((t,e)=>t.value.outlet===qn?-1:e.value.outlet===qn?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return di(e).pipe(Su(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,r,s)),Eu(a=>!!a),za(a=>{if(PE(a))return eP(i,r,s)?Lt([]):Lt(null);throw a}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!JO(e,i,r,s))return Lt(null);let a;if("**"===e.path){const l=r.length>0?bO(r).parameters:{},h=sP(i)+r.length;a=Lt({snapshot:new gb(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aP(e),oa(e),e.component??e._loadedComponent??null,e,rP(i),h,lP(e),h),consumedSegments:[],remainingSegments:[]})}else a=QO(i,e,r,t).pipe(vt(({matched:l,consumedSegments:h,remainingSegments:m,parameters:v})=>{if(!l)return null;const C=sP(i)+h.length;return{snapshot:new gb(h,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aP(e),oa(e),e.component??e._loadedComponent??null,e,rP(i),C,lP(e),C),consumedSegments:h,remainingSegments:m}}));return a.pipe(Oo(l=>{if(null===l)return Lt(null);const{snapshot:h,consumedSegments:m,remainingSegments:v}=l;t=e._injector??t;const C=e._loadedInjector??t,D=function e6(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:A,slicedSegments:k}=bb(i,m,v,D.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);if(0===k.length&&A.hasChildren())return this.processChildren(C,D,A).pipe(vt(N=>null===N?null:[new _c(h,N)]));if(0===D.length&&0===k.length)return Lt([new _c(h,[])]);const P=oa(e)===s;return this.processSegment(C,D,A,k,P?qn:s).pipe(vt(N=>null===N?null:[new _c(h,N)]))}))}}function t6(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function iP(n){const t=[],e=new Set;for(const i of n){if(!t6(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=iP(i.children);t.push(new _c(i.value,r))}return t.filter(i=>!e.has(i))}function rP(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function sP(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function aP(n){return n.data||{}}function lP(n){return n.resolve||{}}function cP(n){return"string"==typeof n.title||null===n.title}function NE(n){return Oo(t=>{const e=n(t);return e?di(e).pipe(vt(()=>t)):Lt(t)})}let uP=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===qn);return i}getResolvedTitleForRoute(e){return e.data[sm]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:function(){return bi(dP)},providedIn:"root"}),n})(),dP=(()=>{class n extends uP{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(le(aO))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class c6{}class d6 extends class u6{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Eb=new Te("",{providedIn:"root",factory:()=>({})}),BE=new Te("ROUTES");let VE=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Lt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Mu(e.loadComponent()).pipe(Zn(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),ab(()=>{this.componentLoaders.delete(e)})),r=new gE(i,()=>new je).pipe(pE());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Lt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(vt(l=>{this.onLoadEndListener&&this.onLoadEndListener(i);let h,m,v=!1;Array.isArray(l)?m=l:(h=l.create(e).injector,m=_O(h.get(BE,[],Jt.Self|Jt.Optional)));return{routes:m.map(OE),injector:h}}),ab(()=>{this.childrenLoaders.delete(i)})),a=new gE(s,()=>new je).pipe(pE());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return Mu(e()).pipe(Or(i=>i instanceof iI||Array.isArray(i)?Lt(i):di(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(le(lr),le(ID))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class f6{}class p6{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function g6(n){throw n}function m6(n,t,e){return t.parse("/")}const v6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},y6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function fP(){const n=bi(SO),t=bi(hm),e=bi(Zg),i=bi(lr),r=bi(ID),s=bi(BE,{optional:!0})??[],a=bi(Eb,{optional:!0})??{},l=bi(dP),h=bi(uP,{optional:!0}),m=bi(f6,{optional:!0}),v=bi(c6,{optional:!0}),C=new us(null,n,t,e,i,r,_O(s));return m&&(C.urlHandlingStrategy=m),v&&(C.routeReuseStrategy=v),C.titleStrategy=h??l,function _6(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,C),C}let us=(()=>{class n{constructor(e,i,r,s,a,l,h){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new je,this.errorHandler=g6,this.malformedUriErrorHandler=m6,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Lt(void 0),this.urlHandlingStrategy=new p6,this.routeReuseStrategy=new d6,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=a.get(VE),this.configLoader.onLoadEndListener=D=>this.triggerEvent(new e8(D)),this.configLoader.onLoadStartListener=D=>this.triggerEvent(new JW(D)),this.ngModule=a.get(Bd),this.console=a.get(oU);const C=a.get(Kt);this.isNgZoneEnabled=C instanceof Kt&&Kt.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=function xW(){return new Ud(new Xn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=HO(this.currentUrlTree,this.rootComponentType),this.transitions=new Ei({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(_r(r=>0!==r.id),vt(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Oo(r=>{let s=!1,a=!1;return Lt(r).pipe(Zn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Oo(l=>{const h=this.browserUrlTree.toString(),m=!this.navigated||l.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||m)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return pP(l.source)&&(this.browserUrlTree=l.extractedUrl),Lt(l).pipe(Oo(C=>{const D=this.transitions.getValue();return i.next(new DE(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),D!==this.transitions.getValue()?Ns:Promise.resolve(C)}),function K8(n,t,e,i){return Oo(r=>function W8(n,t,e,i,r){return new q8(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(vt(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Zn(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},r.urlAfterRedirects=C.urlAfterRedirects}),function i6(n,t,e,i,r,s){return Or(a=>function X8(n,t,e,i,r,s,a="emptyOnly",l="legacy"){return new Q8(n,t,e,i,r,a,l,s).recognize().pipe(Oo(h=>null===h?function Z8(n){return new nt(t=>t.error(n))}(new Y8):Lt(h)))}(n,t,e,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r,s).pipe(vt(l=>({...a,targetSnapshot:l}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Zn(C=>{if(r.targetSnapshot=C.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!C.extras.skipLocationChange){const A=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);this.setBrowserUrl(A,C)}this.browserUrlTree=C.urlAfterRedirects}const D=new KW(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);i.next(D)}));if(m&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:A,source:k,restoredState:P,extras:N}=l,V=new DE(D,this.serializeUrl(A),k,P);i.next(V);const q=HO(A,this.rootComponentType).snapshot;return Lt(r={...l,targetSnapshot:q,urlAfterRedirects:A,extras:{...N,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=l.rawUrl,l.resolve(null),Ns}),Zn(l=>{const h=new YW(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(h)}),vt(l=>r={...l,guards:_8(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function k8(n,t){return Or(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?Lt({...e,guardsResult:!0}):function I8(n,t,e,i){return di(n).pipe(Or(r=>function N8(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Lt(s.map(l=>{const h=fm(t)??r,m=Yf(l,h);return Mu(function M8(n){return n&&mm(n.canDeactivate)}(m)?m.canDeactivate(n,t,e,i):h.runInContext(()=>m(n,t,e,i))).pipe(Eu())})).pipe(Zf()):Lt(!0)}(r.component,r.route,e,t,i)),Eu(r=>!0!==r,!0))}(a,i,r,n).pipe(Or(l=>l&&function x8(n){return"boolean"==typeof n}(l)?function R8(n,t,e,i){return di(t).pipe(Su(r=>sb(function P8(n,t){return null!==n&&t&&t(new t8(n)),Lt(!0)}(r.route.parent,i),function O8(n,t){return null!==n&&t&&t(new i8(n)),Lt(!0)}(r.route,i),function L8(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function b8(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>rm(()=>Lt(a.guards.map(h=>{const m=fm(a.node)??e,v=Yf(h,m);return Mu(function S8(n){return n&&mm(n.canActivateChild)}(v)?v.canActivateChild(i,n):m.runInContext(()=>v(i,n))).pipe(Eu())})).pipe(Zf())));return Lt(s).pipe(Zf())}(n,r.path,e),function F8(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Lt(!0);const r=i.map(s=>rm(()=>{const a=fm(t)??e,l=Yf(s,a);return Mu(function E8(n){return n&&mm(n.canActivate)}(l)?l.canActivate(t,n):a.runInContext(()=>l(t,n))).pipe(Eu())}));return Lt(r).pipe(Zf())}(n,r.route,e))),Eu(r=>!0!==r,!0))}(i,s,n,t):Lt(l)),vt(l=>({...e,guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),Zn(l=>{if(r.guardsResult=l.guardsResult,Wd(l.guardsResult))throw UO(0,l.guardsResult);const h=new ZW(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(h)}),_r(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),NE(l=>{if(l.guards.canActivateChecks.length)return Lt(l).pipe(Zn(h=>{const m=new XW(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}),Oo(h=>{let m=!1;return Lt(h).pipe(function r6(n,t){return Or(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Lt(e);let s=0;return di(r).pipe(Su(a=>function s6(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!cP(r)&&(s[sm]=r.title),function o6(n,t,e,i){const r=function a6(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Lt({});const s={};return di(r).pipe(Or(a=>function l6(n,t,e,i){const r=fm(t)??i,s=Yf(n,r);return Mu(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[a],t,e,i).pipe(Eu(),Zn(l=>{s[a]=l}))),mE(1),function _W(n){return vt(()=>n)}(s),za(a=>PE(a)?Ns:Uf(a)))}(s,n,t,i).pipe(vt(a=>(n._resolvedData=a,n.data=zO(n,e).resolve,r&&cP(r)&&(n.data[sm]=r.title),null)))}(a.route,i,n,t)),Zn(()=>s++),mE(1),Or(a=>s===r.length?Lt(e):Ns))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Zn({next:()=>m=!0,complete:()=>{m||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),Zn(h=>{const m=new QW(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}))}),NE(l=>{const h=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe(Zn(C=>{m.component=C}),vt(()=>{})));for(const C of m.children)v.push(...h(C));return v};return jf(h(l.targetSnapshot.root)).pipe(ob(),yr(1))}),NE(()=>this.afterPreactivation()),vt(l=>{const h=function l8(n,t,e){const i=dm(n,t._root,e?e._root:void 0);return new VO(i,t)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:h}}),Zn(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((n,t,e)=>vt(i=>(new y8(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),Zn({next(){s=!0},complete(){s=!0}}),ab(()=>{s||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),za(l=>{if(a=!0,qO(l)){WO(l)||(this.navigated=!0,this.restoreHistory(r,!0));const h=new pb(r.id,this.serializeUrl(r.extractedUrl),l.message,l.cancellationCode);if(i.next(h),WO(l)){const m=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pP(r.source)};this.scheduleNavigation(m,"imperative",null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const h=new LO(r.id,this.serializeUrl(r.extractedUrl),l,r.targetSnapshot??void 0);i.next(h);try{r.resolve(this.errorHandler(l))}catch(m){r.reject(m)}}return Ns}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(OE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:h}=i,m=r||this.routerState.root,v=h?this.currentUrlTree.fragment:a;let C=null;switch(l){case"merge":C={...this.currentUrlTree.queryParams,...s};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=s||null}return null!==C&&(C=this.removeEmptyProps(C)),$W(m,this.currentUrlTree,e,C,v??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Wd(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function b6(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new qe(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...v6}:!1===i?{...y6}:i,Wd(e))return CO(this.currentUrlTree,e,r);const s=this.parseUrl(e);return CO(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new qd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let l,h,m;a?(l=a.resolve,h=a.reject,m=a.promise):m=new Promise((D,A)=>{l=D,h=A});const v=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),C=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):C=0,this.setTransition({id:v,targetPageId:C,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:l,reject:h,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(D=>Promise.reject(D))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new pb(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){Od()},n.\u0275prov=Oe({token:n,factory:function(){return fP()},providedIn:"root"}),n})();function pP(n){return"imperative"!==n}let HE=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new je,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=pc(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=pc(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=pc(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(O(us),O(Au),Ds("tabindex"),O(c),O(St))},n.\u0275dir=Ee({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&jt("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Zi]}),n})(),Mb=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new je,this.subscription=e.events.subscribe(s=>{s instanceof qd&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=pc(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=pc(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=pc(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,a){return!!(0!==e||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(O(us),O(Au),O(zd))},n.\u0275dir=Ee({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&jt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&ri("target",i.target)("href",i.href,Mr)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Zi]}),n})(),gP=(()=>{class n{constructor(e,i,r,s,a,l){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=a,this.linkWithHref=l,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new gn,this.routerEventsSubscription=e.events.subscribe(h=>{h instanceof qd&&this.update()})}ngAfterContentInit(){Lt(this.links.changes,this.linksWithHrefs.changes,Lt(null)).pipe(tl()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=di(e).pipe(tl()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function w6(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(O(us),O(St),O(c),O(Hr),O(HE,8),O(Mb,8))},n.\u0275dir=Ee({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&($i(r,HE,5),$i(r,Mb,5)),2&e){let s;Gt(s=Wt())&&(i.links=s),Gt(s=Wt())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Zi]}),n})();class mP{}let C6=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(_r(e=>e instanceof qd),Su(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=k_(s.providers,e,`Route: ${s.path}`));const a=s._injector??e,l=s._loadedInjector??a;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(a,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(l,s.children??s._loadedRoutes))}return di(r).pipe(tl())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Lt(null);const s=r.pipe(Or(a=>null===a?Lt(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));return i.loadComponent&&!i._loadedComponent?di([s,this.loader.loadComponent(i)]).pipe(tl()):s})}}return n.\u0275fac=function(e){return new(e||n)(le(us),le(ID),le(ea),le(mP),le(VE))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zE=new Te("");let vP=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof DE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof qd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof NO&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new NO(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Od()},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();function Xf(n,t){return{\u0275kind:n,\u0275providers:t}}function $E(n){return[{provide:BE,multi:!0,useValue:n}]}function _P(){const n=bi(lr);return t=>{const e=n.get(zf);if(t!==e.components[0])return;const i=n.get(us),r=n.get(bP);1===n.get(jE)&&i.initialNavigation(),n.get(wP,null,Jt.Optional)?.setUpPreloading(),n.get(zE,null,Jt.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const bP=new Te("",{factory:()=>new je}),jE=new Te("",{providedIn:"root",factory:()=>1});const wP=new Te("");function S6(n){return Xf(0,[{provide:wP,useExisting:C6},{provide:mP,useExisting:n}])}const CP=new Te("ROUTER_FORROOT_GUARD"),M6=[Zg,{provide:SO,useClass:yE},{provide:us,useFactory:fP},hm,{provide:Au,useFactory:function yP(n){return n.routerState.root},deps:[us]},VE];function A6(){return new XI("Router",us)}let xP=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[M6,[],$E(e),{provide:CP,useFactory:R6,deps:[[us,new qs,new fl]]},{provide:Eb,useValue:i||{}},i?.useHash?{provide:zd,useClass:KU}:{provide:zd,useClass:CR},{provide:zE,useFactory:()=>{const n=bi(us),t=bi(u4),e=bi(Eb);return e.scrollOffset&&t.setOffset(e.scrollOffset),new vP(n,t,e)}},i?.preloadingStrategy?S6(i.preloadingStrategy).\u0275providers:[],{provide:XI,multi:!0,useFactory:A6},i?.initialNavigation?O6(i):[],[{provide:DP,useFactory:_P},{provide:kD,multi:!0,useExisting:DP}]]}}static forChild(e){return{ngModule:n,providers:[$E(e)]}}}return n.\u0275fac=function(e){return new(e||n)(le(CP,8))},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[IE]}),n})();function R6(n){return"guarded"}function O6(n){return["disabled"===n.initialNavigation?Xf(3,[{provide:P_,multi:!0,useFactory:()=>{const t=bi(us);return()=>{t.setUpLocationChangeListener()}}},{provide:jE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Xf(2,[{provide:jE,useValue:0},{provide:P_,multi:!0,deps:[lr],useFactory:t=>{const e=t.get(WU,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(s=>{const a=t.get(us),l=t.get(bP);(function r(s){t.get(us).events.pipe(_r(l=>l instanceof qd||l instanceof pb||l instanceof LO),vt(l=>l instanceof qd||l instanceof pb&&(0===l.code||1===l.code)&&null),_r(l=>null!==l),yr(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),a.afterPreactivation=()=>(s(!0),i||l.closed?Lt(void 0):l),a.initialNavigation()}))}}]).\u0275providers:[]]}const DP=new Te(""),UE="initial-configuration",EP="simulation",GE="network",MP="parameters",AP="blockchain";function kP(...n){const t=Sh(n),{args:e,keys:i}=dO(n),r=new nt(s=>{const{length:a}=e;if(!a)return void s.complete();const l=new Array(a);let h=a,m=a;for(let v=0;v<a;v++){let C=!1;Dr(e[v]).subscribe(Rn(s,D=>{C||(C=!0,m--),l[v]=D},()=>h--,void 0,()=>{(!h||!C)&&(m||s.next(i?hO(i,l):l),s.complete())}))}});return t?r.pipe(fE(t)):r}let IP=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(O(c),O(St))},n.\u0275dir=Ee({type:n}),n})(),Kd=(()=>{class n extends IP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,features:[Be]}),n})();const aa=new Te("NgValueAccessor"),L6={provide:aa,useExisting:li(()=>Qf),multi:!0},B6=new Te("CompositionEventMode");let Qf=(()=>{class n extends IP{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function N6(){const n=Al()?Al().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(O(c),O(St),O(B6,8))},n.\u0275dir=Ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&jt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[yn([L6]),Be]}),n})();function Tu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function OP(n){return null!=n&&"number"==typeof n.length}const Is=new Te("NgValidators"),ku=new Te("NgAsyncValidators"),H6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _n{static min(t){return function PP(n){return t=>{if(Tu(t.value)||Tu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function FP(n){return t=>{if(Tu(t.value)||Tu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function LP(n){return Tu(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function NP(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function BP(n){return Tu(n.value)||H6.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function VP(n){return t=>Tu(t.value)||!OP(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function HP(n){return t=>OP(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function zP(n){if(!n)return kb;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Tu(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return qP(t)}static composeAsync(t){return KP(t)}}function kb(n){return null}function $P(n){return null!=n}function jP(n){return Vg(n)?di(n):n}function UP(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function GP(n,t){return t.map(e=>e(n))}function WP(n){return n.map(t=>function z6(n){return!n.validate}(t)?t:e=>t.validate(e))}function qP(n){if(!n)return null;const t=n.filter($P);return 0==t.length?null:function(e){return UP(GP(e,t))}}function WE(n){return null!=n?qP(WP(n)):null}function KP(n){if(!n)return null;const t=n.filter($P);return 0==t.length?null:function(e){return kP(GP(e,t).map(jP)).pipe(vt(UP))}}function qE(n){return null!=n?KP(WP(n)):null}function YP(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function ZP(n){return n._rawValidators}function XP(n){return n._rawAsyncValidators}function KE(n){return n?Array.isArray(n)?n:[n]:[]}function Ib(n,t){return Array.isArray(n)?n.includes(t):n===t}function QP(n,t){const e=KE(t);return KE(n).forEach(r=>{Ib(e,r)||e.push(r)}),e}function JP(n,t){return KE(t).filter(e=>!Ib(n,e))}class eF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=WE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Js extends eF{get formDirective(){return null}get path(){return null}}class kl extends eF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tF{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ym=(()=>{class n extends tF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(O(kl,2))},n.\u0275dir=Ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&wi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Be]}),n})(),Rb=(()=>{class n extends tF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(O(Js,10))},n.\u0275dir=Ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&wi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Be]}),n})();const _m="VALID",Pb="INVALID",Jf="PENDING",bm="DISABLED";function QE(n){return(Fb(n)?n.validators:n)||null}function iF(n){return Array.isArray(n)?WE(n):n||null}function JE(n,t){return(Fb(t)?t.asyncValidators:n)||null}function rF(n){return Array.isArray(n)?qE(n):n||null}function Fb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function sF(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new qe(1e3,"");if(!i[e])throw new qe(1001,"")}function oF(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new qe(1002,"")})}class Lb{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=iF(this._rawValidators),this._composedAsyncValidatorFn=rF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_m}get invalid(){return this.status===Pb}get pending(){return this.status==Jf}get disabled(){return this.status===bm}get enabled(){return this.status!==bm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=iF(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=rF(t)}addValidators(t){this.setValidators(QP(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(QP(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(JP(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(JP(t,this._rawAsyncValidators))}hasValidator(t){return Ib(this._rawValidators,t)}hasAsyncValidator(t){return Ib(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Jf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bm,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_m,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_m||this.status===Jf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bm:_m}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Jf,this._hasOwnPendingAsyncValidator=!0;const e=jP(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new gn,this.statusChanges=new gn}_calculateStatus(){return this._allControlsDisabled()?bm:this.errors?Pb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jf)?Jf:this._anyControlsHaveStatus(Pb)?Pb:_m}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Fb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class wm extends Lb{constructor(t,e,i){super(QE(e),JE(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){oF(this,0,t),Object.keys(t).forEach(i=>{sF(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class aF extends wm{}function Nb(n,t){return[...t.path,n]}function Cm(n,t){eS(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function Y6(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&lF(n,t)})}(n,t),function X6(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Z6(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&lF(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function K6(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Bb(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Hb(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Vb(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function eS(n,t){const e=ZP(n);null!==t.validator?n.setValidators(YP(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=XP(n);null!==t.asyncValidator?n.setAsyncValidators(YP(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Vb(t._rawValidators,r),Vb(t._rawAsyncValidators,r)}function Hb(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=ZP(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=XP(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Vb(t._rawValidators,i),Vb(t._rawAsyncValidators,i),e}function lF(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cF(n,t){eS(n,t)}function tS(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function dF(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function nS(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Qf?e=s:function e9(n){return Object.getPrototypeOf(n.constructor)===Kd}(s)?i=s:r=s}),r||i||e||null}const n9={provide:Js,useExisting:li(()=>Dm)},xm=(()=>Promise.resolve())();let Dm=(()=>{class n extends Js{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new gn,this.form=new wm({},WE(e),qE(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){xm.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Cm(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){xm.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){xm.then(()=>{const i=this._findContainer(e.path),r=new wm({});cF(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){xm.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){xm.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,dF(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(O(Is,10),O(ku,10))},n.\u0275dir=Ee({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&jt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yn([n9]),Be]}),n})();function hF(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function fF(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ji=class extends Lb{constructor(t=null,e,i){super(QE(e),JE(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fb(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=fF(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){hF(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){hF(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){fF(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let pF=(()=>{class n extends Js{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Nb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,features:[Be]}),n})();const s9={provide:kl,useExisting:li(()=>iS)},mF=(()=>Promise.resolve())();let iS=(()=>{class n extends kl{constructor(e,i,r,s,a){super(),this._changeDetectorRef=a,this.control=new ji,this._registered=!1,this.update=new gn,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=nS(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),tS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cm(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){mF.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&pc(i);mF.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Nb(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(O(Js,9),O(Is,10),O(ku,10),O(aa,10),O(Hr,8))},n.\u0275dir=Ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yn([s9]),Be,Zi]}),n})();const a9={provide:aa,useExisting:li(()=>Em),multi:!0};let Em=(()=>{class n extends Kd{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&jt("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[yn([a9]),Be]}),n})(),vF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({}),n})();const rS=new Te("NgModelWithFormControlWarning"),h9={provide:Js,useExisting:li(()=>Iu)};let Iu=(()=>{class n extends Js{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new gn,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Hb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Cm(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Bb(e.control||null,e,!1),function t9(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,dF(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Bb(i||null,e),(n=>n instanceof ji)(r)&&(Cm(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);cF(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Q6(n,t){return Hb(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eS(this.form,this),this._oldForm&&Hb(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(O(Is,10),O(ku,10))},n.\u0275dir=Ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&jt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yn([h9]),Be,Zi]}),n})();const f9={provide:Js,useExisting:li(()=>Sm)};let Sm=(()=>{class n extends pF{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){wF(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(O(Js,13),O(Is,10),O(ku,10))},n.\u0275dir=Ee({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[yn([f9]),Be]}),n})();const p9={provide:Js,useExisting:li(()=>Mm)};let Mm=(()=>{class n extends Js{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Nb(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){wF(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(O(Js,13),O(Is,10),O(ku,10))},n.\u0275dir=Ee({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[yn([p9]),Be]}),n})();function wF(n){return!(n instanceof Sm||n instanceof Iu||n instanceof Mm)}const g9={provide:kl,useExisting:li(()=>Am)};let Am=(()=>{class n extends kl{constructor(e,i,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new gn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=nS(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),tS(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Nb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(O(Js,13),O(Is,10),O(ku,10),O(aa,10),O(rS,8))},n.\u0275dir=Ee({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[yn([g9]),Be,Zi]}),n})(),OF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[vF]}),n})(),k9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[OF]}),n})(),PF=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:rS,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[OF]}),n})();class FF extends Lb{constructor(t,e,i){super(QE(e),JE(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){oF(this,0,t),t.forEach((i,r)=>{sF(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function LF(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let lS=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return LF(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new wm(r,s)}record(e,i=null){const r=this._reduceControls(e);return new aF(r,i)}control(e,i,r){let s={};return this.useNonNullable?(LF(i)?s=i:(s.validators=i,s.asyncValidators=r),new ji(e,{...s,nonNullable:!0})):new ji(e,i,r)}array(e,i,r){const s=e.map(a=>this._createControl(a));return new FF(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof ji||e instanceof Lb?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:PF}),n})();class Tm{constructor(t,e,i){this.name=t,this.electricityPrice=e,this.enumName=i}}function zb(){return VF[Math.floor(Math.random()*VF.length)]}function NF(n){let t=Il.find(e=>e.enumName===n);return t?t.electricityPrice:1}function BF(n){let t=Il.find(e=>e.enumName===n);return t?t.name:1}const VF=["ROMANIA","POLAND","SPAIN","GERMANY","GREAT_BRITAIN"],Il=[new Tm("Romania",1,"ROMANIA"),new Tm("Poland",2,"POLAND"),new Tm("Spain",3,"SPAIN"),new Tm("Germany",4,"GERMANY"),new Tm("Great Britain",5,"GREAT_BRITAIN")];function Sn(n){return null!=n&&"false"!=`${n}`}function eo(n,t=0){return HF(n)?Number(n):t}function HF(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function $b(n){return Array.isArray(n)?n:[n]}function jr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function bc(n){return n instanceof St?n.nativeElement:n}const I9=["addListener","removeListener"],R9=["addEventListener","removeEventListener"],O9=["on","off"];function Zd(n,t,e,i){if(j(e)&&(i=e,e=void 0),i)return Zd(n,t,e).pipe(fE(i));const[r,s]=function L9(n){return j(n.addEventListener)&&j(n.removeEventListener)}(n)?R9.map(a=>l=>n[a](t,l,e)):function P9(n){return j(n.addListener)&&j(n.removeListener)}(n)?I9.map(zF(n,t)):function F9(n){return j(n.on)&&j(n.off)}(n)?O9.map(zF(n,t)):[];if(!r&&Xa(n))return Or(a=>Zd(a,t,e))(Dr(n));if(!r)throw new TypeError("Invalid event target");return new nt(a=>{const l=(...h)=>a.next(1<h.length?h:h[0]);return r(l),()=>s(l)})}function zF(n,t){return e=>i=>n[e](t,i)}class N9 extends ne{constructor(t,e){super()}schedule(t,e=0){return this}}const jb={setInterval(n,t,...e){const{delegate:i}=jb;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=jb;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class cS extends N9{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return jb.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&jb.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ie(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const km={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=km;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new ne(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=km;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=km;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},$F={now:()=>($F.delegate||Date).now(),delegate:void 0};class Im{constructor(t,e=Im.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Im.now=$F.now;class uS extends Im{constructor(t,e=Im.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}new class V9 extends uS{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class B9 extends cS{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=km.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(km.cancelAnimationFrame(e),t._scheduled=void 0)}});let dS,z9=1;const Ub={};function jF(n){return n in Ub&&(delete Ub[n],!0)}const $9={setImmediate(n){const t=z9++;return Ub[t]=!0,dS||(dS=Promise.resolve()),dS.then(()=>jF(t)&&n()),t},clearImmediate(n){jF(n)}},{setImmediate:j9,clearImmediate:U9}=$9,Gb={setImmediate(...n){const{delegate:t}=Gb;return(t?.setImmediate||j9)(...n)},clearImmediate(n){const{delegate:t}=Gb;return(t?.clearImmediate||U9)(n)},delegate:void 0},Wb=(new class W9 extends uS{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class G9 extends cS{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Gb.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Gb.clearImmediate(e),t._scheduled=void 0)}}),new uS(cS)),K9=Wb;function hS(n=0,t,e=K9){let i=-1;return null!=t&&(Eh(t)?e=t:i=t),new nt(r=>{let s=function Z9(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function UF(n,t=Wb){return function Y9(n){return fn((t,e)=>{let i=!1,r=null,s=null,a=!1;const l=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const m=r;r=null,e.next(m)}a&&e.complete()},h=()=>{s=null,a&&e.complete()};t.subscribe(Rn(e,m=>{i=!0,r=m,s||Dr(n(m)).subscribe(s=Rn(e,l,h))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>hS(n,t))}let fS;try{fS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{fS=!1}let ep,br=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?jd(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(le(Fa))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GF=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function WF(){if(ep)return ep;if("object"!=typeof document||!document)return ep=new Set(GF),ep;let n=document.createElement("input");return ep=new Set(GF.filter(t=>(n.setAttribute("type",t),n.type===t))),ep}let Rm,Qd,pS;function Xd(n){return function X9(){if(null==Rm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Rm=!0}))}finally{Rm=Rm||!1}return Rm}()?n:!!n.capture}function Q9(){if(null==Qd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Qd=!1,Qd;if("scrollBehavior"in document.documentElement.style)Qd=!0;else{const n=Element.prototype.scrollTo;Qd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Qd}function gS(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Jd(n){return n.composedPath?n.composedPath()[0]:n.target}function mS(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const tq=new Te("cdk-dir-doc",{providedIn:"root",factory:function nq(){return bi(un)}}),iq=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ho=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new gn,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function rq(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?iq.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(le(tq,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({}),n})(),qF=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new je,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new nt(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(UF(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Lt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(_r(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=bc(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Zd(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(le(Kt),le(br),le(un,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eh=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new je,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(UF(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(le(br),le(Kt),le(un,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({}),n})(),vS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[tp,Kb,tp,Kb]}),n})();class yS{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class np extends yS{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class Yb extends yS{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class aq extends yS{constructor(t){super(),this.element=t instanceof St?t.nativeElement:t}}class Zb{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof np?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Yb?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof aq?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class lq extends Zb{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const l=a.element,h=this._document.createComment("dom-portal");l.parentNode.insertBefore(h,l),this.outletElement.appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(l,h)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||lr.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Om=(()=>{class n extends Zb{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new gn,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(O(lc),O(Yr),O(un))},n.\u0275dir=Ee({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Be]}),n})(),ip=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({}),n})();function zn(n){return fn((t,e)=>{Dr(n).subscribe(Rn(e,()=>e.complete(),st)),!e.closed&&t.subscribe(e)})}function Rl(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const XF=Q9();class bq{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=jr(-this._previousScrollPosition.left),t.style.top=jr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),XF&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),XF&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class wq{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class QF{enable(){}disable(){}attach(){}}function wS(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function JF(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Cq{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();wS(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let xq=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new QF,this.close=a=>new wq(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new bq(this._viewportRuler,this._document),this.reposition=a=>new Cq(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(le(qF),le(eh),le(Kt),le(un))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class e0{constructor(t){if(this.scrollStrategy=new QF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Dq{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let eL=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(le(un))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eq=(()=>{class n extends eL{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(le(un),le(Kt,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sq=(()=>{class n extends eL{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Jd(s)},this._clickListener=s=>{const a=Jd(s),l="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let m=h.length-1;m>-1;m--){const v=h[m];if(v._outsidePointerEvents.observers.length<1||!v.hasAttached())continue;if(v.overlayElement.contains(a)||v.overlayElement.contains(l))break;const C=v._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>C.next(s)):C.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(le(un),le(br),le(Kt,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t0=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||mS()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),mS()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(le(un),le(br))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Fm{constructor(t,e,i,r,s,a,l,h,m,v=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=l,this._location=h,this._outsideClickDispatcher=m,this._animationsDisabled=v,this._backdropElement=null,this._backdropClick=new je,this._attachments=new je,this._detachments=new je,this._locationChanges=ne.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._backdropTransitionendHandler=C=>{this._disposeBackdrop(C.target)},this._keydownEvents=new je,this._outsidePointerEvents=new je,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(yr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=jr(this._config.width),t.height=jr(this._config.height),t.minWidth=jr(this._config.minWidth),t.minHeight=jr(this._config.minHeight),t.maxWidth=jr(this._config.maxWidth),t.maxHeight=jr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=$b(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(zn(rr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const tL="cdk-overlay-connected-position-bounding-box",Mq=/([A-Za-z%]+)$/;class Aq{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new je,this._resizeSubscription=ne.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(tL),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let l of this._preferredPositions){let h=this._getOriginPoint(t,r,l),m=this._getOverlayPoint(h,e,l),v=this._getOverlayFit(m,e,i,l);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,h);this._canFitWithFlexibleDimensions(v,m,i)?s.push({position:l,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,l)}):(!a||a.overlayFit.visibleArea<v.visibleArea)&&(a={overlayFit:v,overlayPoint:m,originPoint:h,position:l,overlayRect:e})}if(s.length){let l=null,h=-1;for(const m of s){const v=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);v>h&&(h=v,l=m)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&th(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(tL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;r="start"==i.originX?a:l}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=iL(e);let{x:a,y:l}=t,h=this._getOffset(r,"x"),m=this._getOffset(r,"y");h&&(a+=h),m&&(l+=m);let D=0-l,A=l+s.height-i.height,k=this._subtractOverflows(s.width,0-a,a+s.width-i.width),P=this._subtractOverflows(s.height,D,A),N=k*P;return{visibleArea:N,isCompletelyWithinViewport:s.width*s.height===N,fitsInViewportVertically:P===s.height,fitsInViewportHorizontally:k==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,a=nL(this._overlayRef.getConfig().minHeight),l=nL(this._overlayRef.getConfig().minWidth),m=t.fitsInViewportHorizontally||null!=l&&l<=s;return(t.fitsInViewportVertically||null!=a&&a<=r)&&m}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=iL(e),s=this._viewportRect,a=Math.max(t.x+r.width-s.width,0),l=Math.max(t.y+r.height-s.height,0),h=Math.max(s.top-i.top-t.y,0),m=Math.max(s.left-i.left-t.x,0);let v=0,C=0;return v=r.width<=s.width?m||-a:t.x<this._viewportMargin?s.left-i.left-t.x:0,C=r.height<=s.height?h||-l:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:v,y:C},{x:t.x+v,y:t.y+C}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Dq(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,a,l,v,C,D;if("top"===e.overlayY)a=t.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)l=i.height-t.y+2*this._viewportMargin,s=i.height-l+this._viewportMargin;else{const A=Math.min(i.bottom-t.y+i.top,t.y),k=this._lastBoundingBoxSize.height;s=2*A,a=t.y-A,s>k&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-k/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)D=i.width-t.x+this._viewportMargin,v=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)C=t.x,v=i.right-t.x;else{const A=Math.min(i.right-t.x+i.left,t.x),k=this._lastBoundingBoxSize.width;v=2*A,C=t.x-A,v>k&&!this._isInitialRender&&!this._growAfterOpen&&(C=t.x-k/2)}return{top:a,left:C,bottom:l,right:D,width:v,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=jr(i.height),r.top=jr(i.top),r.bottom=jr(i.bottom),r.width=jr(i.width),r.left=jr(i.left),r.right=jr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=jr(s)),a&&(r.maxWidth=jr(a))}this._lastBoundingBoxSize=i,th(this._boundingBox.style,r)}_resetBoundingBoxStyles(){th(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){th(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const v=this._viewportRuler.getViewportScrollPosition();th(i,this._getExactOverlayY(e,t,v)),th(i,this._getExactOverlayX(e,t,v))}else i.position="static";let l="",h=this._getOffset(e,"x"),m=this._getOffset(e,"y");h&&(l+=`translateX(${h}px) `),m&&(l+=`translateY(${m}px)`),i.transform=l.trim(),a.maxHeight&&(r?i.maxHeight=jr(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=jr(a.maxWidth):s&&(i.maxWidth="")),th(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=jr(s.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=jr(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:JF(t,i),isOriginOutsideView:wS(t,i),isOverlayClipped:JF(e,i),isOverlayOutsideView:wS(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&$b(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof St)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function th(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function nL(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Mq);return e&&"px"!==e?null:parseFloat(t)}return n||null}function iL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const rL="cdk-global-overlay-wrapper";class Tq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(rL),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:l}=i,h=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),m=!("100%"!==s&&"100vh"!==s||l&&"100%"!==l&&"100vh"!==l),v=this._xPosition,C=this._xOffset,D="rtl"===this._overlayRef.getConfig().direction;let A="",k="",P="";h?P="flex-start":"center"===v?(P="center",D?k=C:A=C):D?"left"===v||"end"===v?(P="flex-end",A=C):("right"===v||"start"===v)&&(P="flex-start",k=C):"left"===v||"start"===v?(P="flex-start",A=C):("right"===v||"end"===v)&&(P="flex-end",k=C),t.position=this._cssPosition,t.marginLeft=h?"0":A,t.marginTop=m?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=h?"0":k,e.justifyContent=P,e.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(rL),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let kq=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Tq}flexibleConnectedTo(e){return new Aq(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(le(eh),le(un),le(br),le(t0))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iq=0,la=(()=>{class n{constructor(e,i,r,s,a,l,h,m,v,C,D,A){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=h,this._document=m,this._directionality=v,this._location=C,this._outsideClickDispatcher=D,this._animationsModuleType=A}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new e0(e);return a.direction=a.direction||this._directionality.value,new Fm(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Iq++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(zf)),new lq(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(le(xq),le(t0),le(lc),le(kq),le(Eq),le(lr),le(Kt),le(un),le(ho),le(Zg),le(Sq),le(cs,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const Rq=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],sL=new Te("cdk-connected-overlay-scroll-strategy");let oL=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(O(St))},n.\u0275dir=Ee({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),aL=(()=>{class n{constructor(e,i,r,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ne.EMPTY,this._attachSubscription=ne.EMPTY,this._detachSubscription=ne.EMPTY,this._positionSubscription=ne.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new gn,this.positionChange=new gn,this.attach=new gn,this.detach=new gn,this.overlayKeydown=new gn,this.overlayOutsideClick=new gn,this._templatePortal=new Yb(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Sn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Sn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Sn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Sn(e)}get push(){return this._push}set push(e){this._push=Sn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Rq);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Rl(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new e0({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof oL?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(vO(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(O(la),O(Vr),O(Yr),O(sL),O(ho,8))},n.\u0275dir=Ee({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Zi]}),n})();const Pq={provide:sL,deps:[la],useFactory:function Oq(n){return()=>n.scrollStrategies.reposition()}};let Lm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[la,Pq],imports:[tp,ip,vS,vS]}),n})();function CS(n,t=Wb){return fn((e,i)=>{let r=null,s=null,a=null;const l=()=>{if(r){r.unsubscribe(),r=null;const m=s;s=null,i.next(m)}};function h(){const m=a+n,v=t.now();if(v<m)return r=this.schedule(void 0,m-v),void i.add(r);l()}e.subscribe(Rn(i,m=>{s=m,a=t.now(),r||(r=t.schedule(h,n),i.add(r))},()=>{l(),i.complete()},void 0,()=>{s=r=null}))})}function xS(n){return _r((t,e)=>n<=e)}function lL(n,t=Ae){return n=n??Fq,fn((e,i)=>{let r,s=!0;e.subscribe(Rn(i,a=>{const l=t(a);(s||!n(r,l))&&(s=!1,r=l,i.next(a))}))})}function Fq(n,t){return n===t}let cL=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lq=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=bc(e);return new nt(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new je,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(le(cL))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uL=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new gn,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Sn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=eo(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(CS(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(O(Lq),O(St),O(Kt))},n.\u0275dir=Ee({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),DS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[cL]}),n})();const dL=new Set;let sp,Nq=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Vq}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Bq(n){if(!dL.has(n))try{sp||(sp=document.createElement("style"),sp.setAttribute("type","text/css"),document.head.appendChild(sp)),sp.sheet&&(sp.sheet.insertRule(`@media ${n} {body{ }}`,0),dL.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(le(br))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vq(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let n0=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new je}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return hL($b(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=jf(hL($b(e)).map(a=>this._registerQuery(a).observable));return s=sb(s.pipe(yr(1)),s.pipe(xS(1),CS(0))),s.pipe(vt(a=>{const l={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:m})=>{l.matches=l.matches||h,l.breakpoints[m]=h}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new nt(a=>{const l=h=>this._zone.run(()=>a.next(h));return i.addListener(l),()=>{i.removeListener(l)}}).pipe(Ha(i),vt(({matches:a})=>({query:e,matches:a})),zn(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(le(Nq),le(Kt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hL(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function r0(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const gL="cdk-describedby-message",s0="cdk-describedby-host";let ES=0,mL=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ES++,this._document=e,this._id=bi(Hf)+"-"+ES++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=SS(i,r);"string"!=typeof i?(vL(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=SS(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const a=this._messageRegistry.get(s);a&&0===a.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${s0}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(s0);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");vL(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(SS(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=r0(e,"aria-describedby").filter(r=>0!=r.indexOf(gL));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function Hq(n,t,e){const i=r0(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(s0,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function zq(n,t,e){const r=r0(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(s0)}_isElementDescribedByMessage(e,i){const r=r0(e,"aria-describedby"),s=this._messageRegistry.get(i),a=s&&s.messageElement.id;return!!a&&-1!=r.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(le(un),le(br))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SS(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function vL(n,t){n.id||(n.id=`${gL}-${t}-${ES++}`)}class yL{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new je,this._typeaheadSubscription=ne.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new je,this.change=new je,t instanceof Kg&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Zn(e=>this._pressedLetters.push(e)),CS(t),_r(()=>this._pressedLetters.length>0),vt(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Rl(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Kg?this._items.toArray():this._items}}class $q extends yL{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class jq extends yL{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let o0=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Gq(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Uq(n){try{return n.frameElement}catch{return null}}(function Jq(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===bL(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=bL(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Xq(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Qq(n){return!function qq(n){return function Yq(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Wq(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Kq(n){return function Zq(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||_L(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(le(br))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _L(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function bL(n){if(!_L(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class e7{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(yr(1)).subscribe(t)}}let MS=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new e7(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(le(o0),le(Kt),le(un))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wL(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function CL(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const t7=new Te("cdk-input-modality-detector-options"),n7={ignoreKeys:[18,17,224,91,16]},op=Xd({passive:!0,capture:!0});let r7=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Ei(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Jd(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(wL(a)?"keyboard":"mouse"),this._mostRecentTarget=Jd(a))},this._onTouchstart=a=>{CL(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Jd(a))},this._options={...n7,...s},this.modalityDetected=this._modality.pipe(xS(1)),this.modalityChanged=this.modalityDetected.pipe(lL()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,op),r.addEventListener("mousedown",this._onMousedown,op),r.addEventListener("touchstart",this._onTouchstart,op)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,op),document.removeEventListener("mousedown",this._onMousedown,op),document.removeEventListener("touchstart",this._onTouchstart,op))}}return n.\u0275fac=function(e){return new(e||n)(le(br),le(Kt),le(un),le(t7,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const s7=new Te("liveAnnouncerElement",{providedIn:"root",factory:function o7(){return null}}),a7=new Te("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let AS=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(le(s7,8),le(Kt),le(un),le(a7,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const l7=new Te("cdk-focus-monitor-default-options"),a0=Xd({passive:!0,capture:!0});let Ol=(()=>{class n{constructor(e,i,r,s,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new je,this._rootNodeFocusAndBlurListener=l=>{for(let m=Jd(l);m;m=m.parentElement)"focus"===l.type?this._onFocus(l,m):this._onBlur(l,m)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const r=bc(e);if(!this._platform.isBrowser||1!==r.nodeType)return Lt(null);const s=function eq(n){if(function J9(){if(null==pS){const n=typeof document<"u"?document.head:null;pS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return pS}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const l={checkChildren:i,subject:new je,rootNode:s};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){const i=bc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=bc(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([l,h])=>this._originChanged(l,i,h)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Jd(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,a0),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,a0)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(zn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,a0),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,a0),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(le(Kt),le(br),le(r7),le(un,8),le(l7,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DL="cdk-high-contrast-black-on-white",EL="cdk-high-contrast-white-on-black",TS="cdk-high-contrast-active";let SL=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=bi(n0).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(TS,DL,EL),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(TS,DL):2===i&&e.add(TS,EL)}}}return n.\u0275fac=function(e){return new(e||n)(le(br),le(un))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kS=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(le(SL))},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[DS]}),n})();function c7(n,t){if(1&n&&cn(0,"mat-pseudo-checkbox",4),2&n){const e=Bn();at("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function u7(n,t){if(1&n&&(pe(0,"span",5),Je(1),ye()),2&n){const e=Bn();Fe(1),Br("(",e.group.label,")")}}const d7=["*"];let h7=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),f7=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const g7=new Te("mat-sanity-checks",{providedIn:"root",factory:function p7(){return!0}});let Ci=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!mS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(le(SL),le(g7,8),le(un))},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[tp,tp]}),n})();function nh(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Sn(t)}}}function l0(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function c0(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Sn(t)}}}function IS(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?eo(e):this.defaultTabIndex}}}function TL(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}function kL(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new nt(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}let RS=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class v7{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const IL={enterDuration:225,exitDuration:150},OS=Xd({passive:!0}),RL=["mousedown","touchstart"],OL=["mouseup","mouseleave","touchend","touchcancel"];class PL{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=bc(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...IL,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function _7(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),l=t-r.left,h=e-r.top,m=s.enterDuration,v=document.createElement("div");v.classList.add("mat-ripple-element"),v.style.left=l-a+"px",v.style.top=h-a+"px",v.style.height=2*a+"px",v.style.width=2*a+"px",null!=i.color&&(v.style.backgroundColor=i.color),v.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(v);const C=window.getComputedStyle(v),A=C.transitionDuration,k="none"===C.transitionProperty||"0s"===A||"0s, 0s"===A,P=new v7(this,v,i,k);v.style.transform="scale3d(1, 1, 1)",P.state=0,i.persistent||(this._mostRecentTransientRipple=P);let N=null;return!k&&(m||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const V=()=>this._finishRippleTransition(P),q=()=>this._destroyRipple(P);v.addEventListener("transitionend",V),v.addEventListener("transitioncancel",q),N={onTransitionEnd:V,onTransitionCancel:q}}),this._activeRipples.set(P,N),(k||!m)&&this._finishRippleTransition(P),P}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...IL,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=bc(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(RL))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(OL),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=wL(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!CL(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,OS)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(RL.forEach(t=>{this._triggerElement.removeEventListener(t,this,OS)}),this._pointerUpEventsRegistered&&OL.forEach(t=>{this._triggerElement.removeEventListener(t,this,OS)}))}}const PS=new Te("mat-ripple-global-options");let Bm=(()=>{class n{constructor(e,i,r,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new PL(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Kt),O(br),O(PS,8),O(cs,8))},n.\u0275dir=Ee({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&wi("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),u0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Ci,Ci]}),n})(),b7=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(O(cs,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&wi("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),w7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Ci]}),n})();const FL=new Te("MAT_OPTION_PARENT_COMPONENT"),LL=new Te("MatOptgroup");let C7=0;class x7{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let D7=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+C7++,this.onSelectionChange=new gn,this._stateChanges=new je}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Sn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Rl(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new x7(this,e))}}return n.\u0275fac=function(e){Od()},n.\u0275dir=Ee({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),ap=(()=>{class n extends D7{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Hr),O(FL,8),O(LL,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&jt("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(Ld("id",i.id),ri("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),wi("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[Be],ngContentSelectors:d7,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(ia(),Et(0,c7,1,2,"mat-pseudo-checkbox",0),pe(1,"span",1),cr(2),ye(),Et(3,u7,2,1,"span",2),cn(4,"div",3)),2&e&&(at("ngIf",i.multiple),Fe(3),at("ngIf",i.group&&i.group._inert),Fe(1),at("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Bm,vc,b7],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function NL(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[s]&&s++;return s}return 0}let BL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[u0,Va,Ci,w7]}),n})();const S7=["mat-button",""],M7=["*"],T7=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],k7=l0(nh(c0(class{constructor(n){this._elementRef=n}})));let wc=(()=>{class n extends k7{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of T7)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Ol),O(cs,8))},n.\u0275cmp=pn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&vi(Bm,5),2&e){let r;Gt(r=Wt())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(ri("disabled",i.disabled||null),wi("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Be],attrs:S7,ngContentSelectors:M7,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(ia(),pe(0,"span",0),cr(1),ye(),cn(2,"span",1)(3,"span",2)),2&e&&(Fe(2),wi("mat-button-ripple-round",i.isRoundButton||i.isIconButton),at("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Bm],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),FS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[u0,Ci,Ci]}),n})();class VL{}const Cc="*";function Po(n,t){return{type:7,name:n,definitions:t,options:{}}}function kr(n,t=null){return{type:4,styles:t,timings:n}}function HL(n,t=null){return{type:3,steps:n,options:t}}function zL(n,t=null){return{type:2,steps:n,options:t}}function bn(n){return{type:6,styles:n,offset:null}}function Ui(n,t,e){return{type:0,name:n,styles:t,options:e}}function Vm(n){return{type:5,steps:n}}function dr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function d0(n=null){return{type:9,options:n}}function h0(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function $L(n){Promise.resolve().then(n)}class Hm{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$L(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class jL{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?$L(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function R7(n,t){if(1&n){const e=Ra();pe(0,"div",2)(1,"button",3),jt("click",function(){return $s(e),ni(Bn().action())}),Je(2),ye()()}if(2&n){const e=Bn();Fe(2),Ni(e.data.action)}}function O7(n,t){}const UL=new Te("MatSnackBarData");class f0{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const P7=Math.pow(2,31)-1;class NS{constructor(t,e){this._overlayRef=e,this._afterDismissed=new je,this._afterOpened=new je,this._onAction=new je,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,P7))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let F7=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(O(NS),O(UL))},n.\u0275cmp=pn({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(pe(0,"span",0),Je(1),ye(),Et(2,R7,3,1,"div",1)),2&e&&(Fe(1),Ni(i.data.message),Fe(1),at("ngIf",i.hasAction))},dependencies:[vc,wc],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const L7={snackBarState:Po("state",[Ui("void, hidden",bn({transform:"scale(0.8)",opacity:0})),Ui("visible",bn({transform:"scale(1)",opacity:1})),dr("* => visible",kr("150ms cubic-bezier(0, 0, 0.2, 1)")),dr("* => void, * => hidden",kr("75ms cubic-bezier(0.4, 0.0, 1, 1)",bn({opacity:0})))])};let N7=(()=>{class n extends Zb{constructor(e,i,r,s,a){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=a,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new je,this._onExit=new je,this._onEnter=new je,this._animationState="void",this.attachDomPortal=l=>{this._assertNotAttached();const h=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),h},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(yr(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(O(Kt),O(St),O(Hr),O(br),O(f0))},n.\u0275dir=Ee({type:n,viewQuery:function(e,i){if(1&e&&vi(Om,7),2&e){let r;Gt(r=Wt())&&(i._portalOutlet=r.first)}},features:[Be]}),n})(),B7=(()=>{class n extends N7{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275cmp=pn({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&C_("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&E_("@state",i._animationState)},features:[Be],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(pe(0,"div",0),Et(1,O7,0,0,"ng-template",1),ye(),cn(2,"div")),2&e&&(Fe(2),ri("aria-live",i._live)("role",i._role))},dependencies:[Om],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[L7.snackBarState]}}),n})(),GL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Lm,ip,Va,FS,Ci,Ci]}),n})();const WL=new Te("mat-snack-bar-default-options",{providedIn:"root",factory:function V7(){return new f0}});let H7=(()=>{class n{constructor(e,i,r,s,a,l){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=l,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=lr.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:f0,useValue:i}]}),a=new np(this.snackBarContainerComponent,i.viewContainerRef,s),l=e.attach(a);return l.instance.snackBarConfig=i,l.instance}_attach(e,i){const r={...new f0,...this._defaultConfig,...i},s=this._createOverlay(r),a=this._attachSnackBarContainer(s,r),l=new NS(a,s);if(e instanceof Vr){const h=new Yb(e,null,{$implicit:r.data,snackBarRef:l});l.instance=a.attachTemplatePortal(h)}else{const h=this._createInjector(r,l),m=new np(e,void 0,h),v=a.attachComponentPortal(m);l.instance=v.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(zn(s.detachments())).subscribe(h=>{s.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(l,r),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new e0;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,l=!a&&"center"!==e.horizontalPosition;return a?r.left("0"):l?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return lr.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:NS,useValue:i},{provide:UL,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(le(la),le(AS),le(lr),le(n0),le(n,12),le(WL))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),z7=(()=>{class n extends H7{constructor(e,i,r,s,a,l){super(e,i,r,s,a,l),this.simpleSnackBarComponent=F7,this.snackBarContainerComponent=B7,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(le(la),le(AS),le(lr),le(n0),le(n,12),le(WL))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:GL}),n})(),lp=(()=>{class n{constructor(){this.fullNodes=1,this.lightNodes=1,this.minerNodes=1,this.initialMinersData=[],this.listeningNodes=1,this.price=1,this.reward=5,this.frequency=1,this.addNewMiner$=new Ei(1)}getFullNodes(){return this.fullNodes}setFullNodes(e){this.fullNodes=e}getLightNodes(){return this.lightNodes}setLightNodes(e){this.lightNodes=e}getMinerNodes(){return this.minerNodes}setMinerNodes(e){this.minerNodes=e}getInitialMinersData(){return this.initialMinersData}setInitialMinersData(e){this.initialMinersData=e}getListeningNodes(){return this.listeningNodes}setListeningNodes(e){this.listeningNodes=e}getAllNodes(){return this.fullNodes+this.lightNodes+this.minerNodes+this.listeningNodes}setElectricityPrice(e){this.price=e}getElectricityPrice(){return this.price}emitAddNewMinerFrequency(e){this.addNewMiner$.next(e)}getAddNewMinerFrequency(){return this.addNewMiner$.asObservable()}setReward(e){this.reward=e}getReward(){return this.reward}setFrequency(e){this.frequency=e}getFrequency(){return this.frequency}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qL(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const BS="inline",p0=["row","column","row-reverse","column-reverse"];function KL(n){let[t,e,i]=YL(n);return function j7(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function YL(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return p0.find(r=>r===t)||(t=p0[0]),e===BS&&(e=i!==BS?i:"",i=BS),[t,$7(e),!!i]}function zm(n){let[t]=YL(n);return t.indexOf("row")>-1}function $7(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function xc(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const G7={provide:kD,useFactory:function U7(n,t){return()=>{if(jd(t)){const e=Array.from(n.querySelectorAll(`[class*=${ZL}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${ZL}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[un,Fa],multi:!0},ZL="flex-layout-";let VS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[G7]}),n})();class ih{constructor(t=!1,e="all",i="",r="",s=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new ih(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let W7=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const s=this.stylesheet.get(e);s?s.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let s="";if(r){const a=r.get(i);("number"==typeof a||"string"==typeof a)&&(s=a+"")}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HS={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},$a=new Te("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>HS}),cp=new Te("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),zS=new Te("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function XL(n,t){return n=n?.clone()??new ih,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class wr{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Gi=(()=>{class n{constructor(e,i,r,s){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(e,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:qL(i),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:qL(e);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||$f(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return jd(this._platformId)?e.style.getPropertyValue(i):function q7(n,t){return QL(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let s="";return e&&((s=this.lookupInlineStyle(e,i))||(jd(this._platformId)?r||(s=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,i)))),s?s.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const s=e[r],a=Array.isArray(s)?s:[s];a.sort();for(let l of a)l=l?l+"":"",jd(this._platformId)||!this._serverModuleLoaded?jd(this._platformId)?i.style.setProperty(r,l):K7(i,r,l):this._serverStylesheet.addStyleToElement(i,r,l)})}}return n.\u0275fac=function(e){return new(e||n)(le(W7),le(cp),le(Fa),le($a))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function K7(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=QL(n);i[t]=e??"",function Y7(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function QL(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const s=i[r].trim();if(s.length>0){const a=s.indexOf(":");if(-1===a)throw new Error(`Invalid CSS style: ${s}`);t[s.substr(0,a).trim()]=s.substr(a+1).trim()}}}return t}function $m(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function Z7(n,t){return(n.priority||0)-(t.priority||0)}let $S=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new Ei(new ih(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(_r(a=>!i||e.indexOf(a.mediaQuery)>-1));return rr(new nt(a=>{const l=this.registerQuery(e);if(l.length){const h=l.pop();l.forEach(m=>{a.next(m)}),this.source.next(h)}a.complete()}),r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function X7(n,t){const e=n.filter(i=>!JL[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(s=>JL[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const a=h=>{this._zone.run(()=>this.source.next(new ih(h.matches,s)))};let l=this.registry.get(s);l||(l=this.buildMQL(s),l.addListener(a),this.pendingRemoveListenerFns.push(()=>l.removeListener(a)),this.registry.set(s,l)),l.matches&&r.push(new ih(!0,s))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function J7(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function Q7(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,jd(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(le(Kt),le(Fa),le(un))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JL={},eK=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],eN="(orientation: portrait) and (max-width: 599.98px)",tN="(orientation: landscape) and (max-width: 959.98px)",nN="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",iN="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",rN="(orientation: portrait) and (min-width: 840px)",sN="(orientation: landscape) and (min-width: 1280px)",Dc={HANDSET:`${eN}, ${tN}`,TABLET:`${nN} , ${iN}`,WEB:`${rN}, ${sN} `,HANDSET_PORTRAIT:`${eN}`,TABLET_PORTRAIT:`${nN} `,WEB_PORTRAIT:`${rN}`,HANDSET_LANDSCAPE:`${tN}`,TABLET_LANDSCAPE:`${iN}`,WEB_LANDSCAPE:`${sN}`},tK=[{alias:"handset",priority:2e3,mediaQuery:Dc.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Dc.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Dc.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Dc.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Dc.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Dc.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Dc.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Dc.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Dc.WEB_PORTRAIT,overlapping:!0}],nK=/(\.|-|_)/g;function iK(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const aK=new Te("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=bi(zS),t=bi($a),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function oK(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?xc(e[i.alias],i):e[i.alias]=i}),function sK(n){return n.forEach(t=>{t.suffix||(t.suffix=function rK(n){return n.replace(nK,"|").split("|").map(iK).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:eK).concat(t.addOrientationBps?tK:[]),e)}});let jS=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(Z7)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(le(aK))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const up="print",lK={alias:up,mediaQuery:up,priority:1e3};let cK=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new uK,this.deactivations=[]}withPrintQuery(e){return[...e,up]}isPrintEvent(e){return e.mediaQuery.startsWith(up)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort($m)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),XL(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new ih(!0,up))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const s=this.formerActivations&&this.formerActivations.includes(r),a=!this.formerActivations&&e.activatedBreakpoints.includes(r);(s||a)&&(this.deactivations.push(r),this.deactivations.sort($m))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(le(jS),le($a),le(un))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uK{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(lK),t.sort($m),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function dK(n){return n?.mediaQuery.startsWith(up)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let tr=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new je,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=XL(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort($m),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort($m),this.updateStyles())}}init(e,i,r,s,a=[]){oN(this.updateMap,e,i,r),oN(this.clearMap,e,i,s),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,a)}getValue(e,i,r){const s=this.elementMap.get(e);if(s){const a=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(a)return a.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(e,i,r,s){let a=this.elementMap.get(e);if(a){const h=(a.get(s)??new Map).set(i,r);a.set(s,h),this.elementMap.set(e,a)}else a=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(e,a);const l=this.getValue(e,i);void 0!==l&&this.updateElement(e,i,l)}trackValue(e,i){return this.subject.asObservable().pipe(_r(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(e);s&&s.forEach((a,l)=>{this.updateElement(i,l,a),r.delete(l)}),r.forEach(a=>{if(s=this.getActivatedValues(e,a),s){const l=s.get(a);this.updateElement(i,a,l)}else this.clearElement(i,a)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const s=this.updateMap.get(e);if(s){const a=s.get(i);a&&(a(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((s,a)=>r.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(e,i,s.get(i)):s.forEach((a,l)=>this.updateElement(e,l,a)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(i)){const l=rr(...r).subscribe(()=>{const h=this.getValue(e,i);this.updateElement(e,i,h)});s.set(i,l)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const l=e.get(this.activatedBreakpoints[s].alias);if(l&&(void 0===i||l.has(i)&&null!=l.get(i)))return l}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe(Zn(this.hook.interceptEvents(this)),_r(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(le($S),le(jS),le(cK))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oN(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let hr=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new je,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,s=r.shouldCache;let a=this.styleCache.get(e);(!a||!s)&&(a=r.buildStyles(e,i),s&&this.styleCache.set(e,a)),this.mru={...a},this.applyStyleToElement(a),r.sideEffect(e,a,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,s]=this.styler.getFlowDirection(e);if(!s&&i){const a=KL(r);this.styler.applyStyleToElements(a,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(wr),O(Gi),O(tr))},n.\u0275dir=Ee({type:n,features:[Zi]}),n})();function aN(n,t="1",e="1"){let i=[t,e,n],r=n.indexOf("calc");if(r>0){i[2]=lN(n.substring(r).trim());let s=n.substr(0,r).trim().split(" ");2==s.length&&(i[0]=s[0],i[1]=s[1])}else if(0==r)i[2]=lN(n.trim());else{let s=n.split(" ");i=3===s.length?s:[t,e,n]}return i}function lN(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function g0(n,t){if(void 0===t)return n;const e=i=>{const r=+i.slice(0,-"x".length);return n.endsWith("x")&&!isNaN(r)?`${r*t.value}${t.unit}`:n};return n.includes(" ")?n.split(" ").map(e).join(" "):e(n)}EventTarget;let pK=(()=>{class n extends wr{buildStyles(e,{display:i}){const r=KL(e);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gK=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let mK=(()=>{class n extends hr{constructor(e,i,r,s,a){super(e,r,i,s),this._config=a,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=uN.get(r)??new Map,uN.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Gi),O(pK),O(tr),O($a))},n.\u0275dir=Ee({type:n,features:[Be]}),n})(),ja=(()=>{class n extends mK{constructor(){super(...arguments),this.inputs=gK}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[Be]}),n})();const uN=new Map,dN={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let vK=(()=>{class n extends wr{constructor(e,i){super(),this._styler=e,this._config=i}buildStyles(e,i){return e.endsWith(m0)?function EK(n,t){const[e,i]=n.split(" "),s=m=>`-${m}`;let a="0px",l=s(i??e),h="0px";return"rtl"===t?h=s(e):a=s(e),{margin:`0px ${a} ${l} ${h}`}}(e=g0(e=e.slice(0,e.indexOf(m0)),this._config.multiplier),i.directionality):{}}sideEffect(e,i,r){const s=r.items;if(e.endsWith(m0)){const a=function DK(n,t){const[e,i]=n.split(" ");let s="0px",l="0px";return"rtl"===t?l=e:s=e,{padding:`0px ${s} ${i??e} ${l}`}}(e=g0(e=e.slice(0,e.indexOf(m0)),this._config.multiplier),r.directionality);this._styler.applyStyleToElements(a,r.items)}else{e=g0(e,this._config.multiplier),e=this.addFallbackUnit(e);const a=s.pop(),l=function SK(n,t){const e=hN(t.directionality,t.layout),i={...dN};return i[e]=n,i}(e,r);this._styler.applyStyleToElements(l,s),this._styler.applyStyleToElements(dN,[a])}}addFallbackUnit(e){return isNaN(+e)?e:`${e}${this._config.defaultUnit}`}}return n.\u0275fac=function(e){return new(e||n)(le(Gi),le($a))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yK=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let _K=(()=>{class n extends hr{constructor(e,i,r,s,a,l){super(e,a,s,l),this.zone=i,this.directionality=r,this.styleUtils=s,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new je;const h=[this.directionality.change,this.observerSubject.asObservable()];this.init(h),this.marshal.trackValue(this.nativeElement,"layout").pipe(zn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,i=[];for(let r=e.length;r--;)i[r]=e[r];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const r=e.value.split(" ");this.layout=r[0],p0.find(s=>s===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const i=this.childrenNodes.filter(r=>1===r.nodeType&&this.willDisplay(r)).sort((r,s)=>{const a=+this.styler.lookupStyle(r,"order"),l=+this.styler.lookupStyle(s,"order");return isNaN(a)||isNaN(l)||a===l?0:a>l?1:-1});if(i.length>0){const r=this.directionality.value,s=this.layout;"row"===s&&"rtl"===r?this.styleCache=bK:"row"===s&&"rtl"!==r?this.styleCache=CK:"column"===s&&"rtl"===r?this.styleCache=wK:"column"===s&&"rtl"!==r&&(this.styleCache=xK),this.addStyles(e,{directionality:r,items:i,layout:s})}}clearStyles(){const e=Object.keys(this.mru).length>0,i=e?"padding":hN(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(e){const i=this.marshal.getValue(e,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(e=>{e.some(r=>r.addedNodes&&r.addedNodes.length>0||r.removedNodes&&r.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Kt),O(ho),O(Gi),O(vK),O(tr))},n.\u0275dir=Ee({type:n,features:[Be]}),n})(),Ru=(()=>{class n extends _K{constructor(){super(...arguments),this.inputs=yK}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[Be]}),n})();const bK=new Map,wK=new Map,CK=new Map,xK=new Map,m0=" grid";function hN(n,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let MK=(()=>{class n extends wr{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[r,s,...a]=e.split(" "),l=a.join(" ");const h=i.direction.indexOf("column")>-1?"column":"row",m=zm(h)?"max-width":"max-height",v=zm(h)?"min-width":"min-height",C=String(l).indexOf("calc")>-1,D=C||"auto"===l,A=String(l).indexOf("%")>-1&&!C,k=String(l).indexOf("px")>-1||String(l).indexOf("rem")>-1||String(l).indexOf("em")>-1||String(l).indexOf("vw")>-1||String(l).indexOf("vh")>-1;let P=C||k;r="0"==r?0:r,s="0"==s?0:s;const N=!r&&!s;let V={};const q={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(l||""){case"":const te=!1!==this.layoutConfig.useColumnBasisZero;l="row"===h?"0%":te?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,l="auto";break;case"grow":l="100%";break;case"noshrink":s=0,l="auto";break;case"auto":break;case"none":r=0,s=0,l="auto";break;default:!P&&!A&&!isNaN(l)&&(l+="%"),"0%"===l&&(P=!0),"0px"===l&&(l="0%"),V=xc(q,C?{"flex-grow":r,"flex-shrink":s,"flex-basis":P?l:"100%"}:{flex:`${r} ${s} ${P?l:"100%"}`})}return V.flex||V["flex-grow"]||(V=xc(q,C?{"flex-grow":r,"flex-shrink":s,"flex-basis":l}:{flex:`${r} ${s} ${l}`})),"0%"!==l&&"0px"!==l&&"0.000000001px"!==l&&"auto"!==l&&(V[v]=N||P&&r?l:null,V[m]=N||!D&&s?l:null),V[v]||V[m]?i.hasWrap&&(V[C?"flex-basis":"flex"]=V[m]?C?V[m]:`${r} ${s} ${V[m]}`:C?V[v]:`${r} ${s} ${V[v]}`):V=xc(q,C?{"flex-grow":r,"flex-shrink":s,"flex-basis":l}:{flex:`${r} ${s} ${l}`}),xc(V,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(le($a))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AK=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let TK=(()=>{class n extends hr{constructor(e,i,r,s,a){super(e,s,i,a),this.layoutConfig=r,this.marshal=a,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(zn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(zn(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const r=e.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,s=r.startsWith("row"),a=this.wrap;s&&a?this.styleCache=RK:s&&!a?this.styleCache=kK:!s&&a?this.styleCache=OK:!s&&!a&&(this.styleCache=IK);const h=aN(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(h.join(" "),{direction:r,hasWrap:a})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=aN(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Gi),O($a),O(MK),O(tr))},n.\u0275dir=Ee({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[Be]}),n})(),US=(()=>{class n extends TK{constructor(){super(...arguments),this.inputs=AK}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[Be]}),n})();const kK=new Map,IK=new Map,RK=new Map,OK=new Map;let nY=(()=>{class n extends wr{buildStyles(e,i){const r={},[s,a]=e.split(" ");switch(s){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return xc(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===a?zm(i.layout)?null:"100%":null,"max-height":"stretch"===a&&zm(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iY=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let rY=(()=>{class n extends hr{constructor(e,i,r,s){super(e,r,i,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(zn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=cY:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=dY:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=uY:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=hY:"column-reverse"===i&&!r&&(this.styleCache=lY):this.styleCache=oY:this.styleCache=aY:this.styleCache=sY,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),p0.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Gi),O(nY),O(tr))},n.\u0275dir=Ee({type:n,features:[Be]}),n})(),Ua=(()=>{class n extends rY{constructor(){super(...arguments),this.inputs=iY}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[Be]}),n})();const sY=new Map,oY=new Map,aY=new Map,lY=new Map,cY=new Map,uY=new Map,dY=new Map,hY=new Map;let GS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[VS,tp]}),n})();const fY=["connectionContainer"],pY=["inputContainer"],gY=["label"];function mY(n,t){1&n&&(Ji(0),pe(1,"div",14),cn(2,"div",15)(3,"div",16)(4,"div",17),ye(),pe(5,"div",18),cn(6,"div",15)(7,"div",16)(8,"div",17),ye(),er())}function vY(n,t){if(1&n){const e=Ra();pe(0,"div",19),jt("cdkObserveContent",function(){return $s(e),ni(Bn().updateOutlineGap())}),cr(1,1),ye()}2&n&&at("cdkObserveContentDisabled","outline"!=Bn().appearance)}function yY(n,t){if(1&n&&(Ji(0),cr(1,2),pe(2,"span"),Je(3),ye(),er()),2&n){const e=Bn(2);Fe(3),Ni(e._control.placeholder)}}function _Y(n,t){1&n&&cr(0,3,["*ngSwitchCase","true"])}function bY(n,t){1&n&&(pe(0,"span",23),Je(1," *"),ye())}function wY(n,t){if(1&n){const e=Ra();pe(0,"label",20,21),jt("cdkObserveContent",function(){return $s(e),ni(Bn().updateOutlineGap())}),Et(2,yY,4,1,"ng-container",12),Et(3,_Y,1,0,"ng-content",12),Et(4,bY,2,0,"span",22),ye()}if(2&n){const e=Bn();wi("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),at("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),ri("for",e._control.id)("aria-owns",e._control.id),Fe(2),at("ngSwitchCase",!1),Fe(1),at("ngSwitchCase",!0),Fe(1),at("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function CY(n,t){1&n&&(pe(0,"div",24),cr(1,4),ye())}function xY(n,t){if(1&n&&(pe(0,"div",25),cn(1,"span",26),ye()),2&n){const e=Bn();Fe(1),wi("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function DY(n,t){1&n&&(pe(0,"div"),cr(1,5),ye()),2&n&&at("@transitionMessages",Bn()._subscriptAnimationState)}function EY(n,t){if(1&n&&(pe(0,"div",30),Je(1),ye()),2&n){const e=Bn(2);at("id",e._hintLabelId),Fe(1),Ni(e.hintLabel)}}function SY(n,t){if(1&n&&(pe(0,"div",27),Et(1,EY,2,2,"div",28),cr(2,6),cn(3,"div",29),cr(4,7),ye()),2&n){const e=Bn();at("@transitionMessages",e._subscriptAnimationState),Fe(1),at("ngIf",e.hintLabel)}}const MY=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],AY=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let TY=0;const fN=new Te("MatError");let WS=(()=>{class n{constructor(e,i){this.id="mat-error-"+TY++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(Ds("aria-live"),O(St))},n.\u0275dir=Ee({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&ri("id",i.id)},inputs:{id:"id"},features:[yn([{provide:fN,useExisting:n}])]}),n})();const kY={transitionMessages:Po("transitionMessages",[Ui("enter",bn({opacity:1,transform:"translateY(0%)"})),dr("void => enter",[bn({opacity:0,transform:"translateY(-5px)"}),kr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let v0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n}),n})();const IY=new Te("MatHint");let dp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n,selectors:[["mat-label"]]}),n})(),RY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n,selectors:[["mat-placeholder"]]}),n})();const OY=new Te("MatPrefix"),PY=new Te("MatSuffix");let pN=0;const LY=l0(class{constructor(n){this._elementRef=n}},"primary"),NY=new Te("MAT_FORM_FIELD_DEFAULT_OPTIONS"),qS=new Te("MatFormField");let jm=(()=>{class n extends LY{constructor(e,i,r,s,a,l,h){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=a,this._ngZone=l,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new je,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+pN++,this._labelId="mat-form-field-label-"+pN++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==h,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Sn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Ha(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(zn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(zn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),rr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ha(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ha(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(zn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Zd(this._label.nativeElement,"transitionend").pipe(yr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const v=i.querySelectorAll(`${r}, ${s}`);for(let C=0;C<v.length;C++)v[C].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,l=0;const h=i.querySelectorAll(r),m=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const v=i.getBoundingClientRect();if(0===v.width&&0===v.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const C=this._getStartEnd(v),D=e.children,A=this._getStartEnd(D[0].getBoundingClientRect());let k=0;for(let P=0;P<D.length;P++)k+=D[P].offsetWidth;a=Math.abs(A-C)-5,l=k>0?.75*k+10:0}for(let v=0;v<h.length;v++)h[v].style.width=`${a}px`;for(let v=0;v<m.length;v++)m[v].style.width=`${l}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Hr),O(ho,8),O(NY,8),O(br),O(Kt),O(cs,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&($i(r,v0,5),$i(r,v0,7),$i(r,dp,5),$i(r,dp,7),$i(r,RY,5),$i(r,fN,5),$i(r,IY,5),$i(r,OY,5),$i(r,PY,5)),2&e){let s;Gt(s=Wt())&&(i._controlNonStatic=s.first),Gt(s=Wt())&&(i._controlStatic=s.first),Gt(s=Wt())&&(i._labelChildNonStatic=s.first),Gt(s=Wt())&&(i._labelChildStatic=s.first),Gt(s=Wt())&&(i._placeholderChild=s.first),Gt(s=Wt())&&(i._errorChildren=s),Gt(s=Wt())&&(i._hintChildren=s),Gt(s=Wt())&&(i._prefixChildren=s),Gt(s=Wt())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(vi(fY,7),vi(pY,5),vi(gY,5)),2&e){let r;Gt(r=Wt())&&(i._connectionContainerRef=r.first),Gt(r=Wt())&&(i._inputContainerRef=r.first),Gt(r=Wt())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&wi("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[yn([{provide:qS,useExisting:n}]),Be],ngContentSelectors:AY,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(ia(MY),pe(0,"div",0)(1,"div",1,2),jt("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),Et(3,mY,9,0,"ng-container",3),Et(4,vY,2,1,"div",4),pe(5,"div",5,6),cr(7),pe(8,"span",7),Et(9,wY,5,16,"label",8),ye()(),Et(10,CY,2,0,"div",9),ye(),Et(11,xY,2,4,"div",10),pe(12,"div",11),Et(13,DY,2,1,"div",12),Et(14,SY,5,2,"div",13),ye()()),2&e&&(Fe(3),at("ngIf","outline"==i.appearance),Fe(1),at("ngIf",i._prefixChildren.length),Fe(5),at("ngIf",i._hasFloatingLabel()),Fe(1),at("ngIf",i._suffixChildren.length),Fe(1),at("ngIf","outline"!=i.appearance),Fe(1),at("ngSwitch",i._getDisplayedMessages()),Fe(1),at("ngSwitchCase","error"),Fe(1),at("ngSwitchCase","hint"))},dependencies:[vc,em,nE,uL],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[kY.transitionMessages]},changeDetection:0}),n})(),y0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Va,Ci,DS,Ci]}),n})();class BY{}class Ou{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ou?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ou;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ou?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(l=>-1===s.indexOf(l)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class VY{encodeKey(t){return mN(t)}encodeValue(t){return mN(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const zY=/%(\d[a-f0-9])/gi,$Y={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mN(n){return encodeURIComponent(n).replace(zY,(t,e)=>$Y[e]??t)}function _0(n){return`${n}`}class Pu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new VY,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function HY(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,l]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],h=e.get(a)||[];h.push(l),e.set(a,h)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(_0):[_0(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Pu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(_0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(_0(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class jY{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function vN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function yN(n){return typeof Blob<"u"&&n instanceof Blob}function _N(n){return typeof FormData<"u"&&n instanceof FormData}class Um{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function UY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ou),this.context||(this.context=new jY),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+a}}else this.params=new Pu,this.urlWithParams=e}serializeBody(){return null===this.body?null:vN(this.body)||yN(this.body)||_N(this.body)||function GY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_N(this.body)?null:yN(this.body)?this.body.type||null:vN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,m=t.params||this.params;const v=t.context??this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((C,D)=>C.set(D,t.setHeaders[D]),h)),t.setParams&&(m=Object.keys(t.setParams).reduce((C,D)=>C.set(D,t.setParams[D]),m)),new Um(e,i,s,{params:m,headers:h,context:v,reportProgress:l,responseType:r,withCredentials:a})}}var _s=(()=>((_s=_s||{})[_s.Sent=0]="Sent",_s[_s.UploadProgress=1]="UploadProgress",_s[_s.ResponseHeader=2]="ResponseHeader",_s[_s.DownloadProgress=3]="DownloadProgress",_s[_s.Response=4]="Response",_s[_s.User=5]="User",_s))();class KS extends class WY{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ou,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=_s.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new KS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function YS(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let wN=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Um)s=e;else{let h,m;h=r.headers instanceof Ou?r.headers:new Ou(r.headers),r.params&&(m=r.params instanceof Pu?r.params:new Pu({fromObject:r.params})),s=new Um(e,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=Lt(s).pipe(Su(h=>this.handler.handle(h)));if(e instanceof Um||"events"===r.observe)return a;const l=a.pipe(_r(h=>h instanceof KS));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(vt(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return l.pipe(vt(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return l.pipe(vt(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return l.pipe(vt(h=>h.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Pu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,YS(r,i))}post(e,i,r={}){return this.request("POST",e,YS(r,i))}put(e,i,r={}){return this.request("PUT",e,YS(r,i))}}return n.\u0275fac=function(e){return new(e||n)(le(BY))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const KY=["*"];let b0;function Gm(n){return function YY(){if(void 0===b0&&(b0=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(b0=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return b0}()?.createHTML(n)||n}function CN(n){return Error(`Unable to find icon with the name "${n}"`)}function xN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function DN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class rh{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let w0=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new rh(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const a=this._sanitizer.sanitize(ci.HTML,r);if(!a)throw DN(r);const l=Gm(a);return this._addSvgIconConfig(e,i,new rh("",l,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new rh(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(ci.HTML,i);if(!s)throw DN(i);const a=Gm(s);return this._addSvgIconSetConfig(e,new rh("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(ci.RESOURCE_URL,e);if(!i)throw xN(e);const r=this._cachedIconsByUrl.get(i);return r?Lt(C0(r)):this._loadSvgIconFromConfig(new rh(e,null)).pipe(Zn(s=>this._cachedIconsByUrl.set(i,s)),vt(s=>C0(s)))}getNamedSvgIcon(e,i=""){const r=EN(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):Uf(CN(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Lt(C0(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(vt(i=>C0(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Lt(r):kP(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(za(l=>{const m=`Loading icon set URL: ${this._sanitizer.sanitize(ci.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(m)),Lt(null)})))).pipe(vt(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw CN(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,e,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Zn(i=>e.svgText=i),vt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Lt(null):this._fetchIcon(e).pipe(Zn(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const l=this._svgElementFromString(Gm("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Gm("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:a,value:l}=r[s];"id"!==a&&i.setAttribute(a,l)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function ZY(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(ci.RESOURCE_URL,i);if(!a)throw xN(i);const l=this._inProgressUrlFetches.get(a);if(l)return l;const h=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(vt(m=>Gm(m)),ab(()=>this._inProgressUrlFetches.delete(a)),Uv());return this._inProgressUrlFetches.set(a,h),h}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(EN(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return QY(s)?new rh(s.url,null,s.options):new rh(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(le(wN,8),le(ib),le(un,8),le(X))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function C0(n){return n.cloneNode(!0)}function EN(n,t){return n+":"+t}function QY(n){return!(!n.url||!n.options)}const JY=l0(class{constructor(n){this._elementRef=n}}),eZ=new Te("MAT_ICON_DEFAULT_OPTIONS"),tZ=new Te("mat-icon-location",{providedIn:"root",factory:function nZ(){const n=bi(un),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),SN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],iZ=SN.map(n=>`[${n}]`).join(", "),rZ=/^url\(['"]?#(.*?)['"]?\)$/;let Wm=(()=>{class n extends JY{constructor(e,i,r,s,a,l){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ne.EMPTY,l&&(l.color&&(this.color=this.defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Sn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(iZ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)SN.forEach(a=>{const l=i[s],h=l.getAttribute(a),m=h?h.match(rZ):null;if(m){let v=r.get(l);v||(v=[],r.set(l,v)),v.push({name:a,value:m[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(yr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(w0),Ds("aria-hidden"),O(tZ),O(X),O(eZ,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(ri("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),wi("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Be],ngContentSelectors:KY,decls:1,vars:0,template:function(e,i){1&e&&(ia(),cr(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),sZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Ci,Ci]}),n})();const MN=Xd({passive:!0});let oZ=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ns;const i=bc(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new je,a="cdk-text-field-autofilled",l=h=>{"cdk-text-field-autofill-start"!==h.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===h.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",l,MN),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",l,MN)}}),s}stopMonitoring(e){const i=bc(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(le(br),le(Kt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({}),n})();const aZ=new Te("MAT_INPUT_VALUE_ACCESSOR"),lZ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let cZ=0;const uZ=TL(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new je}});let ZS=(()=>{class n extends uZ{constructor(e,i,r,s,a,l,h,m,v,C){super(l,s,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=m,this._formField=C,this._uid="mat-input-"+cZ++,this.focused=!1,this.stateChanges=new je,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(k=>WF().has(k)),this._iOSKeyupListener=k=>{const P=k.target;!P.value&&0===P.selectionStart&&0===P.selectionEnd&&(P.setSelectionRange(1,1),P.setSelectionRange(0,0))};const D=this._elementRef.nativeElement,A=D.nodeName.toLowerCase();this._inputValueAccessor=h||D,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&v.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===A,this._isTextarea="textarea"===A,this._isInFormField=!!C,this._isNativeSelect&&(this.controlType=D.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Sn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(_n.required)??!1}set required(e){this._required=Sn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&WF().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Sn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){lZ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(br),O(kl,10),O(Dm,8),O(Iu,8),O(RS),O(aZ,10),O(oZ),O(Kt),O(qS,8))},n.\u0275dir=Ee({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&jt("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(Ld("disabled",i.disabled)("required",i.required),ri("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),wi("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[yn([{provide:v0,useExisting:n}]),Be,Zi]}),n})(),dZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[RS],imports:[AN,y0,Ci,AN,y0]}),n})();function XS(n){return n&&"function"==typeof n.connect&&!(n instanceof gE)}class TN{applyChanges(t,e,i,r,s){t.forEachOperation((a,l,h)=>{let m,v;if(null==a.previousIndex){const C=i(a,l,h);m=e.createEmbeddedView(C.templateRef,C.context,C.index),v=1}else null==h?(e.remove(l),v=3):(m=e.get(l),e.move(m,h),v=2);s&&s({context:m?.context,operation:v,record:a})})}detach(){}}class IN{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new je,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}const qm=new Te("_ViewRepeater"),fZ=["trigger"],pZ=["panel"];function gZ(n,t){if(1&n&&(pe(0,"span",8),Je(1),ye()),2&n){const e=Bn();Fe(1),Ni(e.placeholder)}}function mZ(n,t){if(1&n&&(pe(0,"span",12),Je(1),ye()),2&n){const e=Bn(2);Fe(1),Ni(e.triggerValue)}}function vZ(n,t){1&n&&cr(0,0,["*ngSwitchCase","true"])}function yZ(n,t){1&n&&(pe(0,"span",9),Et(1,mZ,2,1,"span",10),Et(2,vZ,1,0,"ng-content",11),ye()),2&n&&(at("ngSwitch",!!Bn().customTrigger),Fe(2),at("ngSwitchCase",!0))}function _Z(n,t){if(1&n){const e=Ra();pe(0,"div",13)(1,"div",14,15),jt("@transformPanel.done",function(r){return $s(e),ni(Bn()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return $s(e),ni(Bn()._handleKeydown(r))}),cr(3,1),ye()()}if(2&n){const e=Bn();at("@transformPanelWrap",void 0),Fe(1),_k("mat-select-panel ",e._getPanelTheme(),""),Cu("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),at("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),ri("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const bZ=[[["mat-select-trigger"]],"*"],wZ=["mat-select-trigger","*"],RN={transformPanelWrap:Po("transformPanelWrap",[dr("* => void",h0("@transformPanel",[d0()],{optional:!0}))]),transformPanel:Po("transformPanel",[Ui("void",bn({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Ui("showing",bn({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Ui("showing-multiple",bn({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),dr("void => *",kr("120ms cubic-bezier(0, 0, 0.2, 1)")),dr("* => void",kr("100ms 25ms linear",bn({opacity:0})))])};let ON=0;const FN=new Te("mat-select-scroll-strategy"),EZ=new Te("MAT_SELECT_CONFIG"),SZ={provide:FN,deps:[la],useFactory:function DZ(n){return()=>n.scrollStrategies.reposition()}};class MZ{constructor(t,e){this.source=t,this.value=e}}const AZ=c0(IS(nh(TL(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new je}})))),TZ=new Te("MatSelectTrigger");let kZ=(()=>{class n extends AZ{constructor(e,i,r,s,a,l,h,m,v,C,D,A,k,P){super(a,s,h,m,C),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=l,this._parentFormField=v,this._liveAnnouncer=k,this._defaultOptions=P,this._panelOpen=!1,this._compareWith=(N,V)=>N===V,this._uid="mat-select-"+ON++,this._triggerAriaLabelledBy=null,this._destroy=new je,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ON++,this._panelDoneAnimatingStream=new je,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=rm(()=>{const N=this.options;return N?N.changes.pipe(Ha(N),Oo(()=>rr(...N.map(V=>V.onSelectionChange)))):this._ngZone.onStable.pipe(yr(1),Oo(()=>this.optionSelectionChanges))}),this.openedChange=new gn,this._openedStream=this.openedChange.pipe(_r(N=>N),vt(()=>{})),this._closedStream=this.openedChange.pipe(_r(N=>!N),vt(()=>{})),this.selectionChange=new gn,this.valueChange=new gn,this.ngControl&&(this.ngControl.valueAccessor=this),null!=P?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=P.typeaheadDebounceInterval),this._scrollStrategyFactory=A,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(D)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(_n.required)??!1}set required(e){this._required=Sn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Sn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Sn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=eo(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new IN(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(lL(),zn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(zn(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ha(null),zn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&s&&!Rl(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const l=this.selected;a.onKeydown(e);const h=this.selected;h&&l!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,a=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||Rl(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const l=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(l?h.select():h.deselect())})}else{const l=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==l&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(yr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new $q(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(zn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(zn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=rr(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(zn(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),rr(...this.options.map(i=>i._stateChanges)).pipe(zn(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(O(eh),O(Hr),O(Kt),O(RS),O(St),O(ho,8),O(Dm,8),O(Iu,8),O(qS,8),O(kl,10),Ds("tabindex"),O(FN),O(AS),O(EZ,8))},n.\u0275dir=Ee({type:n,viewQuery:function(e,i){if(1&e&&(vi(fZ,5),vi(pZ,5),vi(aL,5)),2&e){let r;Gt(r=Wt())&&(i.trigger=r.first),Gt(r=Wt())&&(i.panel=r.first),Gt(r=Wt())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Be,Zi]}),n})(),Ym=(()=>{class n extends kZ{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(zn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(yr(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=NL(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function E7(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new MZ(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let m=this._selectionModel.selected[0]||this.options.first;a=m&&m.group?32:16}r||(a*=-1);const l=0-(e.left+a-(r?s:0)),h=e.right+a-i.width+(r?0:s);l>0?a+=l+8:h>0&&(a-=h+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),a=(s-this._triggerRect.height)/2,l=Math.floor(256/s);let h;return this.disableOptionCentering?0:(h=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-l))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*h-a))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,a=r.height-this._triggerRect.bottom-8,l=Math.abs(this._offsetY),m=Math.min(this._getItemCount()*i,256)-l-this._triggerRect.height;m>a?this._adjustPanelUp(m,a):l>s?this._adjustPanelDown(l,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),a=i*e-r;let l;l=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),l+=NL(l,this.options,this.optionGroups);const h=r/2;this._scrollTop=this._calculateOverlayScroll(l,h,a),this._offsetY=this._calculateOverlayOffsetY(l,h,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275cmp=pn({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&($i(r,TZ,5),$i(r,ap,5),$i(r,LL,5)),2&e){let s;Gt(s=Wt())&&(i.customTrigger=s.first),Gt(s=Wt())&&(i.options=s),Gt(s=Wt())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&jt("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(ri("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),wi("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[yn([{provide:v0,useExisting:n},{provide:FL,useExisting:n}]),Be],ngContentSelectors:wZ,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(ia(bZ),pe(0,"div",0,1),jt("click",function(){return i.toggle()}),pe(3,"div",2),Et(4,gZ,2,1,"span",3),Et(5,yZ,3,2,"span",4),ye(),pe(6,"div",5),cn(7,"div",6),ye()(),Et(8,_Z,4,14,"ng-template",7),jt("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=Bg(1);ri("aria-owns",i.panelOpen?i.id+"-panel":null),Fe(3),at("ngSwitch",i.empty),ri("id",i._valueId),Fe(1),at("ngSwitchCase",!0),Fe(1),at("ngSwitchCase",!1),Fe(3),at("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[Jg,em,nE,LR,aL,oL],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[RN.transformPanelWrap,RN.transformPanel]},changeDetection:0}),n})(),LN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[SZ],imports:[Va,Lm,BL,Ci,Kb,y0,BL,Ci]}),n})();function IZ(n,t){1&n&&(pe(0,"mat-error"),Je(1,"Number must be greater than 0"),ye())}function RZ(n,t){1&n&&(pe(0,"mat-error"),Je(1,"Number must be greater than 0"),ye())}function OZ(n,t){1&n&&(pe(0,"mat-error"),Je(1,"Number must be greater than 0"),ye())}function PZ(n,t){1&n&&(pe(0,"mat-error"),Je(1,"Number must be greater than 0"),ye())}function FZ(n,t){if(1&n&&(pe(0,"mat-option",15),Je(1),ye()),2&n){const e=t.$implicit;at("value",e.enumName),Fe(1),D_("",e.name," - price multiplier : ",e.electricityPrice,"")}}function LZ(n,t){if(1&n&&(Ji(0),pe(1,"div",10)(2,"mat-form-field"),cn(3,"input",11),ye(),pe(4,"mat-form-field"),cn(5,"input",12),ye(),pe(6,"mat-form-field")(7,"mat-select",13),Et(8,FZ,2,3,"mat-option",14),ye()()(),er()),2&n){const e=t.index,i=Bn();Fe(1),at("formGroupName",e),Fe(7),at("ngForOf",i.COUNTRIES)}}let NZ=(()=>{class n{constructor(e,i,r,s,a){this.activatedRoute=e,this.router=i,this.formBuilder=r,this.snackBar=s,this.parametersService=a,this.nodesType1FC=new ji(5,[_n.required,_n.min(1)]),this.nodesType2FC=new ji(5,[_n.required,_n.min(1)]),this.nodesType3FC=new ji(5,[_n.required,_n.min(1)]),this.nodesType4FC=new ji(5,[_n.required,_n.min(1)]),this.minersFormArray=this.formBuilder.array([]),this.form=this.formBuilder.group({nodesType1FC:this.nodesType1FC,nodesType2FC:this.nodesType2FC,nodesType3FC:this.nodesType3FC,nodesType4FC:this.nodesType4FC,miners:this.minersFormArray}),this.COUNTRIES=Il,this.minerNodesBeforeChange=this.parametersService.getMinerNodes(),this.numberOfNodes=20}get miners(){return this.form.controls.miners}ngOnInit(){this.setNodes(),this.numberOfNodes=this.parametersService.getAllNodes();for(let e=0;e<5;e++)this.miners.push(this.formBuilder.group({power:new ji(1,[_n.required,_n.min(1),_n.max(10)]),country:new ji("POLAND",[_n.required]),money:new ji(100,[_n.required,_n.min(0),_n.max(1e4)])}));this.form.markAllAsTouched()}formValidation(){return this.form.valid}onClick(){this.snackBar.open("Przechodzenie do symulacji","",{duration:500}),this.setNodes(),this.router.navigate([EP],{relativeTo:this.activatedRoute.parent})}setNodes(){this.parametersService.setFullNodes(this.nodesType1FC.value),this.parametersService.setLightNodes(this.nodesType2FC.value),this.parametersService.setMinerNodes(this.nodesType3FC.value),this.parametersService.setListeningNodes(this.nodesType4FC.value),this.parametersService.setInitialMinersData(this.miners.value)}setNumberOfNodes(){this.numberOfNodes=this.nodesType1FC.value+this.nodesType2FC.value+this.nodesType3FC.value+this.nodesType4FC.value}setMinersNumber(){const e=this.minerNodesBeforeChange,i=this.nodesType3FC.value;if(this.setNumberOfNodes(),e<i)for(let r=e;r<i;r++)this.miners.push(this.formBuilder.group({power:new ji(1,[_n.required,_n.min(1),_n.max(10)]),country:new ji("",[_n.required]),money:new ji(100,[_n.required,_n.min(0),_n.max(1e4)])}));else for(let r=e;r>i;r--)this.miners.removeAt(this.miners.length-1);this.minerNodesBeforeChange=i,this.form.markAllAsTouched()}}return n.\u0275fac=function(e){return new(e||n)(O(Au),O(us),O(lS),O(z7),O(lp))},n.\u0275cmp=pn({type:n,selectors:[["app-initial-configuration"]],decls:31,vars:8,consts:[["fxLayout","column","fxLayoutAlign","space-evenly center","fxLayoutGap","20px"],["fxLayout","column","fxLayoutGap","20px",2,"width","200px","margin","20px",3,"formGroup"],["type","number","formControlName","nodesType1FC","matInput","",3,"change"],[4,"ngIf"],["type","number","formControlName","nodesType2FC","matInput","",3,"change"],["type","number","formControlName","nodesType4FC","matInput","",3,"change"],["type","number","formControlName","nodesType3FC","matInput","",3,"change"],["formArrayName","miners"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxLayout","row","fxLayoutGap","10px",3,"formGroupName"],["matInput","","type","number","formControlName","power","placeholder","Computing power (from 1 to 10)"],["matInput","","type","number","formControlName","money","placeholder","Initial budget"],["formControlName","country","placeholder","Country"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(pe(0,"div",0)(1,"h2"),Je(2,"Set the initial number of nodes in the simulation"),ye(),pe(3,"div",1)(4,"mat-form-field")(5,"mat-label"),Je(6,"Number of full nodes:"),ye(),pe(7,"input",2),jt("change",function(){return i.setNumberOfNodes()}),ye(),Et(8,IZ,2,0,"mat-error",3),ye(),pe(9,"mat-form-field")(10,"mat-label"),Je(11,"Number of light nodes:"),ye(),pe(12,"input",4),jt("change",function(){return i.setNumberOfNodes()}),ye(),Et(13,RZ,2,0,"mat-error",3),ye(),pe(14,"mat-form-field")(15,"mat-label"),Je(16,"Number of listening nodes:"),ye(),pe(17,"input",5),jt("change",function(){return i.setNumberOfNodes()}),ye(),Et(18,OZ,2,0,"mat-error",3),ye(),pe(19,"mat-form-field")(20,"mat-label"),Je(21,"Number of miner nodes:"),ye(),pe(22,"input",6),jt("change",function(){return i.setMinersNumber()}),ye(),Et(23,PZ,2,0,"mat-error",3),ye(),Ji(24,7),Et(25,LZ,9,2,"ng-container",8),er(),ye(),pe(26,"button",9),jt("click",function(){return i.onClick()}),pe(27,"span"),Je(28),ye(),pe(29,"mat-icon"),Je(30,"done"),ye()()()),2&e&&(Fe(3),at("formGroup",i.form),Fe(5),at("ngIf",i.nodesType1FC.errors),Fe(5),at("ngIf",i.nodesType2FC.errors),Fe(5),at("ngIf",i.nodesType4FC.errors),Fe(5),at("ngIf",i.nodesType3FC.errors),Fe(2),at("ngForOf",i.miners.controls),Fe(1),at("disabled",!i.formValidation()),Fe(2),Br("Start the simulation with ",i.numberOfNodes," nodes "))},dependencies:[$d,vc,ja,Ru,Ua,WS,jm,dp,Wm,wc,ZS,Qf,Em,ym,Rb,Iu,Am,Sm,Mm,Ym,ap]}),n})();class Zm{constructor(t,e){this.name=t,this.path=e}}function BZ(n,t){}class D0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let NN=(()=>{class n extends Zb{constructor(e,i,r,s,a,l,h,m){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=h,this._focusMonitor=m,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=v=>{this._portalOutlet.hasAttached();const C=this._portalOutlet.attachDomPortal(v);return this._contentAttached(),C},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=gS(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=gS();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=gS())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(MS),O(un,8),O(D0),O(o0),O(Kt),O(Fm),O(Ol))},n.\u0275cmp=pn({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&vi(Om,7),2&e){let r;Gt(r=Wt())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&ri("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[Be],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&Et(0,BZ,0,0,"ng-template",0)},dependencies:[Om],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class QS{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new je,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Rl(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const BN=new Te("DialogScrollStrategy"),VZ=new Te("DialogData"),HZ=new Te("DefaultDialogConfig"),$Z={provide:BN,deps:[la],useFactory:function zZ(n){return()=>n.scrollStrategies.block()}};let jZ=0,VN=(()=>{class n{constructor(e,i,r,s,a,l){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new je,this._afterOpenedAtThisLevel=new je,this._ariaHiddenElements=new Map,this.afterAllClosed=rm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ha(void 0))),this._scrollStrategy=l}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new D0,...i}).id=i.id||"cdk-dialog-"+jZ++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),a=this._overlay.create(s),l=new QS(a,i),h=this._attachContainer(a,l,i);return l.containerInstance=h,this._attachDialogContent(e,l,h,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){JS(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){JS(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),JS(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new e0({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,a=[{provide:D0,useValue:r},{provide:QS,useValue:i},{provide:Fm,useValue:e}];let l;r.container?"function"==typeof r.container?l=r.container:(l=r.container.type,a.push(...r.container.providers(r))):l=NN;const h=new np(l,r.viewContainerRef,lr.create({parent:s||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(h).instance}_attachDialogContent(e,i,r,s){if(e instanceof Vr){const a=this._createInjector(s,i,r,void 0);let l={$implicit:s.data,dialogRef:i};s.templateContext&&(l={...l,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new Yb(e,null,l,a))}else{const a=this._createInjector(s,i,r,this._injector),l=r.attachComponentPortal(new np(e,s.viewContainerRef,a,s.componentFactoryResolver));i.componentInstance=l.instance}}_createInjector(e,i,r,s){const a=e.injector||e.viewContainerRef?.injector,l=[{provide:VZ,useValue:e.data},{provide:QS,useValue:i}];return e.providers&&("function"==typeof e.providers?l.push(...e.providers(i,e,r)):l.push(...e.providers)),e.direction&&(!a||!a.get(ho,null,Jt.Optional))&&l.push({provide:ho,useValue:{value:e.direction,change:Lt()}}),lr.create({parent:a||s,providers:l})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(le(la),le(lr),le(HZ,8),le(n,12),le(t0),le(BN))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();function JS(n,t){let e=n.length;for(;e--;)t(n[e])}let UZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[VN,$Z],imports:[Lm,ip,kS,ip]}),n})();function GZ(n,t){}const fp={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},WZ={dialogContainer:Po("dialogContainer",[Ui("void, exit",bn({opacity:0,transform:"scale(0.7)"})),Ui("enter",bn({transform:"none"})),dr("* => enter",HL([kr("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",bn({transform:"none",opacity:1})),h0("@*",d0(),{optional:!0})]),fp),dr("* => void, * => exit",HL([kr("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",bn({opacity:0})),h0("@*",d0(),{optional:!0})]),fp)])};class E0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=fp.params.enterAnimationDuration,this.exitAnimationDuration=fp.params.exitAnimationDuration}}let qZ=(()=>{class n extends NN{constructor(e,i,r,s,a,l,h,m){super(e,i,r,s,a,l,h,m),this._animationStateChanged=new gn}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(MS),O(un,8),O(E0),O(o0),O(Kt),O(Fm),O(Ol))},n.\u0275cmp=pn({type:n,selectors:[["ng-component"]],features:[Be],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),KZ=(()=>{class n extends qZ{constructor(e,i,r,s,a,l,h,m,v){super(e,i,r,s,a,l,h,v),this._changeDetectorRef=m,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||fp.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||fp.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(MS),O(un,8),O(E0),O(o0),O(Kt),O(Fm),O(Hr),O(Ol))},n.\u0275cmp=pn({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&C_("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(Ld("id",i._config.id),ri("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),E_("@dialogContainer",i._getAnimationState()))},features:[Be],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&Et(0,GZ,0,0,"ng-template",0)},dependencies:[Om],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[WZ.dialogContainer]}}),n})();class Xm{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new je,this._beforeClosed=new je,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(_r(r=>"opened"===r.state),yr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(_r(r=>"closed"===r.state),yr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),rr(this.backdropClick(),this.keydownEvents().pipe(_r(r=>27===r.keyCode&&!this.disableClose&&!Rl(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),HN(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(_r(e=>"closing"===e.state),yr(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function HN(n,t,e){return n._closeInteractionType=t,n.close(e)}const eM=new Te("MatDialogData"),YZ=new Te("mat-dialog-default-options"),zN=new Te("mat-dialog-scroll-strategy"),XZ={provide:zN,deps:[la],useFactory:function ZZ(n){return()=>n.scrollStrategies.block()}};let QZ=0,JZ=(()=>{class n{constructor(e,i,r,s,a,l,h,m,v,C){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=h,this._dialogContainerType=m,this._dialogDataToken=v,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new je,this._afterOpenedAtThisLevel=new je,this._idPrefix="mat-dialog-",this.afterAllClosed=rm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ha(void 0))),this._scrollStrategy=l,this._dialog=i.get(VN)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new E0,...i}).id=i.id||`${this._idPrefix}${QZ++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:E0,useValue:i},{provide:D0,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,l,h)=>(r=new this._dialogRefConstructor(a,i,h),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){Od()},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),Qm=(()=>{class n extends JZ{constructor(e,i,r,s,a,l,h,m){super(e,i,s,l,h,a,Xm,KZ,eM,m)}}return n.\u0275fac=function(e){return new(e||n)(le(la),le(lr),le(Zg,8),le(YZ,8),le(zN),le(n,12),le(t0),le(cs,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),eX=0,tM=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=$N(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){HN(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(O(Xm,8),O(St),O(Qm))},n.\u0275dir=Ee({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&jt("click",function(s){return i._onButtonClick(s)}),2&e&&ri("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Zi]}),n})(),tX=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+eX++}ngOnInit(){this._dialogRef||(this._dialogRef=$N(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(O(Xm,8),O(St),O(Qm))},n.\u0275dir=Ee({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&Ld("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),nX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),iX=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&wi("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function $N(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let rX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[Qm,XZ],imports:[UZ,Lm,ip,Ci,Ci]}),n})(),sX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pn({type:n,selectors:[["app-init-config-dialog"]],decls:12,vars:1,consts:[["mat-dialog-title",""],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(e,i){1&e&&(pe(0,"h2",0),Je(1," Are you sure you want to return to the initial nodes configuration of the simulation?"),ye(),pe(2,"mat-dialog-content")(3,"b"),Je(4,"This will end the currently running simulation!"),ye(),cn(5,"br")(6,"br"),ye(),pe(7,"mat-dialog-actions",1)(8,"button",2),Je(9,"Cancel"),ye(),pe(10,"button",3),Je(11,"Initial nodes configuration"),ye()()),2&e&&(Fe(10),at("mat-dialog-close",!0))},dependencies:[ja,Ua,wc,tM,tX,nX,iX]}),n})();class nM{constructor(t,e,i=null,r=[],s=0){this._children=[],this._weight=1,this._id=t,this._minedBy=e,this._parent=i,this._children=r,this._weight=this._parent?this._parent.weight+1:s}get id(){return this._id}set id(t){this._id=t}get weight(){return this._weight}set weight(t){this._weight=t}get parent(){return this._parent}set parent(t){this._parent=t}get children(){return this._children}set children(t){this._children=t}}var fr=(()=>{return(n=fr||(fr={}))[n.Miner=0]="Miner",n[n.Full=1]="Full",n[n.Spv=2]="Spv",n[n.Listening=3]="Listening",fr;var n})(),pp=(()=>{return(n=pp||(pp={}))[n.LongestChain=0]="LongestChain",n[n.GHOST=1]="GHOST",pp;var n})();class ca{}ca.STEP_INTERVAL=1e3,ca.DAY_INTERVAL=10*ca.STEP_INTERVAL,ca.HOUR_INTERVAL=ca.DAY_INTERVAL/24,ca.MONTH_INTERVAL=300*ca.STEP_INTERVAL;class sh{constructor(t,e,i,r){this.id=t,this.nodeType=e,this.country=i,this.money=r,this.blockChainLength=1,this.mined=0,this.neighbours=[],this.alive=!0,this.computingPower=0,this.blockChain=new nM(-1,-1),this.blockChainMap=new Map,this.blockChainSize=0,this.nodeType==fr.Full&&(this.blockChainMap=new Map,this.blockChain=new nM(-1,-1),this.blockChainMap.set(-1,this.blockChain))}connect(t){this.isConnected(t)||this.neighbours.push(t)}detachMiner(t){this.neighbours=this.neighbours.filter(e=>e!==t)}isConnected(t){return this.neighbours.includes(t)}settlePayment(t){return t*=NF(this.country),this.nodeType!=fr.Miner||(this.money<t?(this.alive=!1,!1):(this.money-=t,!0))}receiveReward(t){this.money+=t}getLast(){return this.nodeType==fr.Full?this.findLastBlock(pp.LongestChain):this.lastBlock}addBlock(t){!t||(this.nodeType==fr.Full&&this.blockChain?this.blockChainMap.has(t.id)||(t.parent&&this.blockChainMap.has(t.parent.id)?this.blockChainMap.get(t.parent.id)?.children?.push(t):this.blockChain.children?.push(t),this.blockChainMap.set(t.id,t),this.blockChainSize++):this.lastBlock=t)}findLastBlock(t){if(this.nodeType==fr.Full&&this.blockChain){if(t==pp.LongestChain){let e=this.longestPath(this.blockChain)[0];return null==e||null==e?void 0:this.blockChainMap.get(e)}t==pp.GHOST&&(this.updateWeights(),this.ghostPath(this.blockChain,0,0,0,0,-1))}}longestPath(t){if(!t)return[];let e=[];for(let s of t.children)e.push(this.longestPath(s));let i=[],r=0;for(let s of e)s.length>r&&(r=s?.length,i=s);return i.push(t.id),i}ghostPath(t,e,i,r,s,a){t||(s<i?(s=i,r=e,a=t):s==i&&r==e&&(r=e));for(let l of t.children)this.ghostPath(l,e+t.weight,i+1,r,s,a)}updateWeights(){let t=new Set,e=new Array;for(t.add(-1),e.push(-1);e.length>0;){const i=e.shift();if(!i)break;let r=this.blockChainMap.get(i);if(!r)break;r.weight=1+(r.parent?r.parent.weight+r.children?.length:r.children?.length);for(let s of r.children)t.has(s.id)||(t.add(s.id),e.push(s.id))}}}class ua{constructor(t){this.nodes=t}static generateGraph(t,e,i,r,s,a=.1){let l=new Map,h=0;const m=t+i+r,v=m*(m-1)/2;let C=0,D=-1,A=new sh(h,fr.Full,zb(),0);l.set(h,A),h+=1;for(let V=1;V<t;V++){let q=new sh(h,fr.Full,zb(),0);D=ua.genrateRandomNumber(h-1);let te=l.get(D);q.connect(D),te?.connect(h),C+=1,l.set(h,q),h+=1}for(let V=0;V<r;V++){let q=new sh(h,fr.Listening,zb(),0);D=ua.genrateRandomNumber(h-1);let te=l.get(D);q.connect(D),te?.connect(h),C+=1,l.set(h,q),h+=1}for(let V=0;V<i;V++){let q=new sh(h,fr.Spv,zb(),0);D=ua.genrateRandomNumber(h-1);let te=l.get(D);q.connect(D),te?.connect(h),C+=1,l.set(h,q),h+=1}const k=h-1;let P=0,N=v*a-C;for(;P<N;){let V=ua.genrateRandomNumber(k),q=ua.genrateRandomNumber(k);V!=q&&(l.get(V)?.isConnected(q)||(l.get(V)?.connect(q),l.get(q)?.connect(V),P+=1))}for(let V=0;V<e;V++){D=ua.genrateRandomNumber(k);let q=new sh(h,fr.Miner,s[V].country,s[V].money);q.computingPower=s[V].power;let te=l.get(D);q.connect(D),te?.connect(h),l.set(h,q),h+=1}return new ua(l)}static genrateRandomNumber(t){return Math.floor(Math.random()*(t+1))}}const{isArray:lX}=Array;function Jm(n=0,t=Wb){return n<0&&(n=0),hS(n,n,t)}class oh{constructor(t,e){this.eventType=t,this.eventData=e}}var Fo=(()=>{return(n=Fo||(Fo={}))[n.INITIALIZATION=0]="INITIALIZATION",n[n.BLOCK_MINED=1]="BLOCK_MINED",n[n.BLOCK_RECEIVED=2]="BLOCK_RECEIVED",n[n.UPDATE_LAST_BLOCK=3]="UPDATE_LAST_BLOCK",Fo;var n})();class gp{constructor(){this.senderId=0,this.receiverId=0}}function UN(n,t){return Math.floor(Math.random()*(t-n+1)+n)}class dX{constructor(t,e,i,r,s){this.romania=t,this.poland=e,this.spain=i,this.germany=r,this.greatBritain=s}pushData(t){this.romania.push(t.romania),this.poland.push(t.poland),this.spain.push(t.spain),this.germany.push(t.germany),this.greatBritain.push(t.greatBritain),this.romania.length>24&&(this.romania.shift(),this.poland.shift(),this.spain.shift(),this.germany.shift(),this.greatBritain.shift())}}class hX{constructor(t,e,i,r,s){this.romania=t,this.poland=e,this.spain=i,this.germany=r,this.greatBritain=s}getInitialData(){return[[this.romania],[this.poland],[this.spain],[this.germany],[this.greatBritain]]}}let rM=(()=>{class n{constructor(){this.dataEmitter$=new Ei({total:[],country:null}),this.requestEmitter$=new Ei(null),this.totalData=[],this.countryData=null}emitData(){this.dataEmitter$.next({total:this.totalData,country:this.countryData})}getData(){return this.dataEmitter$.asObservable()}emitRequest(){this.requestEmitter$.next(null)}getRequest(){return this.requestEmitter$.asObservable()}addData(e,i){if(this.totalData.push(e),this.totalData.length>24&&this.totalData.shift(),null===this.countryData){const r=i.getInitialData();this.countryData=new dX(r[0],r[1],r[2],r[3],r[4])}else this.countryData.pushData(i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GN=(()=>{class n{constructor(){this.event=new Ei(new oh(Fo.INITIALIZATION,new gp))}getSimulationEvent(){return this.event.asObservable()}emitSimulationEvent(e){this.event.next(e)}emitBlockMined(){let e=new gp,i=new oh(Fo.BLOCK_MINED,e);this.emitSimulationEvent(i)}emitBlockchainUpdate(){let e=new gp,i=new oh(Fo.UPDATE_LAST_BLOCK,e);this.emitSimulationEvent(i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WN=(()=>{class n{constructor(){this.step=new Ei(""),this.stepSemaphore=!1}getStep(){return this.step.asObservable()}emitStep(){this.stepSemaphore&&(this.blockSemaphore(),this.step.next(""))}unblockSemaphore(){this.stepSemaphore=!0}blockSemaphore(){this.stepSemaphore=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qN=(()=>{class n{constructor(e){this.parametersService=e,this.payment$=new Ei(this.parametersService.getElectricityPrice())}getPayment(){return this.payment$.asObservable()}emitPayment(){this.payment$.next(this.parametersService.getElectricityPrice())}}return n.\u0275fac=function(e){return new(e||n)(le(lp))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KN=(()=>{class n{constructor(){this.addMiner$=new Ei(-1)}getAddMiner(){return this.addMiner$.asObservable()}emitStart(e){this.addMiner$.next(e)}emitStop(){this.addMiner$.next(-1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YN=(()=>{class n{constructor(){this.updateTimer$=new Ei(null)}emitUpdateTime(){this.updateTimer$.next(null)}getUpdateTime(){return this.updateTimer$.asObservable()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZN=(()=>{class n{constructor(e,i,r,s,a){this.eventService=e,this.stepService=i,this.paymentService=r,this.addMinerService=s,this.timerService=a}startSimulation(e){this.interval?.unsubscribe(),this.interval=Jm(ca.STEP_INTERVAL/e).pipe(Zn(()=>{this.stepService.emitStep(),this.timerService.emitUpdateTime()})).subscribe(),this.interval2?.unsubscribe(),this.interval2=Jm(ca.DAY_INTERVAL/e).pipe(Zn(()=>{this.eventService.emitBlockMined()})).subscribe(),this.interval3?.unsubscribe(),this.interval3=Jm(ca.MONTH_INTERVAL/e).pipe(Zn(()=>{this.paymentService.emitPayment()})).subscribe(),this.interval4?.unsubscribe(),this.interval4=Jm(ca.DAY_INTERVAL/e).pipe(Zn(()=>{this.eventService.emitBlockchainUpdate()})).subscribe(),this.addMinerService.emitStart(e)}stopSimulation(){this.interval?.unsubscribe(),this.interval2?.unsubscribe(),this.interval3?.unsubscribe(),this.addMinerService.emitStop()}}return n.\u0275fac=function(e){return new(e||n)(le(GN),le(WN),le(qN),le(KN),le(YN))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XN=(()=>{class n{constructor(){this.TIME_TO_LIVE=7,this.$activeEdges=new Ei([{edge:"",ttl:0}]),this.activeEdges=[]}addEdge(e,i){this.activeEdges.push({edge:`${e}_${i}`,ttl:this.TIME_TO_LIVE}),this.emitEdges()}emitEdges(){this.$activeEdges.next(this.activeEdges)}depleteTTL(){this.activeEdges=this.activeEdges.filter(e=>e.ttl>=1),this.activeEdges.forEach(e=>{e.ttl-=1})}getEdges(){return this.$activeEdges.asObservable()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ev=(()=>{class n{constructor(e){this.edgeService=e,this.graph=new Ei({graph:new ua(new Map),activeEdges:[{edge:"",ttl:0}]}),this.activeEdges=[],this.edgeService.getEdges().subscribe(i=>{this.activeEdges=i,this.emitGraph(this.graph.getValue().graph)})}getGraph(){return this.graph.asObservable()}emitGraph(e){this.graph.next({graph:e,activeEdges:this.activeEdges})}}return n.\u0275fac=function(e){return new(e||n)(le(XN))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QN=(()=>{class n{constructor(){this.$minerListChange=new Ei("")}get(){return this.$minerListChange.asObservable()}emit(){this.$minerListChange.next("")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fX=(()=>{class n{constructor(){this.$idEmitter=new Ei(1)}get(){return this.$idEmitter.asObservable()}emit(){this.$idEmitter.next(this.$idEmitter.value+1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sM=(()=>{class n{constructor(){this.minersToDelete=new Ei(new Array(""))}getMinersToDelete(){return this.minersToDelete.asObservable()}emitMinersToDelete(e){this.minersToDelete.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JN=(()=>{class n{constructor(e,i,r,s,a,l,h,m,v,C,D,A){this.parametersService=e,this.buttonsService=i,this.visualisationService=r,this.stepService=s,this.eventService=a,this.paymentService=l,this.minerService=h,this.blockchainService=m,this.addMinerService=v,this.edgeService=C,this.minersDeletingService=D,this.chartDataService=A,this.graph=new ua(new Map),this.nextId=0,this.minersToDelete=[],this.deadMiners=[],this.nextMinerID=this.parametersService.getAllNodes()}initializeSimulation(){(function uX(...n){const t=Sh(n),e=function cX(n){return 1===n.length&&lX(n[0])?n[0]:n}(n);return e.length?new nt(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let a=0;!i.closed&&a<e.length;a++)Dr(e[a]).subscribe(Rn(i,l=>{if(r[a].push(l),r.every(h=>h.length)){const h=r.map(m=>m.shift());i.next(t?t(...h):h),r.some((m,v)=>!m.length&&s[v])&&i.complete()}},()=>{s[a]=!0,!r[a].length&&i.complete()}));return()=>{r=s=null}}):Ns})([this.stepService.getStep(),this.eventService.getSimulationEvent()]).pipe(Zn(([e,i])=>{if(i instanceof oh){switch(i.eventType){case Fo.INITIALIZATION:this.handleInitialization();break;case Fo.BLOCK_MINED:this.handleBlockMined(i.eventData);break;case Fo.BLOCK_RECEIVED:this.handleBlockReceived(i.eventData);break;case Fo.UPDATE_LAST_BLOCK:this.handleBlockchainUpdate(i.eventData)}this.visualisationService.emitGraph(this.graph),this.minerService.emit()}this.stepService.unblockSemaphore()})).subscribe(),this.paymentService.getPayment().pipe(Zn(e=>{this.graph.nodes.forEach(i=>{i.settlePayment(e)||(this.deadMiners.push(i),this.minersToDelete.push(""+i.id),i.neighbours.forEach(r=>{this.graph.nodes.get(r)?.detachMiner(i.id)}),this.graph.nodes.delete(i.id),this.minerService.emit())}),this.minersDeletingService.emitMinersToDelete(this.minersToDelete),this.minersToDelete=[]})).subscribe(),this.blockchainService.get().subscribe(e=>{this.nextId=e}),this.addMinerService.getAddMiner().pipe(Zn(e=>{e>0?this.startAddingMiners(e):this.stopAddingMiners(),this.edgeService.depleteTTL()})).subscribe(),this.chartDataService.getRequest().pipe(Zn(()=>{const e=this.collectMinerData();this.chartDataService.addData(e.total,e.country),this.chartDataService.emitData()})).subscribe()}startAddingMiners(e){this.addMinerFrequencySubscription=this.parametersService.getAddNewMinerFrequency().pipe(Zn(i=>{i>0?this.addMinerSubscription=Jm(ca.MONTH_INTERVAL/(i*e)).pipe(Zn(()=>{this.addNewMiner(),this.visualisationService.emitGraph(this.graph)})).subscribe():this.addMinerSubscription?.unsubscribe()})).subscribe()}stopAddingMiners(){this.addMinerFrequencySubscription?.unsubscribe(),this.addMinerSubscription?.unsubscribe()}addNewMiner(){let e=this.nextMinerID;this.nextMinerID+=1;const i=this.getRandomNonMiner(),r=new sh(e,fr.Miner,i.country,20);r.computingPower=UN(1,10),r.connect(i.id),i.connect(r.id),this.graph.nodes.set(e,r)}addNewMinerWithParams(e,i,r){let s=this.nextMinerID;this.nextMinerID+=1;const a=this.getRandomNonMiner(),l=new sh(s,fr.Miner,e,i);l.computingPower=r,l.connect(a.id),a.connect(l.id),this.graph.nodes.set(s,l)}handleInitialization(){this.graph=ua.generateGraph(this.parametersService.getFullNodes(),this.parametersService.getMinerNodes(),this.parametersService.getLightNodes(),this.parametersService.getListeningNodes(),this.parametersService.getInitialMinersData())}handleBlockMined(e){let i=[];this.graph.nodes.forEach((h,m)=>{if(h.nodeType==fr.Miner)for(let v=0;v<h.computingPower;v++)i.push(m)});let r=UN(0,i.length-1),s=i[r],a=this.graph.nodes.get(s);if(void 0===a)return;let l=new nM(this.nextId,a.id,a.getLast());a.addBlock(l),this.blockchainService.emit(),a.mined++,a.blockChainLength++,a.receiveReward(this.parametersService.getReward()),a.neighbours.forEach(h=>{let m=new gp;m.senderId=s,m.receiverId=h,this.edgeService.addEdge(m.senderId,m.receiverId),this.edgeService.addEdge(m.receiverId,m.senderId),this.eventService.emitSimulationEvent(new oh(Fo.BLOCK_RECEIVED,m))}),this.edgeService.depleteTTL()}handleBlockReceived(e){let i=this.graph?.nodes.get(e.senderId),r=this.graph?.nodes.get(e.receiverId);if(!i||!r)return;const s=i.getLast();r.getLast()?.id!=s?.id&&(r.addBlock(s),r.neighbours.forEach(l=>{if(l===e.senderId)return;let h=new gp;h.senderId=e.receiverId,h.receiverId=l,this.edgeService.addEdge(h.senderId,h.receiverId),this.edgeService.addEdge(h.receiverId,h.senderId),this.eventService.emitSimulationEvent(new oh(Fo.BLOCK_RECEIVED,h))}),this.edgeService.depleteTTL())}handleBlockchainUpdate(e){let i=Array.from(this.graph.nodes.values()).filter(r=>r.nodeType==fr.Full).reduce((r,s)=>r.blockChainSize>s.blockChainSize?r:s);i.neighbours.forEach(r=>{let s=new gp;s.senderId=i.id,s.receiverId=r,this.eventService.emitSimulationEvent(new oh(Fo.BLOCK_RECEIVED,s))})}getMiners(){return Array.from(this.graph.nodes.values()).filter((e,i)=>e.nodeType==fr.Miner||e.money>0)}getRandomNonMiner(){const e=this.getNonMiners();return e[Math.floor(Math.random()*e.length)]}getNonMiners(){return Array.from(this.graph.nodes.values()).filter((e,i)=>e.nodeType!=fr.Miner)}collectMinerData(){const e=this.getMiners(),i=e.length;let r={romania:0,poland:0,spain:0,germany:0,greatBritain:0};e.forEach(a=>{switch(a.country){case Il[0].enumName:r.romania++;break;case Il[1].enumName:r.poland++;break;case Il[2].enumName:r.spain++;break;case Il[3].enumName:r.germany++;break;case Il[4].enumName:r.greatBritain++;break;default:console.log("NO SUCH COUNTRY")}});const s=new hX(r.romania.toString(),r.poland.toString(),r.spain.toString(),r.germany.toString(),r.greatBritain.toString());return{total:i.toString(),country:s}}}return n.\u0275fac=function(e){return new(e||n)(le(lp),le(ZN),le(ev),le(WN),le(GN),le(qN),le(QN),le(fX),le(KN),le(XN),le(sM),le(rM))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pX=["*"],gX=["tabListContainer"],mX=["tabList"],vX=["tabListInner"],yX=["nextPaginator"],_X=["previousPaginator"],xX=["mat-tab-nav-bar",""],DX=new Te("MatInkBarPositioner",{providedIn:"root",factory:function EX(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let eB=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=s}alignToElement(e){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe(yr(1)).subscribe(()=>{const i=this._inkBarPositioner(e),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Kt),O(DX),O(cs,8))},n.\u0275dir=Ee({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&wi("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const tB=Xd({passive:!0});let AX=(()=>{class n{constructor(e,i,r,s,a,l,h){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=s,this._ngZone=a,this._platform=l,this._animationMode=h,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new je,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new je,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new gn,this.indexFocused=new gn,a.runOutsideAngular(()=>{Zd(e.nativeElement,"mouseleave").pipe(zn(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=Sn(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=eo(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){Zd(this._previousPaginator.nativeElement,"touchstart",tB).pipe(zn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Zd(this._nextPaginator.nativeElement,"touchstart",tB).pipe(zn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Lt("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new jq(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(yr(1)).subscribe(r),rr(e,i,this._items.changes,this._itemsResized()).pipe(zn(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(zn(this._destroyed)).subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?Ns:this._items.changes.pipe(Ha(this._items),Oo(e=>new nt(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(s=>i.next(s));return e.forEach(s=>r.observe(s.elementRef.nativeElement)),()=>{r.disconnect()}}))),xS(1),_r(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Rl(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:a}=i.elementRef.nativeElement;let l,h;"ltr"==this._getLayoutDirection()?(l=s,h=l+a):(h=this._tabListInner.nativeElement.offsetWidth-s,l=h-a);const m=this.scrollDistance,v=this.scrollDistance+r;l<m?this.scrollDistance-=m-l+60:h>v&&(this.scrollDistance+=h-v+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),hS(650,100).pipe(zn(rr(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(e);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Hr),O(eh),O(ho,8),O(Kt),O(br),O(cs,8))},n.\u0275dir=Ee({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),TX=0,iB=(()=>{class n extends AX{constructor(e,i,r,s,a,l,h){super(e,s,a,i,r,l,h),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement.classList;i.remove(`mat-background-${this.backgroundColor}`),e&&i.add(`mat-background-${e}`),this._backgroundColor=e}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Sn(e)}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe(Ha(null),zn(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const e=this._items.toArray();for(let i=0;i<e.length;i++)if(e[i].active)return this.selectedIndex=i,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=e[i].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(ho,8),O(Kt),O(Hr),O(eh),O(br),O(cs,8))},n.\u0275dir=Ee({type:n,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color",tabPanel:"tabPanel"},features:[Be]}),n})(),rB=(()=>{class n extends iB{constructor(e,i,r,s,a,l,h){super(e,i,r,s,a,l,h)}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(ho,8),O(Kt),O(Hr),O(eh),O(br),O(cs,8))},n.\u0275cmp=pn({type:n,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(e,i,r){if(1&e&&$i(r,sB,5),2&e){let s;Gt(s=Wt())&&(i._items=s)}},viewQuery:function(e,i){if(1&e&&(vi(eB,7),vi(gX,7),vi(mX,7),vi(vX,7),vi(yX,5),vi(_X,5)),2&e){let r;Gt(r=Wt())&&(i._inkBar=r.first),Gt(r=Wt())&&(i._tabListContainer=r.first),Gt(r=Wt())&&(i._tabList=r.first),Gt(r=Wt())&&(i._tabListInner=r.first),Gt(r=Wt())&&(i._nextPaginator=r.first),Gt(r=Wt())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:11,hostBindings:function(e,i){2&e&&(ri("role",i._getRole()),wi("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())("mat-primary","warn"!==i.color&&"accent"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[Be],attrs:xX,ngContentSelectors:pX,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(ia(),pe(0,"button",0,1),jt("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(s){return i._handlePaginatorPress("before",s)})("touchend",function(){return i._stopInterval()}),cn(2,"div",2),ye(),pe(3,"div",3,4),jt("keydown",function(s){return i._handleKeydown(s)}),pe(5,"div",5,6),jt("cdkObserveContent",function(){return i._onContentChanges()}),pe(7,"div",7,8),cr(9),ye(),cn(10,"mat-ink-bar"),ye()(),pe(11,"button",9,10),jt("mousedown",function(s){return i._handlePaginatorPress("after",s)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),cn(13,"div",2),ye()),2&e&&(wi("mat-tab-header-pagination-disabled",i._disableScrollBefore),at("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),Fe(5),wi("_mat-animation-noopable","NoopAnimations"===i._animationMode),Fe(6),wi("mat-tab-header-pagination-disabled",i._disableScrollAfter),at("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},dependencies:[Bm,uL,eB],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}.mat-tab-link::before{margin:5px}@media(max-width: 599px){.mat-tab-link{min-width:72px}}"],encapsulation:2}),n})();const kX=IS(c0(nh(class{})));let IX=(()=>{class n extends kX{constructor(e,i,r,s,a,l){super(),this._tabNavBar=e,this.elementRef=i,this._focusMonitor=a,this._isActive=!1,this.id="mat-tab-link-"+TX++,this.rippleConfig=r||{},this.tabIndex=parseInt(s)||0,"NoopAnimations"===l&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get active(){return this._isActive}set active(e){const i=Sn(e);i!==this._isActive&&(this._isActive=i,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(e){this._tabNavBar.tabPanel&&32===e.keyCode&&this.elementRef.nativeElement.click()}_getAriaControls(){return this._tabNavBar.tabPanel?this._tabNavBar.tabPanel?.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive&&!this.disabled?0:-1:this.tabIndex}}return n.\u0275fac=function(e){return new(e||n)(O(iB),O(St),O(PS,8),Ds("tabindex"),O(Ol),O(cs,8))},n.\u0275dir=Ee({type:n,inputs:{active:"active",id:"id"},features:[Be]}),n})(),sB=(()=>{class n extends IX{constructor(e,i,r,s,a,l,h,m){super(e,i,a,l,h,m),this._tabLinkRipple=new PL(this,r,i,s),this._tabLinkRipple.setupTriggerEvents(i.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this._tabLinkRipple._removeTriggerEvents()}}return n.\u0275fac=function(e){return new(e||n)(O(rB),O(St),O(Kt),O(br),O(PS,8),Ds("tabindex"),O(Ol),O(cs,8))},n.\u0275dir=Ee({type:n,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:11,hostBindings:function(e,i){1&e&&jt("focus",function(){return i._handleFocus()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(ri("aria-controls",i._getAriaControls())("aria-current",i._getAriaCurrent())("aria-disabled",i.disabled)("aria-selected",i._getAriaSelected())("id",i.id)("tabIndex",i._getTabIndex())("role",i._getRole()),wi("mat-tab-disabled",i.disabled)("mat-tab-label-active",i.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[Be]}),n})(),RX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Va,Ci,ip,u0,DS,kS,Ci]}),n})();const OX=["sliderWrapper"],da=Xd({passive:!1}),BX={provide:aa,useExisting:li(()=>oM),multi:!0};class VX{}const HX=IS(l0(nh(class{constructor(n){this._elementRef=n}}),"accent"));let oM=(()=>{class n extends HX{constructor(e,i,r,s,a,l,h,m){super(e),this._focusMonitor=i,this._changeDetectorRef=r,this._dir=s,this._ngZone=l,this._animationMode=m,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new gn,this.input=new gn,this.valueChange=new gn,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=ne.EMPTY,this._pointerDown=v=>{this.disabled||this._isSliding||!tv(v)&&0!==v.button||this._ngZone.run(()=>{this._touchId=tv(v)?function zX(n,t){for(let e=0;e<n.touches.length;e++){const i=n.touches[e].target;if(t===i||t.contains(i))return n.touches[e].identifier}}(v,this._elementRef.nativeElement):void 0;const C=aB(v,this._touchId);if(C){const D=this.value;this._isSliding="pointer",this._lastPointerEvent=v,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(v),this._focusHostElement(),this._updateValueFromPosition(C),this._valueOnSlideStart=D,v.cancelable&&v.preventDefault(),D!=this.value&&this._emitInputEvent()}})},this._pointerMove=v=>{if("pointer"===this._isSliding){const C=aB(v,this._touchId);if(C){v.cancelable&&v.preventDefault();const D=this.value;this._lastPointerEvent=v,this._updateValueFromPosition(C),D!=this.value&&this._emitInputEvent()}}},this._pointerUp=v=>{"pointer"===this._isSliding&&(!tv(v)||"number"!=typeof this._touchId||aM(v.changedTouches,this._touchId))&&(v.cancelable&&v.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=h,this.tabIndex=parseInt(a)||0,l.runOutsideAngular(()=>{const v=e.nativeElement;v.addEventListener("mousedown",this._pointerDown,da),v.addEventListener("touchstart",this._pointerDown,da)})}get invert(){return this._invert}set invert(e){this._invert=Sn(e)}get max(){return this._max}set max(e){this._max=eo(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=eo(e,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=eo(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=Sn(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?eo(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let i=eo(e,0);this._roundToDecimal&&i!==this.min&&i!==this.max&&(i=parseFloat(i.toFixed(this._roundToDecimal))),this._value=i,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=Sn(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const i=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${i})`}}_getTrackFillStyles(){const e=this.percent,r=this.vertical?`1, ${e}, 1`:`${e}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${r})`,display:0===e?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let e=100*this._tickIntervalPercent,l={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const h=this._shouldInvertAxis();let m;m=this.vertical?h?"Bottom":"Top":h?"Right":"Left",l[`padding${m}`]=`${this._getThumbGap()}px`}return l}_getThumbContainerStyles(){const e=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,da),e.removeEventListener("touchstart",this._pointerDown,da),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||Rl(e)||this._isSliding&&"keyboard"!==this._isSliding)return;const i=this.value;switch(e.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}i!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",e.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(e){const i=this._document,r=tv(e),a=r?"touchend":"mouseup";i.addEventListener(r?"touchmove":"mousemove",this._pointerMove,da),i.addEventListener(a,this._pointerUp,da),r&&i.addEventListener("touchcancel",this._pointerUp,da);const l=this._getWindow();typeof l<"u"&&l&&l.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,da),e.removeEventListener("mouseup",this._pointerUp,da),e.removeEventListener("touchmove",this._pointerMove,da),e.removeEventListener("touchend",this._pointerUp,da),e.removeEventListener("touchcancel",this._pointerUp,da);const i=this._getWindow();typeof i<"u"&&i&&i.removeEventListener("blur",this._windowBlur)}_increment(e){const i=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(i+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let a=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(a=1-a),0===a)this.value=this.min;else if(1===a)this.value=this.max;else{const l=this._calculateValue(a),h=Math.round((l-this.min)/this.step)*this.step+this.min;this.value=this._clamp(h,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let e;if("auto"==this.tickInterval){let i=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;e=Math.ceil(30/(i*this.step/(this.max-this.min)))*this.step/i}else e=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=oB(e)?e:0}_createChangeEvent(e=this.value){let i=new VX;return i.source=this,i.value=e,i}_calculatePercentage(e){const i=((e||0)-this.min)/(this.max-this.min);return oB(i)?i:0}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,i=0,r=1){return Math.max(i,Math.min(e,r))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Ol),O(Hr),O(ho,8),Ds("tabindex"),O(Kt),O(un),O(cs,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-slider"]],viewQuery:function(e,i){if(1&e&&vi(OX,5),2&e){let r;Gt(r=Wt())&&(i._sliderWrapper=r.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(e,i){1&e&&jt("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)})("keyup",function(){return i._onKeyup()})("mouseenter",function(){return i._onMouseenter()})("selectstart",function(s){return s.preventDefault()}),2&e&&(Ld("tabIndex",i.tabIndex),ri("aria-disabled",i.disabled)("aria-valuemax",i.max)("aria-valuemin",i.min)("aria-valuenow",i.value)("aria-valuetext",i.valueText??i.displayValue)("aria-orientation",i.vertical?"vertical":"horizontal"),wi("mat-slider-disabled",i.disabled)("mat-slider-has-ticks",i.tickInterval)("mat-slider-horizontal",!i.vertical)("mat-slider-axis-inverted",i._shouldInvertAxis())("mat-slider-invert-mouse-coords",i._shouldInvertMouseCoords())("mat-slider-sliding",i._isSliding)("mat-slider-thumb-label-showing",i.thumbLabel)("mat-slider-vertical",i.vertical)("mat-slider-min-value",i._isMinValue())("mat-slider-hide-last-tick",i.disabled||i._isMinValue()&&i._getThumbGap()&&i._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[yn([BX]),Be],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,i){1&e&&(pe(0,"div",0,1)(2,"div",2),cn(3,"div",3)(4,"div",4),ye(),pe(5,"div",5),cn(6,"div",6),ye(),pe(7,"div",7),cn(8,"div",8)(9,"div",9),pe(10,"div",10)(11,"span",11),Je(12),ye()()()()),2&e&&(Fe(3),at("ngStyle",i._getTrackBackgroundStyles()),Fe(1),at("ngStyle",i._getTrackFillStyles()),Fe(1),at("ngStyle",i._getTicksContainerStyles()),Fe(1),at("ngStyle",i._getTicksStyles()),Fe(1),at("ngStyle",i._getThumbContainerStyles()),Fe(5),Ni(i.displayValue))},dependencies:[Z_],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid rgba(0,0,0,0);border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}'],encapsulation:2,changeDetection:0}),n})();function oB(n){return!isNaN(n)&&isFinite(n)}function tv(n){return"t"===n.type[0]}function aB(n,t){let e;return e=tv(n)?"number"==typeof t?aM(n.touches,t)||aM(n.changedTouches,t):n.touches[0]||n.changedTouches[0]:n,e?{x:e.clientX,y:e.clientY}:void 0}function aM(n,t){for(let e=0;e<n.length;e++)if(n[e].identifier===t)return n[e]}let $X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Va,Ci,Ci]}),n})(),jX=(()=>{class n{constructor(e){this.buttonsService=e,this.disabled=!1,this.value=1}ngOnInit(){}startSimulation(){this.disabled=!0,this.buttonsService.startSimulation(this.value)}stopSimulation(){this.buttonsService.stopSimulation(),this.disabled=!1}getButtonTitle(){return this.disabled?"Stop":"Start"}}return n.\u0275fac=function(e){return new(e||n)(O(ZN))},n.\u0275cmp=pn({type:n,selectors:[["app-buttons"]],decls:4,vars:8,consts:[["fxLayout","row","fxLayoutAlign","end start","fxLayoutGap","10px",1,"buttons"],["fxFlex","200px",3,"disabled","max","min","step","thumbLabel","ngModel","ngModelChange"],["mat-fab","",3,"color","click"]],template:function(e,i){1&e&&(pe(0,"div",0)(1,"mat-slider",1),jt("ngModelChange",function(s){return i.value=s}),ye(),pe(2,"button",2),jt("click",function(){return i.disabled?i.stopSimulation():i.startSimulation()}),Je(3),ye()()),2&e&&(Fe(1),at("disabled",i.disabled)("max",10)("min",1)("step",1)("thumbLabel",!0)("ngModel",i.value),Fe(1),at("color",i.disabled?"accent":"primary"),Fe(1),Br(" ",i.getButtonTitle()," "))},dependencies:[ja,Ru,Ua,US,wc,ym,iS,oM]}),n})(),UX=(()=>{class n{transform(e){const i=Math.floor(e/10),r=Math.floor(i/360),s=Math.floor((i-360*r)/30),a=i%30;return r>0?r.toString()+" years "+s.toString()+" months "+a.toString()+" days":s>0?s.toString()+" months "+a.toString()+" days":a.toString()+" days"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=ms({name:"simulationTimer",type:n,pure:!0}),n})(),GX=(()=>{class n{constructor(e,i){this.timerService=e,this.chartDataService=i,this.stepCounter=0,this.monthCounter=0}ngOnInit(){this.timerService.getUpdateTime().pipe(Zn(()=>this.updateSimulationTimer())).subscribe()}updateSimulationTimer(){this.stepCounter++;const e=Math.floor(Math.floor(this.stepCounter/10)/30);this.monthCounter!==e&&(this.monthCounter=e,this.chartDataService.emitRequest())}}return n.\u0275fac=function(e){return new(e||n)(O(YN),O(rM))},n.\u0275cmp=pn({type:n,selectors:[["app-simulation-timer"]],decls:3,vars:3,template:function(e,i){1&e&&(pe(0,"h2"),Je(1),mD(2,"simulationTimer"),ye()),2&e&&(Fe(1),Br(" Simulation time: ",vD(2,1,i.stepCounter),"\n"))},dependencies:[UX]}),n})();function WX(n,t){if(1&n&&(pe(0,"a",5,6),Je(2),ye()),2&n){const e=t.$implicit;at("active",Bg(1).isActive)("routerLink",e.path),Fe(2),Br(" ",e.name," ")}}let qX=(()=>{class n{constructor(e,i,r){this.parametersService=e,this.simulationService=i,this.dialog=r,this.nodesCount=10,this.tabs=[new Zm("Network",GE),new Zm("Miners","miners"),new Zm("Parameters",MP),new Zm("Blockchain",AP),new Zm("Charts","charts")]}ngOnInit(){this.nodesCount=this.parametersService.getAllNodes(),this.simulationService.initializeSimulation()}goBackToInitConfig(){this.dialog.open(sX).afterClosed().subscribe(i=>{i&&(location.href=UE)})}}return n.\u0275fac=function(e){return new(e||n)(O(lp),O(JN),O(Qm))},n.\u0275cmp=pn({type:n,selectors:[["app-simulation"]],decls:13,vars:1,consts:[["fxLayout","column","fxLayoutAlign","space-between","fxLayoutGap","1vh",1,"container"],["fxLayout","row","fxLayoutAlign","space-between"],["mat-raised-button","","color","primary",3,"click"],["mat-tab-nav-bar",""],["fxFlex","","mat-tab-link","","routerLinkActive","",3,"active","routerLink",4,"ngFor","ngForOf"],["fxFlex","","mat-tab-link","","routerLinkActive","",3,"active","routerLink"],["rla","routerLinkActive"]],template:function(e,i){1&e&&(pe(0,"div",0)(1,"div",1)(2,"button",2),jt("click",function(){return i.goBackToInitConfig()}),pe(3,"span"),Je(4,"Initial nodes configuration "),ye(),pe(5,"mat-icon"),Je(6,"undo"),ye()(),cn(7,"app-simulation-timer")(8,"app-buttons"),ye(),pe(9,"div")(10,"nav",3),Et(11,WX,3,3,"a",4),ye()()(),cn(12,"router-outlet")),2&e&&(Fe(11),at("ngForOf",i.tabs))},dependencies:[$d,vb,Mb,gP,rB,sB,ja,Ru,Ua,US,Wm,wc,jX,GX],styles:[".container[_ngcontent-%COMP%]{margin:1vh 1vw}"]}),n})();var nv=B(6864),KX=B(3811),YX=B(8061),ZX=B(9208),lB="tippy-content",uB="tippy-arrow",dB="tippy-svg-arrow",Fu={passive:!0,capture:!0},hB=function(){return document.body};function lM(n,t,e){return Array.isArray(n)?n[t]??(Array.isArray(e)?e[t]:e):n}function cM(n,t){var e={}.toString.call(n);return 0===e.indexOf("[object")&&e.indexOf(t+"]")>-1}function fB(n,t){return"function"==typeof n?n.apply(void 0,t):n}function pB(n,t){return 0===t?n:function(i){clearTimeout(e),e=setTimeout(function(){n(i)},t)};var e}function Lu(n){return[].concat(n)}function gB(n,t){-1===n.indexOf(t)&&n.push(t)}function mp(n){return[].slice.call(n)}function vB(n){return Object.keys(n).reduce(function(t,e){return void 0!==n[e]&&(t[e]=n[e]),t},{})}function ah(){return document.createElement("div")}function M0(n){return["Element","Fragment"].some(function(t){return cM(n,t)})}function hM(n,t){n.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function iv(n,t){n.forEach(function(e){e&&e.setAttribute("data-state",t)})}function fM(n,t,e){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){n[i](r,e)})}function bB(n,t){for(var e=t;e;){var i;if(n.contains(e))return!0;e=null==e.getRootNode||null==(i=e.getRootNode())?void 0:i.host}return!1}var Pl={isTouch:!1},wB=0;function rQ(){Pl.isTouch||(Pl.isTouch=!0,window.performance&&document.addEventListener("mousemove",CB))}function CB(){var n=performance.now();n-wB<20&&(Pl.isTouch=!1,document.removeEventListener("mousemove",CB)),wB=n}function sQ(){var n=document.activeElement;(function yB(n){return!(!n||!n._tippy||n._tippy.reference!==n)})(n)&&n.blur&&!n._tippy.state.isVisible&&n.blur()}var lQ=!!(typeof window<"u"&&typeof document<"u")&&!!window.msCrypto,fo=Object.assign({appendTo:hB,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),hQ=Object.keys(fo);function MB(n){var e=(n.plugins||[]).reduce(function(i,r){var l,s=r.name;return s&&(i[s]=void 0!==n[s]?n[s]:null!=(l=fo[s])?l:r.defaultValue),i},{});return Object.assign({},n,e)}function AB(n,t){var e=Object.assign({},t,{content:fB(t.content,[n])},t.ignoreAttributes?{}:function pQ(n,t){return(t?Object.keys(MB(Object.assign({},fo,{plugins:t}))):hQ).reduce(function(r,s){var a=(n.getAttribute("data-tippy-"+s)||"").trim();if(!a)return r;if("content"===s)r[s]=a;else try{r[s]=JSON.parse(a)}catch{r[s]=a}return r},{})}(n,t.plugins));return e.aria=Object.assign({},fo.aria,e.aria),e.aria={expanded:"auto"===e.aria.expanded?t.interactive:e.aria.expanded,content:"auto"===e.aria.content?t.interactive?null:"describedby":e.aria.content},e}function pM(n,t){n.innerHTML=t}function TB(n){var t=ah();return!0===n?t.className=uB:(t.className=dB,M0(n)?t.appendChild(n):pM(t,n)),t}function kB(n,t){M0(t.content)?(pM(n,""),n.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?pM(n,t.content):n.textContent=t.content)}function A0(n){var t=n.firstElementChild,e=mp(t.children);return{box:t,content:e.find(function(i){return i.classList.contains(lB)}),arrow:e.find(function(i){return i.classList.contains(uB)||i.classList.contains(dB)}),backdrop:e.find(function(i){return i.classList.contains("tippy-backdrop")})}}function IB(n){var t=ah(),e=ah();e.className="tippy-box",e.setAttribute("data-state","hidden"),e.setAttribute("tabindex","-1");var i=ah();function r(s,a){var l=A0(t),h=l.box,m=l.content,v=l.arrow;a.theme?h.setAttribute("data-theme",a.theme):h.removeAttribute("data-theme"),"string"==typeof a.animation?h.setAttribute("data-animation",a.animation):h.removeAttribute("data-animation"),a.inertia?h.setAttribute("data-inertia",""):h.removeAttribute("data-inertia"),h.style.maxWidth="number"==typeof a.maxWidth?a.maxWidth+"px":a.maxWidth,a.role?h.setAttribute("role",a.role):h.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&kB(m,n.props),a.arrow?v?s.arrow!==a.arrow&&(h.removeChild(v),h.appendChild(TB(a.arrow))):h.appendChild(TB(a.arrow)):v&&h.removeChild(v)}return i.className=lB,i.setAttribute("data-state","hidden"),kB(i,n.props),t.appendChild(e),e.appendChild(i),r(n.props,n.props),{popper:t,onUpdate:r}}IB.$$tippy=!0;var mQ=1,T0=[],k0=[];function vQ(n,t){var i,r,s,v,C,D,P,e=AB(n,Object.assign({},fo,MB(vB(t)))),a=!1,l=!1,h=!1,m=!1,A=[],k=pB(Mz,e.interactiveDebounce),N=mQ++,q=function eQ(n){return n.filter(function(t,e){return n.indexOf(t)===e})}(e.plugins),$={id:N,reference:n,popper:ah(),popperInstance:null,props:e,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:q,clearDelayTimeouts:function Pce(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(s)},setProps:function Fce($e){if(!$.state.isDestroyed){kt("onBeforeUpdate",[$,$e]),Ez();var $t=$.props,wn=AB(n,Object.assign({},$t,vB($e),{ignoreAttributes:!0}));$.props=wn,Tp(),$t.interactiveDebounce!==wn.interactiveDebounce&&(Qr(),k=pB(Mz,wn.interactiveDebounce)),$t.triggerTarget&&!wn.triggerTarget?Lu($t.triggerTarget).forEach(function(Ti){Ti.removeAttribute("aria-expanded")}):wn.triggerTarget&&n.removeAttribute("aria-expanded"),xi(),Ct(),Ze&&Ze($t,wn),$.popperInstance&&(Iz(),GA().forEach(function(Ti){requestAnimationFrame(Ti._tippy.popperInstance.forceUpdate)})),kt("onAfterUpdate",[$,$e])}},setContent:function Lce($e){$.setProps({content:$e})},show:function Nce(){var $e=$.state.isVisible,$t=$.state.isDestroyed,wn=!$.state.isEnabled,Ti=Pl.isTouch&&!$.props.touch,gi=lM($.props.duration,0,fo.duration);if(!($e||$t||wn||Ti||Gn().hasAttribute("disabled")||(kt("onShow",[$],!1),!1===$.props.onShow($)))){if($.state.isVisible=!0,Yt()&&(_e.style.visibility="visible"),Ct(),Ka(),$.state.isMounted||(_e.style.transition="none"),Yt()){var no=$n();hM([no.box,no.content],0)}D=function(){var Ch;if($.state.isVisible&&!m){if(m=!0,_e.style.transition=$.props.moveTransition,Yt()&&$.props.animation){var WA=$n(),Ww=WA.box,Ip=WA.content;hM([Ww,Ip],gi),iv([Ww,Ip],"visible")}tn(),xi(),gB(k0,$),null==(Ch=$.popperInstance)||Ch.forceUpdate(),kt("onMount",[$]),$.props.animation&&Yt()&&function Pc($e,$t){to($e,$t)}(gi,function(){$.state.isShown=!0,kt("onShown",[$])})}},function Ice(){var $t,$e=$.props.appendTo,wn=Gn();($t=$.props.interactive&&$e===hB||"parent"===$e?wn.parentNode:fB($e,[wn])).contains(_e)||$t.appendChild(_e),$.state.isMounted=!0,Iz()}()}},hide:function Bce(){var $e=!$.state.isVisible,$t=$.state.isDestroyed,wn=!$.state.isEnabled,Ti=lM($.props.duration,1,fo.duration);if(!($e||$t||wn)&&(kt("onHide",[$],!1),!1!==$.props.onHide($))){if($.state.isVisible=!1,$.state.isShown=!1,m=!1,a=!1,Yt()&&(_e.style.visibility="hidden"),Qr(),Ya(),Ct(!0),Yt()){var gi=$n(),no=gi.box,ma=gi.content;$.props.animation&&(hM([no,ma],Ti),iv([no,ma],"hidden"))}tn(),xi(),$.props.animation?Yt()&&function hs($e,$t){to($e,function(){!$.state.isVisible&&_e.parentNode&&_e.parentNode.contains(_e)&&$t()})}(Ti,$.unmount):$.unmount()}},hideWithInteractivity:function Vce($e){Ai().addEventListener("mousemove",k),gB(T0,k),k($e)},enable:function Rce(){$.state.isEnabled=!0},disable:function Oce(){$.hide(),$.state.isEnabled=!1},unmount:function Hce(){$.state.isVisible&&$.hide(),$.state.isMounted&&(Rz(),GA().forEach(function($e){$e._tippy.unmount()}),_e.parentNode&&_e.parentNode.removeChild(_e),k0=k0.filter(function($e){return $e!==$}),$.state.isMounted=!1,kt("onHidden",[$]))},destroy:function zce(){$.state.isDestroyed||($.clearDelayTimeouts(),$.unmount(),Ez(),delete n._tippy,$.state.isDestroyed=!0,kt("onDestroy",[$]))}};if(!e.render)return $;var he=e.render($),_e=he.popper,Ze=he.onUpdate;_e.setAttribute("data-tippy-root",""),_e.id="tippy-"+$.id,$.popper=_e,n._tippy=$,_e._tippy=$;var dt=q.map(function($e){return $e.fn($)}),Rt=n.hasAttribute("aria-expanded");return Tp(),xi(),Ct(),kt("onCreate",[$]),e.showOnCreate&&Oz(),_e.addEventListener("mouseenter",function(){$.props.interactive&&$.state.isVisible&&$.clearDelayTimeouts()}),_e.addEventListener("mouseleave",function(){$.props.interactive&&$.props.trigger.indexOf("mouseenter")>=0&&Ai().addEventListener("mousemove",k)}),$;function zt(){var $e=$.props.touch;return Array.isArray($e)?$e:[$e,0]}function rn(){return"hold"===zt()[0]}function Yt(){var $e;return!(null==($e=$.props.render)||!$e.$$tippy)}function Gn(){return P||n}function Ai(){var $e=Gn().parentNode;return $e?function _B(n){var t,i=Lu(n)[0];return null!=i&&null!=(t=i.ownerDocument)&&t.body?i.ownerDocument:document}($e):document}function $n(){return A0(_e)}function pt($e){return $.state.isMounted&&!$.state.isVisible||Pl.isTouch||v&&"focus"===v.type?0:lM($.props.delay,$e?0:1,fo.delay)}function Ct($e){void 0===$e&&($e=!1),_e.style.pointerEvents=$.props.interactive&&!$e?"":"none",_e.style.zIndex=""+$.props.zIndex}function kt($e,$t,wn){var Ti;void 0===wn&&(wn=!0),dt.forEach(function(gi){gi[$e]&&gi[$e].apply(gi,$t)}),wn&&(Ti=$.props)[$e].apply(Ti,$t)}function tn(){var $e=$.props.aria;if($e.content){var $t="aria-"+$e.content,wn=_e.id;Lu($.props.triggerTarget||n).forEach(function(gi){var no=gi.getAttribute($t);if($.state.isVisible)gi.setAttribute($t,no?no+" "+wn:wn);else{var ma=no&&no.replace(wn,"").trim();ma?gi.setAttribute($t,ma):gi.removeAttribute($t)}})}}function xi(){!Rt&&$.props.aria.expanded&&Lu($.props.triggerTarget||n).forEach(function($t){$.props.interactive?$t.setAttribute("aria-expanded",$.state.isVisible&&$t===Gn()?"true":"false"):$t.removeAttribute("aria-expanded")})}function Qr(){Ai().removeEventListener("mousemove",k),T0=T0.filter(function($e){return $e!==k})}function Ki($e){if(!Pl.isTouch||!h&&"mousedown"!==$e.type){var $t=$e.composedPath&&$e.composedPath()[0]||$e.target;if(!$.props.interactive||!bB(_e,$t)){if(Lu($.props.triggerTarget||n).some(function(wn){return bB(wn,$t)})){if(Pl.isTouch||$.state.isVisible&&$.props.trigger.indexOf("click")>=0)return}else kt("onClickOutside",[$,$e]);!0===$.props.hideOnClick&&($.clearDelayTimeouts(),$.hide(),l=!0,setTimeout(function(){l=!1}),$.state.isMounted||Ya())}}}function bs(){h=!0}function yi(){h=!1}function Ka(){var $e=Ai();$e.addEventListener("mousedown",Ki,!0),$e.addEventListener("touchend",Ki,Fu),$e.addEventListener("touchstart",yi,Fu),$e.addEventListener("touchmove",bs,Fu)}function Ya(){var $e=Ai();$e.removeEventListener("mousedown",Ki,!0),$e.removeEventListener("touchend",Ki,Fu),$e.removeEventListener("touchstart",yi,Fu),$e.removeEventListener("touchmove",bs,Fu)}function to($e,$t){var wn=$n().box;function Ti(gi){gi.target===wn&&(fM(wn,"remove",Ti),$t())}if(0===$e)return $t();fM(wn,"remove",C),fM(wn,"add",Ti),C=Ti}function Za($e,$t,wn){void 0===wn&&(wn=!1),Lu($.props.triggerTarget||n).forEach(function(gi){gi.addEventListener($e,$t,wn),A.push({node:gi,eventType:$e,handler:$t,options:wn})})}function Tp(){rn()&&(Za("touchstart",Sz,{passive:!0}),Za("touchend",Az,{passive:!0})),function JX(n){return n.split(/\s+/).filter(Boolean)}($.props.trigger).forEach(function($e){if("manual"!==$e)switch(Za($e,Sz),$e){case"mouseenter":Za("mouseleave",Az);break;case"focus":Za(lQ?"focusout":"blur",Tz);break;case"focusin":Za("focusout",Tz)}})}function Ez(){A.forEach(function($e){$e.node.removeEventListener($e.eventType,$e.handler,$e.options)}),A=[]}function Sz($e){var $t,wn=!1;if($.state.isEnabled&&!kz($e)&&!l){var Ti="focus"===(null==($t=v)?void 0:$t.type);v=$e,P=$e.currentTarget,xi(),!$.state.isVisible&&function dM(n){return cM(n,"MouseEvent")}($e)&&T0.forEach(function(gi){return gi($e)}),"click"===$e.type&&($.props.trigger.indexOf("mouseenter")<0||a)&&!1!==$.props.hideOnClick&&$.state.isVisible?wn=!0:Oz($e),"click"===$e.type&&(a=!wn),wn&&!Ti&&Gw($e)}}function Mz($e){var $t=$e.target,wn=Gn().contains($t)||_e.contains($t);"mousemove"===$e.type&&wn||function iQ(n,t){var e=t.clientX,i=t.clientY;return n.every(function(r){var s=r.popperRect,a=r.popperState,h=r.props.interactiveBorder,m=function mB(n){return n.split("-")[0]}(a.placement),v=a.modifiersData.offset;return!v||s.top-i+("bottom"===m?v.top.y:0)>h||i-s.bottom-("top"===m?v.bottom.y:0)>h||s.left-e+("right"===m?v.left.x:0)>h||e-s.right-("left"===m?v.right.x:0)>h})}(GA().concat(_e).map(function(gi){var no,kp=null==(no=gi._tippy.popperInstance)?void 0:no.state;return kp?{popperRect:gi.getBoundingClientRect(),popperState:kp,props:e}:null}).filter(Boolean),$e)&&(Qr(),Gw($e))}function Az($e){if(!(kz($e)||$.props.trigger.indexOf("click")>=0&&a)){if($.props.interactive)return void $.hideWithInteractivity($e);Gw($e)}}function Tz($e){$.props.trigger.indexOf("focusin")<0&&$e.target!==Gn()||$.props.interactive&&$e.relatedTarget&&_e.contains($e.relatedTarget)||Gw($e)}function kz($e){return!!Pl.isTouch&&rn()!==$e.type.indexOf("touch")>=0}function Iz(){Rz();var $e=$.props,$t=$e.popperOptions,wn=$e.placement,Ti=$e.offset,gi=$e.getReferenceClientRect,no=$e.moveTransition,ma=Yt()?A0(_e).arrow:null,kp=gi?{getBoundingClientRect:gi,contextElement:gi.contextElement||Gn()}:n,Ch=[{name:"offset",options:{offset:Ti}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!no}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ww){var Ip=Ww.state;if(Yt()){var qA=$n().box;["placement","reference-hidden","escaped"].forEach(function(qw){"placement"===qw?qA.setAttribute("data-placement",Ip.placement):Ip.attributes.popper["data-popper-"+qw]?qA.setAttribute("data-"+qw,""):qA.removeAttribute("data-"+qw)}),Ip.attributes.popper={}}}}];Yt()&&ma&&Ch.push({name:"arrow",options:{element:ma,padding:3}}),Ch.push.apply(Ch,$t?.modifiers||[]),$.popperInstance=(0,YX.fi)(kp,_e,Object.assign({},$t,{placement:wn,onFirstUpdate:D,modifiers:Ch}))}function Rz(){$.popperInstance&&($.popperInstance.destroy(),$.popperInstance=null)}function GA(){return mp(_e.querySelectorAll("[data-tippy-root]"))}function Oz($e){$.clearDelayTimeouts(),$e&&kt("onTrigger",[$,$e]),Ka();var $t=pt(!0),wn=zt(),gi=wn[1];Pl.isTouch&&"hold"===wn[0]&&gi&&($t=gi),$t?i=setTimeout(function(){$.show()},$t):$.show()}function Gw($e){if($.clearDelayTimeouts(),kt("onUntrigger",[$,$e]),$.state.isVisible){if(!($.props.trigger.indexOf("mouseenter")>=0&&$.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf($e.type)>=0&&a)){var $t=pt(!1);$t?r=setTimeout(function(){$.state.isVisible&&$.hide()},$t):s=requestAnimationFrame(function(){$.hide()})}}else Ya()}}function Nu(n,t){void 0===t&&(t={});var e=fo.plugins.concat(t.plugins||[]);!function oQ(){document.addEventListener("touchstart",rQ,Fu),window.addEventListener("blur",sQ)}();var i=Object.assign({},t,{plugins:e}),l=function nQ(n){return M0(n)?[n]:function tQ(n){return cM(n,"NodeList")}(n)?mp(n):Array.isArray(n)?n:mp(document.querySelectorAll(n))}(n).reduce(function(h,m){var v=m&&vQ(m,i);return v&&h.push(v),h},[]);return M0(n)?l[0]:l}Nu.defaultProps=fo,Nu.setDefaultProps=function(t){Object.keys(t).forEach(function(i){fo[i]=t[i]})},Nu.currentInput=Pl,Object.assign({},ZX.Z,{effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow)}}),Nu.setDefaultProps({render:IB});const PB=Nu,EQ=["cy"];nv.use(KX);let SQ=(()=>{class n{constructor(e,i){this.visualisationService=e,this.minersToDeleteService=i,this.id2tip={},this.minersToDelete=[],this.activeEdges=[],this.cy=nv({}),this.visualisationSub1=this.visualisationService.getGraph().pipe(Zn(r=>{this.graph=r.graph,this.activeEdges=r.activeEdges})).subscribe(),this.cy.destroyed()||this.cy.destroy()}ngOnInit(){this.cy=nv({container:document.getElementById("cy"),style:[{selector:"node",style:{width:"20px",height:"20px","font-size":"5px","background-color":function(e){switch(e.data("value.type")){case 0:return"red";case 1:return"green";case 2:return"blue";default:return"orange"}},label:function(e){return e.id()}}},{selector:"edge",style:{width:1}},{selector:":parent",style:{"background-opacity":.333}}]}),this.createNodes(this.graph),this.createEdges(),this.visualisationSub2&&this.visualisationSub2.unsubscribe(),this.visualisationSub2=this.visualisationService.getGraph().pipe(Zn(e=>{this.updateNodes(e.graph),this.cy.remove("edge"),this.cy.forceRender(),this.createEdges(),this.makeTooltips(),this.cy.layout({name:"cose",animate:!1,randomize:!1,refresh:0,padding:50}).run(),this.cy.nodes().lock(),this.cy.nodes().on("click ",i=>{this.id2tip[i.target.id()].show()})})).subscribe()}createNodes(e){e.nodes.forEach(i=>{this.cy.add(i.nodeType===fr.Miner?{data:{id:""+i.id,value:{mined:i.mined,money:i.money,type:i.nodeType,country:i.country,computingPower:i.computingPower,neighbours:i.neighbours}}}:{data:{id:""+i.id,value:{type:i.nodeType,neighbours:i.neighbours}}})})}createEdges(){this.cy.nodes().forEach(e=>{e.data("value.neighbours").forEach(i=>{const r=`${i}_${e.id()}`,s=`${e.id()}_${i}`;this.cy.getElementById(r).length>0||(this.cy.add({data:{id:e.id()+"_"+i,source:""+e.id(),target:""+i}}),this.activeEdges.forEach(a=>{a.edge===s&&a.ttl>0&&this.cy.getElementById(s).style({"line-color":"red"})}))})})}updateNodes(e){this.minersToDeleteSub&&this.minersToDeleteSub.unsubscribe(),this.minersToDeleteSub=this.minersToDeleteService.getMinersToDelete().subscribe(i=>{this.minersToDelete=i}),this.minersToDelete.forEach(i=>{this.cy.getElementById(i).remove()}),e.nodes.forEach(i=>{i.nodeType===fr.Miner?this.cy.getElementById(""+i.id).id()==""+i.id?this.cy.getElementById(""+i.id).data("value",{computingPower:i.computingPower,country:i.country,mined:i.mined,money:i.money,type:i.nodeType,neighbours:i.neighbours}):(this.cy.getElementById(""+i.id).removeData(),this.cy.add({data:{id:""+i.id,value:{mined:i.mined,money:i.money,type:i.nodeType,country:i.country,computingPower:i.computingPower,neighbours:i.neighbours}}})):this.cy.getElementById(""+i.id).data("value",{type:i.nodeType,neighbours:i.neighbours})})}makeTooltips(){this.cy.nodes().forEach(e=>{let i=e.popperRef();this.id2tip[e.id()]=PB(document.createElement("div"),{getReferenceClientRect:i.getBoundingClientRect,trigger:"manual",placement:"bottom",content:()=>{let r=document.createElement("div");return r.setAttribute("style","font-size:1em; padding-top: 2vh"),e.data("value.type")===fr.Miner&&(r.innerHTML=`Mined: ${e._private.data.value.mined}, Money: ${e._private.data.value.money}, Power: ${e._private.data.value.computingPower}, Country: ${BF(e._private.data.value.country)}`),r}})})}ngOnDestroy(){this.visualisationSub1.unsubscribe(),this.visualisationSub2.unsubscribe(),this.minersToDeleteSub.unsubscribe(),null!==document.getElementById("cy")&&document.getElementById("cy").remove(),this.cy.destroy()}}return n.\u0275fac=function(e){return new(e||n)(O(ev),O(sM))},n.\u0275cmp=pn({type:n,selectors:[["app-network"]],viewQuery:function(e,i){if(1&e&&vi(EQ,5),2&e){let r;Gt(r=Wt())&&(i.el=r.first)}},decls:12,vars:0,consts:[["fxLayout","row","fxLayoutAlign","start center",2,"padding-left","1vw"],[1,"miner"],[1,"full"],[1,"listening"],[1,"light"],[1,"line"],["id","cy"]],template:function(e,i){1&e&&(pe(0,"div",0),Je(1," Miner node: "),cn(2,"span",1),Je(3," Full node: "),cn(4,"span",2),Je(5," Listening node: "),cn(6,"span",3),Je(7," Light node: "),cn(8,"span",4),Je(9," Active edge: "),cn(10,"span",5),ye(),cn(11,"div",6))},dependencies:[ja,Ua],styles:["#cy[_ngcontent-%COMP%]{width:100%;height:70%;position:relative;top:0;left:0}.miner[_ngcontent-%COMP%]{height:25px;width:25px;background-color:red;border-radius:50%;display:inline-block;margin-left:.5vw;margin-right:1vw}.full[_ngcontent-%COMP%]{height:25px;width:25px;background-color:green;border-radius:50%;display:inline-block;margin-left:.5vw;margin-right:1vw}.listening[_ngcontent-%COMP%]{height:25px;width:25px;background-color:#00f;border-radius:50%;display:inline-block;margin-left:.5vw;margin-right:1vw}.light[_ngcontent-%COMP%]{height:25px;width:25px;background-color:orange;border-radius:50%;display:inline-block;margin-left:.5vw;margin-right:1vw}.line[_ngcontent-%COMP%]{height:3px;width:50px;background-color:red;display:inline-block;margin-left:.5vw;margin-right:1vw}"]}),n})();const AQ=[[["caption"]],[["colgroup"],["col"]]],TQ=["caption","colgroup, col"];function mM(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Sn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const vp=new Te("CDK_TABLE");let yp=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(O(Vr))},n.\u0275dir=Ee({type:n,selectors:[["","cdkCellDef",""]]}),n})(),_p=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(O(Vr))},n.\u0275dir=Ee({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),R0=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(O(Vr))},n.\u0275dir=Ee({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class OQ{}const PQ=mM(OQ);let Ec=(()=>{class n extends PQ{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Sn(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(O(vp,8))},n.\u0275dir=Ee({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&($i(r,yp,5),$i(r,_p,5),$i(r,R0,5)),2&e){let s;Gt(s=Wt())&&(i.cell=s.first),Gt(s=Wt())&&(i.headerCell=s.first),Gt(s=Wt())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[yn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Be]}),n})();class vM{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let yM=(()=>{class n extends vM{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(O(Ec),O(St))},n.\u0275dir=Ee({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Be]}),n})(),_M=(()=>{class n extends vM{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(O(Ec),O(St))},n.\u0275dir=Ee({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Be]}),n})();class LB{constructor(){this.tasks=[],this.endTasks=[]}}const bM=new Te("_COALESCED_STYLE_SCHEDULER");let NB=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new je}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new LB,this._getScheduleObservable().pipe(zn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new LB;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?di(Promise.resolve(void 0)):this._ngZone.onStable.pipe(yr(1))}}return n.\u0275fac=function(e){return new(e||n)(le(Kt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),wM=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof sv?e.headerCell.template:this instanceof ov?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(O(Vr),O(Ml))},n.\u0275dir=Ee({type:n,features:[Zi]}),n})();class FQ extends wM{}const LQ=mM(FQ);let sv=(()=>{class n extends LQ{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(O(Vr),O(Ml),O(vp,8))},n.\u0275dir=Ee({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Be,Zi]}),n})();class NQ extends wM{}const BQ=mM(NQ);let ov=(()=>{class n extends BQ{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(O(Vr),O(Ml),O(vp,8))},n.\u0275dir=Ee({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Be,Zi]}),n})(),O0=(()=>{class n extends wM{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(O(Vr),O(Ml),O(vp,8))},n.\u0275dir=Ee({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Be]}),n})(),Sc=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(O(Yr))},n.\u0275dir=Ee({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),CM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pn({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&xl(0,0)},dependencies:[Sc],encapsulation:2}),n})(),DM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pn({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&xl(0,0)},dependencies:[Sc],encapsulation:2}),n})(),P0=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(O(Vr))},n.\u0275dir=Ee({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const BB=["top","bottom","left","right"];class VQ{constructor(t,e,i,r,s=!0,a=!0,l){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=a,this._positionListener=l,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(D=>D)&&!i.some(D=>D))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],a=s.children.length,l=this._getCellWidths(s,r),h=this._getStickyStartColumnPositions(l,e),m=this._getStickyEndColumnPositions(l,i),v=e.lastIndexOf(!0),C=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const D="rtl"===this.direction,A=D?"right":"left",k=D?"left":"right";for(const P of t)for(let N=0;N<a;N++){const V=P.children[N];e[N]&&this._addStickyStyle(V,A,h[N],N===v),i[N]&&this._addStickyStyle(V,k,m[N],N===C)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===v?[]:l.slice(0,v+1).map((P,N)=>e[N]?P:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===C?[]:l.slice(C).map((P,N)=>i[N+C]?P:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,a=[],l=[],h=[];for(let v=0,C=0;v<r.length;v++){if(!s[v])continue;a[v]=C;const D=r[v];h[v]=this._isNativeHtmlTable?Array.from(D.children):[D];const A=D.getBoundingClientRect().height;C+=A,l[v]=A}const m=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let v=0;v<r.length;v++){if(!s[v])continue;const C=a[v],D=v===m;for(const A of h[v])this._addStickyStyle(A,i,C,D)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:l,offsets:a,elements:h}):this._positionListener?.stickyFooterRowsUpdated({sizes:l,offsets:a,elements:h})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);BB.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of BB)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const EM=new Te("CDK_SPL");let F0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(St))},n.\u0275dir=Ee({type:n,selectors:[["","rowOutlet",""]]}),n})(),L0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(St))},n.\u0275dir=Ee({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),N0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(St))},n.\u0275dir=Ee({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),B0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(St))},n.\u0275dir=Ee({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),V0=(()=>{class n{constructor(e,i,r,s,a,l,h,m,v,C,D,A){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=a,this._platform=h,this._viewRepeater=m,this._coalescedStyleScheduler=v,this._viewportRuler=C,this._stickyPositioningListener=D,this._ngZone=A,this._onDestroy=new je,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new gn,this.viewChange=new Ei({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=l,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Sn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Sn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(zn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),XS(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&Kt.isInAngularZone()?this._ngZone.onStable.pipe(yr(1),zn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,a)=>{this._addStickyColumnStyles([s],this._headerRowDefs[a])}),this._rowDefs.forEach(s=>{const a=[];for(let l=0;l<i.length;l++)this._renderRows[l].rowDef===s&&a.push(i[l]);this._addStickyColumnStyles(a,s)}),r.forEach((s,a)=>{this._addStickyColumnStyles([s],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const a=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let l=0;l<a.length;l++){let h=a[l];const m=this._cachedRenderRowsMap.get(h.data);m.has(h.rowDef)?m.get(h.rowDef).push(h):m.set(h.rowDef,[h]),e.push(h)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(a=>{const l=r&&r.has(a)?r.get(a):[];if(l.length){const h=l.shift();return h.dataIndex=i,h}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),H0(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=H0(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=H0(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=H0(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,l)=>a||!!l.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],XS(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;XS(this.dataSource)?e=this.dataSource.connect(this):function MQ(n){return!!n&&(n instanceof nt||j(n.lift)&&j(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Lt(this.dataSource)),this._renderChangeSubscription=e.pipe(zn(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(l=>this._columnDefsByName.get(l)),s=r.map(l=>l.sticky),a=r.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const a=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),a}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Sc.mostRecentCellOutlet&&Sc.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const a=e.get(i).context;a.count=r,a.first=0===i,a.last=i===r-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const a of r.outlets)s.appendChild(a.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new VQ(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Lt()).pipe(zn(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),a=s.rootNodes[0];1===s.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(O(Ml),O(Hr),O(St),Ds("role"),O(ho,8),O(un),O(br),O(qm),O(bM),O(eh),O(EM,12),O(Kt,8))},n.\u0275cmp=pn({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&($i(r,P0,5),$i(r,Ec,5),$i(r,O0,5),$i(r,sv,5),$i(r,ov,5)),2&e){let s;Gt(s=Wt())&&(i._noDataRow=s.first),Gt(s=Wt())&&(i._contentColumnDefs=s),Gt(s=Wt())&&(i._contentRowDefs=s),Gt(s=Wt())&&(i._contentHeaderRowDefs=s),Gt(s=Wt())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(vi(F0,7),vi(L0,7),vi(N0,7),vi(B0,7)),2&e){let r;Gt(r=Wt())&&(i._rowOutlet=r.first),Gt(r=Wt())&&(i._headerRowOutlet=r.first),Gt(r=Wt())&&(i._footerRowOutlet=r.first),Gt(r=Wt())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&wi("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[yn([{provide:vp,useExisting:n},{provide:qm,useClass:TN},{provide:bM,useClass:NB},{provide:EM,useValue:null}])],ngContentSelectors:TQ,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(ia(AQ),cr(0),cr(1,1),xl(2,0)(3,1)(4,2)(5,3))},dependencies:[F0,L0,N0,B0],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function H0(n,t){return n.concat(Array.from(t))}let zQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[vS]}),n})();const $Q=[[["caption"]],[["colgroup"],["col"]]],jQ=["caption","colgroup, col"];let HB=(()=>{class n extends V0{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275cmp=pn({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&wi("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[yn([{provide:qm,useClass:TN},{provide:V0,useExisting:n},{provide:vp,useExisting:n},{provide:bM,useClass:NB},{provide:EM,useValue:null}]),Be],ngContentSelectors:jQ,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(ia($Q),cr(0),cr(1,1),xl(2,0)(3,1)(4,2)(5,3))},dependencies:[F0,L0,N0,B0],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),SM=(()=>{class n extends yp{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","matCellDef",""]],features:[yn([{provide:yp,useExisting:n}]),Be]}),n})(),MM=(()=>{class n extends _p{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","matHeaderCellDef",""]],features:[yn([{provide:_p,useExisting:n}]),Be]}),n})(),AM=(()=>{class n extends Ec{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[yn([{provide:Ec,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Be]}),n})(),TM=(()=>{class n extends yM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[Be]}),n})(),kM=(()=>{class n extends _M{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[Be]}),n})(),zB=(()=>{class n extends sv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[yn([{provide:sv,useExisting:n}]),Be]}),n})(),$B=(()=>{class n extends O0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[yn([{provide:O0,useExisting:n}]),Be]}),n})(),jB=(()=>{class n extends CM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275cmp=pn({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[yn([{provide:CM,useExisting:n}]),Be],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&xl(0,0)},dependencies:[Sc],encapsulation:2}),n})(),UB=(()=>{class n extends DM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275cmp=pn({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[yn([{provide:DM,useExisting:n}]),Be],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&xl(0,0)},dependencies:[Sc],encapsulation:2}),n})(),JQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[zQ,Ci,Ci]}),n})();class GB extends class tJ extends class hZ{}{constructor(t=[]){super(),this._renderData=new Ei([]),this._filter=new Ei(""),this._internalPageChanges=new je,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(HF(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((a,l)=>{let h=this.sortingDataAccessor(a,r),m=this.sortingDataAccessor(l,r);const v=typeof h,C=typeof m;v!==C&&("number"===v&&(h+=""),"number"===C&&(m+=""));let D=0;return null!=h&&null!=m?h>m?D=1:h<m&&(D=-1):null!=h?D=1:null!=m&&(D=-1),D*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((a,l)=>a+e[l]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Ei(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?rr(this._sort.sortChange,this._sort.initialized):Lt(null),e=this._paginator?rr(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Lt(null),r=jf([this._data,this._filter]).pipe(vt(([l])=>this._filterData(l))),s=jf([r,t]).pipe(vt(([l])=>this._orderData(l))),a=jf([s,e]).pipe(vt(([l])=>this._pageData(l)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=a.subscribe(l=>this._renderData.next(l))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}{}function nJ(n,t){1&n&&(pe(0,"mat-error"),Je(1,"Number must be greater then 1"),ye())}function iJ(n,t){1&n&&(pe(0,"mat-error"),Je(1,"Number must be greater then 0 and less then 10"),ye())}function rJ(n,t){if(1&n&&(pe(0,"mat-option",10),Je(1),ye()),2&n){const e=t.$implicit;at("value",e.enumName),Fe(1),Ni(e.name)}}let sJ=(()=>{class n{constructor(e,i,r,s){this.dialogRef=e,this.formBuilder=i,this.visualizationService=r,this.data=s,this.minerMoneyFC=new ji(this.data.miner.money,[_n.required,_n.min(1)]),this.minerPowerFC=new ji(this.data.miner.computingPower,[_n.required,_n.min(1),_n.max(10)]),this.minerCountryFC=new ji(this.data.miner.country,[_n.required]),this.form=this.formBuilder.group({minerMoneyFC:this.minerMoneyFC,minerPowerFC:this.minerPowerFC,minerCountryFC:this.minerCountryFC}),this.graph=new ua(new Map),this.COUNTRIES=Il,this.minerToEdit=s.miner}ngOnInit(){this.visualizationService.getGraph().subscribe(e=>{this.graph=e.graph})}formValidation(){return this.form.valid}minerEdited(){this.graph.nodes.get(this.minerToEdit.id).money=this.minerMoneyFC.value,this.graph.nodes.get(this.minerToEdit.id).computingPower=this.minerPowerFC.value,this.graph.nodes.get(this.minerToEdit.id).country=this.minerCountryFC.value,this.dialogRef.close(this.graph)}}return n.\u0275fac=function(e){return new(e||n)(O(Xm),O(lS),O(ev),O(eM))},n.\u0275cmp=pn({type:n,selectors:[["app-edit-miner"]],decls:28,vars:5,consts:[["fxLayout","column","fxLayoutAlign","space-evenly center","fxLayoutGap","20px"],["fxLayout","column","fxLayoutGap","20px",2,"width","200px","margin","20px",3,"formGroup"],["type","number","formControlName","minerMoneyFC","matInput",""],[4,"ngIf"],["type","number","formControlName","minerPowerFC","matInput",""],["formControlName","minerCountryFC"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-dialog-close",""],[3,"value"]],template:function(e,i){1&e&&(pe(0,"div",0)(1,"h2"),Je(2,"Edit parameters of the selected miner"),ye(),pe(3,"div",1)(4,"mat-form-field")(5,"mat-label"),Je(6,"Amount of miner's money:"),ye(),cn(7,"input",2),Et(8,nJ,2,0,"mat-error",3),ye(),pe(9,"mat-form-field")(10,"mat-label"),Je(11,"Miner computing power:"),ye(),cn(12,"input",4),Et(13,iJ,2,0,"mat-error",3),ye(),pe(14,"mat-form-field")(15,"mat-label"),Je(16,"Country:"),ye(),pe(17,"mat-select",5),Et(18,rJ,2,2,"mat-option",6),ye()()(),pe(19,"div",7)(20,"button",8),jt("click",function(){return i.minerEdited()}),Je(21," Done "),pe(22,"mat-icon"),Je(23,"done"),ye()(),pe(24,"button",9),Je(25," Cancel "),pe(26,"mat-icon"),Je(27,"close"),ye()()()()),2&e&&(Fe(3),at("formGroup",i.form),Fe(5),at("ngIf",i.minerMoneyFC.errors),Fe(5),at("ngIf",i.minerPowerFC.errors),Fe(5),at("ngForOf",i.COUNTRIES),Fe(2),at("disabled",!i.formValidation()))},dependencies:[$d,vc,ja,Ru,Ua,WS,jm,dp,Wm,wc,ZS,Qf,Em,ym,Rb,Iu,Am,tM,Ym,ap]}),n})();function oJ(n,t){1&n&&(pe(0,"mat-error"),Je(1,"Number must be greater than 0"),ye())}function aJ(n,t){if(1&n&&(pe(0,"mat-option",14),Je(1),ye()),2&n){const e=t.$implicit;at("value",e.enumName),Fe(1),D_("",e.name," - price multiplier: ",e.electricityPrice," / month")}}function lJ(n,t){if(1&n&&(Ji(0),pe(1,"div",9)(2,"mat-form-field"),cn(3,"input",10),ye(),pe(4,"mat-form-field"),cn(5,"input",11),ye(),pe(6,"mat-form-field")(7,"mat-select",12),Et(8,aJ,2,3,"mat-option",13),ye()()(),er()),2&n){const e=t.index,i=Bn();Fe(1),at("formGroupName",e),Fe(7),at("ngForOf",i.COUNTRIES)}}let cJ=(()=>{class n{constructor(e,i,r){this.formBuilder=e,this.dialogRef=i,this.data=r,this.numberOfMinersFC=new ji(1,[_n.required,_n.min(1)]),this.minersFormArray=this.formBuilder.array([]),this.form=this.formBuilder.group({numberOfMinersFC:this.numberOfMinersFC,miners:this.minersFormArray}),this.minerNodesBeforeChange=1,this.COUNTRIES=Il}get miners(){return this.form.controls.miners}ngOnInit(){this.miners.push(this.formBuilder.group({power:new ji(1,[_n.required,_n.min(1),_n.max(10)]),country:new ji("",[_n.required]),money:new ji(1,[_n.required,_n.min(0),_n.max(1e4)])})),this.form.markAllAsTouched()}formValidation(){return this.form.valid}setMinersNumber(){const e=this.minerNodesBeforeChange,i=this.numberOfMinersFC.value;if(e<i)for(let r=e;r<i;r++)this.miners.push(this.formBuilder.group({power:new ji(1,[_n.required,_n.min(1),_n.max(10)]),country:new ji("",[_n.required]),money:new ji(1,[_n.required,_n.min(0),_n.max(1e4)])}));else for(let r=e;r>i;r--)this.miners.removeAt(this.miners.length-1);this.minerNodesBeforeChange=i,this.form.markAllAsTouched()}onClick(){this.dialogRef.close(this.miners.value)}}return n.\u0275fac=function(e){return new(e||n)(O(lS),O(Xm),O(eM))},n.\u0275cmp=pn({type:n,selectors:[["app-add-miner"]],decls:19,vars:5,consts:[["fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","20px"],["fxLayout","column","fxLayoutGap","20px",2,"width","200px","margin","20px",3,"formGroup"],["type","number","formControlName","numberOfMinersFC","matInput","",3,"change"],[4,"ngIf"],["formArrayName","miners"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-dialog-close",""],["fxLayout","row","fxLayoutGap","10px",3,"formGroupName"],["matInput","","type","number","formControlName","power","placeholder","Computing power (from 1 to 10)"],["matInput","","type","number","formControlName","money","placeholder","Initial budget"],["formControlName","country","placeholder","Country"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(pe(0,"div",0)(1,"div",1)(2,"mat-form-field")(3,"mat-label"),Je(4,"Number of miner nodes:"),ye(),pe(5,"input",2),jt("change",function(){return i.setMinersNumber()}),ye(),Et(6,oJ,2,0,"mat-error",3),ye(),Ji(7,4),Et(8,lJ,9,2,"ng-container",5),er(),ye(),pe(9,"div",6)(10,"button",7),jt("click",function(){return i.onClick()}),pe(11,"span"),Je(12),ye(),pe(13,"mat-icon"),Je(14,"add"),ye()(),pe(15,"button",8),Je(16," Cancel "),pe(17,"mat-icon"),Je(18,"close"),ye()()()()),2&e&&(Fe(1),at("formGroup",i.form),Fe(5),at("ngIf",i.numberOfMinersFC.errors),Fe(2),at("ngForOf",i.miners.controls),Fe(2),at("disabled",!i.formValidation()),Fe(2),Br("Add ",i.numberOfMinersFC.value," new miner/s "))},dependencies:[$d,vc,ja,Ru,Ua,WS,jm,dp,Wm,wc,ZS,Qf,Em,ym,Rb,Iu,Am,Sm,Mm,tM,Ym,ap]}),n})();const uJ=["tooltip"],WB="tooltip-panel",qB=Xd({passive:!0}),KB=new Te("mat-tooltip-scroll-strategy"),pJ={provide:KB,deps:[la],useFactory:function fJ(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},gJ=new Te("mat-tooltip-default-options",{providedIn:"root",factory:function mJ(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let vJ=(()=>{class n{constructor(e,i,r,s,a,l,h,m,v,C,D,A){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=a,this._platform=l,this._ariaDescriber=h,this._focusMonitor=m,this._dir=C,this._defaultOptions=D,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new je,this._scrollStrategy=v,this._document=A,D&&(D.position&&(this.position=D.position),D.touchGestures&&(this.touchGestures=D.touchGestures)),C.change.pipe(zn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Sn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=eo(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=eo(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(zn(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,qB)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay();this._detach(),this._portal=this._portal||new np(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(zn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(zn(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${WB}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(zn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(zn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(zn(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Rl(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(yr(1),zn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",a!==this._currentPosition){const l=this._overlayRef;if(l){const h=`${this._cssClassPrefix}-${WB}-`;l.removePanelClass(h+this._currentPosition),l.addPanelClass(h+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,qB)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){Od()},n.\u0275dir=Ee({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),YB=(()=>{class n extends vJ{constructor(e,i,r,s,a,l,h,m,v,C,D,A){super(e,i,r,s,a,l,h,m,v,C,D,A),this._tooltipComponent=_J}}return n.\u0275fac=function(e){return new(e||n)(O(la),O(St),O(qF),O(Yr),O(Kt),O(br),O(mL),O(Ol),O(KB),O(ho,8),O(gJ,8),O(un))},n.\u0275dir=Ee({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[Be]}),n})(),yJ=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new je,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(O(Hr),O(cs,8))},n.\u0275dir=Ee({type:n}),n})(),_J=(()=>{class n extends yJ{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(O(Hr),O(n0),O(cs,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&vi(uJ,7),2&e){let r;Gt(r=Wt())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&jt("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&Cu("zoom",i.isVisible()?1:null)},features:[Be],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(pe(0,"div",0,1),jt("animationend",function(s){return i._handleAnimationEnd(s)}),mD(2,"async"),Je(3),ye()),2&e){let r;wi("mat-tooltip-handset",null==(r=vD(2,4,i._isHandset))?null:r.matches),at("ngClass",i.tooltipClass),Fe(3),Ni(i.message)}},dependencies:[Jg,BR],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),ZB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[pJ],imports:[kS,Va,Lm,Ci,Ci,Kb]}),n})();function bJ(n,t){if(1&n&&(pe(0,"mat-option",19),Je(1),ye()),2&n){const e=t.$implicit;at("value",e),Fe(1),Br(" ",e," ")}}function wJ(n,t){if(1&n){const e=Ra();pe(0,"mat-form-field",16)(1,"mat-select",17),jt("selectionChange",function(r){return $s(e),ni(Bn(2)._changePageSize(r.value))}),Et(2,bJ,2,2,"mat-option",18),ye()()}if(2&n){const e=Bn(2);at("appearance",e._formFieldAppearance)("color",e.color),Fe(1),at("value",e.pageSize)("disabled",e.disabled)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering)("aria-label",e._intl.itemsPerPageLabel),Fe(1),at("ngForOf",e._displayedPageSizeOptions)}}function CJ(n,t){if(1&n&&(pe(0,"div",20),Je(1),ye()),2&n){const e=Bn(2);Fe(1),Ni(e.pageSize)}}function xJ(n,t){if(1&n&&(pe(0,"div",12)(1,"div",13),Je(2),ye(),Et(3,wJ,3,8,"mat-form-field",14),Et(4,CJ,2,1,"div",15),ye()),2&n){const e=Bn();Fe(2),Br(" ",e._intl.itemsPerPageLabel," "),Fe(1),at("ngIf",e._displayedPageSizeOptions.length>1),Fe(1),at("ngIf",e._displayedPageSizeOptions.length<=1)}}function DJ(n,t){if(1&n){const e=Ra();pe(0,"button",21),jt("click",function(){return $s(e),ni(Bn().firstPage())}),Zo(),pe(1,"svg",7),cn(2,"path",22),ye()()}if(2&n){const e=Bn();at("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),ri("aria-label",e._intl.firstPageLabel)}}function EJ(n,t){if(1&n){const e=Ra();Zo(),qh(),pe(0,"button",23),jt("click",function(){return $s(e),ni(Bn().lastPage())}),Zo(),pe(1,"svg",7),cn(2,"path",24),ye()()}if(2&n){const e=Bn();at("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),ri("aria-label",e._intl.lastPageLabel)}}let z0=(()=>{class n{constructor(){this.changes=new je,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MJ={provide:z0,deps:[[new qs,new fl,z0]],useFactory:function SJ(n){return n||new z0}},TJ=new Te("MAT_PAGINATOR_DEFAULT_OPTIONS"),kJ=nh(kL(class{}));let IJ=(()=>{class n extends kJ{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new gn,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:a,hidePageSize:l,showFirstLastButtons:h}=r;null!=s&&(this._pageSize=s),null!=a&&(this._pageSizeOptions=a),null!=l&&(this._hidePageSize=l),null!=h&&(this._showFirstLastButtons=h)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(eo(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=eo(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(eo(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>eo(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Sn(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Sn(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){Od()},n.\u0275dir=Ee({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[Be]}),n})(),RJ=(()=>{class n extends IJ{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(O(z0),O(Hr),O(TJ,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[Be],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(pe(0,"div",0)(1,"div",1),Et(2,xJ,5,3,"div",2),pe(3,"div",3)(4,"div",4),Je(5),ye(),Et(6,DJ,3,5,"button",5),pe(7,"button",6),jt("click",function(){return i.previousPage()}),Zo(),pe(8,"svg",7),cn(9,"path",8),ye()(),qh(),pe(10,"button",9),jt("click",function(){return i.nextPage()}),Zo(),pe(11,"svg",7),cn(12,"path",10),ye()(),Et(13,EJ,3,5,"button",11),ye()()()),2&e&&(Fe(2),at("ngIf",!i.hidePageSize),Fe(3),Br(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),Fe(1),at("ngIf",i.showFirstLastButtons),Fe(1),at("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),ri("aria-label",i._intl.previousPageLabel),Fe(3),at("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),ri("aria-label",i._intl.nextPageLabel),Fe(3),at("ngIf",i.showFirstLastButtons))},dependencies:[$d,vc,wc,jm,Ym,ap,YB],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{display:inline-block;width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),OJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[MJ],imports:[Va,FS,LN,ZB,Ci]}),n})();const PJ=["mat-sort-header",""];function FJ(n,t){if(1&n){const e=Ra();pe(0,"div",3),jt("@arrowPosition.start",function(){return $s(e),ni(Bn()._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){return $s(e),ni(Bn()._disableViewStateAnimation=!1)}),cn(1,"div",4),pe(2,"div",5),cn(3,"div",6)(4,"div",7)(5,"div",8),ye()()}if(2&n){const e=Bn();at("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),Fe(2),at("@indicator",e._getArrowDirectionState()),Fe(1),at("@leftPointer",e._getArrowDirectionState()),Fe(1),at("@rightPointer",e._getArrowDirectionState())}}const LJ=["*"],XB=new Te("MAT_SORT_DEFAULT_OPTIONS"),NJ=kL(nh(class{}));let QB=(()=>{class n extends NJ{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new je,this.start="asc",this._direction="",this.sortChange=new gn}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Sn(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function BJ(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(O(XB,8))},n.\u0275dir=Ee({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[Be,Zi]}),n})();const Bu=f7.ENTERING+" "+h7.STANDARD_CURVE,bp={indicator:Po("indicator",[Ui("active-asc, asc",bn({transform:"translateY(0px)"})),Ui("active-desc, desc",bn({transform:"translateY(10px)"})),dr("active-asc <=> active-desc",kr(Bu))]),leftPointer:Po("leftPointer",[Ui("active-asc, asc",bn({transform:"rotate(-45deg)"})),Ui("active-desc, desc",bn({transform:"rotate(45deg)"})),dr("active-asc <=> active-desc",kr(Bu))]),rightPointer:Po("rightPointer",[Ui("active-asc, asc",bn({transform:"rotate(45deg)"})),Ui("active-desc, desc",bn({transform:"rotate(-45deg)"})),dr("active-asc <=> active-desc",kr(Bu))]),arrowOpacity:Po("arrowOpacity",[Ui("desc-to-active, asc-to-active, active",bn({opacity:1})),Ui("desc-to-hint, asc-to-hint, hint",bn({opacity:.54})),Ui("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",bn({opacity:0})),dr("* => asc, * => desc, * => active, * => hint, * => void",kr("0ms")),dr("* <=> *",kr(Bu))]),arrowPosition:Po("arrowPosition",[dr("* => desc-to-hint, * => desc-to-active",kr(Bu,Vm([bn({transform:"translateY(-25%)"}),bn({transform:"translateY(0)"})]))),dr("* => hint-to-desc, * => active-to-desc",kr(Bu,Vm([bn({transform:"translateY(0)"}),bn({transform:"translateY(25%)"})]))),dr("* => asc-to-hint, * => asc-to-active",kr(Bu,Vm([bn({transform:"translateY(25%)"}),bn({transform:"translateY(0)"})]))),dr("* => hint-to-asc, * => active-to-asc",kr(Bu,Vm([bn({transform:"translateY(0)"}),bn({transform:"translateY(-25%)"})]))),Ui("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",bn({transform:"translateY(0)"})),Ui("hint-to-desc, active-to-desc, desc",bn({transform:"translateY(-25%)"})),Ui("hint-to-asc, active-to-asc, asc",bn({transform:"translateY(25%)"}))]),allowChildren:Po("allowChildren",[dr("* <=> *",[h0("@*",d0(),{optional:!0})])])};let $0=(()=>{class n{constructor(){this.changes=new je}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HJ={provide:$0,deps:[[new qs,new fl,$0]],useFactory:function VJ(n){return n||new $0}},zJ=nh(class{});let $J=(()=>{class n extends zJ{constructor(e,i,r,s,a,l,h,m){super(),this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=s,this._focusMonitor=a,this._elementRef=l,this._ariaDescriber=h,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",m?.arrowPosition&&(this.arrowPosition=m?.arrowPosition),this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Sn(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=rr(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(O($0),O(Hr),O(QB,8),O("MAT_SORT_HEADER_COLUMN_DEF",8),O(Ol),O(St),O(mL,8),O(XB,8))},n.\u0275cmp=pn({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&jt("click",function(){return i._handleClick()})("keydown",function(s){return i._handleKeydown(s)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(ri("aria-sort",i._getAriaSortAttribute()),wi("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[Be],attrs:PJ,ngContentSelectors:LJ,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(ia(),pe(0,"div",0)(1,"div",1),cr(2),ye(),Et(3,FJ,6,6,"div",2),ye()),2&e&&(wi("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"===i.arrowPosition),ri("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),Fe(3),at("ngIf",i._renderArrow()))},dependencies:[vc],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[bp.indicator,bp.leftPointer,bp.rightPointer,bp.arrowOpacity,bp.arrowPosition,bp.allowChildren]},changeDetection:0}),n})(),jJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[HJ],imports:[Va,Ci]}),n})();const UJ=["activeMinersPaginator"],GJ=["deadMinersPaginator"],WJ=["activeMinersSort"],qJ=["deadMinersSort"];function KJ(n,t){1&n&&(pe(0,"mat-header-cell",21),Je(1,"ID"),ye())}function YJ(n,t){if(1&n&&(pe(0,"mat-cell"),Je(1),ye()),2&n){const e=t.$implicit;Fe(1),Ni(e.id)}}function ZJ(n,t){1&n&&(pe(0,"mat-header-cell",21),Je(1,"Money"),ye())}function XJ(n,t){if(1&n&&(pe(0,"mat-cell"),Je(1),ye()),2&n){const e=t.$implicit;Fe(1),Ni(e.money)}}function QJ(n,t){1&n&&(pe(0,"mat-header-cell",21),Je(1,"Computing power"),ye())}function JJ(n,t){if(1&n&&(pe(0,"mat-cell"),Je(1),ye()),2&n){const e=t.$implicit;Fe(1),Ni(e.computingPower)}}function eee(n,t){1&n&&(pe(0,"mat-header-cell",21),Je(1,"Blocks mined"),ye())}function tee(n,t){if(1&n&&(pe(0,"mat-cell"),Je(1),ye()),2&n){const e=t.$implicit;Fe(1),Ni(e.mined)}}function nee(n,t){1&n&&(pe(0,"mat-header-cell",21),Je(1,"Country"),ye())}function iee(n,t){if(1&n&&(pe(0,"mat-cell"),Je(1),ye()),2&n){const e=t.$implicit,i=Bn();Fe(1),Ni(i.getCountryName(e.country))}}function ree(n,t){1&n&&(pe(0,"mat-header-cell",21),Je(1,"Electricity price (per month)"),ye())}function see(n,t){if(1&n&&(pe(0,"mat-cell"),Je(1),ye()),2&n){const e=t.$implicit,i=Bn();Fe(1),Ni(i.calculateElectricity(e.country))}}function oee(n,t){1&n&&(pe(0,"mat-header-cell"),Je(1,"Actions"),ye())}function aee(n,t){if(1&n){const e=Ra();pe(0,"mat-cell")(1,"button",22),jt("click",function(){const s=$s(e).$implicit;return ni(Bn().edit(s))}),pe(2,"mat-icon"),Je(3,"edit"),ye()()()}}function lee(n,t){1&n&&cn(0,"mat-header-row")}function cee(n,t){1&n&&cn(0,"mat-row")}function uee(n,t){1&n&&(pe(0,"mat-header-cell",21),Je(1,"ID"),ye())}function dee(n,t){if(1&n&&(pe(0,"mat-cell"),Je(1),ye()),2&n){const e=t.$implicit;Fe(1),Ni(e.id)}}function hee(n,t){1&n&&(pe(0,"mat-header-cell",21),Je(1,"Money"),ye())}function fee(n,t){if(1&n&&(pe(0,"mat-cell"),Je(1),ye()),2&n){const e=t.$implicit;Fe(1),Ni(e.money)}}function pee(n,t){1&n&&(pe(0,"mat-header-cell",21),Je(1,"Computing power"),ye())}function gee(n,t){if(1&n&&(pe(0,"mat-cell"),Je(1),ye()),2&n){const e=t.$implicit;Fe(1),Ni(e.computingPower)}}function mee(n,t){1&n&&(pe(0,"mat-header-cell",21),Je(1,"Blocks mined"),ye())}function vee(n,t){if(1&n&&(pe(0,"mat-cell"),Je(1),ye()),2&n){const e=t.$implicit;Fe(1),Ni(e.mined)}}function yee(n,t){1&n&&(pe(0,"mat-header-cell",21),Je(1,"Country"),ye())}function _ee(n,t){if(1&n&&(pe(0,"mat-cell"),Je(1),ye()),2&n){const e=t.$implicit,i=Bn();Fe(1),Ni(i.getCountryName(e.country))}}function bee(n,t){1&n&&(pe(0,"mat-header-cell",21),Je(1,"Electricity price"),ye())}function wee(n,t){if(1&n&&(pe(0,"mat-cell"),Je(1),ye()),2&n){const e=t.$implicit,i=Bn();Fe(1),Ni(i.calculateElectricity(e.country))}}function Cee(n,t){1&n&&cn(0,"mat-header-row")}function xee(n,t){1&n&&cn(0,"mat-row")}const JB=function(){return[5,10,20]};let Dee=(()=>{class n{constructor(e,i,r,s,a,l){this.simulationService=e,this.minerService=i,this.parametersService=r,this.minersDeletingService=s,this.dialog=a,this.visualizationService=l,this.minerList=new GB,this.deadMinerList=new GB,this.displayedColumns=["id","money","power","mined","country","electricity","edit"],this.displayedColumnsWithoutEdit=["id","money","power","mined","country","electricity"],this.minerList.data=this.simulationService.getMiners(),this.deadMinerList.data=this.simulationService.deadMiners}ngOnDestroy(){this.minerDataSub.unsubscribe(),this.deadMinerDataSub.unsubscribe()}ngAfterViewInit(){this.minerList.paginator=this.activeMinersPaginator,this.minerList.sort=this.activeMinersSort,this.deadMinerList.paginator=this.deadMinersPaginator,this.deadMinerList.sort=this.deadMinersSort,this.getData(),this.getDeadMinersData()}calculateElectricity(e){return NF(e)*this.parametersService.getElectricityPrice()}getCountryName(e){return BF(e)}getData(){this.minerDataSub&&this.minerDataSub.unsubscribe(),this.minerDataSub=this.minerService.get().pipe(Zn(()=>{this.minerList.data=this.simulationService.getMiners(),this.deadMinerList.data=this.simulationService.deadMiners}),za(e=>(console.log(e.error.error),Lt({})))).subscribe()}getDeadMinersData(){this.deadMinerDataSub&&this.deadMinerDataSub.unsubscribe(),this.deadMinerDataSub=this.minersDeletingService.getMinersToDelete().pipe(Zn(()=>{this.deadMinerList.data=this.simulationService.deadMiners}),za(e=>(console.log(e.error.error),Lt({})))).subscribe()}edit(e){this.dialog.open(sJ,{width:"700px",data:{miner:e}}).afterClosed().subscribe(r=>{r&&this.visualizationService.emitGraph(r)})}addMiner(){this.dialog.open(cJ,{width:"700px"}).afterClosed().subscribe(i=>{if(i){for(var r=0;r<i.length;r++)this.simulationService.addNewMinerWithParams(i[r].country,i[r].money,i[r].power);this.getData(),this.getDeadMinersData()}})}}return n.\u0275fac=function(e){return new(e||n)(O(JN),O(QN),O(lp),O(sM),O(Qm),O(ev))},n.\u0275cmp=pn({type:n,selectors:[["app-miners"]],viewQuery:function(e,i){if(1&e&&(vi(UJ,5),vi(GJ,5),vi(WJ,5),vi(qJ,5)),2&e){let r;Gt(r=Wt())&&(i.activeMinersPaginator=r.first),Gt(r=Wt())&&(i.deadMinersPaginator=r.first),Gt(r=Wt())&&(i.activeMinersSort=r.first),Gt(r=Wt())&&(i.deadMinersSort=r.first)}},decls:64,vars:10,consts:[[1,"container"],[1,"activeHeader"],["mat-raised-button","","color","accent",2,"margin-left","30px",3,"click"],["matSort","",3,"dataSource"],["activeMinersSort","matSort"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","money"],["matColumnDef","power"],["matColumnDef","mined"],["matColumnDef","country"],["matColumnDef","electricity"],["matColumnDef","edit"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["activeMinersPaginator",""],["deadMinersSort","matSort"],["deadMinersPaginator",""],["mat-sort-header",""],["mat-icon-button","","matTooltip","Edytuj","matTooltipPosition","right",3,"click"]],template:function(e,i){1&e&&(pe(0,"div",0)(1,"div",1)(2,"span"),Je(3,"Active miners"),ye(),pe(4,"button",2),jt("click",function(){return i.addMiner()}),pe(5,"span"),Je(6,"Add miner"),ye(),pe(7,"mat-icon"),Je(8,"add"),ye()()(),pe(9,"mat-table",3,4),Ji(11,5),Et(12,KJ,2,0,"mat-header-cell",6),Et(13,YJ,2,1,"mat-cell",7),er(),Ji(14,8),Et(15,ZJ,2,0,"mat-header-cell",6),Et(16,XJ,2,1,"mat-cell",7),er(),Ji(17,9),Et(18,QJ,2,0,"mat-header-cell",6),Et(19,JJ,2,1,"mat-cell",7),er(),Ji(20,10),Et(21,eee,2,0,"mat-header-cell",6),Et(22,tee,2,1,"mat-cell",7),er(),Ji(23,11),Et(24,nee,2,0,"mat-header-cell",6),Et(25,iee,2,1,"mat-cell",7),er(),Ji(26,12),Et(27,ree,2,0,"mat-header-cell",6),Et(28,see,2,1,"mat-cell",7),er(),Ji(29,13),Et(30,oee,2,0,"mat-header-cell",14),Et(31,aee,4,0,"mat-cell",7),er(),Et(32,lee,1,0,"mat-header-row",15),Et(33,cee,1,0,"mat-row",16),ye(),cn(34,"mat-paginator",17,18),pe(36,"span"),Je(37,"Removed miners"),ye(),cn(38,"br")(39,"br"),pe(40,"mat-table",3,19),Ji(42,5),Et(43,uee,2,0,"mat-header-cell",6),Et(44,dee,2,1,"mat-cell",7),er(),Ji(45,8),Et(46,hee,2,0,"mat-header-cell",6),Et(47,fee,2,1,"mat-cell",7),er(),Ji(48,9),Et(49,pee,2,0,"mat-header-cell",6),Et(50,gee,2,1,"mat-cell",7),er(),Ji(51,10),Et(52,mee,2,0,"mat-header-cell",6),Et(53,vee,2,1,"mat-cell",7),er(),Ji(54,11),Et(55,yee,2,0,"mat-header-cell",6),Et(56,_ee,2,1,"mat-cell",7),er(),Ji(57,12),Et(58,bee,2,0,"mat-header-cell",6),Et(59,wee,2,1,"mat-cell",7),er(),Et(60,Cee,1,0,"mat-header-row",15),Et(61,xee,1,0,"mat-row",16),ye(),cn(62,"mat-paginator",17,20),ye()),2&e&&(Fe(9),at("dataSource",i.minerList),Fe(23),at("matHeaderRowDef",i.displayedColumns),Fe(1),at("matRowDefColumns",i.displayedColumns),Fe(1),at("pageSizeOptions",gD(8,JB)),Fe(6),at("dataSource",i.deadMinerList),Fe(20),at("matHeaderRowDef",i.displayedColumnsWithoutEdit),Fe(1),at("matRowDefColumns",i.displayedColumnsWithoutEdit),Fe(1),at("pageSizeOptions",gD(9,JB)))},dependencies:[HB,MM,zB,AM,SM,$B,TM,kM,jB,UB,Wm,wc,RJ,QB,$J,YB],styles:[".container[_ngcontent-%COMP%]{margin:1vh 1vw;font-size:x-large}.activeHeader[_ngcontent-%COMP%]{position:relative;display:inline-block}"]}),n})();const Eee=["*",[["mat-card-footer"]]],See=["*","mat-card-footer"];let Mee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),Aee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Tee=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(O(cs,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&wi("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:See,decls:2,vars:0,template:function(e,i){1&e&&(ia(Eee),cr(0),cr(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),kee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Ci,Ci]}),n})(),Iee=(()=>{class n{constructor(e){this.parametersService=e,this.electricityPrice=1,this.frequency=1,this.reward=5}ngOnInit(){this.setSliders()}setSliders(){this.electricityPrice=this.parametersService.getElectricityPrice(),this.reward=this.parametersService.getReward(),this.frequency=this.parametersService.getFrequency()}onElectricityPriceChange(e){this.parametersService.setElectricityPrice(e.value),this.electricityPrice=e.value}onFrequencyChange(e){this.parametersService.emitAddNewMinerFrequency(e.value),this.parametersService.setFrequency(e.value),this.frequency=e.value}onRewardChange(e){this.parametersService.setReward(e.value),this.reward=e.value}}return n.\u0275fac=function(e){return new(e||n)(O(lp))},n.\u0275cmp=pn({type:n,selectors:[["app-parameters"]],decls:29,vars:9,consts:[[1,"container"],["fxLayout","column","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxLayout","column","fxLayoutAlign","space-around start"],["thumbLabel","",3,"value","max","change"],["thumbLabel","",3,"value","min","max","change"],["thumbLabel","",3,"value","change"]],template:function(e,i){1&e&&(pe(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-title"),Je(4,"Set electricity price"),ye(),pe(5,"div",2)(6,"mat-card-subtitle"),Je(7,"Current electricity price: "),pe(8,"mat-label"),Je(9),ye()(),pe(10,"mat-slider",3),jt("change",function(s){return i.onElectricityPriceChange(s)}),ye()()(),pe(11,"mat-card")(12,"mat-card-title"),Je(13,"Set frequency of adding a new miner"),ye(),pe(14,"div",2)(15,"mat-card-subtitle"),Je(16,"Current frequency of adding a new miner to the network: "),pe(17,"mat-label"),Je(18),ye()(),pe(19,"mat-slider",4),jt("change",function(s){return i.onFrequencyChange(s)}),ye()()(),pe(20,"mat-card")(21,"mat-card-title"),Je(22,"Set reward for mining a block"),ye(),pe(23,"div",2)(24,"mat-card-subtitle"),Je(25,"Current reward: "),pe(26,"mat-label"),Je(27),ye()(),pe(28,"mat-slider",5),jt("change",function(s){return i.onRewardChange(s)}),ye()()()()()),2&e&&(Fe(9),Br("",i.electricityPrice," / month"),Fe(1),at("value",i.electricityPrice)("max",10),Fe(8),Br("",i.frequency," / month"),Fe(1),at("value",i.frequency)("min",0)("max",10),Fe(8),Ni(i.reward),Fe(1),at("value",i.reward))},dependencies:[ja,Ru,Ua,dp,oM,Tee,Mee,Aee],styles:[".container[_ngcontent-%COMP%]{margin:1vh 1vw}mat-slider[_ngcontent-%COMP%]{width:50vw}mat-card[_ngcontent-%COMP%]{background-color:#ded7ea}mat-label[_ngcontent-%COMP%]{font-weight:700}"]}),n})();const Ree=["button"],Oee=["*"],e2=new Te("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),t2=new Te("MatButtonToggleGroup"),Pee={provide:aa,useExisting:li(()=>s2),multi:!0};let n2=0;class r2{constructor(t,e){this.source=t,this.value=e}}let s2=(()=>{class n{constructor(e,i){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+n2++,this.valueChange=new gn,this.change=new gn,this.appearance=i&&i.appearance?i.appearance:"standard"}get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(e){this._vertical=Sn(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(i=>i.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=Sn(e),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=Sn(e),this._markButtonsForCheck()}ngOnInit(){this._selectionModel=new IN(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(e){const i=new r2(e,this.value);this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(e,i,r=!1,s=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(e):this._selectionModel.deselect(e):s=!0,s?Promise.resolve().then(()=>this._updateModelValue(e,r)):this._updateModelValue(e,r)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=e.value&&i===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===e);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(e,i){i&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(O(Hr),O(e2,8))},n.\u0275dir=Ee({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,i,r){if(1&e&&$i(r,o2,5),2&e){let s;Gt(s=Wt())&&(i._buttonToggles=s)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,i){2&e&&(ri("aria-disabled",i.disabled),wi("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[yn([Pee,{provide:t2,useExisting:n}])]}),n})();const Fee=c0(class{});let o2=(()=>{class n extends Fee{constructor(e,i,r,s,a,l){super(),this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=s,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new gn;const h=Number(a);this.tabIndex=h||0===h?h:null,this.buttonToggleGroup=e,this.appearance=l&&l.appearance?l.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const i=Sn(e);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=Sn(e)}ngOnInit(){const e=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+n2++,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector()||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new r2(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return n.\u0275fac=function(e){return new(e||n)(O(t2,8),O(Hr),O(St),O(Ol),Ds("tabindex"),O(e2,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(e,i){if(1&e&&vi(Ree,5),2&e){let r;Gt(r=Wt())&&(i._buttonElement=r.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,i){1&e&&jt("focus",function(){return i.focus()}),2&e&&(ri("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),wi("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[Be],ngContentSelectors:Oee,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,i){if(1&e&&(ia(),pe(0,"button",0,1),jt("click",function(){return i._onButtonClick()}),pe(2,"span",2),cr(3),ye()(),cn(4,"span",3)(5,"span",4)),2&e){const r=Bg(1);at("id",i.buttonId)("disabled",i.disabled||null),ri("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),Fe(5),at("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[Bm],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),n})(),Lee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Ci,u0,Ci]}),n})();const Nee=["cy"];function Bee(n,t){if(1&n&&(pe(0,"mat-option",10),Je(1),ye()),2&n){const e=t.$implicit;at("value",e.id),Fe(1),Br(" ",e.id," ")}}let Vee=(()=>{class n{constructor(e){this.visualisationService=e,this.cy=nv({}),this.id2tip={},this.toggleButtonValue="default",this.fullNodes=[],this.selectedNodeId="default"}onValChange(e){this.toggleButtonValue=e,this.cleanHighlighting(),this.changeProtocol()}onNodeChange(e){this.selectedNodeId=e,this.cleanHighlighting(),this.refresh()}ngOnInit(){this.refresh()}refresh(){this.cy=nv({container:document.getElementById("cy"),style:[{selector:"node",style:{width:"100px",height:"100px",shape:"round-rectangle","background-color":"#7fcdcd",label:e=>-1==e.data("block").id?"root":"block "+e.data("block").id}},{selector:"edge",style:{width:3,"curve-style":"bezier"}},{selector:".highlighted",style:{"line-color":"#ff80df","border-width":"3px","border-color":"#ff80df"}}]}),this.visualisationSub&&this.visualisationSub.unsubscribe(),this.visualisationSub=this.visualisationService.getGraph().pipe(Zn(e=>{let i=e.graph;this.cy.remove("node"),this.cy.remove("edge"),this.fullNodes=Array.from(i.nodes.values()).filter((r,s)=>r.nodeType==fr.Full),this.node="default"===this.selectedNodeId?this.fullNodes[0]:this.fullNodes.find(r=>r.id.toString()==this.selectedNodeId),this.createBlockchainGraph(),this.makeTooltips(),this.cy.nodes().on("click",r=>{this.id2tip[r.target.id()].show()}),this.cy.layout({name:"breadthfirst",directed:!0}).run()})).subscribe()}changeProtocol(){let e;if(this.cleanHighlighting(),"default"!=this.toggleButtonValue){const i=this.cy.elements().dijkstra({root:"#-1"});if("longestChain"==this.toggleButtonValue){const r=this.cy.nodes().leaves();let s=0,a="";for(let l=0;l<r.length;l++){let h=i.distanceTo(this.cy.$("#"+r[l].id()));h>s&&(s=h,a="#"+r[l].id())}e=i.pathTo(this.cy.$(a)),this.highlightPath(e)}else{const r=this.cy.nodes().max(function(s){return s.data("block").weight});e=i.pathTo(r.ele),this.highlightPath(e)}}}highlightPath(e){for(let i=0;i<e.length;i++)e[i].addClass("highlighted")}cleanHighlighting(){this.cy.nodes().forEach(e=>{e.removeClass("highlighted")}),this.cy.edges().forEach(e=>{e.removeClass("highlighted")})}createBlockchainGraph(){let e=new Set,i=new Array;e.add(-1),i.push(-1);let r=0;for(this.cy.add({group:"nodes",data:{id:"-1",block:this.node?.blockChain}});i.length>0;){const s=i.shift();if(!s)break;let a=this.node?.blockChainMap.get(s);if(!a)break;for(let l of a.children)e.has(l.id)||(e.add(l.id),i.push(l.id),this.cy.add({group:"nodes",data:{id:l.id.toString(),block:l}}),this.cy.add({group:"edges",data:{id:"edge_"+r.toString(),source:a.id.toString(),target:l.id.toString()}}),r++)}}makeTooltips(){this.cy.nodes().forEach(e=>{let i=e.popperRef();this.id2tip[e.id()]=PB(document.createElement("div"),{getReferenceClientRect:i.getBoundingClientRect,trigger:"manual",placement:"bottom",content:()=>{let r=document.createElement("div");return r.setAttribute("style","font-size:1em; padding-top: 2vh"),r.innerHTML="-1"===e._private.data.id?"Root":`Mined by: ${e._private.data.block._minedBy}`,r}})})}ngOnDestroy(){this.visualisationSub.unsubscribe(),null!==document.getElementById("cy")&&document.getElementById("cy").remove(),this.cy.destroy()}}return n.\u0275fac=function(e){return new(e||n)(O(ev))},n.\u0275cmp=pn({type:n,selectors:[["app-blockchain"]],viewQuery:function(e,i){if(1&e&&vi(Nee,5),2&e){let r;Gt(r=Wt())&&(i.el=r.first)}},decls:15,vars:3,consts:[["fxLayout","row","fxLayoutAlign","start center",1,"container",2,"padding-left","1vw"],[1,"toggle-group",3,"value","change"],["group","matButtonToggleGroup"],["value","default"],["value","longestChain"],["value","GHOST"],[1,"node-select"],[3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","cy"],[3,"value"]],template:function(e,i){if(1&e){const r=Ra();pe(0,"div",0)(1,"mat-button-toggle-group",1,2),jt("change",function(){$s(r);const a=Bg(2);return ni(i.onValChange(a.value))}),pe(3,"mat-button-toggle",3),Je(4,"Default"),ye(),pe(5,"mat-button-toggle",4),Je(6,"Longest Chain"),ye(),pe(7,"mat-button-toggle",5),Je(8,"GHOST"),ye()(),pe(9,"mat-form-field",6)(10,"mat-select",7),jt("selectionChange",function(a){return i.onNodeChange(a.value)}),pe(11,"mat-option",3),Je(12,"Default"),ye(),Et(13,Bee,2,2,"mat-option",8),ye()()(),cn(14,"div",9)}2&e&&(Fe(1),at("value",i.toggleButtonValue),Fe(9),at("value",i.selectedNodeId),Fe(3),at("ngForOf",i.fullNodes))},dependencies:[$d,ja,Ua,jm,s2,o2,Ym,ap],styles:[".container[_ngcontent-%COMP%]{margin:1vh 1vw}#cy[_ngcontent-%COMP%]{width:100%;height:70%;position:relative;top:0;left:0}.toggle-group[_ngcontent-%COMP%]{margin:1vh}.node-select[_ngcontent-%COMP%]{margin:1vh;width:100px}"]}),n})();function Mc(){}const Hee=(()=>{let n=0;return()=>n++})();function pi(n){return null===n||typeof n>"u"}function Wi(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function si(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function Cr(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function Lo(n,t){return Cr(n)?n:t}function Vn(n,t){return typeof n>"u"?t:n}const a2=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Vi(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function Mi(n,t,e,i){let r,s,a;if(Wi(n))if(s=n.length,i)for(r=s-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<s;r++)t.call(e,n[r],r);else if(si(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)t.call(e,n[a[r]],a[r])}function j0(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function U0(n){if(Wi(n))return n.map(U0);if(si(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=U0(n[e[r]]);return t}return n}function l2(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function $ee(n,t,e,i){if(!l2(n))return;const r=t[n],s=e[n];si(r)&&si(s)?av(r,s,i):t[n]=U0(s)}function av(n,t,e){const i=Wi(t)?t:[t],r=i.length;if(!si(n))return n;const s=(e=e||{}).merger||$ee;let a;for(let l=0;l<r;++l){if(a=i[l],!si(a))continue;const h=Object.keys(a);for(let m=0,v=h.length;m<v;++m)s(h[m],n,a,e)}return n}function lv(n,t){return av(n,t,{merger:jee})}function jee(n,t,e){if(!l2(n))return;const i=t[n],r=e[n];si(i)&&si(r)?lv(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=U0(r))}const c2={"":n=>n,x:n=>n.x,y:n=>n.y};function Vu(n,t){return(c2[t]||(c2[t]=function Gee(n){const t=function Uee(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function IM(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ha=n=>typeof n<"u",Hu=n=>"function"==typeof n,u2=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},nr=Math.PI,qi=2*nr,qee=qi+nr,G0=Number.POSITIVE_INFINITY,Kee=nr/180,xr=nr/2,lh=nr/4,d2=2*nr/3,zu=Math.log10,Fl=Math.sign;function cv(n,t,e){return Math.abs(n-t)<e}function h2(n){const t=Math.round(n);n=cv(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(zu(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function wp(n){return!isNaN(parseFloat(n))&&isFinite(n)}function f2(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Ga(n){return n*(nr/180)}function RM(n){return n*(180/nr)}function p2(n){if(!Cr(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function g2(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*nr&&(s+=qi),{angle:s,distance:r}}function OM(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Xee(n,t){return(n-t+qee)%qi-nr}function No(n){return(n%qi+qi)%qi}function uv(n,t,e,i){const r=No(n),s=No(t),a=No(e),l=No(s-r),h=No(a-r),m=No(r-s),v=No(r-a);return r===s||r===a||i&&s===a||l>h&&m<v}function ds(n,t,e){return Math.max(t,Math.min(e,n))}function Ac(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function PM(n,t,e){e=e||(a=>n[a]<t);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const Tc=(n,t,e,i)=>PM(n,e,i?r=>{const s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),Jee=(n,t,e)=>PM(n,e,i=>n[i][t]>=e),m2=["push","pop","shift","splice","unshift"];function v2(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(m2.forEach(s=>{delete n[s]}),delete n._chartjs)}function y2(n){const t=new Set;let e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}const _2=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function b2(n,t){let e=!1;return function(...i){e||(e=!0,_2.call(window,()=>{e=!1,n.apply(t,i)}))}}const FM=n=>"start"===n?"left":"end"===n?"right":"center",Rs=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function w2(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:a,_parsed:l}=n,h=a.axis,{min:m,max:v,minDefined:C,maxDefined:D}=a.getUserBounds();C&&(r=ds(Math.min(Tc(l,a.axis,m).lo,e?i:Tc(t,h,a.getPixelForValue(m)).lo),0,i-1)),s=D?ds(Math.max(Tc(l,a.axis,v,!0).hi+1,e?0:Tc(t,h,a.getPixelForValue(v),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function C2(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const W0=n=>0===n||1===n,x2=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*qi/e),D2=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*qi/e)+1,q0={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*xr),easeOutSine:n=>Math.sin(n*xr),easeInOutSine:n=>-.5*(Math.cos(nr*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>W0(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>W0(n)?n:x2(n,.075,.3),easeOutElastic:n=>W0(n)?n:D2(n,.075,.3),easeInOutElastic:n=>W0(n)?n:n<.5?.5*x2(2*n,.1125,.45):.5+.5*D2(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-q0.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*q0.easeInBounce(2*n):.5*q0.easeOutBounce(2*n-1)+.5};var E2=q0;function dv(n){return n+.5|0}const $u=(n,t,e)=>Math.max(Math.min(n,e),t);function hv(n){return $u(dv(2.55*n),0,255)}function ju(n){return $u(dv(255*n),0,255)}function kc(n){return $u(dv(n/2.55)/100,0,1)}function S2(n){return $u(dv(100*n),0,100)}const fa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},LM=[..."0123456789ABCDEF"],rte=n=>LM[15&n],ste=n=>LM[(240&n)>>4]+LM[15&n],K0=n=>(240&n)>>4==(15&n);const ute=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function M2(n,t,e){const i=t*Math.min(e,1-e),r=(s,a=(s+n/30)%12)=>e-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function dte(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function hte(n,t,e){const i=M2(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function NM(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),a=Math.min(e,i,r),l=(s+a)/2;let h,m,v;return s!==a&&(v=s-a,m=l>.5?v/(2-s-a):v/(s+a),h=function fte(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,v,s),h=60*h+.5),[0|h,m||0,l]}function BM(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ju)}function VM(n,t,e){return BM(M2,n,t,e)}function A2(n){return(n%360+360)%360}const T2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},k2={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Y0;const wte=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,HM=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,Cp=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Z0(n,t,e){if(n){let i=NM(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=VM(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function I2(n,t){return n&&Object.assign(t||{},n)}function R2(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ju(n[3]))):(t=I2(n,{r:0,g:0,b:0,a:1})).a=ju(t.a),t}function Ete(n){return"r"===n.charAt(0)?function Cte(n){const t=wte.exec(n);let i,r,s,e=255;if(t){if(t[7]!==i){const a=+t[7];e=t[8]?hv(a):$u(255*a,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?hv(i):$u(i,0,255)),r=255&(t[4]?hv(r):$u(r,0,255)),s=255&(t[6]?hv(s):$u(s,0,255)),{r:i,g:r,b:s,a:e}}}(n):function mte(n){const t=ute.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?hv(+t[5]):ju(+t[5]));const r=A2(+t[2]),s=+t[3]/100,a=+t[4]/100;return i="hwb"===t[1]?function pte(n,t,e){return BM(hte,n,t,e)}(r,s,a):"hsv"===t[1]?function gte(n,t,e){return BM(dte,n,t,e)}(r,s,a):VM(r,s,a),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class X0{constructor(t){if(t instanceof X0)return t;const e=typeof t;let i;"object"===e?i=R2(t):"string"===e&&(i=function ate(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*fa[n[1]],g:255&17*fa[n[2]],b:255&17*fa[n[3]],a:5===t?17*fa[n[4]]:255}:(7===t||9===t)&&(e={r:fa[n[1]]<<4|fa[n[2]],g:fa[n[3]]<<4|fa[n[4]],b:fa[n[5]]<<4|fa[n[6]],a:9===t?fa[n[7]]<<4|fa[n[8]]:255})),e}(t)||function bte(n){Y0||(Y0=function _te(){const n={},t=Object.keys(k2),e=Object.keys(T2);let i,r,s,a,l;for(i=0;i<t.length;i++){for(a=l=t[i],r=0;r<e.length;r++)s=e[r],l=l.replace(s,T2[s]);s=parseInt(k2[a],16),n[l]=[s>>16&255,s>>8&255,255&s]}return n}(),Y0.transparent=[0,0,0,0]);const t=Y0[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||Ete(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=I2(this._rgb);return t&&(t.a=kc(t.a)),t}set rgb(t){this._rgb=R2(t)}rgbString(){return this._valid?function xte(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${kc(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function cte(n){var t=(n=>K0(n.r)&&K0(n.g)&&K0(n.b)&&K0(n.a))(n)?rte:ste;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function yte(n){if(!n)return;const t=NM(n),e=t[0],i=S2(t[1]),r=S2(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${kc(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const a=e===s?.5:e,l=2*a-1,h=i.a-r.a,m=((l*h==-1?l:(l+h)/(1+l*h))+1)/2;s=1-m,i.r=255&m*i.r+s*r.r+.5,i.g=255&m*i.g+s*r.g+.5,i.b=255&m*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function Dte(n,t,e){const i=Cp(kc(n.r)),r=Cp(kc(n.g)),s=Cp(kc(n.b));return{r:ju(HM(i+e*(Cp(kc(t.r))-i))),g:ju(HM(r+e*(Cp(kc(t.g))-r))),b:ju(HM(s+e*(Cp(kc(t.b))-s))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new X0(this.rgb)}alpha(t){return this._rgb.a=ju(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=dv(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Z0(this._rgb,2,t),this}darken(t){return Z0(this._rgb,2,-t),this}saturate(t){return Z0(this._rgb,1,t),this}desaturate(t){return Z0(this._rgb,1,-t),this}rotate(t){return function vte(n,t){var e=NM(n);e[0]=A2(e[0]+t),e=VM(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function O2(n){return new X0(n)}function P2(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function F2(n){return P2(n)?n:O2(n)}function zM(n){return P2(n)?n:O2(n).saturate(.5).darken(.1).hexString()}const Ste=["x","y","borderWidth","radius","tension"],Mte=["color","borderColor","backgroundColor"],L2=new Map;function fv(n,t,e){return function kte(n,t){t=t||{};const e=n+JSON.stringify(t);let i=L2.get(e);return i||(i=new Intl.NumberFormat(n,t),L2.set(e,i)),i}(t,e).format(n)}const N2={values:n=>Wi(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),s=function Ite(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const a=zu(Math.abs(s)),l=Math.max(Math.min(-1*Math.floor(a),20),0),h={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(h,this.options.ticks.format),fv(n,i,h)},logarithmic(n,t,e){if(0===n)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(zu(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?N2.numeric.call(this,n,t,e):""}};var Q0={formatters:N2};const ch=Object.create(null),$M=Object.create(null);function pv(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function jM(n,t,e){return"string"==typeof t?av(pv(n,t),e):av(pv(n,""),t)}class Ote{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>zM(r.backgroundColor),this.hoverBorderColor=(i,r)=>zM(r.borderColor),this.hoverColor=(i,r)=>zM(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return jM(this,t,e)}get(t){return pv(this,t)}describe(t,e){return jM($M,t,e)}override(t,e){return jM(ch,t,e)}route(t,e,i,r){const s=pv(this,t),a=pv(this,i),l="_"+e;Object.defineProperties(s,{[l]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[l],m=a[r];return si(h)?Object.assign({},m,h):Vn(h,m)},set(h){this[l]=h}}})}apply(t){t.forEach(e=>e(this))}}var Ir=new Ote({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Ate(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:Mte},numbers:{type:"number",properties:Ste}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function Tte(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Rte(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Q0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function J0(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function Fte(n,t,e,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let a=0;const l=e.length;let h,m,v,C,D;for(h=0;h<l;h++)if(C=e[h],null!=C&&!0!==Wi(C))a=J0(n,r,s,a,C);else if(Wi(C))for(m=0,v=C.length;m<v;m++)D=C[m],null!=D&&!Wi(D)&&(a=J0(n,r,s,a,D));n.restore();const A=s.length/2;if(A>e.length){for(h=0;h<A;h++)delete r[s[h]];s.splice(0,A)}return a}function uh(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function B2(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function UM(n,t,e,i){V2(n,t,e,i,null)}function V2(n,t,e,i,r){let s,a,l,h,m,v,C,D;const A=t.pointStyle,k=t.rotation,P=t.radius;let N=(k||0)*Kee;if(A&&"object"==typeof A&&(s=A.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(e,i),n.rotate(N),n.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),void n.restore();if(!(isNaN(P)||P<=0)){switch(n.beginPath(),A){default:r?n.ellipse(e,i,r/2,P,0,0,qi):n.arc(e,i,P,0,qi),n.closePath();break;case"triangle":v=r?r/2:P,n.moveTo(e+Math.sin(N)*v,i-Math.cos(N)*P),N+=d2,n.lineTo(e+Math.sin(N)*v,i-Math.cos(N)*P),N+=d2,n.lineTo(e+Math.sin(N)*v,i-Math.cos(N)*P),n.closePath();break;case"rectRounded":m=.516*P,h=P-m,a=Math.cos(N+lh)*h,C=Math.cos(N+lh)*(r?r/2-m:h),l=Math.sin(N+lh)*h,D=Math.sin(N+lh)*(r?r/2-m:h),n.arc(e-C,i-l,m,N-nr,N-xr),n.arc(e+D,i-a,m,N-xr,N),n.arc(e+C,i+l,m,N,N+xr),n.arc(e-D,i+a,m,N+xr,N+nr),n.closePath();break;case"rect":if(!k){h=Math.SQRT1_2*P,v=r?r/2:h,n.rect(e-v,i-h,2*v,2*h);break}N+=lh;case"rectRot":C=Math.cos(N)*(r?r/2:P),a=Math.cos(N)*P,l=Math.sin(N)*P,D=Math.sin(N)*(r?r/2:P),n.moveTo(e-C,i-l),n.lineTo(e+D,i-a),n.lineTo(e+C,i+l),n.lineTo(e-D,i+a),n.closePath();break;case"crossRot":N+=lh;case"cross":C=Math.cos(N)*(r?r/2:P),a=Math.cos(N)*P,l=Math.sin(N)*P,D=Math.sin(N)*(r?r/2:P),n.moveTo(e-C,i-l),n.lineTo(e+C,i+l),n.moveTo(e+D,i-a),n.lineTo(e-D,i+a);break;case"star":C=Math.cos(N)*(r?r/2:P),a=Math.cos(N)*P,l=Math.sin(N)*P,D=Math.sin(N)*(r?r/2:P),n.moveTo(e-C,i-l),n.lineTo(e+C,i+l),n.moveTo(e+D,i-a),n.lineTo(e-D,i+a),N+=lh,C=Math.cos(N)*(r?r/2:P),a=Math.cos(N)*P,l=Math.sin(N)*P,D=Math.sin(N)*(r?r/2:P),n.moveTo(e-C,i-l),n.lineTo(e+C,i+l),n.moveTo(e+D,i-a),n.lineTo(e-D,i+a);break;case"line":a=r?r/2:Math.cos(N)*P,l=Math.sin(N)*P,n.moveTo(e-a,i-l),n.lineTo(e+a,i+l);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(N)*(r?r/2:P),i+Math.sin(N)*P)}n.fill(),t.borderWidth>0&&n.stroke()}}function gv(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function ew(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function tw(n){n.restore()}function Lte(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Nte(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function dh(n,t,e,i,r,s={}){const a=Wi(t)?t:[t],l=s.strokeWidth>0&&""!==s.strokeColor;let h,m;for(n.save(),n.font=r.string,function Bte(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),pi(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,s),h=0;h<a.length;++h)m=a[h],s.backdrop&&Hte(n,s.backdrop),l&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),pi(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(m,e,i,s.maxWidth)),n.fillText(m,e,i,s.maxWidth),Vte(n,e,i,m,s),i+=r.lineHeight;n.restore()}function Vte(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=t-s.actualBoundingBoxLeft,l=t+s.actualBoundingBoxRight,h=e-s.actualBoundingBoxAscent,m=e+s.actualBoundingBoxDescent,v=r.strikethrough?(h+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,v),n.lineTo(l,v),n.stroke()}}function Hte(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function mv(n,t){const{x:e,y:i,w:r,h:s,radius:a}=t;n.arc(e+a.topLeft,i+a.topLeft,a.topLeft,-xr,nr,!0),n.lineTo(e,i+s-a.bottomLeft),n.arc(e+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,nr,xr,!0),n.lineTo(e+r-a.bottomRight,i+s),n.arc(e+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,xr,0,!0),n.lineTo(e+r,i+a.topRight),n.arc(e+r-a.topRight,i+a.topRight,a.topRight,0,-xr,!0),n.lineTo(e+a.topLeft,i)}const zte=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$te=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function jte(n,t){const e=(""+n).match(zte);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const Ute=n=>+n||0;function GM(n,t){const e={},i=si(t),r=i?Object.keys(t):t,s=si(n)?i?a=>Vn(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of r)e[a]=Ute(s(a));return e}function H2(n){return GM(n,{top:"y",right:"x",bottom:"y",left:"x"})}function hh(n){return GM(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Os(n){const t=H2(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Xr(n,t){let e=Vn((n=n||{}).size,(t=t||Ir.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=Vn(n.style,t.style);i&&!(""+i).match($te)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Vn(n.family,t.family),lineHeight:jte(Vn(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Vn(n.weight,t.weight),string:""};return r.string=function Pte(n){return!n||pi(n.size)||pi(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function vv(n,t,e,i){let s,a,l,r=!0;for(s=0,a=n.length;s<a;++s)if(l=n[s],void 0!==l&&(void 0!==t&&"function"==typeof l&&(l=l(t),r=!1),void 0!==e&&Wi(l)&&(l=l[e%l.length],r=!1),void 0!==l))return i&&!r&&(i.cacheable=!1),l}function Uu(n,t){return Object.assign(Object.create(n),t)}function WM(n,t=[""],e=n,i,r=(()=>n[0])){ha(i)||(i=G2("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:r,override:a=>WM([a,...n],t,e,i)};return new Proxy(s,{deleteProperty:(a,l)=>(delete a[l],delete a._keys,delete n[0][l],!0),get:(a,l)=>$2(a,l,()=>function Jte(n,t,e,i){let r;for(const s of t)if(r=G2(Wte(s,n),e),ha(r))return qM(n,r)?KM(e,i,n,r):r}(l,t,n,a)),getOwnPropertyDescriptor:(a,l)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],l),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(a,l)=>W2(a).includes(l),ownKeys:a=>W2(a),set(a,l,h){const m=a._storage||(a._storage=r());return a[l]=m[l]=h,delete a._keys,!0}})}function xp(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:z2(n,i),setContext:s=>xp(n,s,e,i),override:s=>xp(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty:(s,a)=>(delete s[a],delete n[a],!0),get:(s,a,l)=>$2(s,a,()=>function qte(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let l=i[t];return Hu(l)&&a.isScriptable(t)&&(l=function Kte(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_stack:l}=e;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);return l.add(n),t=t(s,a||i),l.delete(n),qM(n,t)&&(t=KM(r._scopes,r,n,t)),t}(t,l,n,e)),Wi(l)&&l.length&&(l=function Yte(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=e;if(ha(s.index)&&i(n))t=t[s.index%t.length];else if(si(t[0])){const h=t,m=r._scopes.filter(v=>v!==h);t=[];for(const v of h){const C=KM(m,r,n,v);t.push(xp(C,s,a&&a[n],l))}}return t}(t,l,n,a.isIndexable)),qM(t,l)&&(l=xp(l,r,s&&s[t],a)),l}(s,a,l)),getOwnPropertyDescriptor:(s,a)=>s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(s,a,l)=>(n[a]=l,delete s[a],!0)})}function z2(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Hu(e)?e:()=>e,isIndexable:Hu(i)?i:()=>i}}const Wte=(n,t)=>n?n+IM(t):t,qM=(n,t)=>si(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function $2(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function j2(n,t,e){return Hu(n)?n(t,e):n}const Zte=(n,t)=>!0===n?t:"string"==typeof n?Vu(t,n):void 0;function Xte(n,t,e,i,r){for(const s of t){const a=Zte(e,s);if(a){n.add(a);const l=j2(a._fallback,e,r);if(ha(l)&&l!==e&&l!==i)return l}else if(!1===a&&ha(i)&&e!==i)return null}return!1}function KM(n,t,e,i){const r=t._rootScopes,s=j2(t._fallback,e,i),a=[...n,...r],l=new Set;l.add(i);let h=U2(l,a,e,s||e,i);return!(null===h||ha(s)&&s!==e&&(h=U2(l,a,s,h,i),null===h))&&WM(Array.from(l),[""],r,s,()=>function Qte(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Wi(r)&&si(e)?e:r||{}}(t,e,i))}function U2(n,t,e,i,r){for(;e;)e=Xte(n,t,e,i,r);return e}function G2(n,t){for(const e of t){if(!e)continue;const i=e[n];if(ha(i))return i}}function W2(n){let t=n._keys;return t||(t=n._keys=function ene(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function q2(n,t,e,i){const{iScale:r}=n,{key:s="r"}=this._parsing,a=new Array(i);let l,h,m,v;for(l=0,h=i;l<h;++l)m=l+e,v=t[m],a[l]={r:r.parse(Vu(v,s),m)};return a}const tne=Number.EPSILON||1e-14,Dp=(n,t)=>t<n.length&&!n[t].skip&&n[t],K2=n=>"x"===n?"y":"x";function nne(n,t,e,i){const r=n.skip?t:n,s=t,a=e.skip?t:e,l=OM(s,r),h=OM(a,s);let m=l/(l+h),v=h/(l+h);m=isNaN(m)?0:m,v=isNaN(v)?0:v;const C=i*m,D=i*v;return{previous:{x:s.x-C*(a.x-r.x),y:s.y-C*(a.y-r.y)},next:{x:s.x+D*(a.x-r.x),y:s.y+D*(a.y-r.y)}}}function nw(n,t,e){return Math.max(Math.min(n,e),t)}function ane(n,t,e,i,r){let s,a,l,h;if(t.spanGaps&&(n=n.filter(m=>!m.skip)),"monotone"===t.cubicInterpolationMode)!function sne(n,t="x"){const e=K2(t),i=n.length,r=Array(i).fill(0),s=Array(i);let a,l,h,m=Dp(n,0);for(a=0;a<i;++a)if(l=h,h=m,m=Dp(n,a+1),h){if(m){const v=m[t]-h[t];r[a]=0!==v?(m[e]-h[e])/v:0}s[a]=l?m?Fl(r[a-1])!==Fl(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}(function ine(n,t,e){const i=n.length;let r,s,a,l,h,m=Dp(n,0);for(let v=0;v<i-1;++v)if(h=m,m=Dp(n,v+1),h&&m){if(cv(t[v],0,tne)){e[v]=e[v+1]=0;continue}r=e[v]/t[v],s=e[v+1]/t[v],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(a=3/Math.sqrt(l),e[v]=r*a*t[v],e[v+1]=s*a*t[v])}})(n,r,s),function rne(n,t,e="x"){const i=K2(e),r=n.length;let s,a,l,h=Dp(n,0);for(let m=0;m<r;++m){if(a=l,l=h,h=Dp(n,m+1),!l)continue;const v=l[e],C=l[i];a&&(s=(v-a[e])/3,l[`cp1${e}`]=v-s,l[`cp1${i}`]=C-s*t[m]),h&&(s=(h[e]-v)/3,l[`cp2${e}`]=v+s,l[`cp2${i}`]=C+s*t[m])}}(n,s,t)}(n,r);else{let m=i?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)l=n[s],h=nne(m,l,n[Math.min(s+1,a-(i?0:1))%a],t.tension),l.cp1x=h.previous.x,l.cp1y=h.previous.y,l.cp2x=h.next.x,l.cp2y=h.next.y,m=l}t.capBezierPoints&&function one(n,t){let e,i,r,s,a,l=gv(n[0],t);for(e=0,i=n.length;e<i;++e)a=s,s=l,l=e<i-1&&gv(n[e+1],t),s&&(r=n[e],a&&(r.cp1x=nw(r.cp1x,t.left,t.right),r.cp1y=nw(r.cp1y,t.top,t.bottom)),l&&(r.cp2x=nw(r.cp2x,t.left,t.right),r.cp2y=nw(r.cp2y,t.top,t.bottom)))}(n,e)}function Y2(){return typeof window<"u"&&typeof document<"u"}function YM(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function iw(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const rw=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),cne=["top","right","bottom","left"];function fh(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=cne[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function ph(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=rw(e),s="border-box"===r.boxSizing,a=fh(r,"padding"),l=fh(r,"border","width"),{x:h,y:m,box:v}=function dne(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let l,h,a=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(r,s,n.target))l=r,h=s;else{const m=t.getBoundingClientRect();l=i.clientX-m.left,h=i.clientY-m.top,a=!0}return{x:l,y:h,box:a}}(n,e),C=a.left+(v&&l.left),D=a.top+(v&&l.top);let{width:A,height:k}=t;return s&&(A-=a.width+l.width,k-=a.height+l.height),{x:Math.round((h-C)/A*e.width/i),y:Math.round((m-D)/k*e.height/i)}}const sw=n=>Math.round(10*n)/10;function Z2(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=r/i,n.width=s/i;const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s)&&(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const pne=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}();function X2(n,t){const e=function lne(n,t){return rw(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function gh(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function gne(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function mne(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},a=gh(n,r,e),l=gh(r,s,e),h=gh(s,t,e),m=gh(a,l,e),v=gh(l,h,e);return gh(m,v,e)}function Ep(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function Q2(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function J2(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function eV(n){return"angle"===n?{between:uv,compare:Xee,normalize:No}:{between:Ac,compare:(t,e)=>t-e,normalize:t=>t}}function tV({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function nV(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,a=t.length,{compare:l,between:h,normalize:m}=eV(i),{start:v,end:C,loop:D,style:A}=function _ne(n,t,e){const{property:i,start:r,end:s}=e,{between:a,normalize:l}=eV(i),h=t.length;let D,A,{start:m,end:v,loop:C}=n;if(C){for(m+=h,v+=h,D=0,A=h;D<A&&a(l(t[m%h][i]),r,s);++D)m--,v--;m%=h,v%=h}return v<m&&(v+=h),{start:m,end:v,loop:C,style:n.style}}(n,t,e),k=[];let V,q,te,P=!1,N=null;for(let dt=v,Rt=v;dt<=C;++dt)q=t[dt%a],!q.skip&&(V=m(q[i]),V!==te&&(P=h(V,r,s),null===N&&(P||h(r,te,V)&&0!==l(r,te))&&(N=0===l(V,r)?dt:Rt),null!==N&&(!P||0===l(s,V)||h(s,te,V))&&(k.push(tV({start:N,end:dt,loop:D,count:a,style:A})),N=null),Rt=dt,te=V));return null!==N&&k.push(tV({start:N,end:C,loop:D,count:a,style:A})),k}function iV(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=nV(i[r],n.points,t);s.length&&e.push(...s)}return e}function sV(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Dne(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}class Ene{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const a=e.duration;e.listeners[r].forEach(l=>l({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(i-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=_2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let h,a=s.length-1,l=!1;for(;a>=0;--a)h=s[a],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),l=!0):(s[a]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ic=new Ene;const oV="transparent",Sne={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=F2(n||oV),r=i.valid&&F2(t||oV);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class Mne{constructor(t,e,i,r){const s=e[i];r=vv([t.to,r,s,t.from]);const a=vv([t.from,s,r]);this._active=!0,this._fn=t.fn||Sne[t.type||typeof a],this._easing=E2[t.easing]||E2.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=vv([t.to,e,r,t.from]),this._from=vv([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,l=this._to;let h;if(this._active=s!==l&&(a||e<i),!this._active)return this._target[r]=l,void this._notify(!0);e<0?this._target[r]=s:(h=e/i%2,h=a&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(s,l,h))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class aV{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!si(t))return;const e=Object.keys(Ir.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!si(s))return;const a={};for(const l of e)a[l]=s[l];(Wi(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,a)})})}_animateOptions(t,e){const i=e.options,r=function Tne(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function Ane(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),a=Object.keys(e),l=Date.now();let h;for(h=a.length-1;h>=0;--h){const m=a[h];if("$"===m.charAt(0))continue;if("options"===m){r.push(...this._animateOptions(t,e));continue}const v=e[m];let C=s[m];const D=i.get(m);if(C){if(D&&C.active()){C.update(D,v,l);continue}C.cancel()}D&&D.duration?(s[m]=C=new Mne(D,t,m,v),r.push(C)):t[m]=v}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Ic.add(this._chart,i),!0):void 0}}function lV(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,s=void 0===e.max?t:0;return{start:i?s:r,end:i?r:s}}function cV(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function uV(n,t,e,i={}){const r=n.keys,s="single"===i.mode;let a,l,h,m;if(null!==t){for(a=0,l=r.length;a<l;++a){if(h=+r[a],h===e){if(i.all)continue;break}m=n.values[h],Cr(m)&&(s||0===t||Fl(t)===Fl(m))&&(t+=m)}return t}}function dV(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function Fne(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function hV(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function fV(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:a,index:l}=i,h=s.axis,m=a.axis,v=function One(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(s,a,i),C=t.length;let D;for(let A=0;A<C;++A){const k=t[A],{[h]:P,[m]:N}=k;D=(k._stacks||(k._stacks={}))[m]=Fne(r,v,P),D[l]=N,D._top=hV(D,a,!0,i.type),D._bottom=hV(D,a,!1,i.type)}}function ZM(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function yv(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][e])return;delete s[i][e]}}}const XM=n=>"reset"===n||"none"===n,pV=(n,t)=>t?n:Object.assign({},n);class Wa{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=dV(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&yv(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(C,D,A,k)=>"x"===C?D:"r"===C?k:A,s=e.xAxisID=Vn(i.xAxisID,ZM(t,"x")),a=e.yAxisID=Vn(i.yAxisID,ZM(t,"y")),l=e.rAxisID=Vn(i.rAxisID,ZM(t,"r")),h=e.indexAxis,m=e.iAxisID=r(h,s,a,l),v=e.vAxisID=r(h,a,s,l);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(v)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&v2(this._data,this),t._stacked&&yv(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(si(e))this._data=function Rne(n){const t=Object.keys(n),e=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],e[i]={x:s,y:n[s]};return e}(e);else if(i!==e){if(i){v2(i,this);const r=this._cachedMeta;yv(r),r._parsed=[]}e&&Object.isExtensible(e)&&function tte(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),m2.forEach(e=>{const i="_onData"+IM(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(l=>{"function"==typeof l[i]&&l[i](...s)}),a}})}))}(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=e._stacked;e._stacked=dV(e.vScale,e),e.stack!==i.stack&&(r=!0,yv(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&fV(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,l=s.axis;let v,C,D,h=0===t&&e===r.length||i._sorted,m=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=r,i._sorted=!0,D=r;else{D=Wi(r[t])?this.parseArrayData(i,r,t,e):si(r[t])?this.parseObjectData(i,r,t,e):this.parsePrimitiveData(i,r,t,e);const A=()=>null===C[l]||m&&C[l]<m[l];for(v=0;v<e;++v)i._parsed[v+t]=C=D[v],h&&(A()&&(h=!1),m=C);i._sorted=h}a&&fV(this,D)}parsePrimitiveData(t,e,i,r){const{iScale:s,vScale:a}=t,l=s.axis,h=a.axis,m=s.getLabels(),v=s===a,C=new Array(r);let D,A,k;for(D=0,A=r;D<A;++D)k=D+i,C[D]={[l]:v||s.parse(m[k],k),[h]:a.parse(e[k],k)};return C}parseArrayData(t,e,i,r){const{xScale:s,yScale:a}=t,l=new Array(r);let h,m,v,C;for(h=0,m=r;h<m;++h)v=h+i,C=e[v],l[h]={x:s.parse(C[0],v),y:a.parse(C[1],v)};return l}parseObjectData(t,e,i,r){const{xScale:s,yScale:a}=t,{xAxisKey:l="x",yAxisKey:h="y"}=this._parsing,m=new Array(r);let v,C,D,A;for(v=0,C=r;v<C;++v)D=v+i,A=e[D],m[v]={x:s.parse(Vu(A,l),D),y:a.parse(Vu(A,h),D)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this._cachedMeta,a=e[t.axis];return uV({keys:cV(this.chart,!0),values:e._stacks[t.axis]},a,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const s=i[e.axis];let a=null===s?NaN:s;const l=r&&i._stacks[e.axis];r&&l&&(r.values=l,a=uV(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,a=r.length,l=this._getOtherScale(t),h=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:cV(this.chart,!0),values:null})(e,i),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:v,max:C}=function Pne(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(l);let D,A;function k(){A=r[D];const P=A[l.axis];return!Cr(A[t.axis])||v>P||C<P}for(D=0;D<a&&(k()||(this.updateRangeFromParsed(m,t,A,h),!s));++D);if(s)for(D=a-1;D>=0;--D)if(!k()){this.updateRangeFromParsed(m,t,A,h);break}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=e.length;r<s;++r)a=e[r][t.axis],Cr(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function Ine(n){let t,e,i,r;return si(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(Vn(this.options.clip,function kne(n,t,e){if(!1===e)return!1;const i=lV(n,e),r=lV(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this._cachedMeta,r=i.data||[],s=this.chart.chartArea,a=[],l=this._drawStart||0,h=this._drawCount||r.length-l,m=this.options.drawActiveElementsOnTop;let v;for(i.dataset&&i.dataset.draw(t,s,l,h),v=l;v<l+h;++v){const C=r[v];C.hidden||(C.active&&m?a.push(C):C.draw(t,s))}for(v=0;v<a.length;++v)a[v].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];s=a.$context||(a.$context=function Nne(n,t,e){return Uu(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=function Lne(n,t){return Uu(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r="active"===e,s=this._cachedDataOpts,a=t+"-"+e,l=s[a],h=this.enableOptionSharing&&ha(i);if(l)return pV(l,h);const m=this.chart.config,v=m.datasetElementScopeKeys(this._type,t),C=r?[`${t}Hover`,"hover",t,""]:[t,""],D=m.getOptionScopes(this.getDataset(),v),A=Object.keys(Ir.elements[t]),P=m.resolveNamedOptions(D,A,()=>this.getContext(i,r),C);return P.$shared&&(P.$shared=h,s[a]=Object.freeze(pV(P,h))),P}_resolveAnimations(t,e,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${e}`,l=s[a];if(l)return l;let h;if(!1!==r.options.animation){const v=this.chart.config,C=v.datasetAnimationScopeKeys(this._type,e),D=v.getOptionScopes(this.getDataset(),C);h=v.createResolver(D,this.getContext(t,i,e))}const m=new aV(r,h&&h.animations);return h&&h._cacheable&&(s[a]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||XM(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:a}}updateElement(t,e,i,r){XM(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!XM(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[l,h,m]of this._syncList)this[l](h,m);this._syncList=[];const r=i.length,s=e.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){const r=this._cachedMeta,s=r.data,a=t+e;let l;const h=m=>{for(m.length+=e,l=m.length-1;l>=a;l--)m[l]=m[l-e]};for(h(s),l=t;l<a;++l)s[l]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&yv(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Hne(n){const t=n.iScale,e=function Vne(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=y2(i.sort((r,s)=>r-s))}return n._cache.$bar}(t,n.type);let r,s,a,l,i=t._length;const h=()=>{32767===a||-32768===a||(ha(l)&&(i=Math.min(i,Math.abs(a-l)||i)),l=a)};for(r=0,s=e.length;r<s;++r)a=t.getPixelForValue(e[r]),h();for(l=void 0,r=0,s=t.ticks.length;r<s;++r)a=t.getPixelForTick(r),h();return i}function gV(n,t,e,i){return Wi(n)?function jne(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),a=Math.min(r,s),l=Math.max(r,s);let h=a,m=l;Math.abs(a)>Math.abs(l)&&(h=l,m=a),t[e.axis]=m,t._custom={barStart:h,barEnd:m,start:r,end:s,min:a,max:l}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function mV(n,t,e,i){const r=n.iScale,s=n.vScale,a=r.getLabels(),l=r===s,h=[];let m,v,C,D;for(m=e,v=e+i;m<v;++m)D=t[m],C={},C[r.axis]=l||r.parse(a[m],m),h.push(gV(D,C,s,m));return h}function QM(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function Wne(n,t,e,i){let r=t.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:l,reverse:h,top:m,bottom:v}=function Gne(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=v:(s[vV(v,a,l,h)]=!0,r=m)),s[vV(r,a,l,h)]=!0,n.borderSkipped=s}function vV(n,t,e,i){return i?(n=function qne(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=yV(n,e,t)):n=yV(n,t,e),n}function yV(n,t,e){return"start"===n?t:"end"===n?e:n}function Kne(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}Bt(Wa,"defaults",{}),Bt(Wa,"datasetElementType",null),Bt(Wa,"dataElementType",null);class ow extends Wa{parsePrimitiveData(t,e,i,r){return mV(t,e,i,r)}parseArrayData(t,e,i,r){return mV(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:s,vScale:a}=t,{xAxisKey:l="x",yAxisKey:h="y"}=this._parsing,m="x"===s.axis?l:h,v="x"===a.axis?l:h,C=[];let D,A,k,P;for(D=i,A=i+r;D<A;++D)P=e[D],k={},k[s.axis]=s.parse(Vu(P,m),D),C.push(gV(Vu(P,v),k,a,D));return C}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),a=s._custom,l=QM(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const s="reset"===r,{index:a,_cachedMeta:{vScale:l}}=this,h=l.getBasePixel(),m=l.isHorizontal(),v=this._getRuler(),{sharedOptions:C,includeOptions:D}=this._getSharedOptions(e,r);for(let A=e;A<e+i;A++){const k=this.getParsed(A),P=s||pi(k[l.axis])?{base:h,head:h}:this._calculateBarValuePixels(A),N=this._calculateBarIndexPixels(A,v),V=(k._stacks||{})[l.axis],q={horizontal:m,base:P.base,enableBorderRadius:!V||QM(k._custom)||a===V._top||a===V._bottom,x:m?P.head:N.center,y:m?N.center:P.head,height:m?N.size:Math.abs(P.size),width:m?Math.abs(P.size):N.size};D&&(q.options=C||this.resolveDataElementOptions(A,t[A].active?"active":r));const te=q.options||t[A].options;Wne(q,te,V,a),Kne(q,te,v.ratio),this.updateElement(t[A],A,q,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=i.options.stacked,a=[],l=h=>{const m=h.controller.getParsed(e),v=m&&m[h.vScale.axis];if(pi(v)||isNaN(v))return!0};for(const h of r)if((void 0===e||!l(h))&&((!1===s||-1===a.indexOf(h.stack)||void 0===s&&void 0===h.stack)&&a.push(h.stack),h.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const r=this._getStacks(t,i),s=void 0!==e?r.indexOf(e):-1;return-1===s?r.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,a;for(s=0,a=e.data.length;s<a;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const l=t.barThickness;return{min:l||Hne(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i},options:{base:r,minBarLength:s}}=this,a=r||0,l=this.getParsed(t),h=l._custom,m=QM(h);let A,k,v=l[e.axis],C=0,D=i?this.applyStack(e,l,i):v;D!==v&&(C=D-v,D=v),m&&(v=h.barStart,D=h.barEnd-h.barStart,0!==v&&Fl(v)!==Fl(h.barEnd)&&(C=0),C+=v);const P=pi(r)||m?C:r;let N=e.getPixelForValue(P);if(A=this.chart.getDataVisibility(t)?e.getPixelForValue(C+D):N,k=A-N,Math.abs(k)<s){k=function Une(n,t,e){return 0!==n?Fl(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(k,e,a)*s,v===a&&(N-=k/2);const V=e.getPixelForDecimal(0),q=e.getPixelForDecimal(1),te=Math.min(V,q),$=Math.max(V,q);N=Math.max(Math.min(N,$),te),A=N+k}if(N===e.getPixelForValue(a)){const V=Fl(k)*e.getLineWidthForValue(a)/2;N+=V,k-=V}return{size:k,base:N,head:A,center:A+k/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,s=r.skipNull,a=Vn(r.maxBarThickness,1/0);let l,h;if(e.grouped){const m=s?this._getStackCount(t):e.stackCount,v="flex"===r.barThickness?function $ne(n,t,e,i){const r=t.pixels,s=r[n];let a=n>0?r[n-1]:null,l=n<r.length-1?r[n+1]:null;const h=e.categoryPercentage;null===a&&(a=s-(null===l?t.end-t.start:l-s)),null===l&&(l=s+s-a);const m=s-(s-Math.min(a,l))/2*h;return{chunk:Math.abs(l-a)/2*h/i,ratio:e.barPercentage,start:m}}(t,e,r,m):function zne(n,t,e,i){const r=e.barThickness;let s,a;return pi(r)?(s=t.min*e.categoryPercentage,a=e.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:t.pixels[n]-s/2}}(t,e,r,m),C=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);l=v.start+v.chunk*C+v.chunk/2,h=Math.min(a,v.chunk*v.ratio)}else l=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(a,e.min*e.ratio);return{base:l-h/2,head:l+h/2,center:l,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)null!==this.getParsed(s)[e.axis]&&i[s].draw(this._ctx)}}Bt(ow,"id","bar"),Bt(ow,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Bt(ow,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class aw extends Wa{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const s=super.parsePrimitiveData(t,e,i,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(t,e,i,r){const s=super.parseArrayData(t,e,i,r);for(let a=0;a<s.length;a++)s[a]._custom=Vn(e[i+a][2],this.resolveDataElementOptions(a+i).radius);return s}parseObjectData(t,e,i,r){const s=super.parseObjectData(t,e,i,r);for(let a=0;a<s.length;a++){const l=e[i+a];s[a]._custom=Vn(l&&l.r&&+l.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,a=this.getParsed(t),l=r.getLabelForValue(a.x),h=s.getLabelForValue(a.y),m=a._custom;return{label:i[t]||"",value:"("+l+", "+h+(m?", "+m:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const s="reset"===r,{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:h,includeOptions:m}=this._getSharedOptions(e,r),v=a.axis,C=l.axis;for(let D=e;D<e+i;D++){const A=t[D],k=!s&&this.getParsed(D),P={},N=P[v]=s?a.getPixelForDecimal(.5):a.getPixelForValue(k[v]),V=P[C]=s?l.getBasePixel():l.getPixelForValue(k[C]);P.skip=isNaN(N)||isNaN(V),m&&(P.options=h||this.resolveDataElementOptions(D,A.active?"active":r),s&&(P.options.radius=0)),this.updateElement(A,D,P,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return"active"!==e&&(r.radius=0),r.radius+=Vn(i&&i._custom,s),r}}Bt(aw,"id","bubble"),Bt(aw,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Bt(aw,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Sp extends Wa{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=i;else{let a,l,s=h=>+i[h];if(si(i[t])){const{key:h="value"}=this._parsing;s=m=>+Vu(i[m],h)}for(a=t,l=t+e;a<l;++a)r._parsed[a]=s(a)}}_getRotation(){return Ga(this.options.rotation-90)}_getCircumference(){return Ga(this.options.circumference)}_getRotationExtents(){let t=qi,e=-qi;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),a=r._getCircumference();t=Math.min(t,s),e=Math.max(e,s+a)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),h=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,l),1),m=this._getRingWeight(this.index),{circumference:v,rotation:C}=this._getRotationExtents(),{ratioX:D,ratioY:A,offsetX:k,offsetY:P}=function Yne(n,t,e){let i=1,r=1,s=0,a=0;if(t<qi){const l=n,h=l+t,m=Math.cos(l),v=Math.sin(l),C=Math.cos(h),D=Math.sin(h),A=(te,$,he)=>uv(te,l,h,!0)?1:Math.max($,$*e,he,he*e),k=(te,$,he)=>uv(te,l,h,!0)?-1:Math.min($,$*e,he,he*e),P=A(0,m,C),N=A(xr,v,D),V=k(nr,m,C),q=k(nr+xr,v,D);i=(P-V)/2,r=(N-q)/2,s=-(P+V)/2,a=-(N+q)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}(C,v,h),q=Math.max(Math.min((i.width-a)/D,(i.height-a)/A)/2,0),te=a2(this.options.radius,q),he=(te-Math.max(te*h,0))/this._getVisibleDatasetWeightTotal();this.offsetX=k*te,this.offsetY=P*te,r.total=this.calculateTotal(),this.outerRadius=te-he*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-he*m,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/qi)}updateElements(t,e,i,r){const s="reset"===r,a=this.chart,l=a.chartArea,v=(l.left+l.right)/2,C=(l.top+l.bottom)/2,D=s&&a.options.animation.animateScale,A=D?0:this.innerRadius,k=D?0:this.outerRadius,{sharedOptions:P,includeOptions:N}=this._getSharedOptions(e,r);let q,V=this._getRotation();for(q=0;q<e;++q)V+=this._circumference(q,s);for(q=e;q<e+i;++q){const te=this._circumference(q,s),$=t[q],he={x:v+this.offsetX,y:C+this.offsetY,startAngle:V,endAngle:V+te,circumference:te,outerRadius:k,innerRadius:A};N&&(he.options=P||this.resolveDataElementOptions(q,$.active?"active":r)),V+=te,this.updateElement($,q,he,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let r,i=0;for(r=0;r<e.length;r++){const s=t._parsed[r];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?qi*(Math.abs(t)/e):0}getLabelAndValue(t){const i=this.chart,r=i.data.labels||[],s=fv(this._cachedMeta._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,s,a,l,h;if(!t)for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),t=a.data,l=a.controller;break}if(!t)return 0;for(r=0,s=t.length;r<s;++r)h=l.resolveDataElementOptions(r),"inner"!==h.borderAlign&&(e=Math.max(e,h.borderWidth||0,h.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Vn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Bt(Sp,"id","doughnut"),Bt(Sp,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Bt(Sp,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t}),Bt(Sp,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,a)=>{const h=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class lw extends Wa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,a=this.chart._animationsDisabled;let{start:l,count:h}=w2(e,r,a);this._drawStart=l,this._drawCount=h,C2(e)&&(l=0,h=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:m},t),this.updateElements(r,l,h,t)}updateElements(t,e,i,r){const s="reset"===r,{iScale:a,vScale:l,_stacked:h,_dataset:m}=this._cachedMeta,{sharedOptions:v,includeOptions:C}=this._getSharedOptions(e,r),D=a.axis,A=l.axis,{spanGaps:k,segment:P}=this.options,N=wp(k)?k:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||s||"none"===r,q=e+i,te=t.length;let $=e>0&&this.getParsed(e-1);for(let he=0;he<te;++he){const _e=t[he],Ze=V?_e:{};if(he<e||he>=q){Ze.skip=!0;continue}const dt=this.getParsed(he),Rt=pi(dt[A]),zt=Ze[D]=a.getPixelForValue(dt[D],he),rn=Ze[A]=s||Rt?l.getBasePixel():l.getPixelForValue(h?this.applyStack(l,dt,h):dt[A],he);Ze.skip=isNaN(zt)||isNaN(rn)||Rt,Ze.stop=he>0&&Math.abs(dt[D]-$[D])>N,P&&(Ze.parsed=dt,Ze.raw=m.data[he]),C&&(Ze.options=v||this.resolveDataElementOptions(he,_e.active?"active":r)),V||this.updateElement(_e,he,Ze,r),$=dt}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Bt(lw,"id","line"),Bt(lw,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Bt(lw,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class cw extends Wa{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const i=this.chart,r=i.data.labels||[],s=fv(this._cachedMeta._parsed[t].r,i.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,e,i,r){return q2.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),s=Math.max(r/2,0),l=(s-Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,e,i,r){const s="reset"===r,a=this.chart,h=a.options.animation,m=this._cachedMeta.rScale,v=m.xCenter,C=m.yCenter,D=m.getIndexAngle(0)-.5*nr;let k,A=D;const P=360/this.countVisibleElements();for(k=0;k<e;++k)A+=this._computeAngle(k,r,P);for(k=e;k<e+i;k++){const N=t[k];let V=A,q=A+this._computeAngle(k,r,P),te=a.getDataVisibility(k)?m.getDistanceFromCenterForValue(this.getParsed(k).r):0;A=q,s&&(h.animateScale&&(te=0),h.animateRotate&&(V=q=D));const $={x:v,y:C,innerRadius:0,outerRadius:te,startAngle:V,endAngle:q,options:this.resolveDataElementOptions(k,N.active?"active":r)};this.updateElement(N,k,$,r)}}countVisibleElements(){let e=0;return this._cachedMeta.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Ga(this.resolveDataElementOptions(t,e).angle||i):0}}Bt(cw,"id","polarArea"),Bt(cw,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Bt(cw,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,a)=>{const h=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class JM extends Sp{}Bt(JM,"id","pie"),Bt(JM,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class uw extends Wa{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return q2.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],s=e.iScale.getLabels();if(i.points=r,"resize"!==t){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:s.length===r.length,options:a},t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const s=this._cachedMeta.rScale,a="reset"===r;for(let l=e;l<e+i;l++){const h=t[l],m=this.resolveDataElementOptions(l,h.active?"active":r),v=s.getPointPositionForValue(l,this.getParsed(l).r),C=a?s.xCenter:v.x,D=a?s.yCenter:v.y,A={x:C,y:D,angle:v.angle,skip:isNaN(C)||isNaN(D),options:m};this.updateElement(h,l,A,r)}}}Bt(uw,"id","radar"),Bt(uw,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Bt(uw,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class dw extends Wa{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,a=this.getParsed(t),l=r.getLabelForValue(a.x),h=s.getLabelForValue(a.y);return{label:i[t]||"",value:"("+l+", "+h+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:s,count:a}=w2(e,i,r);if(this._drawStart=s,this._drawCount=a,C2(e)&&(s=0,a=i.length),this.options.showLine){const{dataset:l,_dataset:h}=e;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!h._decimated,l.points=i;const m=this.resolveDatasetElementOptions(t);m.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:m},t)}this.updateElements(i,s,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const s="reset"===r,{iScale:a,vScale:l,_stacked:h,_dataset:m}=this._cachedMeta,v=this.resolveDataElementOptions(e,r),C=this.getSharedOptions(v),D=this.includeOptions(r,C),A=a.axis,k=l.axis,{spanGaps:P,segment:N}=this.options,V=wp(P)?P:Number.POSITIVE_INFINITY,q=this.chart._animationsDisabled||s||"none"===r;let te=e>0&&this.getParsed(e-1);for(let $=e;$<e+i;++$){const he=t[$],_e=this.getParsed($),Ze=q?he:{},dt=pi(_e[k]),Rt=Ze[A]=a.getPixelForValue(_e[A],$),zt=Ze[k]=s||dt?l.getBasePixel():l.getPixelForValue(h?this.applyStack(l,_e,h):_e[k],$);Ze.skip=isNaN(Rt)||isNaN(zt)||dt,Ze.stop=$>0&&Math.abs(_e[A]-te[A])>V,N&&(Ze.parsed=_e,Ze.raw=m.data[$]),D&&(Ze.options=C||this.resolveDataElementOptions($,he.active?"active":r)),q||this.updateElement(he,$,Ze,r),te=_e}this.updateSharedOptions(C,r,v)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let l=0;for(let h=e.length-1;h>=0;--h)l=Math.max(l,e[h].size(this.resolveDataElementOptions(h))/2);return l>0&&l}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const s=e[0].size(this.resolveDataElementOptions(0)),a=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,s,a)/2}}Bt(dw,"id","scatter"),Bt(dw,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Bt(dw,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Zne=Object.freeze({__proto__:null,BarController:ow,BubbleController:aw,DoughnutController:Sp,LineController:lw,PolarAreaController:cw,PieController:JM,RadarController:uw,ScatterController:dw});function mh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class eA{static override(t){Object.assign(eA.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return mh()}parse(){return mh()}format(){return mh()}add(){return mh()}diff(){return mh()}startOf(){return mh()}endOf(){return mh()}}var Xne__date=eA;function Qne(n,t,e,i){const{controller:r,data:s,_sorted:a}=n,l=r._cachedMeta.iScale;if(l&&t===l.axis&&"r"!==t&&a&&s.length){const h=l._reversePixels?Jee:Tc;if(!i)return h(s,t,e);if(r._sharedOptions){const m=s[0],v="function"==typeof m.getRange&&m.getRange(t);if(v){const C=h(s,t,e-v),D=h(s,t,e+v);return{lo:C.lo,hi:D.hi}}}}return{lo:0,hi:s.length-1}}function _v(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),a=e[t];for(let l=0,h=s.length;l<h;++l){const{index:m,data:v}=s[l],{lo:C,hi:D}=Qne(s[l],t,a,r);for(let A=C;A<=D;++A){const k=v[A];k.skip||i(k,m,A)}}}function tA(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||_v(n,e,t,function(l,h,m){!r&&!gv(l,n.chartArea,0)||l.inRange(t.x,t.y,i)&&s.push({element:l,datasetIndex:h,index:m})},!0),s}function nA(n,t,e,i,r,s){return s||n.isPointInArea(t)?"r"!==e||i?function tie(n,t,e,i,r,s){let a=[];const l=function Jne(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const s=t?Math.abs(i.x-r.x):0,a=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(e);let h=Number.POSITIVE_INFINITY;return _v(n,e,t,function m(v,C,D){const A=v.inRange(t.x,t.y,r);if(i&&!A)return;const k=v.getCenterPoint(r);if(!s&&!n.isPointInArea(k)&&!A)return;const N=l(t,k);N<h?(a=[{element:v,datasetIndex:C,index:D}],h=N):N===h&&a.push({element:v,datasetIndex:C,index:D})}),a}(n,t,e,i,r,s):function eie(n,t,e,i){let r=[];return _v(n,e,t,function s(a,l,h){const{startAngle:m,endAngle:v}=a.getProps(["startAngle","endAngle"],i),{angle:C}=g2(a,{x:t.x,y:t.y});uv(C,m,v)&&r.push({element:a,datasetIndex:l,index:h})}),r}(n,t,e,r):[]}function _V(n,t,e,i,r){const s=[],a="x"===e?"inXRange":"inYRange";let l=!1;return _v(n,e,t,(h,m,v)=>{h[a](t[e],r)&&(s.push({element:h,datasetIndex:m,index:v}),l=l||h.inRange(t.x,t.y,r))}),i&&!l?[]:s}var nie={evaluateInteractionItems:_v,modes:{index(n,t,e,i){const r=ph(t,n),s=e.axis||"x",a=e.includeInvisible||!1,l=e.intersect?tA(n,r,s,i,a):nA(n,r,s,!1,i,a),h=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const v=l[0].index,C=m.data[v];C&&!C.skip&&h.push({element:C,datasetIndex:m.index,index:v})}),h):[]},dataset(n,t,e,i){const r=ph(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;let l=e.intersect?tA(n,r,s,i,a):nA(n,r,s,!1,i,a);if(l.length>0){const h=l[0].datasetIndex,m=n.getDatasetMeta(h).data;l=[];for(let v=0;v<m.length;++v)l.push({element:m[v],datasetIndex:h,index:v})}return l},point:(n,t,e,i)=>tA(n,ph(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>nA(n,ph(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>_V(n,ph(t,n),"x",e.intersect,i),y:(n,t,e,i)=>_V(n,ph(t,n),"y",e.intersect,i)}};const bV=["left","top","right","bottom"];function bv(n,t){return n.filter(e=>e.pos===t)}function wV(n,t){return n.filter(e=>-1===bV.indexOf(e.pos)&&e.box.axis===t)}function wv(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function CV(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function xV(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function aie(n,t,e,i){const{pos:r,box:s}=e,a=n.maxPadding;if(!si(r)){e.size&&(n[r]-=e.size);const C=i[e.stack]||{size:0,count:1};C.size=Math.max(C.size,e.horizontal?s.height:s.width),e.size=C.size/C.count,n[r]+=e.size}s.getPadding&&xV(a,s.getPadding());const l=Math.max(0,t.outerWidth-CV(a,n,"left","right")),h=Math.max(0,t.outerHeight-CV(a,n,"top","bottom")),m=l!==n.w,v=h!==n.h;return n.w=l,n.h=h,e.horizontal?{same:m,other:v}:{same:v,other:m}}function cie(n,t){const e=t.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(t[a],e[a])}),s}(n?["left","right"]:["top","bottom"])}function Cv(n,t,e,i){const r=[];let s,a,l,h,m,v;for(s=0,a=n.length,m=0;s<a;++s){l=n[s],h=l.box,h.update(l.width||t.w,l.height||t.h,cie(l.horizontal,t));const{same:C,other:D}=aie(t,e,l,i);m|=C&&r.length,v=v||D,h.fullSize||r.push(l)}return m&&Cv(r,t,e,i)||v}function hw(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function DV(n,t,e,i){const r=e.padding;let{x:s,y:a}=t;for(const l of n){const h=l.box,m=i[l.stack]||{count:1,placed:0,weight:1},v=l.stackWeight/m.weight||1;if(l.horizontal){const C=t.w*v,D=m.size||h.height;ha(m.start)&&(a=m.start),h.fullSize?hw(h,r.left,a,e.outerWidth-r.right-r.left,D):hw(h,t.left+m.placed,a,C,D),m.start=a,m.placed+=C,a=h.bottom}else{const C=t.h*v,D=m.size||h.width;ha(m.start)&&(s=m.start),h.fullSize?hw(h,s,r.top,D,e.outerHeight-r.bottom-r.top):hw(h,s,t.top+m.placed,D,C),m.start=s,m.placed+=C,s=h.right}}t.x=s,t.y=a}var Ps={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Os(n.options.layout.padding),s=Math.max(t-r.width,0),a=Math.max(e-r.height,0),l=function oie(n){const t=function iie(n){const t=[];let e,i,r,s,a,l;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:s,options:{stack:a,stackWeight:l=1}}=r),t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:l});return t}(n),e=wv(t.filter(m=>m.box.fullSize),!0),i=wv(bv(t,"left"),!0),r=wv(bv(t,"right")),s=wv(bv(t,"top"),!0),a=wv(bv(t,"bottom")),l=wV(t,"x"),h=wV(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(h).concat(a).concat(l),chartArea:bv(t,"chartArea"),vertical:i.concat(r).concat(h),horizontal:s.concat(a).concat(l)}}(n.boxes),h=l.vertical,m=l.horizontal;Mi(n.boxes,P=>{"function"==typeof P.beforeLayout&&P.beforeLayout()});const v=h.reduce((P,N)=>N.box.options&&!1===N.box.options.display?P:P+1,0)||1,C=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/v,hBoxMaxHeight:a/2}),D=Object.assign({},r);xV(D,Os(i));const A=Object.assign({maxPadding:D,w:s,h:a,x:r.left,y:r.top},r),k=function sie(n,t){const e=function rie(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!bV.includes(r))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,a,l;for(s=0,a=n.length;s<a;++s){l=n[s];const{fullSize:h}=l.box,m=e[l.stack],v=m&&l.stackWeight/m.weight;l.horizontal?(l.width=v?v*i:h&&t.availableWidth,l.height=r):(l.width=i,l.height=v?v*r:h&&t.availableHeight)}return e}(h.concat(m),C);Cv(l.fullSize,A,C,k),Cv(h,A,C,k),Cv(m,A,C,k)&&Cv(h,A,C,k),function lie(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(A),DV(l.leftAndTop,A,C,k),A.x+=A.w,A.y+=A.h,DV(l.rightAndBottom,A,C,k),n.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},Mi(l.chartArea,P=>{const N=P.box;Object.assign(N,n.chartArea),N.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class EV{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class uie extends EV{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const fw="$chartjs",die={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},SV=n=>null===n||""===n,MV=!!pne&&{passive:!0};function pie(n,t,e){n.canvas.removeEventListener(t,e,MV)}function pw(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function mie(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||pw(l.addedNodes,i),a=a&&!pw(l.removedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function vie(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||pw(l.removedNodes,i),a=a&&!pw(l.addedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const xv=new Map;let AV=0;function TV(){const n=window.devicePixelRatio;n!==AV&&(AV=n,xv.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function bie(n,t,e){const i=n.canvas,r=i&&YM(i);if(!r)return;const s=b2((l,h)=>{const m=r.clientWidth;e(l,h),m<r.clientWidth&&e()},window),a=new ResizeObserver(l=>{const h=l[0],m=h.contentRect.width,v=h.contentRect.height;0===m&&0===v||s(m,v)});return a.observe(r),function yie(n,t){xv.size||window.addEventListener("resize",TV),xv.set(n,t)}(n,s),a}function iA(n,t,e){e&&e.disconnect(),"resize"===t&&function _ie(n){xv.delete(n),xv.size||window.removeEventListener("resize",TV)}(n)}function wie(n,t,e){const i=n.canvas,r=b2(s=>{null!==n.ctx&&e(function gie(n,t){const e=die[n.type]||n.type,{x:i,y:r}=ph(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n);return function fie(n,t,e){n.addEventListener(t,e,MV)}(i,t,r),r}class Cie extends EV{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function hie(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[fw]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",SV(r)){const s=X2(n,"width");void 0!==s&&(n.width=s)}if(SV(i))if(""===n.style.height)n.height=n.width/(t||2);else{const s=X2(n,"height");void 0!==s&&(n.height=s)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[fw])return!1;const i=e[fw].initial;["height","width"].forEach(s=>{const a=i[s];pi(a)?e.removeAttribute(s):e.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[fw],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:mie,detach:vie,resize:bie}[e]||wie)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:iA,detach:iA,resize:iA}[e]||pie)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function fne(n,t,e,i){const r=rw(n),s=fh(r,"margin"),a=iw(r.maxWidth,n,"clientWidth")||G0,l=iw(r.maxHeight,n,"clientHeight")||G0,h=function hne(n,t,e){let i,r;if(void 0===t||void 0===e){const s=YM(n);if(s){const a=s.getBoundingClientRect(),l=rw(s),h=fh(l,"border","width"),m=fh(l,"padding");t=a.width-m.width-h.width,e=a.height-m.height-h.height,i=iw(l.maxWidth,s,"clientWidth"),r=iw(l.maxHeight,s,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||G0,maxHeight:r||G0}}(n,t,e);let{width:m,height:v}=h;if("content-box"===r.boxSizing){const D=fh(r,"border","width"),A=fh(r,"padding");m-=A.width+D.width,v-=A.height+D.height}return m=Math.max(0,m-s.width),v=Math.max(0,i?Math.floor(m/i):v-s.height),m=sw(Math.min(m,a,h.maxWidth)),v=sw(Math.min(v,l,h.maxHeight)),m&&!v&&(v=sw(m/2)),(void 0!==t||void 0!==e)&&i&&h.height&&v>h.height&&(v=h.height,m=sw(Math.floor(v*i))),{width:m,height:v}}(t,e,i,r)}isAttached(t){const e=YM(t);return!(!e||!e.isConnected)}}class qa{constructor(){Bt(this,"active",!1)}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return wp(this.x)&&wp(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function gw(n,t,e,i,r){const s=Vn(i,0),a=Math.min(Vn(r,n.length),n.length);let h,m,v,l=0;for(e=Math.ceil(e),r&&(h=r-i,e=h/Math.floor(h/e)),v=s;v<0;)l++,v=Math.round(s+l*e);for(m=Math.max(s,0);m<a;m++)m===v&&(t.push(n[m]),l++,v=Math.round(s+l*e))}Bt(qa,"defaults",{}),Bt(qa,"defaultRoutes");const kV=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e;function IV(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function Iie(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,a=n._endPixel,l=1e-6;let m,h=n.getPixelForTick(r);if(!(e&&(m=1===i?Math.max(h-s,a-h):0===t?(n.getPixelForTick(1)-h)/2:(h-n.getPixelForTick(r-1))/2,h+=r<t?m:-m,h<s-l||h>a+l)))return h}function Dv(n){return n.drawTicks?n.tickLength:0}function RV(n,t){if(!n.display)return 0;const e=Xr(n.font,t),i=Os(n.padding);return(Wi(n.text)?n.text.length:1)*e.lineHeight+i.height}function Fie(n,t,e){let i=FM(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class vh extends qa{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Lo(t,Number.POSITIVE_INFINITY),e=Lo(e,Number.NEGATIVE_INFINITY),i=Lo(i,Number.POSITIVE_INFINITY),r=Lo(r,Number.NEGATIVE_INFINITY),{min:Lo(t,i),max:Lo(e,r),minDefined:Cr(t),maxDefined:Cr(e)}}getMinMax(t){let a,{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:e,max:i};const l=this.getMatchingVisibleMetas();for(let h=0,m=l.length;h<m;++h)a=l[h].controller.getMinMax(this,t),r||(e=Math.min(e,a.min)),s||(i=Math.max(i,a.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:Lo(e,Lo(i,e)),max:Lo(i,Lo(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Vi(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Gte(n,t,e){const{min:i,max:r}=n,s=a2(t,(r-i)/2),a=(l,h)=>e&&0===l?0:l+h;return{min:a(i,-Math.abs(s)),max:a(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=l<this.ticks.length;this._convertTicksToLabels(h?IV(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function Die(n,t){const e=n.options.ticks,i=function Eie(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?function Mie(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],a=s.length,l=s[0],h=s[a-1],m=[];if(a>r)return function Aie(n,t,e,i){let a,r=0,s=e[0];for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(t.push(n[a]),r++,s=e[r*i])}(t,m,s,a/r),m;const v=function Sie(n,t,e){const i=function Tie(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const s=function Yee(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}(i);for(let a=0,l=s.length-1;a<l;a++){const h=s[a];if(h>r)return h}return Math.max(r,1)}(s,t,r);if(a>0){let C,D;const A=a>1?Math.round((h-l)/(a-1)):null;for(gw(t,m,v,pi(A)?0:l-A,l),C=0,D=a-1;C<D;C++)gw(t,m,v,s[C],s[C+1]);return gw(t,m,v,h,pi(A)?t.length:h+A),m}return gw(t,m,v),m}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Vi(this.options.afterUpdate,[this])}beforeSetDimensions(){Vi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Vi(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Vi(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Vi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=Vi(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){Vi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Vi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,r=e.minRotation||0,s=e.maxRotation;let l,h,m,a=r;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const v=this._getLabelSizes(),C=v.widest.width,D=v.highest.height,A=ds(this.chart.width-C,0,this.maxWidth);l=t.offset?this.maxWidth/i:A/(i-1),C+6>l&&(l=A/(i-(t.offset?.5:1)),h=this.maxHeight-Dv(t.grid)-e.padding-RV(t.title,this.chart.options.font),m=Math.sqrt(C*C+D*D),a=RM(Math.min(Math.asin(ds((v.highest.height+6)/l,-1,1)),Math.asin(ds(h/m,-1,1))-Math.asin(ds(D/m,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Vi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Vi(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const h=RV(r,e.options.font);if(l?(t.width=this.maxWidth,t.height=Dv(s)+h):(t.height=this.maxHeight,t.width=Dv(s)+h),i.display&&this.ticks.length){const{first:m,last:v,widest:C,highest:D}=this._getLabelSizes(),A=2*i.padding,k=Ga(this.labelRotation),P=Math.cos(k),N=Math.sin(k);l?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:N*C.width+P*D.height)+A):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:P*C.width+N*D.height)+A),this._calculatePadding(m,v,N,P)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:a},position:l}=this.options,h=0!==this.labelRotation,m="top"!==l&&"x"===this.axis;if(this.isHorizontal()){const v=this.getPixelForTick(0)-this.left,C=this.right-this.getPixelForTick(this.ticks.length-1);let D=0,A=0;h?m?(D=r*t.width,A=i*e.height):(D=i*t.height,A=r*e.width):"start"===s?A=e.width:"end"===s?D=t.width:"inner"!==s&&(D=t.width/2,A=e.width/2),this.paddingLeft=Math.max((D-v+a)*this.width/(this.width-v),0),this.paddingRight=Math.max((A-C+a)*this.width/(this.width-C),0)}else{let v=e.height/2,C=t.height/2;"start"===s?(v=0,C=t.height):"end"===s&&(v=e.height,C=0),this.paddingTop=v+a,this.paddingBottom=C+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Vi(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)pi(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=IV(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:r}=this,s=[],a=[];let m,v,C,D,A,k,P,N,V,q,te,l=0,h=0;for(m=0;m<e;++m){if(D=t[m].label,A=this._resolveTickFontOptions(m),i.font=k=A.string,P=r[k]=r[k]||{data:{},gc:[]},N=A.lineHeight,V=q=0,pi(D)||Wi(D)){if(Wi(D))for(v=0,C=D.length;v<C;++v)te=D[v],!pi(te)&&!Wi(te)&&(V=J0(i,P.data,P.gc,V,te),q+=N)}else V=J0(i,P.data,P.gc,V,D),q=N;s.push(V),a.push(q),l=Math.max(V,l),h=Math.max(q,h)}!function Rie(n,t){Mi(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}(r,e);const $=s.indexOf(l),he=a.indexOf(h),_e=Ze=>({width:s[Ze]||0,height:a[Ze]||0});return{first:_e(0),last:_e(e-1),widest:_e($),highest:_e(he),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function Qee(n){return ds(n,-32768,32767)}(this._alignToPixels?uh(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function Pie(n,t,e){return Uu(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function Oie(n,t){return Uu(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ga(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),a=t.autoSkipPadding||0,l=s?s.widest.width+a:0,h=s?s.highest.height+a:0;return this.isHorizontal()?h*i>l*r?l/i:h/r:h*r<l*i?h/i:l/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:l}=r,h=s.offset,m=this.isHorizontal(),C=this.ticks.length+(h?1:0),D=Dv(s),A=[],k=l.setContext(this.getContext()),P=k.display?k.width:0,N=P/2,V=function(pt){return uh(i,pt,P)};let q,te,$,he,_e,Ze,dt,Rt,zt,rn,Yt,Gn;if("top"===a)q=V(this.bottom),Ze=this.bottom-D,Rt=q-N,rn=V(t.top)+N,Gn=t.bottom;else if("bottom"===a)q=V(this.top),rn=t.top,Gn=V(t.bottom)-N,Ze=q+N,Rt=this.top+D;else if("left"===a)q=V(this.right),_e=this.right-D,dt=q-N,zt=V(t.left)+N,Yt=t.right;else if("right"===a)q=V(this.left),zt=t.left,Yt=V(t.right)-N,_e=q+N,dt=this.left+D;else if("x"===e){if("center"===a)q=V((t.top+t.bottom)/2+.5);else if(si(a)){const pt=Object.keys(a)[0];q=V(this.chart.scales[pt].getPixelForValue(a[pt]))}rn=t.top,Gn=t.bottom,Ze=q+N,Rt=Ze+D}else if("y"===e){if("center"===a)q=V((t.left+t.right)/2);else if(si(a)){const pt=Object.keys(a)[0];q=V(this.chart.scales[pt].getPixelForValue(a[pt]))}_e=q-N,dt=_e-D,zt=t.left,Yt=t.right}const Ai=Vn(r.ticks.maxTicksLimit,C),$n=Math.max(1,Math.ceil(C/Ai));for(te=0;te<C;te+=$n){const pt=this.getContext(te),Ct=s.setContext(pt),kt=l.setContext(pt),tn=Ct.lineWidth,xi=Ct.color,Qr=kt.dash||[],Ki=kt.dashOffset,bs=Ct.tickWidth,yi=Ct.tickColor,Ka=Ct.tickBorderDash||[],Ya=Ct.tickBorderDashOffset;$=Iie(this,te,h),void 0!==$&&(he=uh(i,$,tn),m?_e=dt=zt=Yt=he:Ze=Rt=rn=Gn=he,A.push({tx1:_e,ty1:Ze,tx2:dt,ty2:Rt,x1:zt,y1:rn,x2:Yt,y2:Gn,width:tn,color:xi,borderDash:Qr,borderDashOffset:Ki,tickWidth:bs,tickColor:yi,tickBorderDash:Ka,tickBorderDashOffset:Ya}))}return this._ticksLength=C,this._borderValue=q,A}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),l=this.ticks,{align:h,crossAlign:m,padding:v,mirror:C}=s,D=Dv(i.grid),A=D+v,k=C?-v:A,P=-Ga(this.labelRotation),N=[];let V,q,te,$,he,_e,Ze,dt,Rt,zt,rn,Yt,Gn="middle";if("top"===r)_e=this.bottom-k,Ze=this._getXAxisLabelAlignment();else if("bottom"===r)_e=this.top+k,Ze=this._getXAxisLabelAlignment();else if("left"===r){const $n=this._getYAxisLabelAlignment(D);Ze=$n.textAlign,he=$n.x}else if("right"===r){const $n=this._getYAxisLabelAlignment(D);Ze=$n.textAlign,he=$n.x}else if("x"===e){if("center"===r)_e=(t.top+t.bottom)/2+A;else if(si(r)){const $n=Object.keys(r)[0];_e=this.chart.scales[$n].getPixelForValue(r[$n])+A}Ze=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)he=(t.left+t.right)/2-A;else if(si(r)){const $n=Object.keys(r)[0];he=this.chart.scales[$n].getPixelForValue(r[$n])}Ze=this._getYAxisLabelAlignment(D).textAlign}"y"===e&&("start"===h?Gn="top":"end"===h&&(Gn="bottom"));const Ai=this._getLabelSizes();for(V=0,q=l.length;V<q;++V){te=l[V],$=te.label;const $n=s.setContext(this.getContext(V));dt=this.getPixelForTick(V)+s.labelOffset,Rt=this._resolveTickFontOptions(V),zt=Rt.lineHeight,rn=Wi($)?$.length:1;const pt=rn/2,Ct=$n.color,kt=$n.textStrokeColor,tn=$n.textStrokeWidth;let Qr,xi=Ze;if(a?(he=dt,"inner"===Ze&&(xi=V===q-1?this.options.reverse?"left":"right":0===V?this.options.reverse?"right":"left":"center"),Yt="top"===r?"near"===m||0!==P?-rn*zt+zt/2:"center"===m?-Ai.highest.height/2-pt*zt+zt:zt/2-Ai.highest.height:"near"===m||0!==P?zt/2:"center"===m?Ai.highest.height/2-pt*zt:Ai.highest.height-rn*zt,C&&(Yt*=-1),0!==P&&!$n.showLabelBackdrop&&(he+=zt/2*Math.sin(P))):(_e=dt,Yt=(1-rn)*zt/2),$n.showLabelBackdrop){const Ki=Os($n.backdropPadding),bs=Ai.heights[V],yi=Ai.widths[V];let Ka=Yt-Ki.top,Ya=0-Ki.left;switch(Gn){case"middle":Ka-=bs/2;break;case"bottom":Ka-=bs}switch(Ze){case"center":Ya-=yi/2;break;case"right":Ya-=yi}Qr={left:Ya,top:Ka,width:yi+Ki.width,height:bs+Ki.height,color:$n.backdropColor}}N.push({rotation:P,label:$,font:Rt,color:Ct,strokeColor:kt,strokeWidth:tn,textOffset:Yt,textAlign:xi,textBaseline:Gn,translation:[he,_e],backdrop:Qr})}return N}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ga(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,l=t+s,h=this._getLabelSizes().widest.width;let m,v;return"left"===e?r?(v=this.right+s,"near"===i?m="left":"center"===i?(m="center",v+=h/2):(m="right",v+=h)):(v=this.right-l,"near"===i?m="right":"center"===i?(m="center",v-=h/2):(m="left",v=this.left)):"right"===e?r?(v=this.left+s,"near"===i?m="right":"center"===i?(m="center",v-=h/2):(m="left",v-=h)):(v=this.left+l,"near"===i?m="left":"center"===i?(m="center",v+=h/2):(m="right",v=this.right)):m="right",{textAlign:m,x:v}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,a;const l=(h,m,v)=>{!v.width||!v.color||(i.save(),i.lineWidth=v.width,i.strokeStyle=v.color,i.setLineDash(v.borderDash||[]),i.lineDashOffset=v.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(s=0,a=r.length;s<a;++s){const h=r[s];e.drawOnChartArea&&l({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&l({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const l=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let m,v,C,D;this.isHorizontal()?(m=uh(t,this.left,a)-a/2,v=uh(t,this.right,l)+l/2,C=D=h):(C=uh(t,this.top,a)-a/2,D=uh(t,this.bottom,l)+l/2,m=v=h),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(m,C),e.lineTo(v,D),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&ew(i,r);const s=this._labelItems||(this._labelItems=this._computeLabelItems(t));let a,l;for(a=0,l=s.length;a<l;++a){const h=s[a];dh(i,h.label,0,h.textOffset,h.font,h)}r&&tw(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=Xr(i.font),a=Os(i.padding),l=i.align;let h=s.lineHeight/2;"bottom"===e||"center"===e||si(e)?(h+=a.bottom,Wi(i.text)&&(h+=s.lineHeight*(i.text.length-1))):h+=a.top;const{titleX:m,titleY:v,maxWidth:C,rotation:D}=function Lie(n,t,e,i){const{top:r,left:s,bottom:a,right:l,chart:h}=n,{chartArea:m,scales:v}=h;let D,A,k,C=0;const P=a-r,N=l-s;if(n.isHorizontal()){if(A=Rs(i,s,l),si(e)){const V=Object.keys(e)[0];k=v[V].getPixelForValue(e[V])+P-t}else k="center"===e?(m.bottom+m.top)/2+P-t:kV(n,e,t);D=l-s}else{if(si(e)){const V=Object.keys(e)[0];A=v[V].getPixelForValue(e[V])-N+t}else A="center"===e?(m.left+m.right)/2-N+t:kV(n,e,t);k=Rs(i,a,r),C="left"===e?-xr:xr}return{titleX:A,titleY:k,maxWidth:D,rotation:C}}(this,h,e,l);dh(t,i.text,0,0,s,{color:i.color,maxWidth:C,rotation:D,textAlign:Fie(l,e,r),textBaseline:"middle",translation:[m,v]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Vn(t.grid&&t.grid.z,-1),r=Vn(t.border&&t.border.z,0);return this._isVisible()&&this.draw===vh.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]:[{z:e,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=e.length;s<a;++s){const l=e[s];l[i]===this.id&&(!t||l.type===t)&&r.push(l)}return r}_resolveTickFontOptions(t){return Xr(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class mw{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function Vie(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,s=t.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,function Nie(n,t,e){const i=av(Object.create(null),[e?Ir.get(e):{},Ir.get(t),n.defaults]);Ir.set(t,i),n.defaultRoutes&&function Bie(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),a=t[e].split("."),l=a.pop(),h=a.join(".");Ir.route(s,r,h,l)})}(t,n.defaultRoutes),n.descriptors&&Ir.describe(t,n.descriptors)}(t,a,i),this.override&&Ir.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ir[r]&&(delete Ir[r][i],this.override&&delete ch[i])}}class Hie{constructor(){this.controllers=new mw(Wa,"datasets",!0),this.elements=new mw(qa,"elements"),this.plugins=new mw(Object,"plugins"),this.scales=new mw(vh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):Mi(r,a=>{const l=i||this._getRegistryForType(a);this._exec(t,l,a)})})}_exec(t,e,i){const r=IM(t);Vi(i["before"+r],[],i),e[t](i),Vi(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Ll=new Hie;class zie{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(s,t,e,i);return"afterDestroy"===e&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,i,r){r=r||{};for(const s of t){const a=s.plugin;if(!1===Vi(a[i],[e,r,s.options],a)&&r.cancelable)return!1}return!0}invalidate(){pi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Vn(i.options&&i.options.plugins,{}),s=function $ie(n){const t={},e=[],i=Object.keys(Ll.plugins.items);for(let s=0;s<i.length;s++)e.push(Ll.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];-1===e.indexOf(a)&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==r||e?function Uie(n,{plugins:t,localIds:e},i,r){const s=[],a=n.getContext();for(const l of t){const h=l.id,m=jie(i[h],r);null!==m&&s.push({plugin:l,options:Gie(n.config,{plugin:l,local:e[h]},m,a)})}return s}(t,s,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(l=>!a.some(h=>l.plugin.id===h.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function jie(n,t){return t||!1!==n?!0===n?{}:n:null}function Gie(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),a=n.getOptionScopes(i,s);return e&&t.defaults&&a.push(t.defaults),n.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function rA(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(Ir.datasets[n]||{}).indexAxis||"x"}function vw(n,t){if("x"===n||"y"===n||"r"===n||(n=t.axis||function Kie(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(t.position)||n.length>1&&vw(n[0].toLowerCase(),t)))return n;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function OV(n){const t=n.options||(n.options={});t.plugins=Vn(t.plugins,{}),t.scales=function Yie(n,t){const e=ch[n.type]||{scales:{}},i=t.scales||{},r=rA(n.type,t),s=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!si(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const h=vw(a,l),m=function qie(n,t){return n===t?"_index_":"_value_"}(h,r),v=e.scales||{};s[a]=lv(Object.create(null),[{axis:h},l,v[h],v[m]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,h=a.indexAxis||rA(l,t),v=(ch[l]||{}).scales||{};Object.keys(v).forEach(C=>{const D=function Wie(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(C,h),A=a[D+"AxisID"]||D;s[A]=s[A]||Object.create(null),lv(s[A],[{axis:D},i[A],v[C]])})}),Object.keys(s).forEach(a=>{const l=s[a];lv(l,[Ir.scales[l.type],Ir.scale])}),s}(n,t)}function PV(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const FV=new Map,LV=new Set;function yw(n,t){let e=FV.get(n);return e||(e=t(),FV.set(n,e),LV.add(e)),e}const Ev=(n,t,e)=>{const i=Vu(t,e);void 0!==i&&n.add(i)};class Xie{constructor(t){this._config=function Zie(n){return(n=n||{}).data=PV(n.data),OV(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=PV(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),OV(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return yw(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return yw(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return yw(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return yw(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,a=this._cachedScopes(t,i),l=a.get(e);if(l)return l;const h=new Set;e.forEach(v=>{t&&(h.add(t),v.forEach(C=>Ev(h,t,C))),v.forEach(C=>Ev(h,r,C)),v.forEach(C=>Ev(h,ch[s]||{},C)),v.forEach(C=>Ev(h,Ir,C)),v.forEach(C=>Ev(h,$M,C))});const m=Array.from(h);return 0===m.length&&m.push(Object.create(null)),LV.has(e)&&a.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,ch[e]||{},Ir.datasets[e]||{},{type:e},Ir,$M]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=NV(this._resolverCache,t,r);let h=a;(function Jie(n,t){const{isScriptable:e,isIndexable:i}=z2(n);for(const r of t){const s=e(r),a=i(r),l=(a||s)&&n[r];if(s&&(Hu(l)||Qie(l))||a&&Wi(l))return!0}return!1})(a,e)&&(s.$shared=!1,h=xp(a,i=Hu(i)?i():i,this.createResolver(t,i,l)));for(const m of e)s[m]=h[m];return s}createResolver(t,e,i=[""],r){const{resolver:s}=NV(this._resolverCache,t,i);return si(e)?xp(s,e,void 0,r):s}}function NV(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:WM(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const Qie=n=>si(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||Hu(n[e]),!1),tre=["top","bottom","left","right","chartArea"];function BV(n,t){return"top"===n||"bottom"===n||-1===tre.indexOf(n)&&"x"===t}function VV(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function HV(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Vi(e&&e.onComplete,[n],t)}function nre(n){const t=n.chart,e=t.options.animation;Vi(e&&e.onProgress,[n],t)}function zV(n){return Y2()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const _w={},$V=n=>{const t=zV(n);return Object.values(_w).filter(e=>e.canvas===t).pop()};function ire(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const a=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=a)}}}class Gu{static register(...t){Ll.add(...t),jV()}static unregister(...t){Ll.remove(...t),jV()}constructor(t,e){const i=this.config=new Xie(e),r=zV(t),s=$V(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function xie(n){return!Y2()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?uie:Cie}(r)),this.platform.updateConfig(i);const l=this.platform.acquireContext(r,a.aspectRatio),h=l&&l.canvas,m=h&&h.height,v=h&&h.width;this.id=Hee(),this.ctx=l,this.canvas=h,this.width=v,this.height=m,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zie,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function nte(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(C=>this.update(C),a.resizeDelay||0),this._dataChanges=[],_w[this.id]=this,l&&h?(Ic.listen(this,"complete",HV),Ic.listen(this,"progress",nre),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return pi(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ll}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Z2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return B2(this.canvas,this.ctx),this}stop(){return Ic.stop(this),this}resize(t,e){Ic.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.platform.getMaximumSize(this.canvas,t,e,i.maintainAspectRatio&&this.aspectRatio),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Z2(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Vi(i.onResize,[this,a],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){Mi(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let s=[];e&&(s=s.concat(Object.keys(e).map(a=>{const l=e[a],h=vw(a,l),m="r"===h,v="x"===h;return{options:l,dposition:m?"chartArea":v?"bottom":"left",dtype:m?"radialLinear":v?"category":"linear"}}))),Mi(s,a=>{const l=a.options,h=l.id,m=vw(h,l),v=Vn(l.type,a.dtype);(void 0===l.position||BV(l.position,m)!==BV(a.dposition))&&(l.position=a.dposition),r[h]=!0;let C=null;h in i&&i[h].type===v?C=i[h]:(C=new(Ll.getScale(v))({id:h,type:v,ctx:this.ctx,chart:this}),i[C.id]=C),C.init(l,t)}),Mi(r,(a,l)=>{a||delete i[l]}),Mi(i,a=>{Ps.configure(this,a,a.options),Ps.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(VV("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{0===e.filter(s=>s===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let a=this.getDatasetMeta(i);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=s.indexAxis||rA(l,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const h=Ll.getController(l),{datasetElementType:m,dataElementType:v}=Ir.datasets[l];Object.assign(h,{dataElementType:Ll.getElement(v),datasetElementType:m&&Ll.getElement(m)}),a.controller=new h(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Mi(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let m=0,v=this.data.datasets.length;m<v;m++){const{controller:C}=this.getDatasetMeta(m),D=!r&&-1===s.indexOf(C);C.buildOrUpdateElements(D),a=Math.max(+C.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||Mi(s,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(VV("z","_idx"));const{_active:l,_lastEvent:h}=this;h?this._eventHandler(h,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Mi(this.scales,t=>{Ps.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!u2(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e)ire(t,r,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!u2(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ps.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Mi(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Hu(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Ic.has(this)?this.attached&&!Ic.running(this)&&Ic.start(this):(this.draw(),HV({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const a=e[r];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,r=!i.disabled,s=function sre(n){const{xScale:t,yScale:e}=n;if(t&&e)return{left:t.left,right:t.right,top:e.top,bottom:e.bottom}}(t)||this.chartArea,a={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&ew(e,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&tw(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return gv(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=nie.modes[e];return"function"==typeof s?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Uu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,r);ha(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(s,{visible:i}),this.update(l=>l.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ic.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),B2(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete _w[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,a)=>{e.addEventListener(this,s,a),t[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Mi(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,m)=>{e.addEventListener(this,h,m),t[h]=m},r=(h,m)=>{t[h]&&(e.removeEventListener(this,h,m),delete t[h])},s=(h,m)=>{this.canvas&&this.resize(h,m)};let a;const l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",l)},e.isAttached(this.canvas)?l():a()}unbindEvents(){Mi(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Mi(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,a,l,h;for("dataset"===e&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,h=t.length;l<h;++l){a=t[l];const m=a&&this.getDatasetMeta(a.datasetIndex).controller;m&&m[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!j0(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter(e=>e.plugin.id===t).length}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(h,m)=>h.filter(v=>!m.some(C=>v.datasetIndex===C.datasetIndex&&v.index===C.index)),a=s(e,t),l=i?t:s(t,e);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=a=>(a.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,l=this._getActiveElements(t,r,i,e),h=function Wee(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),m=function rre(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(t,this._lastEvent,i,h);i&&(this._lastEvent=null,Vi(s.onHover,[t,l,this],this),h&&Vi(s.onClick,[t,l,this],this));const v=!j0(l,r);return(v||e)&&(this._active=l,this._updateHoverStyles(l,r,e)),this._lastEvent=m,v}_getActiveElements(t,e,i,r){if("mouseout"===t.type)return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}}function jV(){return Mi(Gu.instances,n=>n._plugins.invalidate())}Bt(Gu,"defaults",Ir),Bt(Gu,"instances",_w),Bt(Gu,"overrides",ch),Bt(Gu,"registry",Ll),Bt(Gu,"version","4.0.1"),Bt(Gu,"getChart",$V);var UV=Gu;function Mp(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function bw(n,t,e,i,r,s){const{x:a,y:l,startAngle:h,pixelMargin:m,innerRadius:v}=t,C=Math.max(t.outerRadius+i+e-m,0),D=v>0?v+i+e+m:0;let A=0;const k=r-h;if(i){const Ct=((v>0?v-i:0)+(C>0?C-i:0))/2;A=(k-(0!==Ct?k*Ct/(Ct+i):k))/2}const N=(k-Math.max(.001,k*C-e/nr)/C)/2,V=h+N+A,q=r-N-A,{outerStart:te,outerEnd:$,innerStart:he,innerEnd:_e}=function lre(n,t,e,i){const r=function are(n){return GM(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(e-t)/2,a=Math.min(s,i*t/2),l=h=>{const m=(e-Math.min(s,h))*i/2;return ds(h,0,Math.min(s,m))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:ds(r.innerStart,0,a),innerEnd:ds(r.innerEnd,0,a)}}(t,D,C,q-V),Ze=C-te,dt=C-$,Rt=V+te/Ze,zt=q-$/dt,rn=D+he,Yt=D+_e,Gn=V+he/rn,Ai=q-_e/Yt;if(n.beginPath(),s){const $n=(Rt+zt)/2;if(n.arc(a,l,C,Rt,$n),n.arc(a,l,C,$n,zt),$>0){const tn=Mp(dt,zt,a,l);n.arc(tn.x,tn.y,$,zt,q+xr)}const pt=Mp(Yt,q,a,l);if(n.lineTo(pt.x,pt.y),_e>0){const tn=Mp(Yt,Ai,a,l);n.arc(tn.x,tn.y,_e,q+xr,Ai+Math.PI)}const Ct=(q-_e/D+(V+he/D))/2;if(n.arc(a,l,D,q-_e/D,Ct,!0),n.arc(a,l,D,Ct,V+he/D,!0),he>0){const tn=Mp(rn,Gn,a,l);n.arc(tn.x,tn.y,he,Gn+Math.PI,V-xr)}const kt=Mp(Ze,V,a,l);if(n.lineTo(kt.x,kt.y),te>0){const tn=Mp(Ze,Rt,a,l);n.arc(tn.x,tn.y,te,V-xr,Rt)}}else{n.moveTo(a,l);const $n=Math.cos(Rt)*C+a,pt=Math.sin(Rt)*C+l;n.lineTo($n,pt);const Ct=Math.cos(zt)*C+a,kt=Math.sin(zt)*C+l;n.lineTo(Ct,kt)}n.closePath()}class ww extends qa{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:s,distance:a}=g2(r,{x:t,y:e}),{startAngle:l,endAngle:h,innerRadius:m,outerRadius:v,circumference:C}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),D=this.options.spacing/2,k=Vn(C,h-l)>=qi||uv(s,l,h),P=Ac(a,m+D,v+D);return k&&P}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:h,spacing:m}=this.options,v=(r+s)/2,C=(a+l+m+h)/2;return{x:e+Math.cos(v)*C,y:i+Math.sin(v)*C}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,s=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>qi?Math.floor(i/qi):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*r,Math.sin(l)*r);const m=r*(1-Math.sin(Math.min(nr,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function cre(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:l}=t;let h=t.endAngle;if(s){bw(n,t,e,i,h,r);for(let m=0;m<s;++m)n.fill();isNaN(l)||(h=a+(l%qi||qi))}bw(n,t,e,i,h,r),n.fill()}(t,this,m,s,a),function ure(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:l,options:h}=t,{borderWidth:m,borderJoinStyle:v}=h,C="inner"===h.borderAlign;if(!m)return;C?(n.lineWidth=2*m,n.lineJoin=v||"round"):(n.lineWidth=m,n.lineJoin=v||"bevel");let D=t.endAngle;if(s){bw(n,t,e,i,D,r);for(let A=0;A<s;++A)n.stroke();isNaN(l)||(D=a+(l%qi||qi))}C&&function ore(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:l,innerRadius:h}=t;let m=r/l;n.beginPath(),n.arc(s,a,l,i-m,e+m),h>r?(m=r/h,n.arc(s,a,h,e+m,i-m,!0)):n.arc(s,a,r,e+xr,i-xr),n.closePath(),n.clip()}(n,t,D),s||(bw(n,t,e,i,D,r),n.stroke())}(t,this,m,s,a),t.restore()}}function GV(n,t,e=t){n.lineCap=Vn(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Vn(e.borderDash,t.borderDash)),n.lineDashOffset=Vn(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Vn(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Vn(e.borderWidth,t.borderWidth),n.strokeStyle=Vn(e.borderColor,t.borderColor)}function dre(n,t,e){n.lineTo(e.x,e.y)}function WV(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:a,end:l}=t,h=Math.max(r,a),m=Math.min(s,l);return{count:i,start:h,loop:t.loop,ilen:m<h&&!(r<a&&s<a||r>l&&s>l)?i+m-h:m-h}}function fre(n,t,e,i){const{points:r,options:s}=t,{count:a,start:l,loop:h,ilen:m}=WV(r,e,i),v=function hre(n){return n.stepped?Lte:n.tension||"monotone"===n.cubicInterpolationMode?Nte:dre}(s);let A,k,P,{move:C=!0,reverse:D}=i||{};for(A=0;A<=m;++A)k=r[(l+(D?m-A:A))%a],!k.skip&&(C?(n.moveTo(k.x,k.y),C=!1):v(n,P,k,D,s.stepped),P=k);return h&&(k=r[(l+(D?m:0))%a],v(n,P,k,D,s.stepped)),!!h}function pre(n,t,e,i){const r=t.points,{count:s,start:a,ilen:l}=WV(r,e,i),{move:h=!0,reverse:m}=i||{};let D,A,k,P,N,V,v=0,C=0;const q=$=>(a+(m?l-$:$))%s,te=()=>{P!==N&&(n.lineTo(v,N),n.lineTo(v,P),n.lineTo(v,V))};for(h&&(A=r[q(0)],n.moveTo(A.x,A.y)),D=0;D<=l;++D){if(A=r[q(D)],A.skip)continue;const $=A.x,he=A.y,_e=0|$;_e===k?(he<P?P=he:he>N&&(N=he),v=(C*v+$)/++C):(te(),n.lineTo($,he),k=_e,C=0,P=N=he),V=he}te()}function sA(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?fre:pre}Bt(ww,"id","arc"),Bt(ww,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Bt(ww,"defaultRoutes",{backgroundColor:"backgroundColor"});const yre="function"==typeof Path2D;class Wu extends qa{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(ane(this._points,i,t,i.spanGaps?this._loop:this._fullLoop,e),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Cne(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:a,end:l}=function bne(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}(e,r,s,i);return function rV(n,t,e,i){return i&&i.setContext&&e?function xne(n,t,e,i){const r=n._chart.getContext(),s=sV(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,h=e.length,m=[];let v=s,C=t[0].start,D=C;function A(k,P,N,V){const q=l?-1:1;if(k!==P){for(k+=h;e[k%h].skip;)k-=q;for(;e[P%h].skip;)P+=q;k%h!=P%h&&(m.push({start:k%h,end:P%h,loop:N,style:V}),v=V,C=P%h)}}for(const k of t){C=l?C:k.start;let N,P=e[C%h];for(D=C+1;D<=k.end;D++){const V=e[D%h];N=sV(i.setContext(Uu(r,{type:"segment",p0:P,p1:V,p0DataIndex:(D-1)%h,p1DataIndex:D%h,datasetIndex:a}))),Dne(N,v)&&A(C,D-1,k.loop,v),P=V,v=N}C<D-1&&A(C,D-1,k.loop,v)}return m}(n,t,e,i):t}(n,!0===i?[{start:a,end:l,loop:s}]:function wne(n,t,e,i){const r=n.length,s=[];let h,a=t,l=n[t];for(h=t+1;h<=e;++h){const m=n[h%r];m.skip||m.stop?l.skip||(s.push({start:t%r,end:(h-1)%r,loop:i=!1}),t=a=m.stop?h:null):(a=h,l.skip&&(t=h)),l=m}return null!==a&&s.push({start:t%r,end:a%r,loop:i}),s}(e,a,l<a?l+r:l,!!n._fullLoop&&0===a&&l===r-1),e,t)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,i=t.length;return i&&this.points[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],s=this.points,a=iV(this,{property:e,start:r,end:r});if(!a.length)return;const l=[],h=function gre(n){return n.stepped?gne:n.tension||"monotone"===n.cubicInterpolationMode?mne:gh}(i);let m,v;for(m=0,v=a.length;m<v;++m){const{start:C,end:D}=a[m],A=s[C],k=s[D];if(A===k){l.push(A);continue}const N=h(A,k,Math.abs((r-A[e])/(k[e]-A[e])),i.stepped);N[e]=t[e],l.push(N)}return 1===l.length?l[0]:l}pathSegment(t,e,i){return sA(this)(t,this,e,i)}path(t,e,i){const r=this.segments,s=sA(this);let a=this._loop;e=e||0,i=i||this.points.length-e;for(const l of r)a&=s(t,this,l,{start:e,end:e+i-1});return!!a}draw(t,e,i,r){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function _re(n,t,e,i){yre&&!t.options.segment?function mre(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),GV(n,t.options),n.stroke(r)}(n,t,e,i):function vre(n,t,e,i){const{segments:r,options:s}=t,a=sA(t);for(const l of r)GV(n,s,l.style),n.beginPath(),a(n,t,l,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function qV(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}Bt(Wu,"id","line"),Bt(Wu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Bt(Wu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Bt(Wu,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class Cw extends qa{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(e-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return qV(this,t,"x",e)}inYRange(t,e){return qV(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;return e=Math.max(e,e&&t.hoverRadius||0),2*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this.options;this.skip||i.radius<.1||!gv(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,UM(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function KV(n,t){const{x:e,y:i,base:r,width:s,height:a}=n.getProps(["x","y","base","width","height"],t);let l,h,m,v,C;return n.horizontal?(C=a/2,l=Math.min(e,r),h=Math.max(e,r),m=i-C,v=i+C):(C=s/2,l=e-C,h=e+C,m=Math.min(i,r),v=Math.max(i,r)),{left:l,top:m,right:h,bottom:v}}function qu(n,t,e,i){return n?0:ds(t,e,i)}function oA(n,t,e,i){const r=null===t,s=null===e,l=n&&!(r&&s)&&KV(n,i);return l&&(r||Ac(t,l.left,l.right))&&(s||Ac(e,l.top,l.bottom))}function Dre(n,t){n.rect(t.x,t.y,t.w,t.h)}function aA(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}Bt(Cw,"id","point"),Bt(Cw,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Bt(Cw,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class xw extends qa{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=function Cre(n){const t=KV(n),e=t.right-t.left,i=t.bottom-t.top,r=function bre(n,t,e){const r=n.borderSkipped,s=H2(n.options.borderWidth);return{t:qu(r.top,s.top,0,e),r:qu(r.right,s.right,0,t),b:qu(r.bottom,s.bottom,0,e),l:qu(r.left,s.left,0,t)}}(n,e/2,i/2),s=function wre(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=hh(r),a=Math.min(t,e),l=n.borderSkipped,h=i||si(r);return{topLeft:qu(!h||l.top||l.left,s.topLeft,0,a),topRight:qu(!h||l.top||l.right,s.topRight,0,a),bottomLeft:qu(!h||l.bottom||l.left,s.bottomLeft,0,a),bottomRight:qu(!h||l.bottom||l.right,s.bottomRight,0,a)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),l=function xre(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?mv:Dre;t.save(),(a.w!==s.w||a.h!==s.h)&&(t.beginPath(),l(t,aA(a,e,s)),t.clip(),l(t,aA(s,-e,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),l(t,aA(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return oA(this,t,e,i)}inXRange(t,e){return oA(this,t,null,e)}inYRange(t,e){return oA(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Bt(xw,"id","bar"),Bt(xw,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Bt(xw,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Ere=Object.freeze({__proto__:null,ArcElement:ww,LineElement:Wu,PointElement:Cw,BarElement:xw});const lA=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],YV=lA.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function ZV(n){return lA[n%lA.length]}function XV(n){return YV[n%YV.length]}function QV(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var kre={id:"colors",defaults:{enabled:!0},beforeLayout(n,t,e){if(!e.enabled)return;const{type:i,options:{elements:r},data:{datasets:s}}=n.config;if(QV(s)||r&&QV(r))return;const a=function Tre(n){return"doughnut"===n||"pie"===n?function Mre(){let n=0;return t=>{t.backgroundColor=t.data.map(()=>ZV(n++))}}():"polarArea"===n?function Are(){let n=0;return t=>{t.backgroundColor=t.data.map(()=>XV(n++))}}():function Sre(){return(n,t)=>{n.borderColor=ZV(t),n.backgroundColor=XV(t)}}()}(i);s.forEach(a)}};function JV(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:t})}}function eH(n){n.data.datasets.forEach(t=>{JV(t)})}var Pre={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void eH(n);const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:a,indexAxis:l}=r,h=n.getDatasetMeta(s),m=a||r.data;if("y"===vv([l,n.options.indexAxis])||!h.controller.supportsDecimation)return;const v=n.scales[h.xAxisID];if("linear"!==v.type&&"time"!==v.type||n.options.parsing)return;let k,{start:C,count:D}=function Ore(n,t){const e=t.length;let r,i=0;const{iScale:s}=n,{min:a,max:l,minDefined:h,maxDefined:m}=s.getUserBounds();return h&&(i=ds(Tc(t,s.axis,a).lo,0,e-1)),r=m?ds(Tc(t,s.axis,l).hi+1,i,e)-i:e-i,{start:i,count:r}}(h,m);if(D<=(e.threshold||4*i))JV(r);else{switch(pi(a)&&(r._data=m,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(P){this._data=P}})),e.algorithm){case"lttb":k=function Ire(n,t,e,i,r){const s=r.samples||i;if(s>=e)return n.slice(t,t+e);const a=[],l=(e-2)/(s-2);let h=0;const m=t+e-1;let C,D,A,k,P,v=t;for(a[h++]=n[v],C=0;C<s-2;C++){let q,N=0,V=0;const te=Math.floor((C+1)*l)+1+t,$=Math.min(Math.floor((C+2)*l)+1,e)+t,he=$-te;for(q=te;q<$;q++)N+=n[q].x,V+=n[q].y;N/=he,V/=he;const _e=Math.floor(C*l)+1+t,Ze=Math.min(Math.floor((C+1)*l)+1,e)+t,{x:dt,y:Rt}=n[v];for(A=k=-1,q=_e;q<Ze;q++)k=.5*Math.abs((dt-N)*(n[q].y-Rt)-(dt-n[q].x)*(V-Rt)),k>A&&(A=k,D=n[q],P=q);a[h++]=D,v=P}return a[h++]=n[m],a}(m,C,D,i,e);break;case"min-max":k=function Rre(n,t,e,i){let a,l,h,m,v,C,D,A,k,P,r=0,s=0;const N=[],q=n[t].x,$=n[t+e-1].x-q;for(a=t;a<t+e;++a){l=n[a],h=(l.x-q)/$*i,m=l.y;const he=0|h;if(he===v)m<k?(k=m,C=a):m>P&&(P=m,D=a),r=(s*r+l.x)/++s;else{const _e=a-1;if(!pi(C)&&!pi(D)){const Ze=Math.min(C,D),dt=Math.max(C,D);Ze!==A&&Ze!==_e&&N.push({...n[Ze],x:r}),dt!==A&&dt!==_e&&N.push({...n[dt],x:r})}a>0&&_e!==A&&N.push(n[_e]),N.push(l),v=he,s=0,k=P=m,C=D=A=a}}return N}(m,C,D,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=k}})},destroy(n){eH(n)}};function cA(n,t,e,i){if(i)return;let r=t[n],s=e[n];return"angle"===n&&(r=No(r),s=No(s)),{property:n,start:r,end:s}}function uA(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function tH(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function nH(n,t){let e=[],i=!1;return Wi(n)?(i=!0,e=n):e=function Lre(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:a,end:l})=>{l=uA(a,l,r);const h=r[a],m=r[l];null!==i?(s.push({x:h.x,y:i}),s.push({x:m.x,y:i})):null!==e&&(s.push({x:e,y:h.y}),s.push({x:e,y:m.y}))}),s}(n,t),e.length?new Wu({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function iH(n){return n&&!1!==n.fill}function Nre(n,t,e){let r=n[t].fill;const s=[t];let a;if(!e)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!Cr(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function Bre(n,t,e){const i=function $re(n){const t=n.options,e=t.fill;let i=Vn(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(si(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return Cr(r)&&Math.floor(r)===r?function Vre(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Gre(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:a,last:l,point:h}=Wre(s,t,"x");if(!(!h||a&&l))if(a)i.unshift(h);else if(n.push(h),!l)break}n.push(...i)}function Wre(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,a=n.points;let l=!1,h=!1;for(let m=0;m<s.length;m++){const v=s[m],C=a[v.start][e],D=a[v.end][e];if(Ac(r,C,D)){l=r===C,h=r===D;break}}return{first:l,last:h,point:i}}class rH{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:a}=this;return t.arc(r,s,a,(e=e||{start:0,end:qi}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function dA(n,t,e){const i=function qre(n){const{chart:t,fill:e,line:i}=n;if(Cr(e))return function Kre(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function jre(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,a=i.points,l=function Ure(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}(t,e);l.push(nH({x:null,y:t.bottom},i));for(let h=0;h<s.length;h++){const m=s[h];for(let v=m.start;v<=m.end;v++)Gre(r,a[v],l)}return new Wu({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function Yre(n){return(n.scale||{}).getPointPositionForValue?function Xre(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,a=function zre(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:si(n)?n.value:t.getBaseValue(),i}(e,t,s),l=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,s);return new rH({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(a)})}for(let h=0;h<r;++h)l.push(t.getPointPositionForValue(h,a));return l}(n):function Zre(n){const{scale:t={},fill:e}=n,i=function Hre(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:si(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(Cr(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof rH?r:nH(r,i)}(t),{line:r,scale:s,axis:a}=t,l=r.options,h=l.fill,m=l.backgroundColor,{above:v=m,below:C=m}=h||{};i&&r.points.length&&(ew(n,e),function Qre(n,t){const{line:e,target:i,above:r,below:s,area:a,scale:l}=t,h=e._loop?"angle":t.axis;n.save(),"x"===h&&s!==r&&(sH(n,i,a.top),oH(n,{line:e,target:i,color:r,scale:l,property:h}),n.restore(),n.save(),sH(n,i,a.bottom)),oH(n,{line:e,target:i,color:s,scale:l,property:h}),n.restore()}(n,{line:r,target:i,above:v,below:C,area:e,scale:s,axis:a}),tw(n))}function sH(n,t,e){const{segments:i,points:r}=t;let s=!0,a=!1;n.beginPath();for(const l of i){const{start:h,end:m}=l,v=r[h],C=r[uA(h,m,r)];s?(n.moveTo(v.x,v.y),s=!1):(n.lineTo(v.x,e),n.lineTo(v.x,v.y)),a=!!t.pathSegment(n,l,{move:a}),a?n.closePath():n.lineTo(C.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function oH(n,t){const{line:e,target:i,property:r,color:s,scale:a}=t,l=function Fre(n,t,e){const i=n.segments,r=n.points,s=t.points,a=[];for(const l of i){let{start:h,end:m}=l;m=uA(h,m,r);const v=cA(e,r[h],r[m],l.loop);if(!t.segments){a.push({source:l,target:v,start:r[h],end:r[m]});continue}const C=iV(t,v);for(const D of C){const A=cA(e,s[D.start],s[D.end],D.loop),k=nV(l,r,A);for(const P of k)a.push({source:P,target:D,start:{[e]:tH(v,A,"start",Math.max)},end:{[e]:tH(v,A,"end",Math.min)}})}}return a}(e,i,r);for(const{source:h,target:m,start:v,end:C}of l){const{style:{backgroundColor:D=s}={}}=h,A=!0!==i;n.save(),n.fillStyle=D,Jre(n,a,A&&cA(r,v,C)),n.beginPath();const k=!!e.pathSegment(n,h);let P;if(A){k?n.closePath():aH(n,i,C,r);const N=!!i.pathSegment(n,m,{move:k,reverse:!0});P=k&&N,P||aH(n,i,v,r)}n.closePath(),n.fill(P?"evenodd":"nonzero"),n.restore()}}function Jre(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:a,end:l}=e||{};"x"===s&&(n.beginPath(),n.rect(a,i,l-a,r-i),n.clip())}function aH(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var ese={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,a,l,h;for(a=0;a<i;++a)s=n.getDatasetMeta(a),l=s.dataset,h=null,l&&l.options&&l instanceof Wu&&(h={visible:n.isDatasetVisible(a),index:a,fill:Bre(l,a,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=h,r.push(h);for(a=0;a<i;++a)h=r[a],h&&!1!==h.fill&&(h.fill=Nre(r,a,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=r.length-1;a>=0;--a){const l=r[a].$filler;!l||(l.line.updateControlPoints(s,l.axis),i&&l.fill&&dA(n.ctx,l,s))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;iH(s)&&dA(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!iH(i)||"beforeDatasetDraw"!==e.drawTime||dA(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const lH=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class cH extends qa{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Vi(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=Xr(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:h}=lH(i,s);let m,v;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,v=this._fitRows(a,s,l,h)+10):(v=this.maxHeight,m=this._fitCols(a,r,l,h)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(v,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,h=this.legendHitBoxes=[],m=this.lineWidths=[0],v=r+l;let C=t;s.textAlign="left",s.textBaseline="middle";let D=-1,A=-v;return this.legendItems.forEach((k,P)=>{const N=i+e/2+s.measureText(k.text).width;(0===P||m[m.length-1]+N+2*l>a)&&(C+=v,m[m.length-(P>0?0:1)]=0,A+=v,D++),h[P]={left:0,top:A,row:D,width:N,height:r},m[m.length-1]+=N+l}),C}_fitCols(t,e,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,h=this.legendHitBoxes=[],m=this.columnSizes=[],v=a-t;let C=l,D=0,A=0,k=0,P=0;return this.legendItems.forEach((N,V)=>{const{itemWidth:q,itemHeight:te}=function nse(n,t,e,i,r){const s=function ise(n,t,e,i){let r=n.text;return r&&"string"!=typeof r&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),t+e.size/2+i.measureText(r).width}(i,n,t,e),a=function rse(n,t,e){let i=n;return"string"!=typeof t.text&&(i=uH(t,e)),i}(r,i,t.lineHeight);return{itemWidth:s,itemHeight:a}}(i,e,s,N,r);V>0&&A+te+2*l>v&&(C+=D+l,m.push({width:D,height:A}),k+=D+l,P++,D=A=0),h[V]={left:k,top:A,col:P,width:q,height:te},D=Math.max(D,q),A+=te+l}),C+=D,m.push({width:D,height:A}),C}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,a=Ep(s,this.left,this.width);if(this.isHorizontal()){let l=0,h=Rs(i,this.left+r,this.right-this.lineWidths[l]);for(const m of e)l!==m.row&&(l=m.row,h=Rs(i,this.left+r,this.right-this.lineWidths[l])),m.top+=this.top+t+r,m.left=a.leftForLtr(a.x(h),m.width),h+=m.width+r}else{let l=0,h=Rs(i,this.top+t+r,this.bottom-this.columnSizes[l].height);for(const m of e)m.col!==l&&(l=m.col,h=Rs(i,this.top+t+r,this.bottom-this.columnSizes[l].height)),m.top=h,m.left+=this.left+r,m.left=a.leftForLtr(a.x(m.left),m.width),h+=m.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;ew(t,this),this._draw(),tw(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:a}=t,l=Ir.color,h=Ep(t.rtl,this.left,this.width),m=Xr(a.font),{padding:v}=a,C=m.size,D=C/2;let A;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:k,boxHeight:P,itemHeight:N}=lH(a,C),te=this.isHorizontal(),$=this._computeTitleHeight();A=te?{x:Rs(s,this.left+v,this.right-i[0]),y:this.top+v+$,line:0}:{x:this.left+v,y:Rs(s,this.top+$+v,this.bottom-e[0].height),line:0},Q2(this.ctx,t.textDirection);const he=N+v;this.legendItems.forEach((_e,Ze)=>{r.strokeStyle=_e.fontColor,r.fillStyle=_e.fontColor;const dt=r.measureText(_e.text).width,Rt=h.textAlign(_e.textAlign||(_e.textAlign=a.textAlign)),zt=k+D+dt;let rn=A.x,Yt=A.y;h.setWidth(this.width),te?Ze>0&&rn+zt+v>this.right&&(Yt=A.y+=he,A.line++,rn=A.x=Rs(s,this.left+v,this.right-i[A.line])):Ze>0&&Yt+he>this.bottom&&(rn=A.x=rn+e[A.line].width+v,A.line++,Yt=A.y=Rs(s,this.top+$+v,this.bottom-e[A.line].height)),function(_e,Ze,dt){if(isNaN(k)||k<=0||isNaN(P)||P<0)return;r.save();const Rt=Vn(dt.lineWidth,1);if(r.fillStyle=Vn(dt.fillStyle,l),r.lineCap=Vn(dt.lineCap,"butt"),r.lineDashOffset=Vn(dt.lineDashOffset,0),r.lineJoin=Vn(dt.lineJoin,"miter"),r.lineWidth=Rt,r.strokeStyle=Vn(dt.strokeStyle,l),r.setLineDash(Vn(dt.lineDash,[])),a.usePointStyle){const zt={radius:P*Math.SQRT2/2,pointStyle:dt.pointStyle,rotation:dt.rotation,borderWidth:Rt},rn=h.xPlus(_e,k/2);V2(r,zt,rn,Ze+D,a.pointStyleWidth&&k)}else{const zt=Ze+Math.max((C-P)/2,0),rn=h.leftForLtr(_e,k),Yt=hh(dt.borderRadius);r.beginPath(),Object.values(Yt).some(Gn=>0!==Gn)?mv(r,{x:rn,y:zt,w:k,h:P,radius:Yt}):r.rect(rn,zt,k,P),r.fill(),0!==Rt&&r.stroke()}r.restore()}(h.x(rn),Yt,_e),rn=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(Rt,rn+k+D,te?rn+zt:this.right,t.rtl),function(_e,Ze,dt){dh(r,dt.text,_e,Ze+N/2,m,{strikethrough:dt.hidden,textAlign:h.textAlign(dt.textAlign)})}(h.x(rn),Yt,_e),te?A.x+=zt+v:A.y+="string"!=typeof _e.text?uH(_e,m.lineHeight):he}),J2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Xr(e.font),r=Os(e.padding);if(!e.display)return;const s=Ep(t.rtl,this.left,this.width),a=this.ctx,l=e.position,m=r.top+i.size/2;let v,C=this.left,D=this.width;if(this.isHorizontal())D=Math.max(...this.lineWidths),v=this.top+m,C=Rs(t.align,C,this.right-D);else{const k=this.columnSizes.reduce((P,N)=>Math.max(P,N.height),0);v=m+Rs(t.align,this.top,this.bottom-k-t.labels.padding-this._computeTitleHeight())}const A=Rs(l,C,C+D);a.textAlign=s.textAlign(FM(l)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=i.string,dh(a,e.text,A,v,i)}_computeTitleHeight(){const t=this.options.title,e=Xr(t.font),i=Os(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(Ac(t,this.left,this.right)&&Ac(e,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Ac(t,r.left,r.left+r.width)&&Ac(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function sse(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,s=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!s&&Vi(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&Vi(e.onHover,[t,i,this],this)}else i&&Vi(e.onClick,[t,i,this],this)}}function uH(n,t){return t*(n.text?n.text.length+.5:0)}var ose={id:"legend",_element:cH,start(n,t,e){const i=n.legend=new cH({ctx:n.ctx,options:e,chart:n});Ps.configure(n,i,e),Ps.addBox(n,i)},stop(n){Ps.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ps.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const m=h.controller.getStyle(e?0:void 0),v=Os(m.borderWidth);return{text:t[h.index].label,fillStyle:m.backgroundColor,fontColor:s,hidden:!h.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(v.width+v.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:a&&(l||m.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class hA extends qa{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=Wi(i.text)?i.text.length:1;this._padding=Os(i.padding);const s=r*Xr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:a}=this,l=a.align;let m,v,C,h=0;return this.isHorizontal()?(v=Rs(l,i,s),C=e+t,m=s-i):("left"===a.position?(v=i+t,C=Rs(l,r,e),h=-.5*nr):(v=s-t,C=Rs(l,e,r),h=.5*nr),m=r-e),{titleX:v,titleY:C,maxWidth:m,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Xr(e.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:h,rotation:m}=this._drawArgs(s);dh(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:m,textAlign:FM(e.align),textBaseline:"middle",translation:[a,l]})}}var lse={id:"title",_element:hA,start(n,t,e){!function ase(n,t){const e=new hA({ctx:n.ctx,options:t,chart:n});Ps.configure(n,e,t),Ps.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){Ps.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Ps.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dw=new WeakMap;var cse={id:"subtitle",start(n,t,e){const i=new hA({ctx:n.ctx,options:e,chart:n});Ps.configure(n,i,e),Ps.addBox(n,i),Dw.set(n,i)},stop(n){Ps.removeBox(n,Dw.get(n)),Dw.delete(n)},beforeUpdate(n,t,e){const i=Dw.get(n);Ps.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sv={average(n){if(!n.length)return!1;let t,e,i=0,r=0,s=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i+=l.x,r+=l.y,++s}}return{x:i/s,y:r/s}},nearest(n,t){if(!n.length)return!1;let s,a,l,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(s=0,a=n.length;s<a;++s){const h=n[s].element;if(h&&h.hasValue()){const v=OM(t,h.getCenterPoint());v<r&&(r=v,l=h)}}if(l){const h=l.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function Nl(n,t){return t&&(Wi(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Rc(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function use(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:a,value:l}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function dH(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:l}=t,h=Xr(t.bodyFont),m=Xr(t.titleFont),v=Xr(t.footerFont),C=s.length,D=r.length,A=i.length,k=Os(t.padding);let P=k.height,N=0,V=i.reduce(($,he)=>$+he.before.length+he.lines.length+he.after.length,0);V+=n.beforeBody.length+n.afterBody.length,C&&(P+=C*m.lineHeight+(C-1)*t.titleSpacing+t.titleMarginBottom),V&&(P+=A*(t.displayColors?Math.max(l,h.lineHeight):h.lineHeight)+(V-A)*h.lineHeight+(V-1)*t.bodySpacing),D&&(P+=t.footerMarginTop+D*v.lineHeight+(D-1)*t.footerSpacing);let q=0;const te=function($){N=Math.max(N,e.measureText($).width+q)};return e.save(),e.font=m.string,Mi(n.title,te),e.font=h.string,Mi(n.beforeBody.concat(n.afterBody),te),q=t.displayColors?a+2+t.boxPadding:0,Mi(i,$=>{Mi($.before,te),Mi($.lines,te),Mi($.after,te)}),q=0,e.font=v.string,Mi(n.footer,te),e.restore(),N+=k.width,{width:N,height:P}}function fse(n,t,e,i){const{x:r,width:s}=e,{width:a,chartArea:{left:l,right:h}}=n;let m="center";return"center"===i?m=r<=(l+h)/2?"left":"right":r<=s/2?m="left":r>=a-s/2&&(m="right"),function hse(n,t,e,i){const{x:r,width:s}=i,a=e.caretSize+e.caretPadding;if("left"===n&&r+s+a>t.width||"right"===n&&r-s-a<0)return!0}(m,n,t,e)&&(m="center"),m}function hH(n,t,e){const i=e.yAlign||t.yAlign||function dse(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||fse(n,t,e,i),yAlign:i}}function fH(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:l,yAlign:h}=e,m=r+s,{topLeft:v,topRight:C,bottomLeft:D,bottomRight:A}=hh(a);let k=function pse(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,l);const P=function gse(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,h,m);return"center"===h?"left"===l?k+=m:"right"===l&&(k-=m):"left"===l?k-=Math.max(v,D)+r:"right"===l&&(k+=Math.max(C,A)+r),{x:ds(k,0,i.width-t.width),y:ds(P,0,i.height-t.height)}}function Ew(n,t,e){const i=Os(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function pH(n){return Nl([],Rc(n))}function gH(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const mH={beforeTitle:Mc,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Mc,beforeBody:Mc,beforeLabel:Mc,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return pi(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Mc,afterBody:Mc,beforeFooter:Mc,footer:Mc,afterFooter:Mc};function po(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?mH[t].call(e,i):r}class fA extends qa{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new aV(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function mse(n,t,e){return Uu(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=po(i,"beforeTitle",this,t),s=po(i,"title",this,t),a=po(i,"afterTitle",this,t);let l=[];return l=Nl(l,Rc(r)),l=Nl(l,Rc(s)),l=Nl(l,Rc(a)),l}getBeforeBody(t,e){return pH(po(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Mi(t,s=>{const a={before:[],lines:[],after:[]},l=gH(i,s);Nl(a.before,Rc(po(l,"beforeLabel",this,s))),Nl(a.lines,po(l,"label",this,s)),Nl(a.after,Rc(po(l,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(t,e){return pH(po(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=po(i,"beforeFooter",this,t),s=po(i,"footer",this,t),a=po(i,"afterFooter",this,t);let l=[];return l=Nl(l,Rc(r)),l=Nl(l,Rc(s)),l=Nl(l,Rc(a)),l}_createItems(t){const e=this._active,i=this.chart.data,r=[],s=[],a=[];let h,m,l=[];for(h=0,m=e.length;h<m;++h)l.push(use(this.chart,e[h]));return t.filter&&(l=l.filter((v,C,D)=>t.filter(v,C,D,i))),t.itemSort&&(l=l.sort((v,C)=>t.itemSort(v,C,i))),Mi(l,v=>{const C=gH(t.callbacks,v);r.push(po(C,"labelColor",this,v)),s.push(po(C,"labelPointStyle",this,v)),a.push(po(C,"labelTextColor",this,v))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(r.length){const l=Sv[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const h=this._size=dH(this,i),m=Object.assign({},l,h),v=hH(this.chart,i,m),C=fH(i,m,v,this.chart);this.xAlign=v.xAlign,this.yAlign=v.yAlign,s={opacity:1,x:C.x,y:C.y,width:h.width,height:h.height,caretX:l.x,caretY:l.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:h,topRight:m,bottomLeft:v,bottomRight:C}=hh(l),{x:D,y:A}=t,{width:k,height:P}=e;let N,V,q,te,$,he;return"center"===s?($=A+P/2,"left"===r?(N=D,V=N-a,te=$+a,he=$-a):(N=D+k,V=N+a,te=$-a,he=$+a),q=N):(V="left"===r?D+Math.max(h,v)+a:"right"===r?D+k-Math.max(m,C)-a:this.caretX,"top"===s?(te=A,$=te-a,N=V-a,q=V+a):(te=A+P,$=te+a,N=V+a,q=V-a),he=te),{x1:N,x2:V,x3:q,y1:te,y2:$,y3:he}}drawTitle(t,e,i){const r=this.title,s=r.length;let a,l,h;if(s){const m=Ep(i.rtl,this.x,this.width);for(t.x=Ew(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",a=Xr(i.titleFont),l=i.titleSpacing,e.fillStyle=i.titleColor,e.font=a.string,h=0;h<s;++h)e.fillText(r[h],m.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,h+1===s&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,e,i,r,s){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:h,boxWidth:m,boxPadding:v}=s,C=Xr(s.bodyFont),D=Ew(this,"left",s),A=r.x(D),P=e.y+(h<C.lineHeight?(C.lineHeight-h)/2:0);if(s.usePointStyle){const N={radius:Math.min(m,h)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},V=r.leftForLtr(A,m)+m/2,q=P+h/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,UM(t,N,V,q),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,UM(t,N,V,q)}else{t.lineWidth=si(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const N=r.leftForLtr(A,m-v),V=r.leftForLtr(r.xPlus(A,1),m-v-2),q=hh(a.borderRadius);Object.values(q).some(te=>0!==te)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,mv(t,{x:N,y:P,w:m,h,radius:q}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),mv(t,{x:V,y:P+1,w:m-2,h:h-2,radius:q}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(N,P,m,h),t.strokeRect(N,P,m,h),t.fillStyle=a.backgroundColor,t.fillRect(V,P+1,m-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:h,boxWidth:m,boxPadding:v}=i,C=Xr(i.bodyFont);let D=C.lineHeight,A=0;const k=Ep(i.rtl,this.x,this.width),P=function(dt){e.fillText(dt,k.x(t.x+A),t.y+D/2),t.y+=D+s},N=k.textAlign(a);let V,q,te,$,he,_e,Ze;for(e.textAlign=a,e.textBaseline="middle",e.font=C.string,t.x=Ew(this,N,i),e.fillStyle=i.bodyColor,Mi(this.beforeBody,P),A=l&&"right"!==N?"center"===a?m/2+v:m+2+v:0,$=0,_e=r.length;$<_e;++$){for(V=r[$],q=this.labelTextColors[$],e.fillStyle=q,Mi(V.before,P),te=V.lines,l&&te.length&&(this._drawColorBox(e,t,$,k,i),D=Math.max(C.lineHeight,h)),he=0,Ze=te.length;he<Ze;++he)P(te[he]),D=C.lineHeight;Mi(V.after,P)}A=0,D=C.lineHeight,Mi(this.afterBody,P),t.y-=s}drawFooter(t,e,i){const r=this.footer,s=r.length;let a,l;if(s){const h=Ep(i.rtl,this.x,this.width);for(t.x=Ew(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",a=Xr(i.footerFont),e.fillStyle=i.footerColor,e.font=a.string,l=0;l<s;++l)e.fillText(r[l],h.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:s,yAlign:a}=this,{x:l,y:h}=t,{width:m,height:v}=i,{topLeft:C,topRight:D,bottomLeft:A,bottomRight:k}=hh(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(l+C,h),"top"===a&&this.drawCaret(t,e,i,r),e.lineTo(l+m-D,h),e.quadraticCurveTo(l+m,h,l+m,h+D),"center"===a&&"right"===s&&this.drawCaret(t,e,i,r),e.lineTo(l+m,h+v-k),e.quadraticCurveTo(l+m,h+v,l+m-k,h+v),"bottom"===a&&this.drawCaret(t,e,i,r),e.lineTo(l+A,h+v),e.quadraticCurveTo(l,h+v,l,h+v-A),"center"===a&&"left"===s&&this.drawCaret(t,e,i,r),e.lineTo(l,h+C),e.quadraticCurveTo(l,h,l+C,h),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=Sv[t.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=dH(this,t),h=Object.assign({},a,this._size),m=hH(e,t,h),v=fH(t,h,m,e);(r._to!==v.x||s._to!==v.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,v))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Os(e.padding);e.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),Q2(t,e.textDirection),s.y+=a.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),J2(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:l,index:h})=>{const m=this.chart.getDatasetMeta(l);if(!m)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:m.data[h],index:h}}),s=!j0(i,r),a=this._positionChanged(r,e);(s||a)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(t,s,e,i),l=this._positionChanged(a,t),h=e||!j0(a,s)||l;return h&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,r){const s=this.options;if("mouseout"===t.type)return[];if(!r)return e;const a=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(t,e){const{caretX:i,caretY:r,options:s}=this,a=Sv[s.position].call(this,t,e);return!1!==a&&(i!==a.x||r!==a.y)}}Bt(fA,"positioners",Sv);var yse=Object.freeze({__proto__:null,Colors:kre,Decimation:Pre,Filler:ese,Legend:ose,SubTitle:cse,Title:lse,Tooltip:{id:"tooltip",_element:fA,positioners:Sv,afterInit(n,t,e){e&&(n.tooltip=new fA({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mH},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function vH(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class pA extends vh{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(pi(t))return null;const i=this.getLabels();return((n,t)=>null===n?null:ds(Math.round(n),0,t))(e=isFinite(e)&&i[e]===t?e:function bse(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(i,t,Vn(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=0===t&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=e;a++)r.push({value:a});return r}getLabelForValue(t){return vH.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function yH(n,t,{horizontal:e,minRotation:i}){const r=Ga(i),s=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/s,.75*t*(""+n).length)}Bt(pA,"id","category"),Bt(pA,"defaults",{ticks:{callback:vH}});class Sw extends vh{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return pi(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=h=>r=e?r:h,l=h=>s=i?s:h;if(t){const h=Fl(r),m=Fl(s);h<0&&m<0?l(0):h>0&&m>0&&a(0)}if(r===s){let h=0===s?1:Math.abs(.05*s);l(s+h),t||a(r-h)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a=function Cse(n,t){const e=[],{bounds:r,step:s,min:a,max:l,precision:h,count:m,maxTicks:v,maxDigits:C,includeBounds:D}=n,A=s||1,k=v-1,{min:P,max:N}=t,V=!pi(a),q=!pi(l),te=!pi(m),$=(N-P)/(C+1);let _e,Ze,dt,Rt,he=h2((N-P)/k/A)*A;if(he<1e-14&&!V&&!q)return[{value:P},{value:N}];Rt=Math.ceil(N/he)-Math.floor(P/he),Rt>k&&(he=h2(Rt*he/k/A)*A),pi(h)||(_e=Math.pow(10,h),he=Math.ceil(he*_e)/_e),"ticks"===r?(Ze=Math.floor(P/he)*he,dt=Math.ceil(N/he)*he):(Ze=P,dt=N),V&&q&&s&&function Zee(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((l-a)/s,he/1e3)?(Rt=Math.round(Math.min((l-a)/he,v)),he=(l-a)/Rt,Ze=a,dt=l):te?(Ze=V?a:Ze,dt=q?l:dt,Rt=m-1,he=(dt-Ze)/Rt):(Rt=(dt-Ze)/he,Rt=cv(Rt,Math.round(Rt),he/1e3)?Math.round(Rt):Math.ceil(Rt));const zt=Math.max(p2(he),p2(Ze));_e=Math.pow(10,pi(h)?zt:h),Ze=Math.round(Ze*_e)/_e,dt=Math.round(dt*_e)/_e;let rn=0;for(V&&(D&&Ze!==a?(e.push({value:a}),Ze<a&&rn++,cv(Math.round((Ze+rn*he)*_e)/_e,a,yH(a,$,n))&&rn++):Ze<a&&rn++);rn<Rt;++rn)e.push({value:Math.round((Ze+rn*he)*_e)/_e});return q&&D&&dt!==l?e.length&&cv(e[e.length-1].value,l,yH(l,$,n))?e[e.length-1].value=l:e.push({value:l}):(!q||dt===l)&&e.push({value:dt}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&f2(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return fv(t,this.chart.options.locale,this.options.ticks.format)}}class gA extends Sw{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Cr(t)?t:0,this.max=Cr(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ga(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Bt(gA,"id","linear"),Bt(gA,"defaults",{ticks:{callback:Q0.formatters.numeric}});const Mv=n=>Math.floor(zu(n)),yh=(n,t)=>Math.pow(10,Mv(n)+t);function _H(n){return n/Math.pow(10,Mv(n))==1}function bH(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}class mA extends vh{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Sw.prototype.parse.apply(this,[t,e]);if(0!==i)return Cr(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Cr(t)?Math.max(0,t):null,this.max=Cr(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Cr(this._userMin)&&(this.min=t===yh(this.min,0)?yh(this.min,-1):yh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const s=l=>i=t?i:l,a=l=>r=e?r:l;i===r&&(i<=0?(s(1),a(10)):(s(yh(i,-1)),a(yh(r,1)))),i<=0&&s(yh(r,-1)),r<=0&&a(yh(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function Dse(n,{min:t,max:e}){t=Lo(n.min,t);const i=[],r=Mv(t);let s=function xse(n,t){let i=Mv(t-n);for(;bH(n,t,i)>10;)i++;for(;bH(n,t,i)<10;)i--;return Math.min(i,Mv(n))}(t,e),a=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),h=r>s?Math.pow(10,r):0,m=Math.round((t-h)*a)/a,v=Math.floor((t-h)/l/10)*l*10;let C=Math.floor((m-v)/Math.pow(10,s)),D=Lo(n.min,Math.round((h+v+C*Math.pow(10,s))*a)/a);for(;D<e;)i.push({value:D,major:_H(D),significand:C}),C>=10?C=C<15?15:20:C++,C>=20&&(s++,C=2,a=s>=0?1:a),D=Math.round((h+v+C*Math.pow(10,s))*a)/a;const A=Lo(n.max,D);return i.push({value:A,major:_H(A),significand:C}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&f2(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":fv(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=zu(t),this._valueRange=zu(this.max)-zu(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(zu(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function vA(n){const t=n.ticks;if(t.display&&n.display){const e=Os(t.backdropPadding);return Vn(t.font&&t.font.size,Ir.font.size)+e.height}return 0}function Ese(n,t,e){return e=Wi(e)?e:[e],{w:Fte(n,t.string,e),h:e.length*t.lineHeight}}function wH(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function Mse(n,t,e,i,r){const s=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let l=0,h=0;i.start<t.l?(l=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-l)):i.end>t.r&&(l=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+l)),r.start<t.t?(h=(t.t-r.start)/a,n.t=Math.min(n.t,t.t-h)):r.end>t.b&&(h=(r.end-t.b)/a,n.b=Math.max(n.b,t.b+h))}function Tse(n){return 0===n||180===n?"center":n<180?"left":"right"}function kse(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function Ise(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}function CH(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,qi);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=n.getPointPosition(a,t),r.lineTo(s.x,s.y)}}Bt(mA,"id","logarithmic"),Bt(mA,"defaults",{ticks:{callback:Q0.formatters.logarithmic,major:{enabled:!0}}});class Av extends Sw{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Os(vA(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Cr(t)&&!isNaN(t)?t:0,this.max=Cr(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vA(this.options))}generateTickLabels(t){Sw.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=Vi(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function Sse(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],s=n._pointLabels.length,a=n.options.pointLabels,l=a.centerPointLabels?nr/s:0;for(let h=0;h<s;h++){const m=a.setContext(n.getPointLabelContext(h));r[h]=m.padding;const v=n.getPointPosition(h,n.drawingArea+r[h],l),C=Xr(m.font),D=Ese(n.ctx,C,n._pointLabels[h]);i[h]=D;const A=No(n.getIndexAngle(h)+l),k=Math.round(RM(A));Mse(e,t,A,wH(k,v.x,D.w,0,180),wH(k,v.y,D.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function Ase(n,t,e){const i=[],r=n._pointLabels.length,s=n.options,a=vA(s)/2,l=n.drawingArea,h=s.pointLabels.centerPointLabels?nr/r:0;for(let m=0;m<r;m++){const v=n.getPointPosition(m,l+a+e[m],h),C=Math.round(RM(No(v.angle+xr))),D=t[m],A=Ise(v.y,D.h,C),k=Tse(C),P=kse(v.x,D.w,k);i.push({x:v.x,y:A,textAlign:k,left:P,top:A,right:P+D.w,bottom:A+D.h})}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return No(t*(qi/(this._pointLabels.length||1))+Ga(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(pi(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(pi(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function Pse(n,t,e){return Uu(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-xr+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),CH(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:s}=e,a=this._pointLabels.length;let l,h,m;if(e.pointLabels.display&&function Rse(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const s=i.setContext(n.getPointLabelContext(r)),a=Xr(s.font),{x:l,y:h,textAlign:m,left:v,top:C,right:D,bottom:A}=n._pointLabelItems[r],{backdropColor:k}=s;if(!pi(k)){const P=hh(s.borderRadius),N=Os(s.backdropPadding);e.fillStyle=k;const V=v-N.left,q=C-N.top,te=D-v+N.width,$=A-C+N.height;Object.values(P).some(he=>0!==he)?(e.beginPath(),mv(e,{x:V,y:q,w:te,h:$,radius:P}),e.fill()):e.fillRect(V,q,te,$)}dh(e,n._pointLabels[r],l,h+a.lineHeight/2,a,{color:s.color,textAlign:m,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach((v,C)=>{if(0!==C){h=this.getDistanceFromCenterForValue(v.value);const D=this.getContext(C),A=r.setContext(D),k=s.setContext(D);!function Ose(n,t,e,i,r){const s=n.ctx,a=t.circular,{color:l,lineWidth:h}=t;!a&&!i||!l||!h||e<0||(s.save(),s.strokeStyle=l,s.lineWidth=h,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),CH(n,e,a,i),s.closePath(),s.stroke(),s.restore())}(this,A,h,a,k)}}),i.display){for(t.save(),l=a-1;l>=0;l--){const v=i.setContext(this.getPointLabelContext(l)),{color:C,lineWidth:D}=v;!D||!C||(t.lineWidth=D,t.strokeStyle=C,t.setLineDash(v.borderDash),t.lineDashOffset=v.borderDashOffset,h=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),m=this.getPointPosition(l,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(m.x,m.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,h)=>{if(0===h&&!e.reverse)return;const m=i.setContext(this.getContext(h)),v=Xr(m.font);if(s=this.getDistanceFromCenterForValue(this.ticks[h].value),m.showLabelBackdrop){t.font=v.string,a=t.measureText(l.label).width,t.fillStyle=m.backdropColor;const C=Os(m.backdropPadding);t.fillRect(-a/2-C.left,-s-v.size/2-C.top,a+C.width,v.size+C.height)}dh(t,l.label,0,-s,v,{color:m.color})}),t.restore()}drawTitle(){}}Bt(Av,"id","radialLinear"),Bt(Av,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Q0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),Bt(Av,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Bt(Av,"descriptors",{angleLines:{_fallback:"grid"}});const Mw={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},go=Object.keys(Mw);function Fse(n,t){return n-t}function xH(n,t){if(pi(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=t;return"function"==typeof i&&(a=i(a)),Cr(a)||(a="string"==typeof i?e.parse(a,i):e.parse(a)),null===a?null:(r&&(a="week"!==r||!wp(s)&&!0!==s?e.startOf(a,r):e.startOf(a,"isoWeek",s)),+a)}function DH(n,t,e,i){const r=go.length;for(let s=go.indexOf(n);s<r-1;++s){const a=Mw[go[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(l*a.size))<=i)return go[s]}return go[r-1]}function EH(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=PM(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function SH(n,t,e){const i=[],r={},s=t.length;let a,l;for(a=0;a<s;++a)l=t[a],r[l]=a,i.push({value:l,major:!1});return 0!==s&&e?function Bse(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),a=t[t.length-1].value;let l,h;for(l=s;l<=a;l=+r.add(l,1,i))h=e[l],h>=0&&(t[h].major=!0);return t}(n,i,r,e):i}class Tv extends vh{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new Xne__date(t.adapters.date);r.init(e),lv(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:xH(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function h(m){!a&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!l&&!isNaN(m.max)&&(s=Math.max(s,m.max))}(!a||!l)&&(h(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&h(this.getMinMax(!1))),r=Cr(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=Cr(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,l=function ete(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(r,s,this.max);return this._unit=e.unit||(i.autoSkip?DH(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):function Lse(n,t,e,i,r){for(let s=go.length-1;s>=go.indexOf(e);s--){const a=go[s];if(Mw[a].common&&n._adapter.diff(r,i,a)>=t-1)return a}return go[e?go.indexOf(e):0]}(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function Nse(n){for(let t=go.indexOf(n)+1,e=go.length;t<e;++t)if(Mw[go[t]].common)return go[t]}(this._unit):void 0,this.initOffsets(r),t.reverse&&l.reverse(),SH(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r,s,e=0,i=0;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),e=1===t.length?1-r:(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),i=1===t.length?s:(s-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;e=ds(e,0,a),i=ds(i,0,a),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||DH(s.minUnit,e,i,this._getLabelCapacity(e)),l=Vn(r.ticks.stepSize,1),h="week"===a&&s.isoWeekday,m=wp(h)||!0===h,v={};let D,A,C=e;if(m&&(C=+t.startOf(C,"isoWeek",h)),C=+t.startOf(C,m?"day":a),t.diff(i,e,a)>1e5*l)throw new Error(e+" and "+i+" are too far apart with stepSize of "+l+" "+a);const k="data"===r.ticks.source&&this.getDataTimestamps();for(D=C,A=0;D<i;D=+t.add(D,l,a),A++)EH(v,D,k);return(D===i||"ticks"===r.bounds||1===A)&&EH(v,D,k),Object.keys(v).sort((P,N)=>P-N).map(P=>+P)}getLabelForValue(t){const i=this.options.time;return this._adapter.format(t,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}_tickFormatFunction(t,e,i,r){const s=this.options,a=s.ticks.callback;if(a)return Vi(a,[t,e,i],this);const l=s.time.displayFormats,h=this._unit,m=this._majorUnit,C=m&&l[m],D=i[e];return this._adapter.format(t,r||(m&&C&&D&&D.major?C:h&&l[h]))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ga(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*a,h:i*a+l*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,SH(this,[t],this._majorUnit),r),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e,i,t=this._cache.data||[];if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(xH(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return y2(t.sort(Fse))}}function Aw(n,t,e){let s,a,l,h,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Tc(n,"pos",t)),({pos:s,time:l}=n[i]),({pos:a,time:h}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Tc(n,"time",t)),({time:s,pos:l}=n[i]),({time:a,pos:h}=n[r]));const m=a-s;return m?l+(h-l)*(t-s)/m:l}Bt(Tv,"id","time"),Bt(Tv,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class yA extends Tv{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Aw(e,this.min),this._tableRange=Aw(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let a,l,h,m,v;for(a=0,l=t.length;a<l;++a)m=t[a],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,l=r.length;a<l;++a)v=r[a+1],h=r[a-1],m=r[a],Math.round((v+h)/2)!==m&&s.push({time:m,pos:a/(l-1)});return s}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Aw(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Aw(this._table,i*this._tableRange+this._minPos,!0)}}Bt(yA,"id","timeseries"),Bt(yA,"defaults",Tv.defaults),UV.register(Zne,Ere,yse,Object.freeze({__proto__:null,CategoryScale:pA,LinearScale:gA,LogarithmicScale:mA,RadialLinearScale:Av,TimeScale:Tv,TimeSeriesScale:yA}));const MH=UV,$se=[{path:"",redirectTo:UE,pathMatch:"full"},{path:UE,component:NZ},{path:EP,component:qX,children:[{path:"",redirectTo:GE,pathMatch:"full"},{path:GE,component:SQ},{path:"miners",component:Dee},{path:MP,component:Iee},{path:AP,component:Vee},{path:"charts",component:(()=>{class n{constructor(e){this.chartDataService=e}ngOnInit(){this.subscriber=this.chartDataService.getData().pipe(Zn(e=>{this.chartByCountry&&this.chartByCountry.destroy(),this.chartTotal&&this.chartTotal.destroy(),this.createCharts(e)})).subscribe()}ngOnDestroy(){this.subscriber.unsubscribe()}createCharts(e){this.chartByCountry=new MH("chartByCountry",{type:"bar",data:{labels:this.generateLabels(),datasets:[{label:"Romania",data:e.country?.romania,backgroundColor:"#302474"},{label:"Poland",data:e.country?.poland,backgroundColor:"#603494"},{label:"Spain",data:e.country?.spain,backgroundColor:"#6864bc"},{label:"Germany",data:e.country?.germany,backgroundColor:"#a094cc"},{label:"Great Britain",data:e.country?.greatBritain,backgroundColor:"#b8bcf4"}]},options:{aspectRatio:2.5,responsive:!0,scales:{y:{title:{display:!0,text:"Miners amount"}},x:{title:{display:!0,text:"Months"}}}}}),this.chartTotal=new MH("chartTotal",{type:"line",data:{datasets:[{label:"Miners Amount",data:e.total,backgroundColor:"#6864bc",borderColor:"#302474",fill:!0}],labels:this.generateLabels()},options:{aspectRatio:2.5,responsive:!0,scales:{y:{title:{display:!0,text:"Miners amount"}},x:{title:{display:!0,text:"Months"}}}}})}generateLabels(){let e=[];for(let i=1;i<=24;i++)e.push(i.toString());return e}}return n.\u0275fac=function(e){return new(e||n)(O(rM))},n.\u0275cmp=pn({type:n,selectors:[["app-charts"]],decls:11,vars:2,consts:[["fxLayout","column","fxLayoutAlign","space-between center","fxLayoutGap","30px",1,"container"],["id","chartByCountry"],["id","chartTotal"]],template:function(e,i){1&e&&(pe(0,"div",0)(1,"div")(2,"h2"),Je(3,"The chart shows the number of miners from each country in a given week of the simulation"),ye(),pe(4,"canvas",1),Je(5),ye()(),pe(6,"div")(7,"h2"),Je(8,"The chart shows the number of miners from all countries in a given week of the simulation"),ye(),pe(9,"canvas",2),Je(10),ye()()()),2&e&&(Fe(5),Ni(i.chartByCountry),Fe(5),Br(" ",i.chartTotal,""))},dependencies:[ja,Ru,Ua],styles:[".container[_ngcontent-%COMP%]{margin:1vh 1vw}"]}),n})()}]}];let jse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[xP.forRoot($se),xP]}),n})(),Use=(()=>{class n{constructor(){this.title="frontend"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pn({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,i){1&e&&(pe(0,"h1"),Je(1,"Blockchain Network Simulator"),ye(),cn(2,"router-outlet"))},dependencies:[vb],styles:["h1[_ngcontent-%COMP%]{margin-top:1vh;margin-left:1vw}"]}),n})();function AH(n){return new qe(3e3,!1)}function Eoe(){return typeof window<"u"&&typeof window.document<"u"}function _A(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ku(n){switch(n.length){case 0:return new Hm;case 1:return n[0];default:return new jL(n)}}function TH(n,t,e,i,r=new Map,s=new Map){const a=[],l=[];let h=-1,m=null;if(i.forEach(v=>{const C=v.get("offset"),D=C==h,A=D&&m||new Map;v.forEach((k,P)=>{let N=P,V=k;if("offset"!==P)switch(N=t.normalizePropertyName(N,a),V){case"!":V=r.get(P);break;case Cc:V=s.get(P);break;default:V=t.normalizeStyleValue(P,N,V,a)}A.set(N,V)}),D||l.push(A),m=A,h=C}),a.length)throw function foe(n){return new qe(3502,!1)}();return l}function bA(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&wA(e,"start",n)));break;case"done":n.onDone(()=>i(e&&wA(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&wA(e,"destroy",n)))}}function wA(n,t,e){const s=CA(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function CA(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function Bo(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function kH(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let xA=(n,t)=>!1,IH=(n,t,e)=>[],RH=null;function DA(n){const t=n.parentNode||n.host;return t===RH?null:t}(_A()||typeof Element<"u")&&(Eoe()?(RH=(()=>document.documentElement)(),xA=(n,t)=>{for(;t;){if(t===n)return!0;t=DA(t)}return!1}):xA=(n,t)=>n.contains(t),IH=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let _h=null,OH=!1;const PH=xA,FH=IH;let LH=(()=>{class n{validateStyleProperty(e){return function Moe(n){_h||(_h=function Aoe(){return typeof document<"u"?document.body:null}()||{},OH=!!_h.style&&"WebkitAppearance"in _h.style);let t=!0;return _h.style&&!function Soe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in _h.style,!t&&OH&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in _h.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return PH(e,i)}getParentElement(e){return DA(e)}query(e,i,r){return FH(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,l=[],h){return new Hm(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),EA=(()=>{class n{}return n.NOOP=new LH,n})();const SA="ng-enter",Tw="ng-leave",kw="ng-trigger",Iw=".ng-trigger",BH="ng-animating",MA=".ng-animating";function Oc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:AA(parseFloat(t[1]),t[2])}function AA(n,t){return"s"===t?1e3*n:n}function Rw(n,t,e){return n.hasOwnProperty("duration")?n:function Ioe(n,t,e){let r,s=0,a="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return t.push(AH()),{duration:0,delay:0,easing:""};r=AA(parseFloat(l[1]),l[2]);const h=l[3];null!=h&&(s=AA(parseFloat(h),l[4]));const m=l[5];m&&(a=m)}else r=n;if(!e){let l=!1,h=t.length;r<0&&(t.push(function Gse(){return new qe(3100,!1)}()),l=!0),s<0&&(t.push(function Wse(){return new qe(3101,!1)}()),l=!0),l&&t.splice(h,0,AH())}return{duration:r,delay:s,easing:a}}(n,t,e)}function kv(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function VH(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Yu(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function zH(n,t,e){return e?t+":"+e+";":""}function $H(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=zH(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=zH(0,Foe(e),n.style[e]));n.setAttribute("style",t)}function Bl(n,t,e){n.style&&(t.forEach((i,r)=>{const s=kA(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),_A()&&$H(n))}function bh(n,t){n.style&&(t.forEach((e,i)=>{const r=kA(i);n.style[r]=""}),_A()&&$H(n))}function Iv(n){return Array.isArray(n)?1==n.length?n[0]:zL(n):n}const TA=new RegExp("{{\\s*(.+?)\\s*}}","g");function jH(n){let t=[];if("string"==typeof n){let e;for(;e=TA.exec(n);)t.push(e[1]);TA.lastIndex=0}return t}function Rv(n,t,e){const i=n.toString(),r=i.replace(TA,(s,a)=>{let l=t[a];return null==l&&(e.push(function Kse(n){return new qe(3003,!1)}()),l=""),l.toString()});return r==i?n:r}function Ow(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Poe=/-+([a-z0-9])/g;function kA(n){return n.replace(Poe,(...t)=>t[1].toUpperCase())}function Foe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Yse(n){return new qe(3004,!1)}()}}function UH(n,t){return window.getComputedStyle(n)[t]}function zoe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function $oe(n,t,e){if(":"==n[0]){const h=function joe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function coe(n){return new qe(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function loe(n){return new qe(3015,!1)}()),t;const r=i[1],s=i[2],a=i[3];t.push(GH(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&t.push(GH(a,r))}(i,e,t)):e.push(n),e}const Nw=new Set(["true","1"]),Bw=new Set(["false","0"]);function GH(n,t){const e=Nw.has(n)||Bw.has(n),i=Nw.has(t)||Bw.has(t);return(r,s)=>{let a="*"==n||n==r,l="*"==t||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?Nw.has(n):Bw.has(n)),!l&&i&&"boolean"==typeof s&&(l=s?Nw.has(t):Bw.has(t)),a&&l}}const Uoe=new RegExp("s*:selfs*,?","g");function IA(n,t,e,i){return new Goe(n).build(t,e,i)}class Goe{constructor(t){this._driver=t}build(t,e,i){const r=new Koe(e);return this._resetContextStyleTimingState(r),Vo(this,Iv(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function Xse(){return new qe(3006,!1)}()),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),0==l.type){const h=l,m=h.name;m.toString().split(/\s*,\s*/).forEach(v=>{h.name=v,s.push(this.visitState(h,e))}),h.name=m}else if(1==l.type){const h=this.visitTransition(l,e);i+=h.queryCount,r+=h.depCount,a.push(h)}else e.errors.push(function Qse(){return new qe(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(h=>{jH(h).forEach(m=>{a.hasOwnProperty(m)||s.add(m)})})}),s.size&&(Ow(s.values()),e.errors.push(function Jse(n,t){return new qe(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Vo(this,Iv(t.animation),e);return{type:1,matchers:zoe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:wh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Vo(this,i,e)),options:wh(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const l=Vo(this,a,e);return r=Math.max(r,e.currentTime),l});return e.currentTime=r,{type:3,steps:s,options:wh(t.options)}}visitAnimate(t,e){const i=function Zoe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return RA(Rw(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=RA(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Rw(e,t);return RA(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:bn({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,l=!1;if(!a){l=!0;const m={};i.easing&&(m.easing=i.easing),a=bn(m)}e.currentTime+=i.duration+i.delay;const h=this.visitStyle(a,e);h.isEmptyStep=l,r=h}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let l of r)"string"==typeof l?l===Cc?i.push(l):e.errors.push(new qe(3002,!1)):i.push(VH(l));let s=!1,a=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!s))for(let h of l.values())if(h.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,h)=>{const m=e.collectedStyles.get(e.currentQuerySelector),v=m.get(h);let C=!0;v&&(s!=r&&s>=v.startTime&&r<=v.endTime&&(e.errors.push(function toe(n,t,e,i,r){return new qe(3010,!1)}()),C=!1),s=v.startTime),C&&m.set(h,{startTime:s,endTime:r}),e.options&&function Ooe(n,t,e){const i=t.params||{},r=jH(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function qse(n){return new qe(3001,!1)}())})}(l,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function noe(){return new qe(3011,!1)}()),i;let s=0;const a=[];let l=!1,h=!1,m=0;const v=t.steps.map(V=>{const q=this._makeStyleAst(V,e);let te=null!=q.offset?q.offset:function Yoe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(q.styles),$=0;return null!=te&&(s++,$=q.offset=te),h=h||$<0||$>1,l=l||$<m,m=$,a.push($),q});h&&e.errors.push(function ioe(){return new qe(3012,!1)}()),l&&e.errors.push(function roe(){return new qe(3200,!1)}());const C=t.steps.length;let D=0;s>0&&s<C?e.errors.push(function soe(){return new qe(3202,!1)}()):0==s&&(D=1/(C-1));const A=C-1,k=e.currentTime,P=e.currentAnimateTimings,N=P.duration;return v.forEach((V,q)=>{const te=D>0?q==A?1:D*q:a[q],$=te*N;e.currentTime=k+P.delay+$,P.duration=$,this._validateStyleAst(V,e),V.offset=te,i.styles.push(V)}),i}visitReference(t,e){return{type:8,animation:Vo(this,Iv(t.animation),e),options:wh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:wh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:wh(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function Woe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Uoe,"")),n=n.replace(/@\*/g,Iw).replace(/@\w+/g,e=>Iw+"-"+e.slice(1)).replace(/:animating/g,MA),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Bo(e.collectedStyles,e.currentQuerySelector,new Map);const l=Vo(this,Iv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:t.selector,options:wh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function ooe(){return new qe(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Rw(t.timings,e.errors,!0);return{type:12,animation:Vo(this,Iv(t.animation),e),timings:i,options:null}}}class Koe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function wh(n){return n?(n=kv(n)).params&&(n.params=function qoe(n){return n?kv(n):null}(n.params)):n={},n}function RA(n,t,e){return{duration:n,delay:t,easing:e}}function OA(n,t,e,i,r,s,a=null,l=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:l}}class Vw{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Joe=new RegExp(":enter","g"),tae=new RegExp(":leave","g");function PA(n,t,e,i,r,s=new Map,a=new Map,l,h,m=[]){return(new nae).buildKeyframes(n,t,e,i,r,s,a,l,h,m)}class nae{buildKeyframes(t,e,i,r,s,a,l,h,m,v=[]){m=m||new Vw;const C=new FA(t,e,m,r,s,v,[]);C.options=h;const D=h.delay?Oc(h.delay):0;C.currentTimeline.delayNextStep(D),C.currentTimeline.setStyles([a],null,C.errors,h),Vo(this,i,C);const A=C.timelines.filter(k=>k.containsAnimation());if(A.length&&l.size){let k;for(let P=A.length-1;P>=0;P--){const N=A[P];if(N.element===e){k=N;break}}k&&!k.allowOnlyTimelineStyles()&&k.setStyles([l],null,C.errors,h)}return A.length?A.map(k=>k.buildKeyframes()):[OA(e,[],[],[],0,D,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const a="number"==typeof s?s:Oc(Rv(s,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?Oc(i.duration):null,l=null!=i.delay?Oc(i.delay):null;return 0!==a&&t.forEach(h=>{const m=e.appendInstructionToTimeline(h,a,l);s=Math.max(s,m.duration+m.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Vo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Hw);const a=Oc(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Vo(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Oc(t.options.delay):0;t.steps.forEach(a=>{const l=e.createSubContext(t.options);s&&l.delayNextStep(s),Vo(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Rw(e.params?Rv(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,l=e.createSubContext().currentTimeline;l.easing=i.easing,t.styles.forEach(h=>{l.forwardTime((h.offset||0)*s),l.setStyles(h.styles,h.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Oc(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Hw);let a=i;const l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=l.length;let h=null;l.forEach((m,v)=>{e.currentQueryIndex=v;const C=e.createSubContext(t.options,m);s&&C.delayNextStep(s),m===e.element&&(h=C.currentTimeline),Vo(this,t.animation,C),C.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,C.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),l=a*(e.currentQueryTotal-1);let h=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=l-h;break;case"full":h=i.currentStaggerTime}const v=e.currentTimeline;h&&v.delayNextStep(h);const C=v.currentTime;Vo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-C+(r.startTime-i.currentTimeline.startTime)}}const Hw={};class FA{constructor(t,e,i,r,s,a,l,h){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Hw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new zw(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Oc(i.duration)),null!=i.delay&&(r.delay=Oc(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(l=>{(!e||!a.hasOwnProperty(l))&&(a[l]=Rv(s[l],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new FA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Hw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new iae(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let l=[];if(r&&l.push(this.element),t.length>0){t=(t=t.replace(Joe,"."+this._enterClassName)).replace(tae,"."+this._leaveClassName);let m=this._driver.query(this.element,t,1!=i);0!==i&&(m=i<0?m.slice(m.length+i,m.length):m.slice(0,i)),l.push(...m)}return!s&&0==l.length&&a.push(function aoe(n){return new qe(3014,!1)}()),l}}class zw{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new zw(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Cc),this._currentKeyframe.set(e,Cc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},a=function rae(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,Cc)}else Yu(r,e)}),e}(t,this._globalTimelineStyles);for(let[l,h]of a){const m=Rv(h,s,i);this._pendingStyles.set(l,m),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Cc),this._updateStyle(l,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,h)=>{const m=Yu(l,new Map,this._backFill);m.forEach((v,C)=>{"!"===v?t.add(C):v===Cc&&e.add(C)}),i||m.set("offset",h/this.duration),r.push(m)});const s=t.size?Ow(t.values()):[],a=e.size?Ow(e.values()):[];if(i){const l=r[0],h=new Map(l);l.set("offset",0),h.set("offset",1),r=[l,h]}return OA(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class iae extends zw{constructor(t,e,i,r,s,a,l=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,l=e/a,h=Yu(t[0]);h.set("offset",0),s.push(h);const m=Yu(t[0]);m.set("offset",KH(l)),s.push(m);const v=t.length-1;for(let C=1;C<=v;C++){let D=Yu(t[C]);const A=D.get("offset");D.set("offset",KH((e+A*i)/a)),s.push(D)}i=a,e=0,r="",t=s}return OA(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function KH(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class LA{}const sae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class oae extends LA{normalizePropertyName(t,e){return kA(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if(sae.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(function Zse(n,t){return new qe(3005,!1)}())}return a+s}}function YH(n,t,e,i,r,s,a,l,h,m,v,C,D){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:l,queriedElements:h,preStyleProps:m,postStyleProps:v,totalTime:C,errors:D}}const NA={};class ZH{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function aae(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,a,l,h,m,v){const C=[],D=this.ast.options&&this.ast.options.params||NA,k=this.buildStyles(i,l&&l.params||NA,C),P=h&&h.params||NA,N=this.buildStyles(r,P,C),V=new Set,q=new Map,te=new Map,$="void"===r,he={params:lae(P,D),delay:this.ast.options?.delay},_e=v?[]:PA(t,e,this.ast.animation,s,a,k,N,he,m,C);let Ze=0;if(_e.forEach(Rt=>{Ze=Math.max(Rt.duration+Rt.delay,Ze)}),C.length)return YH(e,this._triggerName,i,r,$,k,N,[],[],q,te,Ze,C);_e.forEach(Rt=>{const zt=Rt.element,rn=Bo(q,zt,new Set);Rt.preStyleProps.forEach(Gn=>rn.add(Gn));const Yt=Bo(te,zt,new Set);Rt.postStyleProps.forEach(Gn=>Yt.add(Gn)),zt!==e&&V.add(zt)});const dt=Ow(V.values());return YH(e,this._triggerName,i,r,$,k,N,_e,dt,q,te,Ze)}}function lae(n,t){const e=kv(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class cae{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=kv(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{a&&(a=Rv(a,r,e));const h=this.normalizer.normalizePropertyName(l,e);a=this.normalizer.normalizeStyleValue(l,h,a,e),i.set(h,a)})}),i}}class dae{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new cae(r.style,r.options&&r.options.params||{},i))}),XH(this.states,"true","1"),XH(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new ZH(t,r,this.states))}),this.fallbackTransition=function hae(n,t,e){return new ZH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function XH(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const fae=new Vw;class pae{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=IA(this._driver,e,i,[]);if(i.length)throw function poe(n){return new qe(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=TH(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let a;const l=new Map;if(s?(a=PA(this._driver,e,s,SA,Tw,new Map,new Map,i,fae,r),a.forEach(v=>{const C=Bo(l,v.element,new Map);v.postStyleProps.forEach(D=>C.set(D,null))})):(r.push(function goe(){return new qe(3300,!1)}()),a=[]),r.length)throw function moe(n){return new qe(3504,!1)}();l.forEach((v,C)=>{v.forEach((D,A)=>{v.set(A,this._driver.computeStyle(C,A,Cc))})});const m=Ku(a.map(v=>{const C=l.get(v.element);return this._buildPlayer(v,new Map,C)}));return this._playersById.set(t,m),m.onDestroy(()=>this.destroy(t)),this.players.push(m),m}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function voe(n){return new qe(3301,!1)}();return e}listen(t,e,i,r){const s=CA(e,"","","");return bA(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const QH="ng-animate-queued",BA="ng-animate-disabled",_ae=[],JH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pa="__ng_removed";class VA{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Dae(n){return n??null}(i?t.value:t),i){const s=kv(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Ov="void",HA=new VA(Ov);class wae{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ga(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function yoe(n,t){return new qe(3302,!1)}();if(null==i||0==i.length)throw function _oe(n){return new qe(3303,!1)}();if(!function Eae(n){return"start"==n||"done"==n}(i))throw function boe(n,t){return new qe(3400,!1)}();const s=Bo(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const l=Bo(this._engine.statesByElement,t,new Map);return l.has(e)||(ga(t,kw),ga(t,kw+"-"+e),l.set(e,HA)),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(a);h>=0&&s.splice(h,1),this._triggers.has(e)||l.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function woe(n){return new qe(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new zA(this.id,e,t);let l=this._engine.statesByElement.get(t);l||(ga(t,kw),ga(t,kw+"-"+e),this._engine.statesByElement.set(t,l=new Map));let h=l.get(e);const m=new VA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&m.absorbOptions(h.options),l.set(e,m),h||(h=HA),m.value!==Ov&&h.value===m.value){if(!function Aae(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(h.params,m.params)){const P=[],N=s.matchStyles(h.value,h.params,P),V=s.matchStyles(m.value,m.params,P);P.length?this._engine.reportError(P):this._engine.afterFlush(()=>{bh(t,N),Bl(t,V)})}return}const D=Bo(this._engine.playersByElement,t,[]);D.forEach(P=>{P.namespaceId==this.id&&P.triggerName==e&&P.queued&&P.destroy()});let A=s.matchTransition(h.value,m.value,t,m.params),k=!1;if(!A){if(!r)return;A=s.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:A,fromState:h,toState:m,player:a,isFallbackTransition:k}),k||(ga(t,QH),a.onStart(()=>{Ap(t,QH)})),a.onDone(()=>{let P=this.players.indexOf(a);P>=0&&this.players.splice(P,1);const N=this._engine.playersByElement.get(t);if(N){let V=N.indexOf(a);V>=0&&N.splice(V,1)}}),this.players.push(a),D.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Iw,!0);i.forEach(r=>{if(r[pa])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const l=[];if(s.forEach((h,m)=>{if(a.set(m,h.value),this._triggers.has(m)){const v=this.trigger(t,m,Ov,r);v&&l.push(v)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&Ku(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const h=this._triggers.get(a).fallbackTransition,m=i.get(a)||HA,v=new VA(Ov),C=new zA(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:h,fromState:m,toState:v,player:C,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[pa];(!s||s===JH)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ga(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(l=>{if(l.name==i.triggerName){const h=CA(s,i.triggerName,i.fromState.value,i.toState.value);h._data=t,bA(i.player,l.phase,h,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Cae{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new wae(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,l=this.driver.getParentElement(e);for(;l;){const h=r.get(l);if(h){const m=i.indexOf(h);i.splice(m+1,0,t),a=!0;break}l=this.driver.getParentElement(l)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if($w(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!$w(e))return;const s=e[pa];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ga(t,BA)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ap(t,BA))}removeNode(t,e,i,r){if($w(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[pa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return $w(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Iw,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,MA,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ku(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[pa];if(e&&e.setForRemoval){if(t[pa]=JH,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(BA)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ga(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ku(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Coe(n){return new qe(3402,!1)}()}_flushAnimations(t,e){const i=new Vw,r=[],s=new Map,a=[],l=new Map,h=new Map,m=new Map,v=new Set;this.disabledNodes.forEach(pt=>{v.add(pt);const Ct=this.driver.query(pt,".ng-animate-queued",!0);for(let kt=0;kt<Ct.length;kt++)v.add(Ct[kt])});const C=this.bodyNode,D=Array.from(this.statesByElement.keys()),A=nz(D,this.collectedEnterElements),k=new Map;let P=0;A.forEach((pt,Ct)=>{const kt=SA+P++;k.set(Ct,kt),pt.forEach(tn=>ga(tn,kt))});const N=[],V=new Set,q=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const Ct=this.collectedLeaveElements[pt],kt=Ct[pa];kt&&kt.setForRemoval&&(N.push(Ct),V.add(Ct),kt.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(tn=>V.add(tn)):q.add(Ct))}const te=new Map,$=nz(D,Array.from(V));$.forEach((pt,Ct)=>{const kt=Tw+P++;te.set(Ct,kt),pt.forEach(tn=>ga(tn,kt))}),t.push(()=>{A.forEach((pt,Ct)=>{const kt=k.get(Ct);pt.forEach(tn=>Ap(tn,kt))}),$.forEach((pt,Ct)=>{const kt=te.get(Ct);pt.forEach(tn=>Ap(tn,kt))}),N.forEach(pt=>{this.processLeaveNode(pt)})});const he=[],_e=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(e).forEach(kt=>{const tn=kt.player,xi=kt.element;if(he.push(tn),this.collectedEnterElements.length){const hs=xi[pa];if(hs&&hs.setForMove){if(hs.previousTriggersValues&&hs.previousTriggersValues.has(kt.triggerName)){const Pc=hs.previousTriggersValues.get(kt.triggerName),to=this.statesByElement.get(kt.element);if(to&&to.has(kt.triggerName)){const Za=to.get(kt.triggerName);Za.value=Pc,to.set(kt.triggerName,Za)}}return void tn.destroy()}}const Qr=!C||!this.driver.containsElement(C,xi),Ki=te.get(xi),bs=k.get(xi),yi=this._buildInstruction(kt,i,bs,Ki,Qr);if(yi.errors&&yi.errors.length)return void _e.push(yi);if(Qr)return tn.onStart(()=>bh(xi,yi.fromStyles)),tn.onDestroy(()=>Bl(xi,yi.toStyles)),void r.push(tn);if(kt.isFallbackTransition)return tn.onStart(()=>bh(xi,yi.fromStyles)),tn.onDestroy(()=>Bl(xi,yi.toStyles)),void r.push(tn);const Ka=[];yi.timelines.forEach(hs=>{hs.stretchStartingKeyframe=!0,this.disabledNodes.has(hs.element)||Ka.push(hs)}),yi.timelines=Ka,i.append(xi,yi.timelines),a.push({instruction:yi,player:tn,element:xi}),yi.queriedElements.forEach(hs=>Bo(l,hs,[]).push(tn)),yi.preStyleProps.forEach((hs,Pc)=>{if(hs.size){let to=h.get(Pc);to||h.set(Pc,to=new Set),hs.forEach((Za,Tp)=>to.add(Tp))}}),yi.postStyleProps.forEach((hs,Pc)=>{let to=m.get(Pc);to||m.set(Pc,to=new Set),hs.forEach((Za,Tp)=>to.add(Tp))})});if(_e.length){const pt=[];_e.forEach(Ct=>{pt.push(function xoe(n,t){return new qe(3505,!1)}())}),he.forEach(Ct=>Ct.destroy()),this.reportError(pt)}const Ze=new Map,dt=new Map;a.forEach(pt=>{const Ct=pt.element;i.has(Ct)&&(dt.set(Ct,Ct),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,Ze))}),r.forEach(pt=>{const Ct=pt.element;this._getPreviousPlayers(Ct,!1,pt.namespaceId,pt.triggerName,null).forEach(tn=>{Bo(Ze,Ct,[]).push(tn),tn.destroy()})});const Rt=N.filter(pt=>rz(pt,h,m)),zt=new Map;tz(zt,this.driver,q,m,Cc).forEach(pt=>{rz(pt,h,m)&&Rt.push(pt)});const Yt=new Map;A.forEach((pt,Ct)=>{tz(Yt,this.driver,new Set(pt),h,"!")}),Rt.forEach(pt=>{const Ct=zt.get(pt),kt=Yt.get(pt);zt.set(pt,new Map([...Array.from(Ct?.entries()??[]),...Array.from(kt?.entries()??[])]))});const Gn=[],Ai=[],$n={};a.forEach(pt=>{const{element:Ct,player:kt,instruction:tn}=pt;if(i.has(Ct)){if(v.has(Ct))return kt.onDestroy(()=>Bl(Ct,tn.toStyles)),kt.disabled=!0,kt.overrideTotalTime(tn.totalTime),void r.push(kt);let xi=$n;if(dt.size>1){let Ki=Ct;const bs=[];for(;Ki=Ki.parentNode;){const yi=dt.get(Ki);if(yi){xi=yi;break}bs.push(Ki)}bs.forEach(yi=>dt.set(yi,xi))}const Qr=this._buildAnimation(kt.namespaceId,tn,Ze,s,Yt,zt);if(kt.setRealPlayer(Qr),xi===$n)Gn.push(kt);else{const Ki=this.playersByElement.get(xi);Ki&&Ki.length&&(kt.parentPlayer=Ku(Ki)),r.push(kt)}}else bh(Ct,tn.fromStyles),kt.onDestroy(()=>Bl(Ct,tn.toStyles)),Ai.push(kt),v.has(Ct)&&r.push(kt)}),Ai.forEach(pt=>{const Ct=s.get(pt.element);if(Ct&&Ct.length){const kt=Ku(Ct);pt.setRealPlayer(kt)}}),r.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<N.length;pt++){const Ct=N[pt],kt=Ct[pa];if(Ap(Ct,Tw),kt&&kt.hasAnimation)continue;let tn=[];if(l.size){let Qr=l.get(Ct);Qr&&Qr.length&&tn.push(...Qr);let Ki=this.driver.query(Ct,MA,!0);for(let bs=0;bs<Ki.length;bs++){let yi=l.get(Ki[bs]);yi&&yi.length&&tn.push(...yi)}}const xi=tn.filter(Qr=>!Qr.destroyed);xi.length?Sae(this,Ct,xi):this.processLeaveNode(Ct)}return N.length=0,Gn.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const Ct=this.players.indexOf(pt);this.players.splice(Ct,1)}),pt.play()}),Gn}elementContainsData(t,e){let i=!1;const r=e[pa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const l=this.playersByQueriedElement.get(t);l&&(a=l)}else{const l=this.playersByElement.get(t);if(l){const h=!s||s==Ov;l.forEach(m=>{m.queued||!h&&m.triggerName!=r||a.push(m)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const m=h.element,v=m!==s,C=Bo(i,m,[]);this._getPreviousPlayers(m,v,a,l,e.toState).forEach(A=>{const k=A.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),A.destroy(),C.push(A)})}bh(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const l=e.triggerName,h=e.element,m=[],v=new Set,C=new Set,D=e.timelines.map(k=>{const P=k.element;v.add(P);const N=P[pa];if(N&&N.removedBeforeQueried)return new Hm(k.duration,k.delay);const V=P!==h,q=function Mae(n){const t=[];return iz(n,t),t}((i.get(P)||_ae).map(Ze=>Ze.getRealPlayer())).filter(Ze=>!!Ze.element&&Ze.element===P),te=s.get(P),$=a.get(P),he=TH(0,this._normalizer,0,k.keyframes,te,$),_e=this._buildPlayer(k,he,q);if(k.subTimeline&&r&&C.add(P),V){const Ze=new zA(t,l,P);Ze.setRealPlayer(_e),m.push(Ze)}return _e});m.forEach(k=>{Bo(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function xae(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,k.element,k))}),v.forEach(k=>ga(k,BH));const A=Ku(D);return A.onDestroy(()=>{v.forEach(k=>Ap(k,BH)),Bl(h,e.toStyles)}),C.forEach(k=>{Bo(r,k,[]).push(A)}),A}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Hm(t.duration,t.delay)}}class zA{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Hm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>bA(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Bo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function $w(n){return n&&1===n.nodeType}function ez(n,t){const e=n.style.display;return n.style.display=t??"none",e}function tz(n,t,e,i,r){const s=[];e.forEach(h=>s.push(ez(h)));const a=[];i.forEach((h,m)=>{const v=new Map;h.forEach(C=>{const D=t.computeStyle(m,C,r);v.set(C,D),(!D||0==D.length)&&(m[pa]=bae,a.push(m))}),n.set(m,v)});let l=0;return e.forEach(h=>ez(h,s[l++])),a}function nz(n,t){const e=new Map;if(n.forEach(l=>e.set(l,[])),0==t.length)return e;const r=new Set(t),s=new Map;function a(l){if(!l)return 1;let h=s.get(l);if(h)return h;const m=l.parentNode;return h=e.has(m)?m:r.has(m)?1:a(m),s.set(l,h),h}return t.forEach(l=>{const h=a(l);1!==h&&e.get(h).push(l)}),e}function ga(n,t){n.classList?.add(t)}function Ap(n,t){n.classList?.remove(t)}function Sae(n,t,e){Ku(e).onDone(()=>n.processLeaveNode(t))}function iz(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof jL?iz(i.players,t):t.push(i)}}function rz(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class jw{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Cae(t,e,i),this._timelineEngine=new pae(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let l=this._triggerCache[a];if(!l){const h=[],v=IA(this._driver,s,h,[]);if(h.length)throw function hoe(n,t){return new qe(3404,!1)}();l=function uae(n,t,e){return new dae(n,t,e)}(r,v,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(e,r,l)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=kH(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,l]=kH(i);return this._timelineEngine.listen(a,e,l,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let kae=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Bl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bl(this._element,this._initialStyles),this._endStyles&&(Bl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(bh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bh(this._element,this._endStyles),this._endStyles=null),Bl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function $A(n){let t=null;return n.forEach((e,i)=>{(function Iae(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class sz{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:UH(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Rae{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return PH(t,e)}getParentElement(t){return DA(t)}query(t,e,i){return FH(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,a=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(h.easing=s);const m=new Map,v=a.filter(A=>A instanceof sz);(function Loe(n,t){return 0===n||0===t})(i,r)&&v.forEach(A=>{A.currentSnapshot.forEach((k,P)=>m.set(P,k))});let C=function Roe(n){return n.length?n[0]instanceof Map?n:n.map(t=>VH(t)):[]}(e).map(A=>Yu(A));C=function Noe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<t.length;s++){let a=t[s];r.forEach(l=>a.set(l,UH(n,l)))}}return t}(t,C,m);const D=function Tae(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=$A(t[0]),t.length>1&&(i=$A(t[t.length-1]))):t instanceof Map&&(e=$A(t)),e||i?new kae(n,e,i):null}(t,C);return new sz(t,C,h,D)}}let Oae=(()=>{class n extends VL{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Er.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?zL(e):e;return oz(this._renderer,null,i,"register",[r]),new Pae(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(le(Mo),le(un))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();class Pae extends class I7{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Fae(this._id,t,e||{},this._renderer)}}class Fae{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return oz(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function oz(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const az="@.disabled";let Lae=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const l=a?.parentNode(s);l&&a.removeChild(l,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let v=this._rendererCache.get(s);return v||(v=new lz("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,v)),v}const a=i.id,l=i.id+"-"+this._currentId;this._currentId++,this.engine.register(l,e);const h=v=>{Array.isArray(v)?v.forEach(h):this.engine.registerTrigger(a,l,e,v.name,v)};return i.data.animation.forEach(h),new Nae(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,l]=s;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(le(Mo),le(jw),le(Kt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();class lz{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==az?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Nae extends lz{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==az?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Bae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function Vae(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,i,l)})}return this.delegate.listen(t,e,i)}}const cz=[{provide:VL,useClass:Oae},{provide:LA,useFactory:function zae(){return new oae}},{provide:jw,useClass:(()=>{class n extends jw{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(le(un),le(EA),le(LA),le(zf))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})()},{provide:Mo,useFactory:function $ae(n,t,e){return new Lae(n,t,e)},deps:[nb,jw,Kt]}],jA=[{provide:EA,useFactory:()=>new Rae},{provide:cs,useValue:"BrowserAnimations"},...cz],uz=[{provide:EA,useClass:LH},{provide:cs,useValue:"NoopAnimations"},...cz];let jae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?uz:jA}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:jA,imports:[oO]}),n})(),mz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[VS]}),n})(),Dz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[VS]}),n})(),Tce=(()=>{class n{constructor(e,i){$f(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:$a,useValue:{...HS,...e}},{provide:zS,useValue:i,multi:!0},{provide:cp,useValue:!0}]:[{provide:$a,useValue:{...HS,...e}},{provide:zS,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(le(cp),le(Fa))},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[GS,mz,Dz,GS,mz,Dz]}),n})(),kce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n,bootstrap:[Use]}),n.\u0275inj=Qt({imports:[oO,jse,jae,RX,GS,Tce,JQ,y0,sZ,FS,dZ,PF,k9,$X,kee,GL,Lee,OJ,jJ,rX,LN,ZB,Va]}),n})();(function EU(){aR=!1})(),Q4().bootstrapModule(kce).catch(n=>console.error(n))},5668:(de,me,B)=>{"use strict";B.d(me,{fi:()=>ht,kZ:()=>Cn});var j=B(309),ee=B(6919),se=B(5211),ie=B(7577),ue=B(3535),fe=B(7319),Ce=B(8863),Le=B(1804),rt=B(373);function et(_t,Ve,Ae){void 0===Ae&&(Ae=!1);var ft=(0,ie.Re)(Ve),Mt=(0,ie.Re)(Ve)&&function st(_t){var Ve=_t.getBoundingClientRect(),Ae=(0,rt.NM)(Ve.width)/_t.offsetWidth||1,ft=(0,rt.NM)(Ve.height)/_t.offsetHeight||1;return 1!==Ae||1!==ft}(Ve),nt=(0,Ce.Z)(Ve),Xt=(0,j.Z)(_t,Mt,Ae),Pe={scrollLeft:0,scrollTop:0},hn={x:0,y:0};return(ft||!ft&&!Ae)&&(("body"!==(0,ue.Z)(Ve)||(0,Le.Z)(nt))&&(Pe=function re(_t){return _t!==(0,se.Z)(_t)&&(0,ie.Re)(_t)?function ne(_t){return{scrollLeft:_t.scrollLeft,scrollTop:_t.scrollTop}}(_t):(0,ee.Z)(_t)}(Ve)),(0,ie.Re)(Ve)?((hn=(0,j.Z)(Ve,!0)).x+=Ve.clientLeft,hn.y+=Ve.clientTop):nt&&(hn.x=(0,fe.Z)(nt))),{x:Xt.left+Pe.scrollLeft-hn.x,y:Xt.top+Pe.scrollTop-hn.y,width:Xt.width,height:Xt.height}}var Ne=B(4436),we=B(8941),Qe=B(4826),xt=B(910);function xe(_t){var Ve=new Map,Ae=new Set,ft=[];function Mt(nt){Ae.add(nt.name),[].concat(nt.requires||[],nt.requiresIfExists||[]).forEach(function(Pe){if(!Ae.has(Pe)){var hn=Ve.get(Pe);hn&&Mt(hn)}}),ft.push(nt)}return _t.forEach(function(nt){Ve.set(nt.name,nt)}),_t.forEach(function(nt){Ae.has(nt.name)||Mt(nt)}),ft}function ut(_t){var Ve;return function(){return Ve||(Ve=new Promise(function(Ae){Promise.resolve().then(function(){Ve=void 0,Ae(_t())})})),Ve}}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function on(){for(var _t=arguments.length,Ve=new Array(_t),Ae=0;Ae<_t;Ae++)Ve[Ae]=arguments[Ae];return!Ve.some(function(ft){return!(ft&&"function"==typeof ft.getBoundingClientRect)})}function Cn(_t){void 0===_t&&(_t={});var Ae=_t.defaultModifiers,ft=void 0===Ae?[]:Ae,Mt=_t.defaultOptions,nt=void 0===Mt?Ot:Mt;return function(Pe,hn,Jn){void 0===Jn&&(Jn=nt);var je={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,nt),modifiersData:{},elements:{reference:Pe,popper:hn},attributes:{},styles:{}},ki=[],Pi=!1,fn={state:je,setOptions:function(ir){var Ii="function"==typeof ir?ir(je.options):ir;pr(),je.options=Object.assign({},nt,je.options,Ii),je.scrollParents={reference:(0,ie.kK)(Pe)?(0,we.Z)(Pe):Pe.contextElement?(0,we.Z)(Pe.contextElement):[],popper:(0,we.Z)(hn)};var Hi=function ot(_t){var Ve=xe(_t);return xt.xs.reduce(function(Ae,ft){return Ae.concat(Ve.filter(function(Mt){return Mt.phase===ft}))},[])}(function yt(_t){var Ve=_t.reduce(function(Ae,ft){var Mt=Ae[ft.name];return Ae[ft.name]=Mt?Object.assign({},Mt,ft,{options:Object.assign({},Mt.options,ft.options),data:Object.assign({},Mt.data,ft.data)}):ft,Ae},{});return Object.keys(Ve).map(function(Ae){return Ve[Ae]})}([].concat(ft,je.options.modifiers)));return je.orderedModifiers=Hi.filter(function(Fs){return Fs.enabled}),function Rn(){je.orderedModifiers.forEach(function(vt){var Ii=vt.options,Rr=vt.effect;if("function"==typeof Rr){var gr=Rr({state:je,name:vt.name,instance:fn,options:void 0===Ii?{}:Ii});ki.push(gr||function(){})}})}(),fn.update()},forceUpdate:function(){if(!Pi){var ir=je.elements,Ii=ir.reference,Hi=ir.popper;if(on(Ii,Hi)){je.rects={reference:et(Ii,(0,Qe.Z)(Hi),"fixed"===je.options.strategy),popper:(0,Ne.Z)(Hi)},je.reset=!1,je.placement=je.options.placement,je.orderedModifiers.forEach(function(Fs){return je.modifiersData[Fs.name]=Object.assign({},Fs.data)});for(var gr=0;gr<je.orderedModifiers.length;gr++)if(!0!==je.reset){var Jr=je.orderedModifiers[gr],es=Jr.fn,fs=Jr.options;"function"==typeof es&&(je=es({state:je,options:void 0===fs?{}:fs,name:Jr.name,instance:fn})||je)}else je.reset=!1,gr=-1}}},update:ut(function(){return new Promise(function(vt){fn.forceUpdate(),vt(je)})}),destroy:function(){pr(),Pi=!0}};if(!on(Pe,hn))return fn;function pr(){ki.forEach(function(vt){return vt()}),ki=[]}return fn.setOptions(Jn).then(function(vt){!Pi&&Jn.onFirstUpdate&&Jn.onFirstUpdate(vt)}),fn}}var ht=Cn()},7852:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ee});var j=B(7577);function ee(se,ie){var ne=ie.getRootNode&&ie.getRootNode();if(se.contains(ie))return!0;if(ne&&(0,j.Zq)(ne)){var re=ie;do{if(re&&se.isSameNode(re))return!0;re=re.parentNode||re.host}while(re)}return!1}},309:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ne});var j=B(7577),ee=B(373),se=B(5211),ie=B(4796);function ne(re,ue,fe){void 0===ue&&(ue=!1),void 0===fe&&(fe=!1);var Ce=re.getBoundingClientRect(),Le=1,rt=1;ue&&(0,j.Re)(re)&&(Le=re.offsetWidth>0&&(0,ee.NM)(Ce.width)/re.offsetWidth||1,rt=re.offsetHeight>0&&(0,ee.NM)(Ce.height)/re.offsetHeight||1);var et=((0,j.kK)(re)?(0,se.Z)(re):window).visualViewport,Ne=!(0,ie.Z)()&&fe,we=(Ce.left+(Ne&&et?et.offsetLeft:0))/Le,Qe=(Ce.top+(Ne&&et?et.offsetTop:0))/rt,xt=Ce.width/Le,xe=Ce.height/rt;return{width:xt,height:xe,top:Qe,right:we+xt,bottom:Qe+xe,left:we,x:we,y:Qe}}},1422:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ee});var j=B(5211);function ee(se){return(0,j.Z)(se).getComputedStyle(se)}},8863:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ee});var j=B(7577);function ee(se){return(((0,j.kK)(se)?se.ownerDocument:se.document)||window.document).documentElement}},4436:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ee});var j=B(309);function ee(se){var ie=(0,j.Z)(se),ne=se.offsetWidth,re=se.offsetHeight;return Math.abs(ie.width-ne)<=1&&(ne=ie.width),Math.abs(ie.height-re)<=1&&(re=ie.height),{x:se.offsetLeft,y:se.offsetTop,width:ne,height:re}}},3535:(de,me,B)=>{"use strict";function j(ee){return ee?(ee.nodeName||"").toLowerCase():null}B.d(me,{Z:()=>j})},4826:(de,me,B)=>{"use strict";B.d(me,{Z:()=>Le});var j=B(5211),ee=B(3535),se=B(1422),ie=B(7577);function ne(rt){return["table","td","th"].indexOf((0,ee.Z)(rt))>=0}var re=B(3449),ue=B(549);function fe(rt){return(0,ie.Re)(rt)&&"fixed"!==(0,se.Z)(rt).position?rt.offsetParent:null}function Le(rt){for(var st=(0,j.Z)(rt),et=fe(rt);et&&ne(et)&&"static"===(0,se.Z)(et).position;)et=fe(et);return et&&("html"===(0,ee.Z)(et)||"body"===(0,ee.Z)(et)&&"static"===(0,se.Z)(et).position)?st:et||function Ce(rt){var st=/firefox/i.test((0,ue.Z)());if(/Trident/i.test((0,ue.Z)())&&(0,ie.Re)(rt)&&"fixed"===(0,se.Z)(rt).position)return null;var we=(0,re.Z)(rt);for((0,ie.Zq)(we)&&(we=we.host);(0,ie.Re)(we)&&["html","body"].indexOf((0,ee.Z)(we))<0;){var Qe=(0,se.Z)(we);if("none"!==Qe.transform||"none"!==Qe.perspective||"paint"===Qe.contain||-1!==["transform","perspective"].indexOf(Qe.willChange)||st&&"filter"===Qe.willChange||st&&Qe.filter&&"none"!==Qe.filter)return we;we=we.parentNode}return null}(rt)||st}},3449:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ie});var j=B(3535),ee=B(8863),se=B(7577);function ie(ne){return"html"===(0,j.Z)(ne)?ne:ne.assignedSlot||ne.parentNode||((0,se.Zq)(ne)?ne.host:null)||(0,ee.Z)(ne)}},5211:(de,me,B)=>{"use strict";function j(ee){if(null==ee)return window;if("[object Window]"!==ee.toString()){var se=ee.ownerDocument;return se&&se.defaultView||window}return ee}B.d(me,{Z:()=>j})},6919:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ee});var j=B(5211);function ee(se){var ie=(0,j.Z)(se);return{scrollLeft:ie.pageXOffset,scrollTop:ie.pageYOffset}}},7319:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ie});var j=B(309),ee=B(8863),se=B(6919);function ie(ne){return(0,j.Z)((0,ee.Z)(ne)).left+(0,se.Z)(ne).scrollLeft}},7577:(de,me,B)=>{"use strict";B.d(me,{Re:()=>se,Zq:()=>ie,kK:()=>ee});var j=B(5211);function ee(ne){return ne instanceof(0,j.Z)(ne).Element||ne instanceof Element}function se(ne){return ne instanceof(0,j.Z)(ne).HTMLElement||ne instanceof HTMLElement}function ie(ne){return!(typeof ShadowRoot>"u")&&(ne instanceof(0,j.Z)(ne).ShadowRoot||ne instanceof ShadowRoot)}},4796:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ee});var j=B(549);function ee(){return!/^((?!chrome|android).)*safari/i.test((0,j.Z)())}},1804:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ee});var j=B(1422);function ee(se){var ie=(0,j.Z)(se);return/auto|scroll|overlay|hidden/.test(ie.overflow+ie.overflowY+ie.overflowX)}},8941:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ue});var j=B(3449),ee=B(1804),se=B(3535),ie=B(7577);function ne(fe){return["html","body","#document"].indexOf((0,se.Z)(fe))>=0?fe.ownerDocument.body:(0,ie.Re)(fe)&&(0,ee.Z)(fe)?fe:ne((0,j.Z)(fe))}var re=B(5211);function ue(fe,Ce){var Le;void 0===Ce&&(Ce=[]);var rt=ne(fe),st=rt===(null==(Le=fe.ownerDocument)?void 0:Le.body),et=(0,re.Z)(rt),Ne=st?[et].concat(et.visualViewport||[],(0,ee.Z)(rt)?rt:[]):rt,we=Ce.concat(Ne);return st?we:we.concat(ue((0,j.Z)(Ne)))}},910:(de,me,B)=>{"use strict";B.d(me,{BL:()=>ue,Ct:()=>Ne,DH:()=>ot,F2:()=>se,I:()=>ee,MS:()=>Tt,N7:()=>we,Pj:()=>Le,XM:()=>xe,YP:()=>st,bw:()=>et,cW:()=>Ht,d7:()=>ne,ij:()=>Qe,iv:()=>yt,k5:()=>rt,mv:()=>re,r5:()=>xt,t$:()=>ie,ut:()=>fe,wX:()=>ut,we:()=>j,xs:()=>Ot,zV:()=>Ce});var j="top",ee="bottom",se="right",ie="left",ne="auto",re=[j,ee,se,ie],ue="start",fe="end",Ce="clippingParents",Le="viewport",rt="popper",st="reference",et=re.reduce(function(on,Cn){return on.concat([Cn+"-"+ue,Cn+"-"+fe])},[]),Ne=[].concat(re,[ne]).reduce(function(on,Cn){return on.concat([Cn,Cn+"-"+ue,Cn+"-"+fe])},[]),we="beforeRead",Qe="read",xt="afterRead",xe="beforeMain",ot="main",ut="afterMain",yt="beforeWrite",Ht="write",Tt="afterWrite",Ot=[we,Qe,xt,xe,ot,ut,yt,Ht,Tt]},2833:(de,me,B)=>{"use strict";B.r(me),B.d(me,{afterMain:()=>j.wX,afterRead:()=>j.r5,afterWrite:()=>j.MS,applyStyles:()=>ee.Z,arrow:()=>se.Z,auto:()=>j.d7,basePlacements:()=>j.mv,beforeMain:()=>j.XM,beforeRead:()=>j.N7,beforeWrite:()=>j.iv,bottom:()=>j.I,clippingParents:()=>j.zV,computeStyles:()=>ie.Z,createPopper:()=>et.fi,createPopperBase:()=>rt.fi,createPopperLite:()=>we,detectOverflow:()=>st.Z,end:()=>j.ut,eventListeners:()=>ne.Z,flip:()=>re.Z,hide:()=>ue.Z,left:()=>j.t$,main:()=>j.DH,modifierPhases:()=>j.xs,offset:()=>fe.Z,placements:()=>j.Ct,popper:()=>j.k5,popperGenerator:()=>rt.kZ,popperOffsets:()=>Ce.Z,preventOverflow:()=>Le.Z,read:()=>j.ij,reference:()=>j.YP,right:()=>j.F2,start:()=>j.BL,top:()=>j.we,variationPlacements:()=>j.bw,viewport:()=>j.Pj,write:()=>j.cW});var j=B(910),ee=B(9208),se=B(5443),ie=B(7745),ne=B(1971),re=B(1363),ue=B(112),fe=B(3718),Ce=B(9696),Le=B(9429),rt=B(5668),st=B(1785),et=B(8061),we=(0,rt.kZ)({defaultModifiers:[ne.Z,Ce.Z,ie.Z,ee.Z]})},9208:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ne});var j=B(3535),ee=B(7577);const ne={name:"applyStyles",enabled:!0,phase:"write",fn:function se(re){var ue=re.state;Object.keys(ue.elements).forEach(function(fe){var Ce=ue.styles[fe]||{},Le=ue.attributes[fe]||{},rt=ue.elements[fe];!(0,ee.Re)(rt)||!(0,j.Z)(rt)||(Object.assign(rt.style,Ce),Object.keys(Le).forEach(function(st){var et=Le[st];!1===et?rt.removeAttribute(st):rt.setAttribute(st,!0===et?"":et)}))})},effect:function ie(re){var ue=re.state,fe={popper:{position:ue.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(ue.elements.popper.style,fe.popper),ue.styles=fe,ue.elements.arrow&&Object.assign(ue.elements.arrow.style,fe.arrow),function(){Object.keys(ue.elements).forEach(function(Ce){var Le=ue.elements[Ce],rt=ue.attributes[Ce]||{},et=Object.keys(ue.styles.hasOwnProperty(Ce)?ue.styles[Ce]:fe[Ce]).reduce(function(Ne,we){return Ne[we]="",Ne},{});!(0,ee.Re)(Le)||!(0,j.Z)(Le)||(Object.assign(Le.style,et),Object.keys(rt).forEach(function(Ne){Le.removeAttribute(Ne)}))})}},requires:["computeStyles"]}},5443:(de,me,B)=>{"use strict";B.d(me,{Z:()=>et});var j=B(8978),ee=B(4436),se=B(7852),ie=B(4826),ne=B(3218),re=B(7327),ue=B(3234),fe=B(3857),Ce=B(910);const et={name:"arrow",enabled:!0,phase:"main",fn:function rt(Ne){var we,Qe=Ne.state,xt=Ne.name,xe=Ne.options,ot=Qe.elements.arrow,ut=Qe.modifiersData.popperOffsets,yt=(0,j.Z)(Qe.placement),Ht=(0,ne.Z)(yt),Ot=[Ce.t$,Ce.F2].indexOf(yt)>=0?"height":"width";if(ot&&ut){var on=function(we,Qe){return we="function"==typeof we?we(Object.assign({},Qe.rects,{placement:Qe.placement})):we,(0,ue.Z)("number"!=typeof we?we:(0,fe.Z)(we,Ce.mv))}(xe.padding,Qe),Cn=(0,ee.Z)(ot),ht="y"===Ht?Ce.we:Ce.t$,_t="y"===Ht?Ce.I:Ce.F2,Ve=Qe.rects.reference[Ot]+Qe.rects.reference[Ht]-ut[Ht]-Qe.rects.popper[Ot],Ae=ut[Ht]-Qe.rects.reference[Ht],ft=(0,ie.Z)(ot),Mt=ft?"y"===Ht?ft.clientHeight||0:ft.clientWidth||0:0,hn=Mt/2-Cn[Ot]/2+(Ve/2-Ae/2),Jn=(0,re.u)(on[ht],hn,Mt-Cn[Ot]-on[_t]);Qe.modifiersData[xt]=((we={})[Ht]=Jn,we.centerOffset=Jn-hn,we)}},effect:function st(Ne){var we=Ne.state,xt=Ne.options.element,xe=void 0===xt?"[data-popper-arrow]":xt;null!=xe&&("string"==typeof xe&&!(xe=we.elements.popper.querySelector(xe))||!(0,se.Z)(we.elements.popper,xe)||(we.elements.arrow=xe))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},7745:(de,me,B)=>{"use strict";B.d(me,{Z:()=>et});var j=B(910),ee=B(4826),se=B(5211),ie=B(8863),ne=B(1422),re=B(8978),ue=B(1786),fe=B(373),Ce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rt(Ne){var we,Qe=Ne.popper,xt=Ne.popperRect,xe=Ne.placement,ot=Ne.variation,ut=Ne.offsets,yt=Ne.position,Ht=Ne.gpuAcceleration,Tt=Ne.adaptive,Ot=Ne.roundOffsets,on=Ne.isFixed,Cn=ut.x,ht=void 0===Cn?0:Cn,_t=ut.y,Ve=void 0===_t?0:_t,Ae="function"==typeof Ot?Ot({x:ht,y:Ve}):{x:ht,y:Ve};ht=Ae.x,Ve=Ae.y;var ft=ut.hasOwnProperty("x"),Mt=ut.hasOwnProperty("y"),nt=j.t$,Xt=j.we,Pe=window;if(Tt){var hn=(0,ee.Z)(Qe),Jn="clientHeight",je="clientWidth";hn===(0,se.Z)(Qe)&&(hn=(0,ie.Z)(Qe),"static"!==(0,ne.Z)(hn).position&&"absolute"===yt&&(Jn="scrollHeight",je="scrollWidth")),(xe===j.we||(xe===j.t$||xe===j.F2)&&ot===j.ut)&&(Xt=j.I,Ve-=(on&&hn===Pe&&Pe.visualViewport?Pe.visualViewport.height:hn[Jn])-xt.height,Ve*=Ht?1:-1),xe!==j.t$&&(xe!==j.we&&xe!==j.I||ot!==j.ut)||(nt=j.F2,ht-=(on&&hn===Pe&&Pe.visualViewport?Pe.visualViewport.width:hn[je])-xt.width,ht*=Ht?1:-1)}var pr,fn=Object.assign({position:yt},Tt&&Ce),Rn=!0===Ot?function Le(Ne){var Qe=Ne.y,xe=window.devicePixelRatio||1;return{x:(0,fe.NM)(Ne.x*xe)/xe||0,y:(0,fe.NM)(Qe*xe)/xe||0}}({x:ht,y:Ve}):{x:ht,y:Ve};return ht=Rn.x,Ve=Rn.y,Object.assign({},fn,Ht?((pr={})[Xt]=Mt?"0":"",pr[nt]=ft?"0":"",pr.transform=(Pe.devicePixelRatio||1)<=1?"translate("+ht+"px, "+Ve+"px)":"translate3d("+ht+"px, "+Ve+"px, 0)",pr):((we={})[Xt]=Mt?Ve+"px":"",we[nt]=ft?ht+"px":"",we.transform="",we))}const et={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function st(Ne){var we=Ne.state,Qe=Ne.options,xt=Qe.gpuAcceleration,xe=void 0===xt||xt,ot=Qe.adaptive,ut=void 0===ot||ot,yt=Qe.roundOffsets,Ht=void 0===yt||yt,Ot={placement:(0,re.Z)(we.placement),variation:(0,ue.Z)(we.placement),popper:we.elements.popper,popperRect:we.rects.popper,gpuAcceleration:xe,isFixed:"fixed"===we.options.strategy};null!=we.modifiersData.popperOffsets&&(we.styles.popper=Object.assign({},we.styles.popper,rt(Object.assign({},Ot,{offsets:we.modifiersData.popperOffsets,position:we.options.strategy,adaptive:ut,roundOffsets:Ht})))),null!=we.modifiersData.arrow&&(we.styles.arrow=Object.assign({},we.styles.arrow,rt(Object.assign({},Ot,{offsets:we.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ht})))),we.attributes.popper=Object.assign({},we.attributes.popper,{"data-popper-placement":we.placement})},data:{}}},1971:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ie});var j=B(5211),ee={passive:!0};const ie={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function se(ne){var re=ne.state,ue=ne.instance,fe=ne.options,Ce=fe.scroll,Le=void 0===Ce||Ce,rt=fe.resize,st=void 0===rt||rt,et=(0,j.Z)(re.elements.popper),Ne=[].concat(re.scrollParents.reference,re.scrollParents.popper);return Le&&Ne.forEach(function(we){we.addEventListener("scroll",ue.update,ee)}),st&&et.addEventListener("resize",ue.update,ee),function(){Le&&Ne.forEach(function(we){we.removeEventListener("scroll",ue.update,ee)}),st&&et.removeEventListener("resize",ue.update,ee)}},data:{}}},1363:(de,me,B)=>{"use strict";B.d(me,{Z:()=>st});var j={left:"right",right:"left",bottom:"top",top:"bottom"};function ee(et){return et.replace(/left|right|bottom|top/g,function(Ne){return j[Ne]})}var se=B(8978),ie={start:"end",end:"start"};function ne(et){return et.replace(/start|end/g,function(Ne){return ie[Ne]})}var re=B(1785),ue=B(1786),fe=B(910);const st={name:"flip",enabled:!0,phase:"main",fn:function rt(et){var Ne=et.state,we=et.options,Qe=et.name;if(!Ne.modifiersData[Qe]._skip){for(var xt=we.mainAxis,xe=void 0===xt||xt,ot=we.altAxis,ut=void 0===ot||ot,yt=we.fallbackPlacements,Ht=we.padding,Tt=we.boundary,Ot=we.rootBoundary,on=we.altBoundary,Cn=we.flipVariations,ht=void 0===Cn||Cn,_t=we.allowedAutoPlacements,Ve=Ne.options.placement,Ae=(0,se.Z)(Ve),Mt=yt||(Ae!==Ve&&ht?function Le(et){if((0,se.Z)(et)===fe.d7)return[];var Ne=ee(et);return[ne(et),Ne,ne(Ne)]}(Ve):[ee(Ve)]),nt=[Ve].concat(Mt).reduce(function(ts,ei){return ts.concat((0,se.Z)(ei)===fe.d7?function Ce(et,Ne){void 0===Ne&&(Ne={});var xt=Ne.boundary,xe=Ne.rootBoundary,ot=Ne.padding,ut=Ne.flipVariations,yt=Ne.allowedAutoPlacements,Ht=void 0===yt?fe.Ct:yt,Tt=(0,ue.Z)(Ne.placement),Ot=Tt?ut?fe.bw:fe.bw.filter(function(ht){return(0,ue.Z)(ht)===Tt}):fe.mv,on=Ot.filter(function(ht){return Ht.indexOf(ht)>=0});0===on.length&&(on=Ot);var Cn=on.reduce(function(ht,_t){return ht[_t]=(0,re.Z)(et,{placement:_t,boundary:xt,rootBoundary:xe,padding:ot})[(0,se.Z)(_t)],ht},{});return Object.keys(Cn).sort(function(ht,_t){return Cn[ht]-Cn[_t]})}(Ne,{placement:ei,boundary:Tt,rootBoundary:Ot,padding:Ht,flipVariations:ht,allowedAutoPlacements:_t}):ei)},[]),Xt=Ne.rects.reference,Pe=Ne.rects.popper,hn=new Map,Jn=!0,je=nt[0],ki=0;ki<nt.length;ki++){var Pi=nt[ki],fn=(0,se.Z)(Pi),Rn=(0,ue.Z)(Pi)===fe.BL,pr=[fe.we,fe.I].indexOf(fn)>=0,vt=pr?"width":"height",ir=(0,re.Z)(Ne,{placement:Pi,boundary:Tt,rootBoundary:Ot,altBoundary:on,padding:Ht}),Ii=pr?Rn?fe.F2:fe.t$:Rn?fe.I:fe.we;Xt[vt]>Pe[vt]&&(Ii=ee(Ii));var Hi=ee(Ii),Rr=[];if(xe&&Rr.push(ir[fn]<=0),ut&&Rr.push(ir[Ii]<=0,ir[Hi]<=0),Rr.every(function(ts){return ts})){je=Pi,Jn=!1;break}hn.set(Pi,Rr)}if(Jn)for(var Jr=function(ei){var Fs=nt.find(function(mo){var va=hn.get(mo);if(va)return va.slice(0,ei).every(function(ya){return ya})});if(Fs)return je=Fs,"break"},es=ht?3:1;es>0&&"break"!==Jr(es);es--);Ne.placement!==je&&(Ne.modifiersData[Qe]._skip=!0,Ne.placement=je,Ne.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}},112:(de,me,B)=>{"use strict";B.d(me,{Z:()=>re});var j=B(910),ee=B(1785);function se(ue,fe,Ce){return void 0===Ce&&(Ce={x:0,y:0}),{top:ue.top-fe.height-Ce.y,right:ue.right-fe.width+Ce.x,bottom:ue.bottom-fe.height+Ce.y,left:ue.left-fe.width-Ce.x}}function ie(ue){return[j.we,j.F2,j.I,j.t$].some(function(fe){return ue[fe]>=0})}const re={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function ne(ue){var fe=ue.state,Ce=ue.name,Le=fe.rects.reference,rt=fe.rects.popper,st=fe.modifiersData.preventOverflow,et=(0,ee.Z)(fe,{elementContext:"reference"}),Ne=(0,ee.Z)(fe,{altBoundary:!0}),we=se(et,Le),Qe=se(Ne,rt,st),xt=ie(we),xe=ie(Qe);fe.modifiersData[Ce]={referenceClippingOffsets:we,popperEscapeOffsets:Qe,isReferenceHidden:xt,hasPopperEscaped:xe},fe.attributes.popper=Object.assign({},fe.attributes.popper,{"data-popper-reference-hidden":xt,"data-popper-escaped":xe})}}},3718:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ne});var j=B(8978),ee=B(910);const ne={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function ie(re){var ue=re.state,Ce=re.name,Le=re.options.offset,rt=void 0===Le?[0,0]:Le,st=ee.Ct.reduce(function(Qe,xt){return Qe[xt]=function se(re,ue,fe){var Ce=(0,j.Z)(re),Le=[ee.t$,ee.we].indexOf(Ce)>=0?-1:1,rt="function"==typeof fe?fe(Object.assign({},ue,{placement:re})):fe,st=rt[0],et=rt[1];return st=st||0,et=(et||0)*Le,[ee.t$,ee.F2].indexOf(Ce)>=0?{x:et,y:st}:{x:st,y:et}}(xt,ue.rects,rt),Qe},{}),et=st[ue.placement],we=et.y;null!=ue.modifiersData.popperOffsets&&(ue.modifiersData.popperOffsets.x+=et.x,ue.modifiersData.popperOffsets.y+=we),ue.modifiersData[Ce]=st}}},9696:(de,me,B)=>{"use strict";B.d(me,{Z:()=>se});var j=B(2551);const se={name:"popperOffsets",enabled:!0,phase:"read",fn:function ee(ie){var ne=ie.state;ne.modifiersData[ie.name]=(0,j.Z)({reference:ne.rects.reference,element:ne.rects.popper,strategy:"absolute",placement:ne.placement})},data:{}}},9429:(de,me,B)=>{"use strict";B.d(me,{Z:()=>et});var j=B(910),ee=B(8978),se=B(3218),ne=B(7327),re=B(4436),ue=B(4826),fe=B(1785),Ce=B(1786),Le=B(613),rt=B(373);const et={name:"preventOverflow",enabled:!0,phase:"main",fn:function st(Ne){var we=Ne.state,Qe=Ne.options,xt=Ne.name,xe=Qe.mainAxis,ot=void 0===xe||xe,ut=Qe.altAxis,yt=void 0!==ut&&ut,Cn=Qe.tether,ht=void 0===Cn||Cn,_t=Qe.tetherOffset,Ve=void 0===_t?0:_t,Ae=(0,fe.Z)(we,{boundary:Qe.boundary,rootBoundary:Qe.rootBoundary,padding:Qe.padding,altBoundary:Qe.altBoundary}),ft=(0,ee.Z)(we.placement),Mt=(0,Ce.Z)(we.placement),nt=!Mt,Xt=(0,se.Z)(ft),Pe=function ie(Ne){return"x"===Ne?"y":"x"}(Xt),hn=we.modifiersData.popperOffsets,Jn=we.rects.reference,je=we.rects.popper,ki="function"==typeof Ve?Ve(Object.assign({},we.rects,{placement:we.placement})):Ve,Pi="number"==typeof ki?{mainAxis:ki,altAxis:ki}:Object.assign({mainAxis:0,altAxis:0},ki),fn=we.modifiersData.offset?we.modifiersData.offset[we.placement]:null,Rn={x:0,y:0};if(hn){if(ot){var pr,vt="y"===Xt?j.we:j.t$,ir="y"===Xt?j.I:j.F2,Ii="y"===Xt?"height":"width",Hi=hn[Xt],Rr=Hi+Ae[vt],gr=Hi-Ae[ir],Jr=ht?-je[Ii]/2:0,es=Mt===j.BL?Jn[Ii]:je[Ii],fs=Mt===j.BL?-je[Ii]:-Jn[Ii],ts=we.elements.arrow,ei=ht&&ts?(0,re.Z)(ts):{width:0,height:0},Fs=we.modifiersData["arrow#persistent"]?we.modifiersData["arrow#persistent"].padding:(0,Le.Z)(),mo=Fs[vt],va=Fs[ir],ya=(0,ne.u)(0,Jn[Ii],ei[Ii]),Pv=nt?Jn[Ii]/2-Jr-ya-mo-Pi.mainAxis:es-ya-mo-Pi.mainAxis,Fv=nt?-Jn[Ii]/2+Jr+ya+va+Pi.mainAxis:fs+ya+va+Pi.mainAxis,io=we.elements.arrow&&(0,ue.Z)(we.elements.arrow),qt=null!=(pr=fn?.[Xt])?pr:0,Lv=Hi+Fv-qt,xh=(0,ne.u)(ht?(0,rt.VV)(Rr,Hi+Pv-qt-(io?"y"===Xt?io.clientTop||0:io.clientLeft||0:0)):Rr,Hi,ht?(0,rt.Fp)(gr,Lv):gr);hn[Xt]=xh,Rn[Xt]=xh-Hi}if(yt){var Pp,_a=hn[Pe],Fc="y"===Pe?"height":"width",Xa=_a+Ae["x"===Xt?j.we:j.t$],Lc=_a-Ae["x"===Xt?j.I:j.F2],Nc=-1!==[j.we,j.t$].indexOf(ft),Qa=null!=(Pp=fn?.[Pe])?Pp:0,Ls=Nc?Xa:_a-Jn[Fc]-je[Fc]-Qa+Pi.altAxis,ba=Nc?_a+Jn[Fc]+je[Fc]-Qa-Pi.altAxis:Lc,Bc=ht&&Nc?(0,ne.q)(Ls,_a,ba):(0,ne.u)(ht?Ls:Xa,_a,ht?ba:Lc);hn[Pe]=Bc,Rn[Pe]=Bc-_a}we.modifiersData[xt]=Rn}},requiresIfExists:["offset"]}},8061:(de,me,B)=>{"use strict";B.d(me,{fi:()=>st});var j=B(5668),ee=B(1971),se=B(9696),ie=B(7745),ne=B(9208),re=B(3718),ue=B(1363),fe=B(9429),Ce=B(5443),Le=B(112),st=(0,j.kZ)({defaultModifiers:[ee.Z,se.Z,ie.Z,ne.Z,re.Z,ue.Z,fe.Z,Ce.Z,Le.Z]})},2551:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ne});var j=B(8978),ee=B(1786),se=B(3218),ie=B(910);function ne(re){var Ne,ue=re.reference,fe=re.element,Ce=re.placement,Le=Ce?(0,j.Z)(Ce):null,rt=Ce?(0,ee.Z)(Ce):null,st=ue.x+ue.width/2-fe.width/2,et=ue.y+ue.height/2-fe.height/2;switch(Le){case ie.we:Ne={x:st,y:ue.y-fe.height};break;case ie.I:Ne={x:st,y:ue.y+ue.height};break;case ie.F2:Ne={x:ue.x+ue.width,y:et};break;case ie.t$:Ne={x:ue.x-fe.width,y:et};break;default:Ne={x:ue.x,y:ue.y}}var we=Le?(0,se.Z)(Le):null;if(null!=we){var Qe="y"===we?"height":"width";switch(rt){case ie.BL:Ne[we]=Ne[we]-(ue[Qe]/2-fe[Qe]/2);break;case ie.ut:Ne[we]=Ne[we]+(ue[Qe]/2-fe[Qe]/2)}}return Ne}},1785:(de,me,B)=>{"use strict";B.d(me,{Z:()=>Cn});var j=B(910),ee=B(5211),se=B(8863),ie=B(7319),ne=B(4796),ue=B(1422),fe=B(6919),Ce=B(373),rt=B(8941),st=B(4826),et=B(7577),Ne=B(309),we=B(3449),Qe=B(7852),xt=B(3535);function xe(ht){return Object.assign({},ht,{left:ht.x,top:ht.y,right:ht.x+ht.width,bottom:ht.y+ht.height})}function ut(ht,_t,Ve){return _t===j.Pj?xe(function re(ht,_t){var Ve=(0,ee.Z)(ht),Ae=(0,se.Z)(ht),ft=Ve.visualViewport,Mt=Ae.clientWidth,nt=Ae.clientHeight,Xt=0,Pe=0;if(ft){Mt=ft.width,nt=ft.height;var hn=(0,ne.Z)();(hn||!hn&&"fixed"===_t)&&(Xt=ft.offsetLeft,Pe=ft.offsetTop)}return{width:Mt,height:nt,x:Xt+(0,ie.Z)(ht),y:Pe}}(ht,Ve)):(0,et.kK)(_t)?function ot(ht,_t){var Ve=(0,Ne.Z)(ht,!1,"fixed"===_t);return Ve.top=Ve.top+ht.clientTop,Ve.left=Ve.left+ht.clientLeft,Ve.bottom=Ve.top+ht.clientHeight,Ve.right=Ve.left+ht.clientWidth,Ve.width=ht.clientWidth,Ve.height=ht.clientHeight,Ve.x=Ve.left,Ve.y=Ve.top,Ve}(_t,Ve):xe(function Le(ht){var _t,Ve=(0,se.Z)(ht),Ae=(0,fe.Z)(ht),ft=null==(_t=ht.ownerDocument)?void 0:_t.body,Mt=(0,Ce.Fp)(Ve.scrollWidth,Ve.clientWidth,ft?ft.scrollWidth:0,ft?ft.clientWidth:0),nt=(0,Ce.Fp)(Ve.scrollHeight,Ve.clientHeight,ft?ft.scrollHeight:0,ft?ft.clientHeight:0),Xt=-Ae.scrollLeft+(0,ie.Z)(ht),Pe=-Ae.scrollTop;return"rtl"===(0,ue.Z)(ft||Ve).direction&&(Xt+=(0,Ce.Fp)(Ve.clientWidth,ft?ft.clientWidth:0)-Mt),{width:Mt,height:nt,x:Xt,y:Pe}}((0,se.Z)(ht)))}var Tt=B(2551),Ot=B(3234),on=B(3857);function Cn(ht,_t){void 0===_t&&(_t={});var Ae=_t.placement,ft=void 0===Ae?ht.placement:Ae,Mt=_t.strategy,nt=void 0===Mt?ht.strategy:Mt,Xt=_t.boundary,Pe=void 0===Xt?j.zV:Xt,hn=_t.rootBoundary,Jn=void 0===hn?j.Pj:hn,je=_t.elementContext,ki=void 0===je?j.k5:je,Pi=_t.altBoundary,fn=void 0!==Pi&&Pi,Rn=_t.padding,pr=void 0===Rn?0:Rn,vt=(0,Ot.Z)("number"!=typeof pr?pr:(0,on.Z)(pr,j.mv)),Ii=ht.rects.popper,Hi=ht.elements[fn?ki===j.k5?j.YP:j.k5:ki],Rr=function Ht(ht,_t,Ve,Ae){var ft="clippingParents"===_t?function yt(ht){var _t=(0,rt.Z)((0,we.Z)(ht)),Ae=["absolute","fixed"].indexOf((0,ue.Z)(ht).position)>=0&&(0,et.Re)(ht)?(0,st.Z)(ht):ht;return(0,et.kK)(Ae)?_t.filter(function(ft){return(0,et.kK)(ft)&&(0,Qe.Z)(ft,Ae)&&"body"!==(0,xt.Z)(ft)}):[]}(ht):[].concat(_t),Mt=[].concat(ft,[Ve]),Xt=Mt.reduce(function(Pe,hn){var Jn=ut(ht,hn,Ae);return Pe.top=(0,Ce.Fp)(Jn.top,Pe.top),Pe.right=(0,Ce.VV)(Jn.right,Pe.right),Pe.bottom=(0,Ce.VV)(Jn.bottom,Pe.bottom),Pe.left=(0,Ce.Fp)(Jn.left,Pe.left),Pe},ut(ht,Mt[0],Ae));return Xt.width=Xt.right-Xt.left,Xt.height=Xt.bottom-Xt.top,Xt.x=Xt.left,Xt.y=Xt.top,Xt}((0,et.kK)(Hi)?Hi:Hi.contextElement||(0,se.Z)(ht.elements.popper),Pe,Jn,nt),gr=(0,Ne.Z)(ht.elements.reference),Jr=(0,Tt.Z)({reference:gr,element:Ii,strategy:"absolute",placement:ft}),es=xe(Object.assign({},Ii,Jr)),fs=ki===j.k5?es:gr,ts={top:Rr.top-fs.top+vt.top,bottom:fs.bottom-Rr.bottom+vt.bottom,left:Rr.left-fs.left+vt.left,right:fs.right-Rr.right+vt.right},ei=ht.modifiersData.offset;if(ki===j.k5&&ei){var Fs=ei[ft];Object.keys(ts).forEach(function(mo){var va=[j.F2,j.I].indexOf(mo)>=0?1:-1,ya=[j.we,j.I].indexOf(mo)>=0?"y":"x";ts[mo]+=Fs[ya]*va})}return ts}},3857:(de,me,B)=>{"use strict";function j(ee,se){return se.reduce(function(ie,ne){return ie[ne]=ee,ie},{})}B.d(me,{Z:()=>j})},8978:(de,me,B)=>{"use strict";function j(ee){return ee.split("-")[0]}B.d(me,{Z:()=>j})},613:(de,me,B)=>{"use strict";function j(){return{top:0,right:0,bottom:0,left:0}}B.d(me,{Z:()=>j})},3218:(de,me,B)=>{"use strict";function j(ee){return["top","bottom"].indexOf(ee)>=0?"x":"y"}B.d(me,{Z:()=>j})},1786:(de,me,B)=>{"use strict";function j(ee){return ee.split("-")[1]}B.d(me,{Z:()=>j})},373:(de,me,B)=>{"use strict";B.d(me,{Fp:()=>j,NM:()=>se,VV:()=>ee});var j=Math.max,ee=Math.min,se=Math.round},3234:(de,me,B)=>{"use strict";B.d(me,{Z:()=>ee});var j=B(613);function ee(se){return Object.assign({},(0,j.Z)(),se)}},549:(de,me,B)=>{"use strict";function j(){var ee=navigator.userAgentData;return null!=ee&&ee.brands?ee.brands.map(function(se){return se.brand+"/"+se.version}).join(" "):navigator.userAgent}B.d(me,{Z:()=>j})},7327:(de,me,B)=>{"use strict";B.d(me,{q:()=>se,u:()=>ee});var j=B(373);function ee(ie,ne,re){return(0,j.Fp)(ie,(0,j.VV)(ne,re))}function se(ie,ne,re){var ue=ee(ie,ne,re);return ue>re?re:ue}},3811:function(de,me,B){var j;de.exports=(j=B(2833),function(ee){var se={};function ie(ne){if(se[ne])return se[ne].exports;var re=se[ne]={i:ne,l:!1,exports:{}};return ee[ne].call(re.exports,re,re.exports,ie),re.l=!0,re.exports}return ie.m=ee,ie.c=se,ie.i=function(ne){return ne},ie.d=function(ne,re,ue){ie.o(ne,re)||Object.defineProperty(ne,re,{configurable:!1,enumerable:!0,get:ue})},ie.n=function(ne){var re=ne&&ne.__esModule?function(){return ne.default}:function(){return ne};return ie.d(re,"a",re),re},ie.o=function(ne,re){return Object.prototype.hasOwnProperty.call(ne,re)},ie.p="",ie(ie.s=7)}([function(ee,se,ie){"use strict";ee.exports=null!=Object.assign?Object.assign.bind(Object):function(ne){for(var re=arguments.length,ue=Array(re>1?re-1:0),fe=1;fe<re;fe++)ue[fe-1]=arguments[fe];return ue.forEach(function(Ce){null!=Ce&&Object.keys(Ce).forEach(function(Le){return ne[Le]=Ce[Le]})}),ne}},function(ee,se,ie){"use strict";var re=ie(5).getBoundingBox;ee.exports={getRef:function ue(fe,Ce){return{getBoundingClientRect:function(){return re(fe,Ce)}}}}},function(ee,se,ie){"use strict";var ne=ie(0),ue=ie(1).getRef,Ce=ie(6).getContent,Le={},st=ie(8).createPopper;ee.exports={getPopper:function et(Ne,we){var Qe=ue(Ne,we),xt=Ce(Ne,we.content),xe=ne({},Le,we.popper);return st(Qe,xt,xe)}}},function(ee,se,ie){"use strict";var ne=ie(0),ue=ie(2).getPopper,Ce=ie(1).getRef;function st(Qe,xt){var xe=function(Ot){return Ot.isNode()?{w:Ot.renderedWidth(),h:Ot.renderedHeight()}:{w:3,h:3}},yt=Qe.cy();return ne({},{renderedDimensions:xe,renderedPosition:function(Ot){return Ot.isNode()?function et(Qe,xt){var xe=Qe.renderedPosition(),ot=xt(Qe);return{x:xe.x-ot.w/2,y:xe.y-ot.h/2}}(Ot,xe):function Ne(Qe){var xt=Qe.midpoint(),xe=Qe.cy().pan(),ot=Qe.cy().zoom();return{x:xt.x*ot+xe.x,y:xt.y*ot+xe.y}}(Ot)},popper:{},cy:yt},xt)}function we(Qe){Qe.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}ee.exports={popper:function Le(Qe){return we(this),ue(this[0],st(this[0],Qe))},popperRef:function rt(Qe){return we(this),Ce(this[0],st(this[0],Qe))}}},function(ee,se,ie){"use strict";var ne=ie(0),ue=ie(2).getPopper,Ce=ie(1).getRef;function st(et,Ne){return ne({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},renderedPosition:function(){return{x:0,y:0}},popper:{},cy:et},Ne)}ee.exports={popper:function Le(et){return ue(this,st(this,et))},popperRef:function rt(et){return Ce(this,st(this,et))}}},function(ee,se,ie){"use strict";ee.exports={getBoundingBox:function ne(re,ue){var fe=ue.renderedPosition,Le=ue.renderedDimensions,rt=ue.cy.container().getBoundingClientRect(),st=Le(re),et=fe(re);return{top:et.y+rt.top,left:et.x+rt.left,right:et.x+st.w+rt.left,bottom:et.y+st.h+rt.top,width:st.w,height:st.h}}}},function(ee,se,ie){"use strict";ee.exports={getContent:function ne(re,ue){var fe;if("function"!=typeof ue){if(ue instanceof HTMLElement)return ue;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(fe=ue(re)))throw new Error("No 'target' specified to create popper");return fe}}},function(ee,se,ie){"use strict";var ne=ie(4),re=ie(3),ue=function(Ce){!Ce||(Ce("core","popper",ne.popper),Ce("collection","popper",re.popper),Ce("core","popperRef",ne.popperRef),Ce("collection","popperRef",re.popperRef))};typeof cytoscape<"u"&&ue(cytoscape),ee.exports=ue},function(ee,se){ee.exports=j}]))},6864:(de,me,B)=>{"use strict";var j=B(406),ee=B(5203),se=B(8817),ie=B(4793),ne=B(4152);function re(c){return c&&"object"==typeof c&&"default"in c?c:{default:c}}var ue=re(j),fe=re(ee),Ce=re(se),Le=re(ie),rt=re(ne);function st(c){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(c)}function et(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}function Ne(c,o){for(var u=0;u<o.length;u++){var d=o[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function we(c,o,u){return o&&Ne(c.prototype,o),u&&Ne(c,u),Object.defineProperty(c,"prototype",{writable:!1}),c}function Qe(c,o,u){return o in c?Object.defineProperty(c,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[o]=u,c}function xt(c,o){return function xe(c){if(Array.isArray(c))return c}(c)||function ot(c,o){var u=null==c?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(null!=u){var g,y,d=[],f=!0,p=!1;try{for(u=u.call(c);!(f=(g=u.next()).done)&&(d.push(g.value),!o||d.length!==o);f=!0);}catch(b){p=!0,y=b}finally{try{!f&&null!=u.return&&u.return()}finally{if(p)throw y}}return d}}(c,o)||function ut(c,o){if(c){if("string"==typeof c)return yt(c,o);var u=Object.prototype.toString.call(c).slice(8,-1);if("Object"===u&&c.constructor&&(u=c.constructor.name),"Map"===u||"Set"===u)return Array.from(c);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return yt(c,o)}}(c,o)||function Ht(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(c,o){(null==o||o>c.length)&&(o=c.length);for(var u=0,d=new Array(o);u<o;u++)d[u]=c[u];return d}var Tt=typeof window>"u"?null:window,Ot=Tt?Tt.navigator:null,on=st(""),Cn=st({}),ht=st(function(){}),_t=typeof HTMLElement>"u"?"undefined":st(HTMLElement),Ve=function(o){return o&&o.instanceString&&ft(o.instanceString)?o.instanceString():null},Ae=function(o){return null!=o&&st(o)==on},ft=function(o){return null!=o&&st(o)===ht},Mt=function(o){return!je(o)&&(Array.isArray?Array.isArray(o):null!=o&&o instanceof Array)},nt=function(o){return null!=o&&st(o)===Cn&&!Mt(o)&&o.constructor===Object},Pe=function(o){return null!=o&&st(o)===st(1)&&!isNaN(o)},Jn=function(o){if("undefined"!==_t)return null!=o&&o instanceof HTMLElement},je=function(o){return ki(o)||Pi(o)},ki=function(o){return"collection"===Ve(o)&&o._private.single},Pi=function(o){return"collection"===Ve(o)&&!o._private.single},fn=function(o){return"core"===Ve(o)},Rn=function(o){return"stylesheet"===Ve(o)},vt=function(o){return null==o||!(""!==o&&!o.match(/^\s+$/))},Hi=function(o){return function(o){return null!=o&&st(o)===Cn}(o)&&ft(o.then)},gr=function(o,u){u||(u=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var p=[],g=0;g<arguments.length;g++)p.push(arguments[g]);return p.join("$")});var d=function f(){var y,p=this,g=arguments,b=u.apply(p,g),_=f.cache;return(y=_[b])||(y=_[b]=o.apply(p,g)),y};return d.cache={},d},Jr=gr(function(c){return c.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}),es=gr(function(c){return c.replace(/(-\w)/g,function(o){return o[1].toUpperCase()})}),fs=gr(function(c,o){return c+o[0].toUpperCase()+o.substring(1)},function(c,o){return c+"$"+o}),ts=function(o){return vt(o)?o:o.charAt(0).toUpperCase()+o.substring(1)},ei="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",io=function(o,u){return o<u?-1:o>u?1:0},qt=null!=Object.assign?Object.assign.bind(Object):function(c){for(var o=arguments,u=1;u<o.length;u++){var d=o[u];if(null!=d)for(var f=Object.keys(d),p=0;p<f.length;p++){var g=f[p];c[g]=d[g]}}return c},Bv={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},_a=function(o){for(var u=o.map,d=o.keys,f=d.length,p=0;p<f;p++){var g=d[p];if(nt(g))throw Error("Tried to set map with object key");p<d.length-1?(null==u[g]&&(u[g]={}),u=u[g]):u[g]=o.value}},Fc=function(o){for(var u=o.map,d=o.keys,f=d.length,p=0;p<f;p++){var g=d[p];if(nt(g))throw Error("Tried to get map with object key");if(null==(u=u[g]))return u}return u},Xa=Tt?Tt.performance:null,Lc=Xa&&Xa.now?function(){return Xa.now()}:function(){return Date.now()},Nc=function(){if(Tt){if(Tt.requestAnimationFrame)return function(c){Tt.requestAnimationFrame(c)};if(Tt.mozRequestAnimationFrame)return function(c){Tt.mozRequestAnimationFrame(c)};if(Tt.webkitRequestAnimationFrame)return function(c){Tt.webkitRequestAnimationFrame(c)};if(Tt.msRequestAnimationFrame)return function(c){Tt.msRequestAnimationFrame(c)}}return function(c){c&&setTimeout(function(){c(Lc())},1e3/60)}}(),Qa=function(o){return Nc(o)},Ls=Lc,ba=9261,Bc=65599,Vc=5381,Fp=function(o){for(var f,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba,d=u;!(f=o.next()).done;)d=d*Bc+f.value|0;return d},Hc=function(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba;return u*Bc+o|0},Dr=function(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vc;return(u<<5)+u+o|0},Ja=function(o){return 2097152*o[0]+o[1]},Dh=function(o,u){return[Hc(o[0],u[0]),Dr(o[1],u[1])]},el=function(o,u){var d={value:0,done:!1},f=0,p=o.length;return Fp({next:function(){return f<p?d.value=o.charCodeAt(f++):d.done=!0,d}},u)},Vv=function(){return Zw(arguments)},Zw=function(o){for(var u,d=0;d<o.length;d++){var f=o[d];u=0===d?el(f):el(f,u)}return u},Ho=!0,Xw=null!=console.warn,Or=null!=console.trace,tl=Number.MAX_SAFE_INTEGER||9007199254740991,Ns=function(){return!0},Lp=function(){return!1},Hv=function(){return 0},Eh=function(){},Fi=function(o){throw new Error(o)},Sh=function(o){if(void 0===o)return Ho;Ho=!!o},ti=function(o){!Sh()||(Xw?console.warn(o):(console.log(o),Or&&console.trace()))},vo=function(o){return null==o?o:Mt(o)?o.slice():nt(o)?function(o){return qt({},o)}(o):o},$v=function(o,u){for(u=o="";o++<36;u+=51*o&52?(15^o?8^Math.random()*(20^o?16:4):4).toString(16):"-");return u},Jw={},jv=function(){return Jw},Ur=function(o){var u=Object.keys(o);return function(d){for(var f={},p=0;p<u.length;p++){var g=u[p],y=d?.[g];f[g]=void 0===y?o[g]:y}return f}},wa=function(o,u,d){for(var f=o.length-1;f>=0&&(o[f]!==u||(o.splice(f,1),!d));f--);},Np=function(o){o.splice(0,o.length)},di=function(o,u,d){return d&&(u=fs(d,u)),o[u]},rr=function(o,u,d,f){d&&(u=fs(d,u)),o[u]=f},ro=typeof Map<"u"?Map:function(){function c(){et(this,c),this._obj={}}return we(c,[{key:"set",value:function(u,d){return this._obj[u]=d,this}},{key:"delete",value:function(u){return this._obj[u]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(u){return void 0!==this._obj[u]}},{key:"get",value:function(u){return this._obj[u]}}]),c}(),Bp=function(){function c(o){if(et(this,c),this._obj=Object.create(null),this.size=0,null!=o){var u;u=null!=o.instanceString&&o.instanceString()===this.instanceString()?o.toArray():o;for(var d=0;d<u.length;d++)this.add(u[d])}}return we(c,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(u){var d=this._obj;1!==d[u]&&(d[u]=1,this.size++)}},{key:"delete",value:function(u){var d=this._obj;1===d[u]&&(d[u]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(u){return 1===this._obj[u]}},{key:"toArray",value:function(){var u=this;return Object.keys(this._obj).filter(function(d){return u.has(d)})}},{key:"forEach",value:function(u,d){return this.toArray().forEach(u,d)}}]),c}(),ai="undefined"!==(typeof Set>"u"?"undefined":st(Set))?Set:Bp,zc=function(o,u){var d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==o&&void 0!==u&&fn(o)){var f=u.group;if(null==f&&(f=u.data&&null!=u.data.source&&null!=u.data.target?"edges":"nodes"),"nodes"===f||"edges"===f){this.length=1,this[0]=this;var p=this._private={cy:o,single:!0,data:u.data||{},position:u.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:f,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!u.selected,selectable:void 0===u.selectable||!!u.selectable,locked:!!u.locked,grabbed:!1,grabbable:void 0===u.grabbable||!!u.grabbable,pannable:void 0===u.pannable?"edges"===f:!!u.pannable,active:!1,classes:new ai,animation:{current:[],queue:[]},rscratch:{},scratch:u.scratch||{},edges:[],children:[],parent:u.parent&&u.parent.isNode()?u.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==p.position.x&&(p.position.x=0),null==p.position.y&&(p.position.y=0),u.renderedPosition){var g=u.renderedPosition,y=o.pan(),b=o.zoom();p.position={x:(g.x-y.x)/b,y:(g.y-y.y)/b}}var _=[];Mt(u.classes)?_=u.classes:Ae(u.classes)&&(_=u.classes.split(/\s+/));for(var w=0,x=_.length;w<x;w++){var E=_[w];!E||""===E||p.classes.add(E)}this.createEmitter();var S=u.style||u.css;S&&(ti("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(S)),(void 0===d||d)&&this.restore()}else Fi("An element must be of type `nodes` or `edges`; you specified `"+f+"`")}else Fi("An element must have a core reference and parameters set")},Gv=function(o){return o={bfs:o.bfs||!o.dfs,dfs:o.dfs||!o.bfs},function(d,f,p){var g;nt(d)&&!je(d)&&(d=(g=d).roots||g.root,f=g.visit,p=g.directed),p=2!==arguments.length||ft(f)?p:f,f=ft(f)?f:function(){};for(var T,y=this._private.cy,b=d=Ae(d)?this.filter(d):d,_=[],w=[],x={},E={},S={},M=0,I=this.byGroup(),R=I.nodes,F=I.edges,L=0;L<b.length;L++){var z=b[L],K=z.id();z.isNode()&&(_.unshift(z),o.bfs&&(S[K]=!0,w.push(z)),E[K]=0)}for(var Z=function(){var oe=o.bfs?_.shift():_.pop(),Q=oe.id();if(o.dfs){if(S[Q])return"continue";S[Q]=!0,w.push(oe)}var Re,ge=E[Q],ae=x[Q],ce=null!=ae?ae.source():null,be=null!=ae?ae.target():null,Se=null==ae?void 0:oe.same(ce)?be[0]:ce[0];if(!0===(Re=f(oe,ae,Se,M++,ge)))return T=oe,"break";if(!1===Re)return"break";for(var De=oe.connectedEdges().filter(function(Ie){return(!p||Ie.source().same(oe))&&F.has(Ie)}),ke=0;ke<De.length;ke++){var Ge=De[ke],Ke=Ge.connectedNodes().filter(function(Ie){return!Ie.same(oe)&&R.has(Ie)}),Ue=Ke.id();0!==Ke.length&&!S[Ue]&&(_.push(Ke=Ke[0]),o.bfs&&(S[Ue]=!0,w.push(Ke)),x[Ue]=Ge,E[Ue]=E[Q]+1)}};0!==_.length;){var H=Z();if("continue"!==H&&"break"===H)break}for(var Y=y.collection(),U=0;U<w.length;U++){var X=w[U],J=x[X.id()];null!=J&&Y.push(J),Y.push(X)}return{path:y.collection(Y),found:y.collection(T)}}},li={breadthFirstSearch:Gv({bfs:!0}),depthFirstSearch:Gv({dfs:!0})};li.bfs=li.breadthFirstSearch,li.dfs=li.depthFirstSearch;var an=Ur({root:null,weight:function(o){return 1},directed:!1}),Vp={dijkstra:function(o){if(!nt(o)){var u=arguments;o={root:u[0],weight:u[1],directed:u[2]}}var d=an(o),f=d.root,p=d.weight,g=d.directed,y=this,b=p,_=Ae(f)?this.filter(f)[0]:f[0],w={},x={},E={},S=this.byGroup(),M=S.nodes,T=S.edges;T.unmergeBy(function(ge){return ge.isLoop()});for(var I=function(ae){return w[ae.id()]},R=function(ae,ce){w[ae.id()]=ce,F.updateItem(ae)},F=new fe.default(function(ge,ae){return I(ge)-I(ae)}),L=0;L<M.length;L++){var z=M[L];w[z.id()]=z.same(_)?0:1/0,F.push(z)}for(var K=function(ae,ce){for(var Re,be=(g?ae.edgesTo(ce):ae.edgesWith(ce)).intersect(T),Se=1/0,De=0;De<be.length;De++){var ke=be[De],Ge=b(ke);(Ge<Se||!Re)&&(Se=Ge,Re=ke)}return{edge:Re,dist:Se}};F.size()>0;){var Z=F.pop(),H=I(Z),Y=Z.id();if(E[Y]=H,H!==1/0)for(var U=Z.neighborhood().intersect(M),X=0;X<U.length;X++){var J=U[X],W=J.id(),oe=K(Z,J),Q=H+oe.dist;Q<I(J)&&(R(J,Q),x[W]={node:Z,edge:oe.edge})}}return{distanceTo:function(ae){var ce=Ae(ae)?M.filter(ae)[0]:ae[0];return E[ce.id()]},pathTo:function(ae){var ce=Ae(ae)?M.filter(ae)[0]:ae[0],be=[],Se=ce,Re=Se.id();if(ce.length>0)for(be.unshift(ce);x[Re];){var De=x[Re];be.unshift(De.edge),be.unshift(De.node),Re=(Se=De.node).id()}return y.spawn(be)}}}},KA={kruskal:function(o){o=o||function(L){return 1};for(var u=this.byGroup(),d=u.nodes,f=u.edges,p=d.length,g=new Array(p),y=d,b=function(z){for(var K=0;K<g.length;K++)if(g[K].has(z))return K},_=0;_<p;_++)g[_]=this.spawn(d[_]);for(var w=f.sort(function(L,z){return o(L)-o(z)}),x=0;x<w.length;x++){var E=w[x],S=E.source()[0],M=E.target()[0],T=b(S),I=b(M),R=g[T],F=g[I];T!==I&&(y.merge(E),R.merge(F),g.splice(I,1))}return y}},qe=Ur({root:null,goal:null,weight:function(o){return 1},heuristic:function(o){return 0},directed:!1}),Mh={aStar:function(o){var u=this.cy(),d=qe(o),f=d.root,p=d.goal,g=d.heuristic,y=d.directed,b=d.weight;f=u.collection(f)[0],p=u.collection(p)[0];var L,z,_=f.id(),w=p.id(),x={},E={},S={},M=new fe.default(function(Re,De){return E[Re.id()]-E[De.id()]}),T=new ai,I={},R={},F=function(De,ke){M.push(De),T.add(ke)};F(f,_),x[_]=0,E[_]=g(f);for(var H=0;M.size()>0;){if(z=(L=M.pop()).id(),T.delete(z),H++,z===w){for(var Y=[],U=p,X=w,J=R[X];Y.unshift(U),null!=J&&Y.unshift(J),null!=(U=I[X]);)J=R[X=U.id()];return{found:!0,distance:x[z],path:this.spawn(Y),steps:H}}S[z]=!0;for(var W=L._private.edges,oe=0;oe<W.length;oe++){var Q=W[oe];if(this.hasElementWithId(Q.id())&&(!y||Q.data("source")===z)){var ge=Q.source(),ae=Q.target(),ce=ge.id()!==z?ge:ae,be=ce.id();if(this.hasElementWithId(be)&&!S[be]){var Se=x[z]+b(Q);if(!T.has(be)){x[be]=Se,E[be]=Se+g(ce),F(ce,be),I[be]=L,R[be]=Q;continue}Se<x[be]&&(x[be]=Se,E[be]=Se+g(ce),I[be]=L,R[be]=Q)}}}}return{found:!1,distance:void 0,path:void 0,steps:H}}},mn=Ur({weight:function(o){return 1},directed:!1}),hi={floydWarshall:function(o){for(var u=this.cy(),d=mn(o),p=d.directed,g=d.weight,y=this.byGroup(),b=y.nodes,_=y.edges,w=b.length,x=w*w,E=function(Ge){return b.indexOf(Ge)},S=function(Ge){return b[Ge]},M=new Array(x),T=0;T<x;T++){var I=T%w;M[T]=(T-I)/w===I?0:1/0}for(var F=new Array(x),L=new Array(x),z=0;z<_.length;z++){var K=_[z],Z=K.source()[0],H=K.target()[0];if(Z!==H){var Y=E(Z),U=E(H),X=Y*w+U,J=g(K);if(M[X]>J&&(M[X]=J,F[X]=U,L[X]=K),!p){var W=U*w+Y;!p&&M[W]>J&&(M[W]=J,F[W]=Y,L[W]=K)}}}for(var oe=0;oe<w;oe++)for(var Q=0;Q<w;Q++)for(var ge=Q*w+oe,ae=0;ae<w;ae++){var ce=Q*w+ae,be=oe*w+ae;M[ge]+M[be]<M[ce]&&(M[ce]=M[ge]+M[be],F[ce]=F[ge])}var Re=function(Ge){return E(function(Ge){return(Ae(Ge)?u.filter(Ge):Ge)[0]}(Ge))};return{distance:function(Ge,Ke){var Ue=Re(Ge),Ie=Re(Ke);return M[Ue*w+Ie]},path:function(Ge,Ke){var Ue=Re(Ge),Ie=Re(Ke),ve=S(Ue);if(Ue===Ie)return ve.collection();if(null==F[Ue*w+Ie])return u.collection();var We=u.collection();for(We.merge(ve);Ue!==Ie;)We.merge(L[Ue*w+(Ue=F[Ue*w+Ie])]),We.merge(S(Ue));return We}}}},tC=Ur({weight:function(o){return 1},directed:!1,root:null}),YA={bellmanFord:function(o){var u=this,d=tC(o),p=d.directed,g=d.root,y=d.weight,b=this,_=this.cy(),w=this.byGroup(),x=w.edges,E=w.nodes,S=E.length,M=new ro,T=!1,I=[];g=_.collection(g)[0],x.unmergeBy(function(Ft){return Ft.isLoop()});for(var R=x.length,F=function(Dt){var Vt=M.get(Dt.id());return Vt||(Vt={},M.set(Dt.id(),Vt)),Vt},L=function(Dt){return(Ae(Dt)?_.$(Dt):Dt)[0]},Z=0;Z<S;Z++){var H=E[Z],Y=F(H);Y.dist=H.same(g)?0:1/0,Y.pred=null,Y.edge=null}for(var U=!1,X=function(Dt,Vt,Un,Dn,en,lt){var G=Dn.dist+lt;G<en.dist&&!Un.same(Dn.edge)&&(en.dist=G,en.pred=Dt,en.edge=Un,U=!0)},J=1;J<S;J++){U=!1;for(var W=0;W<R;W++){var oe=x[W],Q=oe.source(),ge=oe.target(),ae=y(oe),ce=F(Q),be=F(ge);X(Q,0,oe,ce,be,ae),p||X(ge,0,oe,be,ce,ae)}if(!U)break}if(U)for(var Se=[],Re=0;Re<R;Re++){var De=x[Re],ke=De.source(),Ge=De.target(),Ke=y(De),Ue=F(ke).dist,Ie=F(Ge).dist;if(Ue+Ke<Ie||!p&&Ie+Ke<Ue){if(T||(ti("Graph contains a negative weight cycle for Bellman-Ford"),T=!0),!1===o.findNegativeWeightCycles)break;var ve=[];Ue+Ke<Ie&&ve.push(ke),!p&&Ie+Ke<Ue&&ve.push(Ge);for(var We=ve.length,Xe=0;Xe<We;Xe++){var tt=ve[Xe],gt=[tt];gt.push(F(tt).edge);for(var nn=F(tt).pred;-1===gt.indexOf(nn);)gt.push(nn),gt.push(F(nn).edge),nn=F(nn).pred;for(var vn=(gt=gt.slice(gt.indexOf(nn)))[0].id(),wt=0,mt=2;mt<gt.length;mt+=2)gt[mt].id()<vn&&(vn=gt[mt].id(),wt=mt);(gt=gt.slice(wt).concat(gt.slice(0,wt))).push(gt[0]);var Ut=gt.map(function(Ft){return Ft.id()}).join(",");-1===Se.indexOf(Ut)&&(I.push(b.spawn(gt)),Se.push(Ut))}}}return{distanceTo:function(Dt){return F(L(Dt)).dist},pathTo:function(Dt){for(var Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,Un=L(Dt),Dn=[],en=Un;;){if(null==en)return u.spawn();var lt=F(en),G=lt.edge,Me=lt.pred;if(Dn.unshift(en[0]),en.same(Vt)&&Dn.length>0)break;null!=G&&Dn.unshift(G),en=Me}return b.spawn(Dn)},hasNegativeWeightCycle:T,negativeWeightCycles:I}}},nC=Math.sqrt(2),Ah=function(o,u,d){0===d.length&&Fi("Karger-Stein must be run on a connected (sub)graph");for(var f=d[o],y=u[f[1]],b=u[f[2]],_=d,w=_.length-1;w>=0;w--){var x=_[w],E=x[1],S=x[2];(u[E]===y&&u[S]===b||u[E]===b&&u[S]===y)&&_.splice(w,1)}for(var M=0;M<_.length;M++){var T=_[M];T[1]===b?(_[M]=T.slice(),_[M][1]=y):T[2]===b&&(_[M]=T.slice(),_[M][2]=y)}for(var I=0;I<u.length;I++)u[I]===b&&(u[I]=y);return _},ps=function(o,u,d,f){for(;d>f;){var p=Math.floor(Math.random()*u.length);u=Ah(p,o,u),d--}return u},ZA={kargerStein:function(){var o=this,u=this.byGroup(),d=u.nodes,f=u.edges;f.unmergeBy(function(be){return be.isLoop()});var p=d.length,g=f.length,y=Math.ceil(Math.pow(Math.log(p)/Math.LN2,2)),b=Math.floor(p/nC);if(!(p<2)){for(var _=[],w=0;w<g;w++){var x=f[w];_.push([w,d.indexOf(x.source()),d.indexOf(x.target())])}for(var E=1/0,S=[],M=new Array(p),T=new Array(p),I=new Array(p),R=function(Se,Re){for(var De=0;De<p;De++)Re[De]=Se[De]},F=0;F<=y;F++){for(var L=0;L<p;L++)T[L]=L;var z=ps(T,_.slice(),p,b),K=z.slice();R(T,I);var Z=ps(T,z,b,2),H=ps(I,K,b,2);Z.length<=H.length&&Z.length<E?(E=Z.length,S=Z,R(T,M)):H.length<=Z.length&&H.length<E&&(E=H.length,S=H,R(I,M))}for(var Y=this.spawn(S.map(function(be){return f[be[0]]})),U=this.spawn(),X=this.spawn(),J=M[0],W=0;W<M.length;W++){var Q=d[W];M[W]===J?U.merge(Q):X.merge(Q)}var ge=function(Se){var Re=o.spawn();return Se.forEach(function(De){Re.merge(De),De.connectedEdges().forEach(function(ke){o.contains(ke)&&!Y.contains(ke)&&Re.merge(ke)})}),Re},ae=[ge(U),ge(X)];return{cut:Y,components:ae,partition1:U,partition2:X}}Fi("At least 2 nodes are required for Karger-Stein algorithm")}},Hp=function(o,u,d){return{x:o.x*u+d.x,y:o.y*u+d.y}},zo=function(o,u,d){return{x:(o.x-d.x)/u,y:(o.y-d.y)/u}},Zu=function(o){return{x:o[0],y:o[1]}},Th=function(o,u){return Math.atan2(u,o)-Math.PI/2},Wv=Math.log2||function(c){return Math.log(c)/Math.log(2)},ws=function(o){return o>0?1:o<0?-1:0},Kn=function(o,u){return Math.sqrt($c(o,u))},$c=function(o,u){var d=u.x-o.x,f=u.y-o.y;return d*d+f*f},tT=function(o){for(var u=o.length,d=0,f=0;f<u;f++)d+=o[f];for(var p=0;p<u;p++)o[p]=o[p]/d;return o},Gr=function(o,u,d,f){return(1-f)*(1-f)*o+2*(1-f)*f*u+f*f*d},Oe=function(o,u,d,f){return{x:Gr(o.x,u.x,d.x,f),y:Gr(o.y,u.y,d.y,f)}},Qt=function(o,u,d){return Math.max(o,Math.min(d,u))},Wr=function(o){if(null==o)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=o.x1&&null!=o.y1){if(null!=o.x2&&null!=o.y2&&o.x2>=o.x1&&o.y2>=o.y1)return{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,w:o.x2-o.x1,h:o.y2-o.y1};if(null!=o.w&&null!=o.h&&o.w>=0&&o.h>=0)return{x1:o.x1,y1:o.y1,x2:o.x1+o.w,y2:o.y1+o.h,w:o.w,h:o.h}}},oC=function(o,u){o.x1=Math.min(o.x1,u.x1),o.x2=Math.max(o.x2,u.x2),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,u.y1),o.y2=Math.max(o.y2,u.y2),o.h=o.y2-o.y1},aC=function(o,u,d){o.x1=Math.min(o.x1,u),o.x2=Math.max(o.x2,u),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,d),o.y2=Math.max(o.y2,d),o.h=o.y2-o.y1},Xu=function(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.x1-=u,o.x2+=u,o.y1-=u,o.y2+=u,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},jc=function(o){var d,f,p,g,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===u.length)d=f=p=g=u[0];else if(2===u.length)d=p=u[0],g=f=u[1];else if(4===u.length){var y=xt(u,4);d=y[0],f=y[1],p=y[2],g=y[3]}return o.x1-=g,o.x2+=f,o.y1-=d,o.y2+=p,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},kh=function(o,u){o.x1=u.x1,o.y1=u.y1,o.x2=u.x2,o.y2=u.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1},Ih=function(o,u){return!(o.x1>u.x2||u.x1>o.x2||o.x2<u.x1||u.x2<o.x1||o.y2<u.y1||u.y2<o.y1||o.y1>u.y2||u.y1>o.y2)},Uc=function(o,u,d){return o.x1<=u&&u<=o.x2&&o.y1<=d&&d<=o.y2},Jt=function(o,u){return Uc(o,u.x,u.y)},Rh=function(o,u){return Uc(o,u.x1,u.y1)&&Uc(o,u.x2,u.y2)},Kv=function(o,u,d,f,p,g,y){var x,b=qc(p,g),_=p/2,w=g/2,S=f-w-y;if((x=$o(o,u,d,f,d-_+b-y,S,d+_-b+y,S,!1)).length>0)return x;var I=d+_+y;if((x=$o(o,u,d,f,I,f-w+b-y,I,f+w-b+y,!1)).length>0)return x;var K=f+w+y;if((x=$o(o,u,d,f,d-_+b-y,K,d+_-b+y,K,!1)).length>0)return x;var W,Y=d-_-y;if((x=$o(o,u,d,f,Y,f-w+b-y,Y,f+w-b+y,!1)).length>0)return x;var oe=d-_+b,Q=f-w+b;if((W=il(o,u,d,f,oe,Q,b+y)).length>0&&W[0]<=oe&&W[1]<=Q)return[W[0],W[1]];var ge=d+_-b,ae=f-w+b;if((W=il(o,u,d,f,ge,ae,b+y)).length>0&&W[0]>=ge&&W[1]<=ae)return[W[0],W[1]];var ce=d+_-b,be=f+w-b;if((W=il(o,u,d,f,ce,be,b+y)).length>0&&W[0]>=ce&&W[1]>=be)return[W[0],W[1]];var Se=d-_+b,Re=f+w-b;return(W=il(o,u,d,f,Se,Re,b+y)).length>0&&W[0]<=Se&&W[1]>=Re?[W[0],W[1]]:[]},so=function(o,u,d,f,p,g,y){var b=y,_=Math.min(d,p),w=Math.max(d,p),x=Math.min(f,g),E=Math.max(f,g);return _-b<=o&&o<=w+b&&x-b<=u&&u<=E+b},Yv=function(o,u,d,f,p,g,y,b,_){var w_x1=Math.min(d,y,p)-_,w_x2=Math.max(d,y,p)+_,w_y1=Math.min(f,b,g)-_,w_y2=Math.max(f,b,g)+_;return!(o<w_x1||o>w_x2||u<w_y1||u>w_y2)},yo=function(o,u,d,f,p,g,y,b){var S=[];!function(o,u,d,f,p){var y,b,_,w,x,E,S,M;0===o&&(o=1e-5),_=-27*(f/=o)+(u/=o)*(9*(d/=o)-u*u*2),y=(b=(3*d-u*u)/9)*b*b+(_/=54)*_,p[1]=0,S=u/3,y>0?(x=(x=_+Math.sqrt(y))<0?-Math.pow(-x,1/3):Math.pow(x,1/3),E=(E=_-Math.sqrt(y))<0?-Math.pow(-E,1/3):Math.pow(E,1/3),p[0]=-S+x+E,p[4]=p[2]=-(S+=(x+E)/2),S=Math.sqrt(3)*(-E+x)/2,p[3]=S,p[5]=-S):(p[5]=p[3]=0,0===y?(M=_<0?-Math.pow(-_,1/3):Math.pow(_,1/3),p[0]=2*M-S,p[4]=p[2]=-(M+S)):(w=(b=-b)*b*b,w=Math.acos(_/Math.sqrt(w)),M=2*Math.sqrt(b),p[0]=-S+M*Math.cos(w/3),p[2]=-S+M*Math.cos((w+2*Math.PI)/3),p[4]=-S+M*Math.cos((w+4*Math.PI)/3)))}(1*d*d-4*d*p+2*d*y+4*p*p-4*p*y+y*y+f*f-4*f*g+2*f*b+4*g*g-4*g*b+b*b,9*d*p-3*d*d-3*d*y-6*p*p+3*p*y+9*f*g-3*f*f-3*f*b-6*g*g+3*g*b,3*d*d-6*d*p+d*y-d*o+2*p*p+2*p*o-y*o+3*f*f-6*f*g+f*b-f*u+2*g*g+2*g*u-b*u,1*d*p-d*d+d*o-p*o+f*g-f*f+f*u-g*u,S);for(var T=[],I=0;I<6;I+=2)Math.abs(S[I+1])<1e-7&&S[I]>=0&&S[I]<=1&&T.push(S[I]);T.push(1),T.push(0);for(var F,L,z,R=-1,K=0;K<T.length;K++)F=Math.pow(1-T[K],2)*d+2*(1-T[K])*T[K]*p+T[K]*T[K]*y,L=Math.pow(1-T[K],2)*f+2*(1-T[K])*T[K]*g+T[K]*T[K]*b,z=Math.pow(F-o,2)+Math.pow(L-u,2),R>=0?z<R&&(R=z):R=z;return R},rT=function(o,u,d,f,p,g){var y=[o-d,u-f],b=[p-d,g-f],_=b[0]*b[0]+b[1]*b[1],w=y[0]*y[0]+y[1]*y[1],x=y[0]*b[0]+y[1]*b[1],E=x*x/_;return x<0?w:E>_?(o-p)*(o-p)+(u-g)*(u-g):w-E},Bs=function(o,u,d){for(var f,p,g,y,_=0,w=0;w<d.length/2;w++)if(p=d[2*w+1],w+1<d.length/2?(g=d[2*(w+1)],y=d[2*(w+1)+1]):(g=d[2*(w+1-d.length/2)],y=d[2*(w+1-d.length/2)+1]),(f=d[2*w])!=o||g!=o){if(!(f>=o&&o>=g||f<=o&&o<=g))continue;(o-f)/(g-f)*(y-p)+p>u&&_++}return _%2!=0},Er=function(o,u,d,f,p,g,y,b,_){var x,T,w=new Array(d.length);null!=b[0]?(x=Math.atan(b[1]/b[0]),b[0]<0?x+=Math.PI/2:x=-x-Math.PI/2):x=b;for(var E=Math.cos(-x),S=Math.sin(-x),M=0;M<w.length/2;M++)w[2*M]=g/2*(d[2*M]*E-d[2*M+1]*S),w[2*M+1]=y/2*(d[2*M+1]*E+d[2*M]*S),w[2*M]+=f,w[2*M+1]+=p;if(_>0){var I=cC(w,-_);T=lC(I)}else T=w;return Bs(o,u,T)},lC=function(o){for(var y,b,_,w,u=new Array(o.length/2),x=0;x<o.length/4;x++){x<o.length/4-1?(y=o[4*(x+1)],b=o[4*(x+1)+1],_=o[4*(x+1)+2],w=o[4*(x+1)+3]):(y=o[0],b=o[1],_=o[2],w=o[3]);var E=$o(o[4*x],o[4*x+1],o[4*x+2],o[4*x+3],y,b,_,w,!0);u[2*x]=E[0],u[2*x+1]=E[1]}return u},cC=function(o,u){for(var f,p,g,y,d=new Array(2*o.length),b=0;b<o.length/2;b++){b<o.length/2-1?(g=o[2*(b+1)],y=o[2*(b+1)+1]):(g=o[0],y=o[1]);var _=y-(p=o[2*b+1]),w=-(g-(f=o[2*b])),x=Math.sqrt(_*_+w*w),E=_/x,S=w/x;d[4*b]=f+E*u,d[4*b+1]=p+S*u,d[4*b+2]=g+E*u,d[4*b+3]=y+S*u}return d},Wn=function(o,u,d,f,p,g,y){return o-=p,u-=g,(o/=d/2+y)*o+(u/=f/2+y)*u<=1},il=function(o,u,d,f,p,g,y){var b=[d-o,f-u],_=[o-p,u-g],w=b[0]*b[0]+b[1]*b[1],x=2*(_[0]*b[0]+_[1]*b[1]),S=x*x-4*w*(_[0]*_[0]+_[1]*_[1]-y*y);if(S<0)return[];var M=(-x+Math.sqrt(S))/(2*w),T=(-x-Math.sqrt(S))/(2*w),I=Math.min(M,T),R=Math.max(M,T),F=[];if(I>=0&&I<=1&&F.push(I),R>=0&&R<=1&&F.push(R),0===F.length)return[];var L=F[0]*b[0]+o,z=F[0]*b[1]+u;return F.length>1?F[0]==F[1]?[L,z]:[L,z,F[1]*b[0]+o,F[1]*b[1]+u]:[L,z]},Qu=function(o,u,d){return u<=o&&o<=d||d<=o&&o<=u?o:o<=u&&u<=d||d<=u&&u<=o?u:d},$o=function(o,u,d,f,p,g,y,b,_){var w=o-p,x=d-o,E=y-p,S=u-g,M=f-u,T=b-g,I=E*S-T*w,R=x*S-M*w,F=T*x-E*M;if(0!==F){var L=I/F,z=R/F,Z=-.001;return Z<=L&&L<=1.001&&Z<=z&&z<=1.001||_?[o+L*x,u+L*M]:[]}return 0===I||0===R?Qu(o,d,y)===y?[y,b]:Qu(o,d,p)===p?[p,g]:Qu(p,y,d)===d?[d,f]:[]:[]},Wc=function(o,u,d,f,p,g,y,b){var w,S,_=[],x=new Array(d.length),E=!0;if(null==g&&(E=!1),E){for(var M=0;M<x.length/2;M++)x[2*M]=d[2*M]*g+f,x[2*M+1]=d[2*M+1]*y+p;if(b>0){var T=cC(x,-b);S=lC(T)}else S=x}else S=d;for(var F,L,z=0;z<S.length/2;z++)z<S.length/2-1?(F=S[2*(z+1)],L=S[2*(z+1)+1]):(F=S[0],L=S[1]),0!==(w=$o(o,u,f,p,S[2*z],S[2*z+1],F,L)).length&&_.push(w[0],w[1]);return _},rl=function(o,u,d){var f=[o[0]-u[0],o[1]-u[1]],p=Math.sqrt(f[0]*f[0]+f[1]*f[1]),g=(p-d)/p;return g<0&&(g=1e-5),[u[0]+g*f[0],u[1]+g*f[1]]},gs=function(o,u){var d=zp(o,u);return pn(d)},pn=function(o){for(var u,d,f=o.length/2,p=1/0,g=1/0,y=-1/0,b=-1/0,_=0;_<f;_++)u=o[2*_],d=o[2*_+1],p=Math.min(p,u),y=Math.max(y,u),g=Math.min(g,d),b=Math.max(b,d);for(var w=2/(y-p),x=2/(b-g),E=0;E<f;E++)u=o[2*E]=o[2*E]*w,d=o[2*E+1]=o[2*E+1]*x,p=Math.min(p,u),y=Math.max(y,u),g=Math.min(g,d),b=Math.max(b,d);if(g<-1)for(var S=0;S<f;S++)d=o[2*S+1]=o[2*S+1]+(-1-g);return o},zp=function(o,u){var d=1/o*2*Math.PI,f=o%2==0?Math.PI/2+d/2:Math.PI/2;f+=u;for(var g,p=new Array(2*o),y=0;y<o;y++)g=y*d+f,p[2*y]=Math.cos(g),p[2*y+1]=Math.sin(-g);return p},qc=function(o,u){return Math.min(o/4,u/4,8)},Oh=function(o,u){return Math.min(o/10,u/10,8)},Ph=function(o,u){return{heightOffset:Math.min(15,.05*u),widthOffset:Math.min(100,.25*o),ctrlPtOffsetPct:.05}},Ee=Ur({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(o){return 1}}),ms={pageRank:function(o){for(var u=Ee(o),d=u.dampingFactor,f=u.precision,p=u.iterations,g=u.weight,y=this._private.cy,b=this.byGroup(),_=b.nodes,w=b.edges,x=_.length,S=w.length,M=new Array(x*x),T=new Array(x),I=(1-d)/x,R=0;R<x;R++){for(var F=0;F<x;F++)M[R*x+F]=0;T[R]=0}for(var z=0;z<S;z++){var K=w[z],Z=K.data("source"),H=K.data("target");if(Z!==H){var Y=_.indexOfId(Z),U=_.indexOfId(H),X=g(K);M[U*x+Y]+=X,T[Y]+=X}}for(var W=1/x+I,oe=0;oe<x;oe++)if(0===T[oe])for(var Q=0;Q<x;Q++)M[Q*x+oe]=W;else for(var ae=0;ae<x;ae++){var ce=ae*x+oe;M[ce]=M[ce]/T[oe]+I}for(var Re,be=new Array(x),Se=new Array(x),De=0;De<x;De++)be[De]=1;for(var ke=0;ke<p;ke++){for(var Ge=0;Ge<x;Ge++)Se[Ge]=0;for(var Ke=0;Ke<x;Ke++)for(var Ue=0;Ue<x;Ue++)Se[Ke]+=M[Ke*x+Ue]*be[Ue];tT(Se),Re=be,be=Se,Se=Re;for(var ve=0,We=0;We<x;We++){var Xe=Re[We]-be[We];ve+=Xe*Xe}if(ve<f)break}return{rank:function(nn){return nn=y.collection(nn)[0],be[_.indexOf(nn)]}}}},mi=Ur({root:null,weight:function(o){return 1},directed:!1,alpha:0}),mr={degreeCentralityNormalized:function(o){o=mi(o);var u=this.cy(),d=this.nodes(),f=d.length;if(o.directed){for(var w={},x={},E=0,S=0,M=0;M<f;M++){var T=d[M],I=T.id();o.root=T;var R=this.degreeCentrality(o);E<R.indegree&&(E=R.indegree),S<R.outdegree&&(S=R.outdegree),w[I]=R.indegree,x[I]=R.outdegree}return{indegree:function(L){return 0==E?0:(Ae(L)&&(L=u.filter(L)),w[L.id()]/E)},outdegree:function(L){return 0===S?0:(Ae(L)&&(L=u.filter(L)),x[L.id()]/S)}}}for(var p={},g=0,y=0;y<f;y++){var b=d[y];o.root=b;var _=this.degreeCentrality(o);g<_.degree&&(g=_.degree),p[b.id()]=_.degree}return{degree:function(L){return 0===g?0:(Ae(L)&&(L=u.filter(L)),p[L.id()]/g)}}},degreeCentrality:function(o){o=mi(o);var u=this.cy(),d=this,p=o.root,g=o.weight,y=o.directed,b=o.alpha;if(p=u.collection(p)[0],y){for(var S=p.connectedEdges(),M=S.filter(function(Z){return Z.target().same(p)&&d.has(Z)}),T=S.filter(function(Z){return Z.source().same(p)&&d.has(Z)}),I=M.length,R=T.length,F=0,L=0,z=0;z<M.length;z++)F+=g(M[z]);for(var K=0;K<T.length;K++)L+=g(T[K]);return{indegree:Math.pow(I,1-b)*Math.pow(F,b),outdegree:Math.pow(R,1-b)*Math.pow(L,b)}}for(var _=p.connectedEdges().intersection(d),w=_.length,x=0,E=0;E<_.length;E++)x+=g(_[E]);return{degree:Math.pow(w,1-b)*Math.pow(x,b)}}};mr.dc=mr.degreeCentrality,mr.dcn=mr.degreeCentralityNormalised=mr.degreeCentralityNormalized;var ns=Ur({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),_o={closenessCentralityNormalized:function(o){for(var u=ns(o),d=u.harmonic,f=u.weight,p=u.directed,g=this.cy(),y={},b=0,_=this.nodes(),w=this.floydWarshall({weight:f,directed:p}),x=0;x<_.length;x++){for(var E=0,S=_[x],M=0;M<_.length;M++)if(x!==M){var T=w.distance(S,_[M]);E+=d?1/T:T}d||(E=1/E),b<E&&(b=E),y[S.id()]=E}return{closeness:function(R){return 0==b?0:(R=Ae(R)?g.filter(R)[0].id():R.id(),y[R]/b)}}},closenessCentrality:function(o){var u=ns(o),d=u.root,f=u.weight,p=u.directed,g=u.harmonic;d=this.filter(d)[0];for(var y=this.dijkstra({root:d,weight:f,directed:p}),b=0,_=this.nodes(),w=0;w<_.length;w++){var x=_[w];if(!x.same(d)){var E=y.distanceTo(x);b+=g?1/E:E}}return g?b:1/b}};_o.cc=_o.closenessCentrality,_o.ccn=_o.closenessCentralityNormalised=_o.closenessCentralityNormalized;var Vs=Ur({weight:null,directed:!1}),Cs={betweennessCentrality:function(o){for(var u=Vs(o),d=u.directed,f=u.weight,p=null!=f,g=this.cy(),y=this.nodes(),b={},_={},w=0,x={set:function(L,z){_[L]=z,z>w&&(w=z)},get:function(L){return _[L]}},E=0;E<y.length;E++){var S=y[E],M=S.id();b[M]=d?S.outgoers().nodes():S.openNeighborhood().nodes(),x.set(M,0)}for(var T=function(L){for(var z=y[L].id(),K=[],Z={},H={},Y={},U=new fe.default(function(Ue,Ie){return Y[Ue]-Y[Ie]}),X=0;X<y.length;X++){var J=y[X].id();Z[J]=[],H[J]=0,Y[J]=1/0}for(H[z]=1,Y[z]=0,U.push(z);!U.empty();){var W=U.pop();if(K.push(W),p)for(var oe=0;oe<b[W].length;oe++){var ae,Q=b[W][oe],ge=g.getElementById(W);ae=ge.edgesTo(Q).length>0?ge.edgesTo(Q)[0]:Q.edgesTo(ge)[0];var ce=f(ae);Q=Q.id(),Y[Q]>Y[W]+ce&&(Y[Q]=Y[W]+ce,U.nodes.indexOf(Q)<0?U.push(Q):U.updateItem(Q),H[Q]=0,Z[Q]=[]),Y[Q]==Y[W]+ce&&(H[Q]=H[Q]+H[W],Z[Q].push(W))}else for(var be=0;be<b[W].length;be++){var Se=b[W][be].id();Y[Se]==1/0&&(U.push(Se),Y[Se]=Y[W]+1),Y[Se]==Y[W]+1&&(H[Se]=H[Se]+H[W],Z[Se].push(W))}}for(var Re={},De=0;De<y.length;De++)Re[y[De].id()]=0;for(;K.length>0;){for(var ke=K.pop(),Ge=0;Ge<Z[ke].length;Ge++){var Ke=Z[ke][Ge];Re[Ke]=Re[Ke]+H[Ke]/H[ke]*(1+Re[ke])}ke!=y[L].id()&&x.set(ke,x.get(ke)+Re[ke])}},I=0;I<y.length;I++)T(I);var R={betweenness:function(L){var z=g.collection(L).id();return x.get(z)},betweennessNormalized:function(L){if(0==w)return 0;var z=g.collection(L).id();return x.get(z)/w}};return R.betweennessNormalised=R.betweennessNormalized,R}};Cs.bc=Cs.betweennessCentrality;var At=Ur({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(c){return 1}]}),Li=function(o,u){for(var d=0,f=0;f<u.length;f++)d+=u[f](o);return d},sl=function(o,u){for(var d,f=0;f<u;f++){d=0;for(var p=0;p<u;p++)d+=o[p*u+f];for(var g=0;g<u;g++)o[g*u+f]=o[g*u+f]/d}},Pr=function(o,u,d){for(var f=new Array(d*d),p=0;p<d;p++){for(var g=0;g<d;g++)f[p*d+g]=0;for(var y=0;y<d;y++)for(var b=0;b<d;b++)f[p*d+b]+=o[p*d+y]*u[y*d+b]}return f},Vl=function(o,u,d){for(var f=o.slice(0),p=1;p<d;p++)o=Pr(o,f,u);return o},Yi=function(o,u,d){for(var f=new Array(u*u),p=0;p<u*u;p++)f[p]=Math.pow(o[p],d);return sl(f,u),f},Ju=function(o,u,d,f){for(var p=0;p<d;p++)if(Math.round(o[p]*Math.pow(10,f))/Math.pow(10,f)!=Math.round(u[p]*Math.pow(10,f))/Math.pow(10,f))return!1;return!0},Ln=function(o,u){for(var d=0;d<o.length;d++)if(!u[d]||o[d].id()!==u[d].id())return!1;return!0},Hl=function(o){for(var u=this.nodes(),d=this.edges(),f=this.cy(),p=function(o){return At(o)}(o),g={},y=0;y<u.length;y++)g[u[y].id()]=y;for(var x,b=u.length,_=b*b,w=new Array(_),E=0;E<_;E++)w[E]=0;for(var S=0;S<d.length;S++){var M=d[S],T=g[M.source().id()],I=g[M.target().id()],R=Li(M,p.attributes);w[T*b+I]+=R,w[I*b+T]+=R}(function(o,u,d){for(var f=0;f<u;f++)o[f*u+f]=d})(w,b,p.multFactor),sl(w,b);for(var F=!0,L=0;F&&L<p.maxIterations;)F=!1,x=Vl(w,b,p.expandFactor),w=Yi(x,b,p.inflateFactor),Ju(w,x,_,4)||(F=!0),L++;var z=function(o,u,d,f){for(var p=[],g=0;g<u;g++){for(var y=[],b=0;b<u;b++)Math.round(1e3*o[g*u+b])/1e3>0&&y.push(d[b]);0!==y.length&&p.push(f.collection(y))}return p}(w,b,u,f);return z=function(o){for(var u=0;u<o.length;u++)for(var d=0;d<o.length;d++)u!=d&&Ln(o[u],o[d])&&o.splice(d,1);return o}(z),z},$p={markovClustering:Hl,mcl:Hl},zl=function(o){return o},qr=function(o,u){return Math.abs(u-o)},Kc=function(o,u,d){return o+qr(u,d)},$l=function(o,u,d){return o+Math.pow(d-u,2)},bo=function(o){return Math.sqrt(o)},Yc=function(o,u,d){return Math.max(o,qr(u,d))},Zc=function(o,u,d,f,p){for(var g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:zl,y=f,w=0;w<o;w++)y=p(y,u(w),d(w));return g(y)},fi={euclidean:function(o,u,d){return o>=2?Zc(o,u,d,0,$l,bo):Zc(o,u,d,0,Kc)},squaredEuclidean:function(o,u,d){return Zc(o,u,d,0,$l)},manhattan:function(o,u,d){return Zc(o,u,d,0,Kc)},max:function(o,u,d){return Zc(o,u,d,-1/0,Yc)}};function Lh(c,o,u,d,f,p){var g;return g=ft(c)?c:fi[c]||fi.euclidean,0===o&&ft(c)?g(f,p):g(o,u,d,f,p)}fi["squared-euclidean"]=fi.squaredEuclidean,fi.squaredeuclidean=fi.squaredEuclidean;var dC=Ur({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Xc=function(o){return dC(o)},Qc=function(o,u,d,f,p){var y="kMedoids"!==p?function(x){return d[x]}:function(x){return f[x](d)};return Lh(o,f.length,y,function(E){return f[E](u)},d,u)},jl=function(o,u,d){for(var f=d.length,p=new Array(f),g=new Array(f),y=new Array(u),b=null,_=0;_<f;_++)p[_]=o.min(d[_]).value,g[_]=o.max(d[_]).value;for(var w=0;w<u;w++){b=[];for(var x=0;x<f;x++)b[x]=Math.random()*(g[x]-p[x])+p[x];y[w]=b}return y},td=function(o,u,d,f,p){for(var g=1/0,y=0,b=0;b<u.length;b++){var _=Qc(d,o,u[b],f,p);_<g&&(g=_,y=b)}return y},ol=function(o,u,d){for(var f=[],p=null,g=0;g<u.length;g++)d[(p=u[g]).id()]===o&&f.push(p);return f},is=function(o,u,d){return Math.abs(u-o)<=d},hC=function(o,u,d){for(var f=0;f<o.length;f++)for(var p=0;p<o[f].length;p++)if(Math.abs(o[f][p]-u[f][p])>d)return!1;return!0},xs=function(o,u,d){for(var f=0;f<d;f++)if(o===u[f])return!0;return!1},oo=function(o,u){var d=new Array(u);if(o.length<50)for(var f=0;f<u;f++){for(var p=o[Math.floor(Math.random()*o.length)];xs(p,d,f);)p=o[Math.floor(Math.random()*o.length)];d[f]=p}else for(var g=0;g<u;g++)d[g]=o[Math.floor(Math.random()*o.length)];return d},Nh=function(o,u,d){for(var f=0,p=0;p<u.length;p++)f+=Qc("manhattan",u[p],o,d,"kMedoids");return f},wo=function(o,u,d,f,p){for(var g,y,b=0;b<u.length;b++)for(var _=0;_<o.length;_++)f[b][_]=Math.pow(d[b][_],p.m);for(var w=0;w<o.length;w++)for(var x=0;x<p.attributes.length;x++){g=0,y=0;for(var E=0;E<u.length;E++)g+=f[E][w]*p.attributes[x](u[E]),y+=f[E][w];o[w][x]=g/y}},fC=function(o,u,d,f,p){for(var g=0;g<o.length;g++)u[g]=o[g].slice();for(var y,b,_,w=2/(p.m-1),x=0;x<d.length;x++)for(var E=0;E<f.length;E++){y=0;for(var S=0;S<d.length;S++)b=Qc(p.distance,f[E],d[x],p.attributes,"cmeans"),_=Qc(p.distance,f[E],d[S],p.attributes,"cmeans"),y+=Math.pow(b/_,w);o[E][x]=1/y}},Zv=function(o){var p,g,y,b,_,u=this.cy(),d=this.nodes(),f=Xc(o);b=new Array(d.length);for(var w=0;w<d.length;w++)b[w]=new Array(f.k);y=new Array(d.length);for(var x=0;x<d.length;x++)y[x]=new Array(f.k);for(var E=0;E<d.length;E++){for(var S=0,M=0;M<f.k;M++)y[E][M]=Math.random(),S+=y[E][M];for(var T=0;T<f.k;T++)y[E][T]=y[E][T]/S}g=new Array(f.k);for(var I=0;I<f.k;I++)g[I]=new Array(f.attributes.length);_=new Array(d.length);for(var R=0;R<d.length;R++)_[R]=new Array(f.k);for(var F=!0,L=0;F&&L<f.maxIterations;)F=!1,wo(g,d,y,_,f),fC(y,b,g,d,f),hC(y,b,f.sensitivityThreshold)||(F=!0),L++;return p=function(o,u,d,f){for(var p=new Array(d.k),g=0;g<p.length;g++)p[g]=[];for(var y,b,_=0;_<u.length;_++){y=-1/0,b=-1;for(var w=0;w<u[0].length;w++)u[_][w]>y&&(y=u[_][w],b=w);p[b].push(o[_])}for(var x=0;x<p.length;x++)p[x]=f.collection(p[x]);return p}(d,y,f,u),{clusters:p,degreeOfMembership:y}},pC={kMeans:function(o){var b,u=this.cy(),d=this.nodes(),f=null,p=Xc(o),g=new Array(p.k),y={};b=p.testMode?"number"==typeof p.testCentroids?jl(d,p.k,p.attributes):"object"===st(p.testCentroids)?p.testCentroids:jl(d,p.k,p.attributes):jl(d,p.k,p.attributes);for(var _=!0,w=0;_&&w<p.maxIterations;){for(var x=0;x<d.length;x++)y[(f=d[x]).id()]=td(f,b,p.distance,p.attributes,"kMeans");_=!1;for(var E=0;E<p.k;E++){var S=ol(E,d,y);if(0!==S.length){for(var M=p.attributes.length,T=b[E],I=new Array(M),R=new Array(M),F=0;F<M;F++){R[F]=0;for(var L=0;L<S.length;L++)R[F]+=p.attributes[F](f=S[L]);I[F]=R[F]/S.length,is(I[F],T[F],p.sensitivityThreshold)||(_=!0)}b[E]=I,g[E]=u.collection(S)}}w++}return g},kMedoids:function(o){var y,_,u=this.cy(),d=this.nodes(),f=null,p=Xc(o),g=new Array(p.k),b={},w=new Array(p.k);p.testMode?"number"==typeof p.testCentroids||(y="object"===st(p.testCentroids)?p.testCentroids:oo(d,p.k)):y=oo(d,p.k);for(var x=!0,E=0;x&&E<p.maxIterations;){for(var S=0;S<d.length;S++)b[(f=d[S]).id()]=td(f,y,p.distance,p.attributes,"kMedoids");x=!1;for(var M=0;M<y.length;M++){var T=ol(M,d,b);if(0!==T.length){w[M]=Nh(y[M],T,p.attributes);for(var I=0;I<T.length;I++)(_=Nh(T[I],T,p.attributes))<w[M]&&(w[M]=_,y[M]=T[I],x=!0);g[M]=u.collection(T)}}E++}return g},fuzzyCMeans:Zv,fcm:Zv},oT=Ur({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),aT={single:"min",complete:"max"},gC=function(o,u,d,f,p){for(var b,g=0,y=1/0,_=p.attributes,w=function(U,X){return Lh(p.distance,_.length,function(J){return _[J](U)},function(J){return _[J](X)},U,X)},x=0;x<o.length;x++){var E=o[x].key,S=d[E][f[E]];S<y&&(g=E,y=S)}if("threshold"===p.mode&&y>=p.threshold||"dendrogram"===p.mode&&1===o.length)return!1;var I,M=u[g],T=u[f[g]];I="dendrogram"===p.mode?{left:M,right:T,key:M.key}:{value:M.value.concat(T.value),key:M.key},o[M.index]=I,o.splice(T.index,1),u[M.key]=I;for(var R=0;R<o.length;R++){var F=o[R];M.key===F.key?b=1/0:"min"===p.linkage?(b=d[M.key][F.key],d[M.key][F.key]>d[T.key][F.key]&&(b=d[T.key][F.key])):"max"===p.linkage?(b=d[M.key][F.key],d[M.key][F.key]<d[T.key][F.key]&&(b=d[T.key][F.key])):b="mean"===p.linkage?(d[M.key][F.key]*M.size+d[T.key][F.key]*T.size)/(M.size+T.size):"dendrogram"===p.mode?w(F.value,M.value):w(F.value[0],M.value[0]),d[M.key][F.key]=d[F.key][M.key]=b}for(var L=0;L<o.length;L++){var z=o[L].key;if(f[z]===M.key||f[z]===T.key){for(var K=z,Z=0;Z<o.length;Z++){var H=o[Z].key;d[z][H]<d[z][K]&&(K=H)}f[z]=K}o[L].index=L}return M.key=T.key=M.index=T.index=null,!0},jp=function c(o,u,d){!o||(o.value?u.push(o.value):(o.left&&c(o.left,u),o.right&&c(o.right,u)))},cT=function c(o,u){if(!o)return"";if(o.left&&o.right){var d=c(o.left,u),f=c(o.right,u),p=u.add({group:"nodes",data:{id:d+","+f}});return u.add({group:"edges",data:{source:d,target:p.id()}}),u.add({group:"edges",data:{source:f,target:p.id()}}),p.id()}return o.value?o.value.id():void 0},uT=function c(o,u,d){if(!o)return[];var f=[],p=[],g=[];return 0===u?(o.left&&jp(o.left,f),o.right&&jp(o.right,p),g=f.concat(p),[d.collection(g)]):1===u?o.value?[d.collection(o.value)]:(o.left&&jp(o.left,f),o.right&&jp(o.right,p),[d.collection(f),d.collection(p)]):o.value?[d.collection(o.value)]:(o.left&&(f=c(o.left,u-1,d)),o.right&&(p=c(o.right,u-1,d)),f.concat(p))},mC=function(o){for(var u=this.cy(),d=this.nodes(),f=function(o){var u=oT(o),d=aT[u.linkage];return null!=d&&(u.linkage=d),u}(o),p=f.attributes,g=function(L,z){return Lh(f.distance,p.length,function(K){return p[K](L)},function(K){return p[K](z)},L,z)},y=[],b=[],_=[],w=[],x=0;x<d.length;x++){var E={value:"dendrogram"===f.mode?d[x]:[d[x]],key:x,index:x};y[x]=E,w[x]=E,b[x]=[],_[x]=0}for(var S=0;S<y.length;S++)for(var M=0;M<=S;M++){var T;T="dendrogram"===f.mode?S===M?1/0:g(y[S].value,y[M].value):S===M?1/0:g(y[S].value[0],y[M].value[0]),b[S][M]=T,b[M][S]=T,T<b[S][_[S]]&&(_[S]=M)}for(var I=gC(y,w,b,_,f);I;)I=gC(y,w,b,_,f);var R;return"dendrogram"===f.mode?(R=uT(y[0],f.dendrogramDepth,u),f.addDendrogram&&cT(y[0],u)):(R=new Array(y.length),y.forEach(function(F,L){F.key=F.index=null,R[L]=u.collection(F.value)})),R},dT={hierarchicalClustering:mC,hca:mC},hT=Ur({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),pT=function(o,u,d,f){var p=function(y,b){return f[b](y)};return-Lh(o,f.length,function(g){return p(u,g)},function(g){return p(d,g)},u,d)},Up=function(o,u,d){for(var f=[],p=0;p<o;p++){for(var g=-1,y=-1/0,b=0;b<d.length;b++){var _=d[b];u[p*o+_]>y&&(g=_,y=u[p*o+_])}g>0&&f.push(g)}for(var w=0;w<d.length;w++)f[d[w]]=d[w];return f},vC=function(o){for(var u=this.cy(),d=this.nodes(),f=function(o){var u=o.damping,d=o.preference;.5<=u&&u<1||Fi("Damping must range on [0.5, 1).  Got: ".concat(u));var f=["median","mean","min","max"];return f.some(function(p){return p===d})||Pe(d)||Fi("Preference must be one of [".concat(f.map(function(p){return"'".concat(p,"'")}).join(", "),"] or a number.  Got: ").concat(d)),hT(o)}(o),p={},g=0;g<d.length;g++)p[d[g].id()]=g;var y,b,_,w,x,E,U;b=(y=d.length)*y,_=new Array(b);for(var S=0;S<b;S++)_[S]=-1/0;for(var M=0;M<y;M++)for(var T=0;T<y;T++)M!==T&&(_[M*y+T]=pT(f.distance,d[M],d[T],f.attributes));w=function(o,u){var d;return d="median"===u?function(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(d<o.length&&o.splice(d,o.length-d),u>0&&o.splice(0,u)):o=o.slice(u,d);for(var y=0,b=o.length-1;b>=0;b--)g?isFinite(o[b])||(o[b]=-1/0,y++):o.splice(b,1);p&&o.sort(function(E,S){return E-S});var w=o.length,x=Math.floor(w/2);return w%2!=0?o[x+1+y]:(o[x-1+y]+o[x+y])/2}(o):"mean"===u?function(o){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=0,p=0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g<d;g++){var y=o[g];isFinite(y)&&(f+=y,p++)}return f/p}(o):"min"===u?function(o){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<d;p++){var g=o[p];isFinite(g)&&(f=Math.min(g,f))}return f}(o):"max"===u?function(o){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=-1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<d;p++){var g=o[p];isFinite(g)&&(f=Math.max(g,f))}return f}(o):u,d}(_,f.preference);for(var I=0;I<y;I++)_[I*y+I]=w;x=new Array(b);for(var R=0;R<b;R++)x[R]=0;E=new Array(b);for(var F=0;F<b;F++)E[F]=0;for(var L=new Array(y),z=new Array(y),K=new Array(y),Z=0;Z<y;Z++)L[Z]=0,z[Z]=0,K[Z]=0;for(var H=new Array(y*f.minIterations),Y=0;Y<H.length;Y++)H[Y]=0;for(U=0;U<f.maxIterations;U++){for(var X=0;X<y;X++){for(var J=-1/0,W=-1/0,oe=-1,Q=0,ge=0;ge<y;ge++)L[ge]=x[X*y+ge],(Q=E[X*y+ge]+_[X*y+ge])>=J?(W=J,J=Q,oe=ge):Q>W&&(W=Q);for(var ae=0;ae<y;ae++)x[X*y+ae]=(1-f.damping)*(_[X*y+ae]-J)+f.damping*L[ae];x[X*y+oe]=(1-f.damping)*(_[X*y+oe]-W)+f.damping*L[oe]}for(var ce=0;ce<y;ce++){for(var be=0,Se=0;Se<y;Se++)L[Se]=E[Se*y+ce],z[Se]=Math.max(0,x[Se*y+ce]),be+=z[Se];be-=z[ce],z[ce]=x[ce*y+ce],be+=z[ce];for(var Re=0;Re<y;Re++)E[Re*y+ce]=(1-f.damping)*Math.min(0,be-z[Re])+f.damping*L[Re];E[ce*y+ce]=(1-f.damping)*(be-z[ce])+f.damping*L[ce]}for(var De=0,ke=0;ke<y;ke++){var Ge=E[ke*y+ke]+x[ke*y+ke]>0?1:0;H[U%f.minIterations*y+ke]=Ge,De+=Ge}if(De>0&&(U>=f.minIterations-1||U==f.maxIterations-1)){for(var Ke=0,Ue=0;Ue<y;Ue++){K[Ue]=0;for(var Ie=0;Ie<f.minIterations;Ie++)K[Ue]+=H[Ie*y+Ue];(0===K[Ue]||K[Ue]===f.minIterations)&&Ke++}if(Ke===y)break}}for(var ve=function(o,u,d){for(var f=[],p=0;p<o;p++)u[p*o+p]+d[p*o+p]>0&&f.push(p);return f}(y,x,E),We=function(o,u,d){for(var f=Up(o,u,d),p=0;p<d.length;p++){for(var g=[],y=0;y<f.length;y++)f[y]===d[p]&&g.push(y);for(var b=-1,_=-1/0,w=0;w<g.length;w++){for(var x=0,E=0;E<g.length;E++)x+=u[g[E]*o+g[w]];x>_&&(b=w,_=x)}d[p]=g[b]}return Up(o,u,d)}(y,_,ve),Xe={},tt=0;tt<ve.length;tt++)Xe[ve[tt]]=[];for(var gt=0;gt<d.length;gt++){var vn=We[p[d[gt].id()]];null!=vn&&Xe[vn].push(d[gt])}for(var wt=new Array(ve.length),mt=0;mt<ve.length;mt++)wt[mt]=u.collection(Xe[ve[mt]]);return wt},vT={affinityPropagation:vC,ap:vC},yT=Ur({root:void 0,directed:!1}),Ul={hierholzer:function(o){if(!nt(o)){var u=arguments;o={root:u[0],directed:u[1]}}var b,_,w,d=yT(o),f=d.root,p=d.directed,g=this,y=!1;f&&(w=Ae(f)?this.filter(f)[0].id():f[0].id());var x={},E={};g.forEach(p?function(F){var L=F.id();if(F.isNode()){var z=F.indegree(!0),K=F.outdegree(!0),Z=z-K,H=K-z;1==Z?b?y=!0:b=L:1==H?_?y=!0:_=L:(H>1||Z>1)&&(y=!0),x[L]=[],F.outgoers().forEach(function(Y){Y.isEdge()&&x[L].push(Y.id())})}else E[L]=[void 0,F.target().id()]}:function(F){var L=F.id();F.isNode()?(F.degree(!0)%2&&(b?_?y=!0:_=L:b=L),x[L]=[],F.connectedEdges().forEach(function(K){return x[L].push(K.id())})):E[L]=[F.source().id(),F.target().id()]});var S={found:!1,trail:void 0};if(y)return S;if(_&&b)if(p){if(w&&_!=w)return S;w=_}else{if(w&&_!=w&&b!=w)return S;w||(w=_)}else w||(w=g[0].id());var M=function(L){for(var Z,H,Y,z=L,K=[L];x[z].length;)Z=x[z].shift(),H=E[Z][0],z!=(Y=E[Z][1])?(x[Y]=x[Y].filter(function(U){return U!=Z}),z=Y):!p&&z!=H&&(x[H]=x[H].filter(function(U){return U!=Z}),z=H),K.unshift(Z),K.unshift(z);return K},T=[],I=[];for(I=M(w);1!=I.length;)0==x[I[0]].length?(T.unshift(g.getElementById(I.shift())),T.unshift(g.getElementById(I.shift()))):I=M(I.shift()).concat(I);for(var R in T.unshift(g.getElementById(I.shift())),x)if(x[R].length)return S;return S.found=!0,S.trail=this.spawn(T,!0),S}},Hh=function(){var o=this,u={},d=0,f=0,p=[],g=[],y={},_=function x(E,S,M){E===M&&(f+=1),u[S]={id:d,low:d++,cutVertex:!1};var I,R,F,L,T=o.getElementById(S).connectedEdges().intersection(o);0===T.size()?p.push(o.spawn(o.getElementById(S))):T.forEach(function(z){I=z.source().id(),R=z.target().id(),(F=I===S?R:I)!==M&&(L=z.id(),y[L]||(y[L]=!0,g.push({x:S,y:F,edge:z})),F in u?u[S].low=Math.min(u[S].low,u[F].id):(x(E,F,S),u[S].low=Math.min(u[S].low,u[F].low),u[S].id<=u[F].low&&(u[S].cutVertex=!0,function(E,S){for(var M=g.length-1,T=[],I=o.spawn();g[M].x!=E||g[M].y!=S;)T.push(g.pop().edge),M--;T.push(g.pop().edge),T.forEach(function(R){var F=R.connectedNodes().intersection(o);I.merge(R),F.forEach(function(L){var z=L.id(),K=L.connectedEdges().intersection(o);I.merge(L),I.merge(u[z].cutVertex?K.filter(function(Z){return Z.isLoop()}):K)})}),p.push(I)}(S,F))))})};o.forEach(function(x){if(x.isNode()){var E=x.id();E in u||(f=0,_(E,E),u[E].cutVertex=f>1)}});var w=Object.keys(u).filter(function(x){return u[x].cutVertex}).map(function(x){return o.getElementById(x)});return{cut:o.spawn(w),components:p}},nd=function(){var o=this,u={},d=0,f=[],p=[],g=o.spawn(o),y=function b(_){if(p.push(_),u[_]={index:d,low:d++,explored:!1},o.getElementById(_).connectedEdges().intersection(o).forEach(function(T){var I=T.target().id();I!==_&&(I in u||b(I),u[I].explored||(u[_].low=Math.min(u[_].low,u[I].low)))}),u[_].index===u[_].low){for(var x=o.spawn();;){var E=p.pop();if(x.merge(o.getElementById(E)),u[E].low=u[_].index,u[E].explored=!0,E===_)break}var S=x.edgesWith(x),M=x.merge(S);f.push(M),g=g.difference(M)}};return o.forEach(function(b){if(b.isNode()){var _=b.id();_ in u||y(_)}}),{cut:g,components:f}},Xv={};[li,Vp,KA,Mh,hi,YA,ZA,ms,mr,_o,Cs,$p,pC,dT,vT,Ul,{hopcroftTarjanBiconnected:Hh,htbc:Hh,htb:Hh,hopcroftTarjanBiconnectedComponents:Hh},{tarjanStronglyConnected:nd,tsc:nd,tscc:nd,tarjanStronglyConnectedComponents:nd}].forEach(function(c){qt(Xv,c)});var Co=function c(o){if(!(this instanceof c))return new c(o);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof o&&o.call(this,this.fulfill.bind(this),this.reject.bind(this))};Co.prototype={fulfill:function(o){return Jv(this,1,"fulfillValue",o)},reject:function(o){return Jv(this,2,"rejectReason",o)},then:function(o,u){var d=this,f=new Co;return d.onFulfilled.push(ey(o,f,"fulfill")),d.onRejected.push(ey(u,f,"reject")),zs(d),f.proxy}};var Jv=function(o,u,d,f){return 0===o.state&&(o.state=u,o[d]=f,zs(o)),o},zs=function(o){1===o.state?zh(o,"onFulfilled",o.fulfillValue):2===o.state&&zh(o,"onRejected",o.rejectReason)},zh=function(o,u,d){if(0!==o[u].length){var f=o[u];o[u]=[];var p=function(){for(var y=0;y<f.length;y++)f[y](d)};"function"==typeof setImmediate?setImmediate(p):setTimeout(p,0)}},ey=function(o,u,d){return function(f){if("function"!=typeof o)u[d].call(u,f);else{var p;try{p=o(f)}catch(g){return void u.reject(g)}Kp(u,p)}}},Kp=function c(o,u){if(o!==u&&o.proxy!==u){var d;if("object"===st(u)&&null!==u||"function"==typeof u)try{d=u.then}catch(p){return void o.reject(p)}if("function"!=typeof d)o.fulfill(u);else{var f=!1;try{d.call(u,function(p){f||(f=!0,p===u?o.reject(new TypeError("circular thenable chain")):c(o,p))},function(p){f||(f=!0,o.reject(p))})}catch(p){f||o.reject(p)}}}else o.reject(new TypeError("cannot resolve promise with itself"))};Co.all=function(c){return new Co(function(o,u){for(var d=new Array(c.length),f=0,p=function(b,_){d[b]=_,++f===c.length&&o(d)},g=0;g<c.length;g++)!function(y){var b=c[y];null!=b&&null!=b.then?b.then(function(x){p(y,x)},function(x){u(x)}):p(y,b)}(g)})},Co.resolve=function(c){return new Co(function(o,u){o(c)})},Co.reject=function(c){return new Co(function(o,u){u(c)})};var Jc=typeof Promise<"u"?Promise:Co,ty=function(o,u,d){var f=fn(o),p=!f,g=this._private=qt({duration:1e3},u,d);if(g.target=o,g.style=g.style||g.css,g.started=!1,g.playing=!1,g.hooked=!1,g.applying=!1,g.progress=0,g.completes=[],g.frames=[],g.complete&&ft(g.complete)&&g.completes.push(g.complete),p){var y=o.position();g.startPosition=g.startPosition||{x:y.x,y:y.y},g.startStyle=g.startStyle||o.cy().style().getAnimationStartStyle(o,g.style)}if(f){var b=o.pan();g.startPan={x:b.x,y:b.y},g.startZoom=o.zoom()}this.length=1,this[0]=this},Oi=ty.prototype;qt(Oi,{instanceString:function(){return"animation"},hook:function(){var o=this._private;if(!o.hooked){var d=o.target._private.animation;(o.queue?d.queue:d.current).push(this),je(o.target)&&o.target.cy().addToAnimationPool(o.target),o.hooked=!0}return this},play:function(){var o=this._private;return 1===o.progress&&(o.progress=0),o.playing=!0,o.started=!1,o.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var o=this._private;return o.applying=!0,o.started=!1,o.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var o=this._private;return o.playing=!1,o.started=!1,this},stop:function(){var o=this._private;return o.playing=!1,o.started=!1,o.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(o){var u=this._private;return void 0===o?u.progress*u.duration:this.progress(o/u.duration)},progress:function(o){var u=this._private,d=u.playing;return void 0===o?u.progress:(d&&this.pause(),u.progress=o,u.started=!1,d&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var o=this._private,u=o.playing;u&&this.pause(),o.progress=1-o.progress,o.started=!1;var d=function(_,w){var x=o[_];null!=x&&(o[_]=o[w],o[w]=x)};if(d("zoom","startZoom"),d("pan","startPan"),d("position","startPosition"),o.style)for(var f=0;f<o.style.length;f++){var p=o.style[f],g=p.name,y=o.startStyle[g];o.startStyle[g]=p,o.style[f]=y}return u&&this.play(),this},promise:function(o){var d,u=this._private;return d="frame"===o?u.frames:u.completes,new Jc(function(f,p){d.push(function(){f()})})}}),Oi.complete=Oi.completed,Oi.run=Oi.play,Oi.running=Oi.playing;var _T={data:function(o){return o=qt({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(f){},beforeSet:function(f,p){},onSet:function(f){},canSet:function(f){return!0}},o),function(f,p){var g=o,y=this,b=void 0!==y.length,_=b?y:[y],w=b?y[0]:y;if(Ae(f)){var S,E=-1!==f.indexOf(".")&&rt.default(f);if(g.allowGetting&&void 0===p)return w&&(g.beforeGet(w),S=E&&void 0===w._private[g.field][f]?Ce.default(w._private[g.field],E):w._private[g.field][f]),S;if(g.allowSetting&&void 0!==p&&!g.immutableKeys[f]){var T=Qe({},f,p);g.beforeSet(y,T);for(var I=0,R=_.length;I<R;I++){var F=_[I];g.canSet(F)&&(E&&void 0===w._private[g.field][f]?Le.default(F._private[g.field],E,p):F._private[g.field][f]=p)}g.updateStyle&&y.updateStyle(),g.onSet(y),g.settingTriggersEvent&&y[g.triggerFnName](g.settingEvent)}}else if(g.allowSetting&&nt(f)){var z,K,L=f,Z=Object.keys(L);g.beforeSet(y,L);for(var H=0;H<Z.length;H++)if(K=L[z=Z[H]],!g.immutableKeys[z])for(var U=0;U<_.length;U++){var X=_[U];g.canSet(X)&&(X._private[g.field][z]=K)}g.updateStyle&&y.updateStyle(),g.onSet(y),g.settingTriggersEvent&&y[g.triggerFnName](g.settingEvent)}else if(g.allowBinding&&ft(f))y.on(g.bindingEvent,f);else if(g.allowGetting&&void 0===f){var W;return w&&(g.beforeGet(w),W=w._private[g.field]),W}return y}},removeData:function(o){return o=qt({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},o),function(f){var p=o,g=this,b=void 0!==g.length?g:[g];if(Ae(f)){for(var _=f.split(/\s+/),w=_.length,x=0;x<w;x++){var E=_[x];if(!vt(E)&&!p.immutableKeys[E])for(var M=0,T=b.length;M<T;M++)b[M]._private[p.field][E]=void 0}p.triggerEvent&&g[p.triggerFnName](p.event)}else if(void 0===f){for(var I=0,R=b.length;I<R;I++)for(var F=b[I]._private[p.field],L=Object.keys(F),z=0;z<L.length;z++){var K=L[z];!p.immutableKeys[K]&&(F[K]=void 0)}p.triggerEvent&&g[p.triggerFnName](p.event)}return g}}},$h={eventAliasesOn:function(o){var u=o;u.addListener=u.listen=u.bind=u.on,u.unlisten=u.unbind=u.off=u.removeListener,u.trigger=u.emit,u.pon=u.promiseOn=function(d,f){var p=this,g=Array.prototype.slice.call(arguments,0);return new Jc(function(y,b){var w=g.concat([function(S){p.off.apply(p,x),y(S)}]),x=w.concat([]);p.on.apply(p,w)})}}},On={};[{animated:function(){return function(){var u=this,f=void 0!==u.length?u:[u];if(!(this._private.cy||this).styleEnabled())return!1;var g=f[0];return g?g._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var u=this,f=void 0!==u.length?u:[u];if(!(this._private.cy||this).styleEnabled())return this;for(var g=0;g<f.length;g++)f[g]._private.animation.queue=[];return this}},delay:function(){return function(u,d){return(this._private.cy||this).styleEnabled()?this.animate({delay:u,duration:u,complete:d}):this}},delayAnimation:function(){return function(u,d){return(this._private.cy||this).styleEnabled()?this.animation({delay:u,duration:u,complete:d}):this}},animation:function(){return function(u,d){var f=this,p=void 0!==f.length,g=p?f:[f],y=this._private.cy||this,b=!p,_=!b;if(!y.styleEnabled())return this;var w=y.style();if(u=qt({},u,d),0===Object.keys(u).length)return new ty(g[0],u);switch(void 0===u.duration&&(u.duration=400),u.duration){case"slow":u.duration=600;break;case"fast":u.duration=200}if(_&&(u.style=w.getPropsList(u.style||u.css),u.css=void 0),_&&null!=u.renderedPosition){var E=u.renderedPosition,S=y.pan(),M=y.zoom();u.position=zo(E,M,S)}if(b&&null!=u.panBy){var T=u.panBy,I=y.pan();u.pan={x:I.x+T.x,y:I.y+T.y}}var R=u.center||u.centre;if(b&&null!=R){var F=y.getCenterPan(R.eles,u.zoom);null!=F&&(u.pan=F)}if(b&&null!=u.fit){var L=u.fit,z=y.getFitViewport(L.eles||L.boundingBox,L.padding);null!=z&&(u.pan=z.pan,u.zoom=z.zoom)}if(b&&nt(u.zoom)){var K=y.getZoomedViewport(u.zoom);null!=K?(K.zoomed&&(u.zoom=K.zoom),K.panned&&(u.pan=K.pan)):u.zoom=null}return new ty(g[0],u)}},animate:function(){return function(u,d){var f=this,g=void 0!==f.length?f:[f];if(!(this._private.cy||this).styleEnabled())return this;d&&(u=qt({},u,d));for(var b=0;b<g.length;b++){var _=g[b],w=_.animated()&&(void 0===u.queue||u.queue);_.animation(u,w?{queue:!0}:void 0).play()}return this}},stop:function(){return function(u,d){var f=this,g=void 0!==f.length?f:[f],y=this._private.cy||this;if(!y.styleEnabled())return this;for(var b=0;b<g.length;b++){for(var w=g[b]._private,x=w.animation.current,E=0;E<x.length;E++)d&&(x[E]._private.duration=0);u&&(w.animation.queue=[]),d||(w.animation.current=[])}return y.notify("draw"),this}}},_T,$h].forEach(function(c){qt(On,c)});var bC={animate:On.animate(),animation:On.animation(),animated:On.animated(),clearQueue:On.clearQueue(),delay:On.delay(),delayAnimation:On.delayAnimation(),stop:On.stop()},eu={classes:function(o){var u=this;if(void 0===o){var d=[];return u[0]._private.classes.forEach(function(M){return d.push(M)}),d}Mt(o)||(o=(o||"").match(/\S+/g)||[]);for(var f=[],p=new ai(o),g=0;g<u.length;g++){for(var y=u[g],b=y._private,_=b.classes,w=!1,x=0;x<o.length;x++)if(!_.has(o[x])){w=!0;break}w||(w=_.size!==o.length),w&&(b.classes=p,f.push(y))}return f.length>0&&this.spawn(f).updateStyle().emit("class"),u},addClass:function(o){return this.toggleClass(o,!0)},hasClass:function(o){var u=this[0];return null!=u&&u._private.classes.has(o)},toggleClass:function(o,u){Mt(o)||(o=o.match(/\S+/g)||[]);for(var d=this,f=void 0===u,p=[],g=0,y=d.length;g<y;g++)for(var b=d[g],_=b._private.classes,w=!1,x=0;x<o.length;x++){var E=o[x],S=_.has(E),M=!1;u||f&&!S?(_.add(E),M=!0):(!u||f&&S)&&(_.delete(E),M=!0),!w&&M&&(p.push(b),w=!0)}return p.length>0&&this.spawn(p).updateStyle().emit("class"),d},removeClass:function(o){return this.toggleClass(o,!1)},flashClass:function(o,u){var d=this;if(null==u)u=250;else if(0===u)return d;return d.addClass(o),setTimeout(function(){d.removeClass(o)},u),d}};eu.className=eu.classNames=eu.classes;var jn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:ei,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};jn.variable="(?:[\\w-.]|(?:\\\\"+jn.metaChar+"))+",jn.className="(?:[\\w-]|(?:\\\\"+jn.metaChar+"))+",jn.value=jn.string+"|"+jn.number,jn.id=jn.variable,function(){var c,o,u;for(c=jn.comparatorOp.split("|"),u=0;u<c.length;u++)jn.comparatorOp+="|@"+(o=c[u]);for(c=jn.comparatorOp.split("|"),u=0;u<c.length;u++)!((o=c[u]).indexOf("!")>=0)&&"="!==o&&(jn.comparatorOp+="|\\!"+o)}();var tu=[{selector:":selected",matches:function(o){return o.selected()}},{selector:":unselected",matches:function(o){return!o.selected()}},{selector:":selectable",matches:function(o){return o.selectable()}},{selector:":unselectable",matches:function(o){return!o.selectable()}},{selector:":locked",matches:function(o){return o.locked()}},{selector:":unlocked",matches:function(o){return!o.locked()}},{selector:":visible",matches:function(o){return o.visible()}},{selector:":hidden",matches:function(o){return!o.visible()}},{selector:":transparent",matches:function(o){return o.transparent()}},{selector:":grabbed",matches:function(o){return o.grabbed()}},{selector:":free",matches:function(o){return!o.grabbed()}},{selector:":removed",matches:function(o){return o.removed()}},{selector:":inside",matches:function(o){return!o.removed()}},{selector:":grabbable",matches:function(o){return o.grabbable()}},{selector:":ungrabbable",matches:function(o){return!o.grabbable()}},{selector:":animated",matches:function(o){return o.animated()}},{selector:":unanimated",matches:function(o){return!o.animated()}},{selector:":parent",matches:function(o){return o.isParent()}},{selector:":childless",matches:function(o){return o.isChildless()}},{selector:":child",matches:function(o){return o.isChild()}},{selector:":orphan",matches:function(o){return o.isOrphan()}},{selector:":nonorphan",matches:function(o){return o.isChild()}},{selector:":compound",matches:function(o){return o.isNode()?o.isParent():o.source().isParent()||o.target().isParent()}},{selector:":loop",matches:function(o){return o.isLoop()}},{selector:":simple",matches:function(o){return o.isSimple()}},{selector:":active",matches:function(o){return o.active()}},{selector:":inactive",matches:function(o){return!o.active()}},{selector:":backgrounding",matches:function(o){return o.backgrounding()}},{selector:":nonbackgrounding",matches:function(o){return!o.backgrounding()}}].sort(function(c,o){return function(o,u){return-1*io(o,u)}(c.selector,o.selector)}),wC=function(){for(var o,c={},u=0;u<tu.length;u++)c[(o=tu[u]).selector]=o.matches;return c}(),ny="("+tu.map(function(c){return c.selector}).join("|")+")",ll=function(o){return o.replace(new RegExp("\\\\("+jn.metaChar+")","g"),function(u,d){return d})},Zt=function(o,u,d){o[o.length-1]=d},jh=[{name:"group",query:!0,regex:"("+jn.group+")",populate:function(o,u,d){var p=xt(d,1)[0];u.checks.push({type:0,value:"*"===p?p:p+"s"})}},{name:"state",query:!0,regex:ny,populate:function(o,u,d){var f=xt(d,1);u.checks.push({type:7,value:f[0]})}},{name:"id",query:!0,regex:"\\#("+jn.id+")",populate:function(o,u,d){var f=xt(d,1);u.checks.push({type:8,value:ll(f[0])})}},{name:"className",query:!0,regex:"\\.("+jn.className+")",populate:function(o,u,d){var f=xt(d,1);u.checks.push({type:9,value:ll(f[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+jn.variable+")\\s*\\]",populate:function(o,u,d){var f=xt(d,1);u.checks.push({type:4,field:ll(f[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+jn.variable+")\\s*("+jn.comparatorOp+")\\s*("+jn.value+")\\s*\\]",populate:function(o,u,d){var f=xt(d,3),p=f[0],g=f[1],y=f[2];y=null!=new RegExp("^"+jn.string+"$").exec(y)?y.substring(1,y.length-1):parseFloat(y),u.checks.push({type:3,field:ll(p),operator:g,value:y})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+jn.boolOp+")\\s*("+jn.variable+")\\s*\\]",populate:function(o,u,d){var f=xt(d,2),p=f[0];u.checks.push({type:5,field:ll(f[1]),operator:p})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+jn.meta+")\\s*("+jn.comparatorOp+")\\s*("+jn.number+")\\s*\\]\\]",populate:function(o,u,d){var f=xt(d,3),g=f[1],y=f[2];u.checks.push({type:6,field:ll(f[0]),operator:g,value:parseFloat(y)})}},{name:"nextQuery",separator:!0,regex:jn.separator,populate:function(o,u){var d=o.currentSubject,f=o.edgeCount,p=o.compoundCount,g=o[o.length-1];return null!=d&&(g.subject=d,o.currentSubject=null),g.edgeCount=f,g.compoundCount=p,o.edgeCount=0,o.compoundCount=0,o[o.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:jn.directedEdge,populate:function(o,u){if(null==o.currentSubject){var d={checks:[]},p={checks:[]};return d.checks.push({type:11,source:u,target:p}),Zt(o,0,d),o.edgeCount++,p}var g={checks:[]},b={checks:[]};return g.checks.push({type:12,source:u,target:b}),Zt(o,0,g),o.edgeCount++,b}},{name:"undirectedEdge",separator:!0,regex:jn.undirectedEdge,populate:function(o,u){if(null==o.currentSubject){var d={checks:[]},p={checks:[]};return d.checks.push({type:10,nodes:[u,p]}),Zt(o,0,d),o.edgeCount++,p}var g={checks:[]},b={checks:[]};return g.checks.push({type:14,node:u,neighbor:b}),Zt(o,0,g),b}},{name:"child",separator:!0,regex:jn.child,populate:function(o,u){if(null==o.currentSubject){var d={checks:[]},f={checks:[]};return d.checks.push({type:15,parent:o[o.length-1],child:f}),Zt(o,0,d),o.compoundCount++,f}if(o.currentSubject===u){var g={checks:[]},b={checks:[]},_={checks:[]},w={checks:[]},x={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:b,subject:_}),_.checks=u.checks,u.checks=[{type:20}],x.checks.push({type:20}),b.checks.push({type:17,parent:x,child:w}),Zt(o,0,g),o.currentSubject=_,o.compoundCount++,w}var E={checks:[]},S={checks:[]},M=[{type:17,parent:E,child:S}];return E.checks=u.checks,u.checks=M,o.compoundCount++,S}},{name:"descendant",separator:!0,regex:jn.descendant,populate:function(o,u){if(null==o.currentSubject){var d={checks:[]},f={checks:[]};return d.checks.push({type:16,ancestor:o[o.length-1],descendant:f}),Zt(o,0,d),o.compoundCount++,f}if(o.currentSubject===u){var g={checks:[]},b={checks:[]},_={checks:[]},w={checks:[]},x={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:b,subject:_}),_.checks=u.checks,u.checks=[{type:20}],x.checks.push({type:20}),b.checks.push({type:18,ancestor:x,descendant:w}),Zt(o,0,g),o.currentSubject=_,o.compoundCount++,w}var E={checks:[]},S={checks:[]},M=[{type:18,ancestor:E,descendant:S}];return E.checks=u.checks,u.checks=M,o.compoundCount++,S}},{name:"subject",modifier:!0,regex:jn.subject,populate:function(o,u){if(null!=o.currentSubject&&o.currentSubject!==u)return ti("Redefinition of subject in selector `"+o.toString()+"`"),!1;o.currentSubject=u;var f=o[o.length-1].checks[0],p=null==f?null:f.type;11===p?f.type=13:10===p&&(f.type=14,f.node=f.nodes[1],f.neighbor=f.nodes[0],f.nodes=null)}}];jh.forEach(function(c){return c.regexObj=new RegExp("^"+c.regex)});var bT=function(o){for(var u,d,f,p=0;p<jh.length;p++){var g=jh[p],y=g.name,b=o.match(g.regexObj);if(null!=b){d=b,u=g,f=y,o=o.substring(b[0].length);break}}return{expr:u,match:d,name:f,remaining:o}},iy={parse:function(o){var u=this,d=u.inputText=o,f=u[0]={checks:[]};for(u.length=1,d=function(o){var u=o.match(/^\s+/);return u&&(o=o.substring(u[0].length)),o}(d);;){var p=bT(d);if(null==p.expr)return ti("The selector `"+o+"`is invalid"),!1;var g=p.match.slice(1),y=p.expr.populate(u,f,g);if(!1===y)return!1;if(null!=y&&(f=y),(d=p.remaining).match(/^\s*$/))break}var b=u[u.length-1];null!=u.currentSubject&&(b.subject=u.currentSubject),b.edgeCount=u.edgeCount,b.compoundCount=u.compoundCount;for(var _=0;_<u.length;_++){var w=u[_];if(w.compoundCount>0&&w.edgeCount>0)return ti("The selector `"+o+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(w.edgeCount>1)return ti("The selector `"+o+"` is invalid because it uses multiple edge selectors"),!1;1===w.edgeCount&&ti("The selector `"+o+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var o=function(w){return w??""},u=function(w){return Ae(w)?'"'+w+'"':o(w)},d=function(w){return" "+w+" "},p=function(w,x){return w.checks.reduce(function(E,S,M){return E+(x===w&&0===M?"$":"")+function(w,x){var S=w.value;switch(w.type){case 0:var M=o(S);return M.substring(0,M.length-1);case 3:return"["+w.field+d(o(w.operator))+u(S)+"]";case 5:var F=w.field;return"["+o(w.operator)+F+"]";case 4:return"["+w.field+"]";case 6:return"[["+w.field+d(o(w.operator))+u(S)+"]]";case 7:return S;case 8:return"#"+S;case 9:return"."+S;case 17:case 15:return p(w.parent,x)+d(">")+p(w.child,x);case 18:case 16:return p(w.ancestor,x)+" "+p(w.descendant,x);case 19:var Z=p(w.left,x),H=p(w.subject,x),Y=p(w.right,x);return Z+(Z.length>0?" ":"")+H+Y;case 20:return""}}(S,x)},"")},g="",y=0;y<this.length;y++){var b=this[y];g+=p(b,b.subject),this.length>1&&y<this.length-1&&(g+=", ")}return this.toStringCache=g,g}},ry=function(o,u,d){var f,b,_,p=Ae(o),g=Pe(o),y=Ae(d),w=!1,x=!1,E=!1;switch(u.indexOf("!")>=0&&(u=u.replace("!",""),x=!0),u.indexOf("@")>=0&&(u=u.replace("@",""),w=!0),(p||y||w)&&(b=p||g?""+o:"",_=""+d),w&&(o=b=b.toLowerCase(),d=_=_.toLowerCase()),u){case"*=":f=b.indexOf(_)>=0;break;case"$=":f=b.indexOf(_,b.length-_.length)>=0;break;case"^=":f=0===b.indexOf(_);break;case"=":f=o===d;break;case">":E=!0,f=o>d;break;case">=":E=!0,f=o>=d;break;case"<":E=!0,f=o<d;break;case"<=":E=!0,f=o<=d;break;default:f=!1}return x&&(null!=o||!E)&&(f=!f),f},Yn=function(o,u){return o.data(u)},ni=[],xn=function(o,u){return o.checks.every(function(d){return ni[d.type](d,u)})};ni[0]=function(c,o){var u=c.value;return"*"===u||u===o.group()},ni[7]=function(c,o){return function(o,u){return wC[o](u)}(c.value,o)},ni[8]=function(c,o){var u=c.value;return o.id()===u},ni[9]=function(c,o){return o.hasClass(c.value)},ni[6]=function(c,o){var d=c.operator,f=c.value;return ry(function(o,u){return o[u]()}(o,c.field),d,f)},ni[3]=function(c,o){var d=c.operator,f=c.value;return ry(Yn(o,c.field),d,f)},ni[5]=function(c,o){var d=c.operator;return function(o,u){switch(u){case"?":return!!o;case"!":return!o;case"^":return void 0===o}}(Yn(o,c.field),d)},ni[4]=function(c,o){return function(o){return void 0!==o}(Yn(o,c.field))},ni[10]=function(c,o){var u=c.nodes[0],d=c.nodes[1],f=o.source(),p=o.target();return xn(u,f)&&xn(d,p)||xn(d,f)&&xn(u,p)},ni[14]=function(c,o){return xn(c.node,o)&&o.neighborhood().some(function(u){return u.isNode()&&xn(c.neighbor,u)})},ni[11]=function(c,o){return xn(c.source,o.source())&&xn(c.target,o.target())},ni[12]=function(c,o){return xn(c.source,o)&&o.outgoers().some(function(u){return u.isNode()&&xn(c.target,u)})},ni[13]=function(c,o){return xn(c.target,o)&&o.incomers().some(function(u){return u.isNode()&&xn(c.source,u)})},ni[15]=function(c,o){return xn(c.child,o)&&xn(c.parent,o.parent())},ni[17]=function(c,o){return xn(c.parent,o)&&o.children().some(function(u){return xn(c.child,u)})},ni[16]=function(c,o){return xn(c.descendant,o)&&o.ancestors().some(function(u){return xn(c.ancestor,u)})},ni[18]=function(c,o){return xn(c.ancestor,o)&&o.descendants().some(function(u){return xn(c.descendant,u)})},ni[19]=function(c,o){return xn(c.subject,o)&&xn(c.left,o)&&xn(c.right,o)},ni[20]=function(){return!0},ni[1]=function(c,o){return c.value.has(o)},ni[2]=function(c,o){return(0,c.value)(o)};var jo={matches:function(o){for(var d=0;d<this.length;d++)if(xn(this[d],o))return!0;return!1},filter:function(o){var u=this;if(1===u.length&&1===u[0].checks.length&&8===u[0].checks[0].type)return o.getElementById(u[0].checks[0].value).collection();var d=function(p){for(var g=0;g<u.length;g++)if(xn(u[g],p))return!0;return!1};return null==u.text()&&(d=function(){return!0}),o.filter(d)}},Uo=function(o){this.inputText=o,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==o||Ae(o)&&o.match(/^\s*$/)||(je(o)?this.addQuery({checks:[{type:1,value:o.collection()}]}):ft(o)?this.addQuery({checks:[{type:2,value:o}]}):Ae(o)?this.parse(o)||(this.invalid=!0):Fi("A selector must be created from a string; found "))},Go=Uo.prototype;[iy,jo].forEach(function(c){return qt(Go,c)}),Go.text=function(){return this.inputText},Go.size=function(){return this.length},Go.eq=function(c){return this[c]},Go.sameText=function(c){return!this.invalid&&!c.invalid&&this.text()===c.text()},Go.addQuery=function(c){this[this.length++]=c},Go.selector=Go.toString;var Gl={allAre:function(o){var u=new Uo(o);return this.every(function(d){return u.matches(d)})},is:function(o){var u=new Uo(o);return this.some(function(d){return u.matches(d)})},some:function(o,u){for(var d=0;d<this.length;d++)if(u?o.apply(u,[this[d],d,this]):o(this[d],d,this))return!0;return!1},every:function(o,u){for(var d=0;d<this.length;d++)if(!(u?o.apply(u,[this[d],d,this]):o(this[d],d,this)))return!1;return!0},same:function(o){if(this===o)return!0;o=this.cy().collection(o);var u=this.length;return u===o.length&&(1===u?this[0]===o[0]:this.every(function(f){return o.hasElementWithId(f.id())}))},anySame:function(o){return o=this.cy().collection(o),this.some(function(u){return o.hasElementWithId(u.id())})},allAreNeighbors:function(o){o=this.cy().collection(o);var u=this.neighborhood();return o.every(function(d){return u.hasElementWithId(d.id())})},contains:function(o){o=this.cy().collection(o);var u=this;return o.every(function(d){return u.hasElementWithId(d.id())})}};Gl.allAreNeighbours=Gl.allAreNeighbors,Gl.has=Gl.contains,Gl.equal=Gl.equals=Gl.same;var qo,Ko,ao=function(o,u){return function(f,p,g,y){var w,b=f,_=this;if(null==b?w="":je(b)&&1===b.length&&(w=b.id()),1===_.length&&w){var x=_[0]._private,E=x.traversalCache=x.traversalCache||{},S=E[u]=E[u]||[],M=el(w);return S[M]||(S[M]=o.call(_,f,p,g,y))}return o.call(_,f,p,g,y)}},rd={parent:function(o){var u=[];if(1===this.length){var d=this[0]._private.parent;if(d)return d}for(var f=0;f<this.length;f++){var g=this[f]._private.parent;g&&u.push(g)}return this.spawn(u,!0).filter(o)},parents:function(o){for(var u=[],d=this.parent();d.nonempty();){for(var f=0;f<d.length;f++)u.push(d[f]);d=d.parent()}return this.spawn(u,!0).filter(o)},commonAncestors:function(o){for(var u,d=0;d<this.length;d++){var p=this[d].parents();u=(u=u||p).intersect(p)}return u.filter(o)},orphans:function(o){return this.stdFilter(function(u){return u.isOrphan()}).filter(o)},nonorphans:function(o){return this.stdFilter(function(u){return u.isChild()}).filter(o)},children:ao(function(c){for(var o=[],u=0;u<this.length;u++)for(var f=this[u]._private.children,p=0;p<f.length;p++)o.push(f[p]);return this.spawn(o,!0).filter(c)},"children"),siblings:function(o){return this.parent().children().not(this).filter(o)},isParent:function(){var o=this[0];if(o)return o.isNode()&&0!==o._private.children.length},isChildless:function(){var o=this[0];if(o)return o.isNode()&&0===o._private.children.length},isChild:function(){var o=this[0];if(o)return o.isNode()&&null!=o._private.parent},isOrphan:function(){var o=this[0];if(o)return o.isNode()&&null==o._private.parent},descendants:function(o){var u=[];return function d(f){for(var p=0;p<f.length;p++){var g=f[p];u.push(g),g.children().nonempty()&&d(g.children())}}(this.children()),this.spawn(u,!0).filter(o)}};function Uh(c,o,u,d){for(var f=[],p=new ai,y=c.cy().hasCompoundNodes(),b=0;b<c.length;b++){var _=c[b];u?f.push(_):y&&d(f,p,_)}for(;f.length>0;){var w=f.shift();o(w),p.add(w.id()),y&&d(f,p,w)}return c}function rs(c,o,u){if(u.isParent())for(var d=u._private.children,f=0;f<d.length;f++){var p=d[f];o.has(p.id())||c.push(p)}}function Wo(c,o,u){if(u.isChild()){var d=u._private.parent;o.has(d.id())||c.push(d)}}function oy(c,o,u){Wo(c,o,u),rs(c,o,u)}rd.forEachDown=function(c){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Uh(this,c,o,rs)},rd.forEachUp=function(c){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Uh(this,c,o,Wo)},rd.forEachUpAndDown=function(c){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Uh(this,c,o,oy)},rd.ancestors=rd.parents,qo=Ko={data:On.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:On.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:On.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:On.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:On.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:On.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var o=this[0];if(o)return o._private.data.id}},qo.attr=qo.data,qo.removeAttr=qo.removeData;var SC=Ko,sd={};function Yp(c){return function(o){var u=this;if(void 0===o&&(o=!0),0===u.length);else if(u.isNode()&&!u.removed()){for(var d=0,f=u[0],p=f._private.edges,g=0;g<p.length;g++){var y=p[g];!o&&y.isLoop()||(d+=c(f,y))}return d}}}function nu(c,o){return function(u){for(var d,f=this.nodes(),p=0;p<f.length;p++){var y=f[p][c](u);void 0!==y&&(void 0===d||o(y,d))&&(d=y)}return d}}qt(sd,{degree:Yp(function(c,o){return o.source().same(o.target())?2:1}),indegree:Yp(function(c,o){return o.target().same(c)?1:0}),outdegree:Yp(function(c,o){return o.source().same(c)?1:0})}),qt(sd,{minDegree:nu("degree",function(c,o){return c<o}),maxDegree:nu("degree",function(c,o){return c>o}),minIndegree:nu("indegree",function(c,o){return c<o}),maxIndegree:nu("indegree",function(c,o){return c>o}),minOutdegree:nu("outdegree",function(c,o){return c<o}),maxOutdegree:nu("outdegree",function(c,o){return c>o})}),qt(sd,{totalDegree:function(o){for(var u=0,d=this.nodes(),f=0;f<d.length;f++)u+=d[f].degree(o);return u}});var js,Gh,Zp=function(o,u,d){for(var f=0;f<o.length;f++){var p=o[f];if(!p.locked()){var g=p._private.position,y={x:null!=u.x?u.x-g.x:0,y:null!=u.y?u.y-g.y:0};p.isParent()&&!(0===y.x&&0===y.y)&&p.children().shift(y,d),p.dirtyBoundingBoxCache()}}},Wh={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(o){o.updateCompoundBounds()},beforeSet:function(o,u){Zp(o,u,!1)},onSet:function(o){o.dirtyCompoundBoundsCache()},canSet:function(o){return!o.locked()}};js=Gh={position:On.data(Wh),silentPosition:On.data(qt({},Wh,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(o,u){Zp(o,u,!0)},onSet:function(o){o.dirtyCompoundBoundsCache()}})),positions:function(o,u){if(nt(o))u?this.silentPosition(o):this.position(o);else if(ft(o)){var d=o,f=this.cy();f.startBatch();for(var p=0;p<this.length;p++){var y,g=this[p];(y=d(g,p))&&(u?g.silentPosition(y):g.position(y))}f.endBatch()}return this},silentPositions:function(o){return this.positions(o,!0)},shift:function(o,u,d){var f;if(nt(o)?(f={x:Pe(o.x)?o.x:0,y:Pe(o.y)?o.y:0},d=u):Ae(o)&&Pe(u)&&((f={x:0,y:0})[o]=u),null!=f){var p=this.cy();p.startBatch();for(var g=0;g<this.length;g++){var y=this[g];if(!(p.hasCompoundNodes()&&y.isChild()&&y.ancestors().anySame(this))){var b=y.position(),_={x:b.x+f.x,y:b.y+f.y};d?y.silentPosition(_):y.position(_)}}p.endBatch()}return this},silentShift:function(o,u){return nt(o)?this.shift(o,!0):Ae(o)&&Pe(u)&&this.shift(o,u,!0),this},renderedPosition:function(o,u){var d=this[0],f=this.cy(),p=f.zoom(),g=f.pan(),y=nt(o)?o:void 0,b=void 0!==y||void 0!==u&&Ae(o);if(d&&d.isNode()){if(!b){var x=d.position();return y=Hp(x,p,g),void 0===o?y:y[o]}for(var _=0;_<this.length;_++){var w=this[_];void 0!==u?w.position(o,(u-g[o])/p):void 0!==y&&w.position(zo(y,p,g))}}else if(!b)return;return this},relativePosition:function(o,u){var d=this[0],f=this.cy(),p=nt(o)?o:void 0,g=void 0!==p||void 0!==u&&Ae(o),y=f.hasCompoundNodes();if(d&&d.isNode()){if(!g){var M=d.position(),T=y?d.parent():null,I=T&&T.length>0;I&&(T=T[0]);var F=I?T.position():{x:0,y:0};return p={x:M.x-F.x,y:M.y-F.y},void 0===o?p:p[o]}for(var b=0;b<this.length;b++){var _=this[b],w=y?_.parent():null,x=w&&w.length>0;x&&(w=w[0]);var S=x?w.position():{x:0,y:0};void 0!==u?_.position(o,u+S[o]):void 0!==p&&_.position({x:p.x+S.x,y:p.y+S.y})}}else if(!g)return;return this}},js.modelPosition=js.point=js.position,js.modelPositions=js.points=js.positions,js.renderedPoint=js.renderedPosition,js.relativePoint=js.relativePosition;var Wl,Yo,MC=Gh;Wl=Yo={},Yo.renderedBoundingBox=function(c){var o=this.boundingBox(c),u=this.cy(),d=u.zoom(),f=u.pan(),p=o.x1*d+f.x,g=o.x2*d+f.x,y=o.y1*d+f.y,b=o.y2*d+f.y;return{x1:p,x2:g,y1:y,y2:b,w:g-p,h:b-y}},Yo.dirtyCompoundBoundsCache=function(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();return o.styleEnabled()&&o.hasCompoundNodes()?(this.forEachUp(function(u){if(u.isParent()){var d=u._private;d.compoundBoundsClean=!1,d.bbCache=null,c||u.emitAndNotify("bounds")}}),this):this},Yo.updateCompoundBounds=function(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();if(!o.styleEnabled()||!o.hasCompoundNodes())return this;if(!c&&o.batching())return this;function u(g){if(g.isParent()){var y=g._private,b=g.children(),_="include"===g.pstyle("compound-sizing-wrt-labels").value,w={width:{val:g.pstyle("min-width").pfValue,left:g.pstyle("min-width-bias-left"),right:g.pstyle("min-width-bias-right")},height:{val:g.pstyle("min-height").pfValue,top:g.pstyle("min-height-bias-top"),bottom:g.pstyle("min-height-bias-bottom")}},x=b.boundingBox({includeLabels:_,includeOverlays:!1,useCache:!1}),E=y.position;(0===x.w||0===x.h)&&((x={w:g.pstyle("width").pfValue,h:g.pstyle("height").pfValue}).x1=E.x-x.w/2,x.x2=E.x+x.w/2,x.y1=E.y-x.h/2,x.y2=E.y+x.h/2);var T=w.width.left.value;"px"===w.width.left.units&&w.width.val>0&&(T=100*T/w.width.val);var I=w.width.right.value;"px"===w.width.right.units&&w.width.val>0&&(I=100*I/w.width.val);var R=w.height.top.value;"px"===w.height.top.units&&w.height.val>0&&(R=100*R/w.height.val);var F=w.height.bottom.value;"px"===w.height.bottom.units&&w.height.val>0&&(F=100*F/w.height.val);var L=S(w.width.val-x.w,T,I),z=L.biasDiff,K=L.biasComplementDiff,Z=S(w.height.val-x.h,R,F),H=Z.biasDiff,Y=Z.biasComplementDiff;y.autoPadding=function M(U,X,J,W){if("%"!==J.units)return"px"===J.units?J.pfValue:0;switch(W){case"width":return U>0?J.pfValue*U:0;case"height":return X>0?J.pfValue*X:0;case"average":return U>0&&X>0?J.pfValue*(U+X)/2:0;case"min":return U>0&&X>0?U>X?J.pfValue*X:J.pfValue*U:0;case"max":return U>0&&X>0?U>X?J.pfValue*U:J.pfValue*X:0;default:return 0}}(x.w,x.h,g.pstyle("padding"),g.pstyle("padding-relative-to").value),y.autoWidth=Math.max(x.w,w.width.val),E.x=(-z+x.x1+x.x2+K)/2,y.autoHeight=Math.max(x.h,w.height.val),E.y=(-H+x.y1+x.y2+Y)/2}function S(U,X,J){var W=0,oe=0,Q=X+J;return U>0&&Q>0&&(W=X/Q*U,oe=J/Q*U),{biasDiff:W,biasComplementDiff:oe}}}for(var d=0;d<this.length;d++){var f=this[d],p=f._private;(!p.compoundBoundsClean||c)&&(u(f),o.batching()||(p.compoundBoundsClean=!0))}return this};var Us=function(o){return o===1/0||o===-1/0?0:o},lo=function(o,u,d,f,p){f-u==0||p-d==0||null==u||null==d||null==f||null==p||(o.x1=u<o.x1?u:o.x1,o.x2=f>o.x2?f:o.x2,o.y1=d<o.y1?d:o.y1,o.y2=p>o.y2?p:o.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1)},cl=function(o,u){return null==u?o:lo(o,u.x1,u.y1,u.x2,u.y2)},iu=function(o,u,d){return di(o,u,d)},ru=function(o,u,d){if(!u.cy().headless()){var b,_,f=u._private,p=f.rstyle,g=p.arrowWidth/2;if("none"!==u.pstyle(d+"-arrow-shape").value){"source"===d?(b=p.srcX,_=p.srcY):"target"===d?(b=p.tgtX,_=p.tgtY):(b=p.midX,_=p.midY);var w=f.arrowBounds=f.arrowBounds||{},x=w[d]=w[d]||{};x.x1=b-g,x.y1=_-g,x.x2=b+g,x.y2=_+g,x.w=x.x2-x.x1,x.h=x.y2-x.y1,Xu(x,1),lo(o,x.x1,x.y1,x.x2,x.y2)}}},Xp=function(o,u,d){if(!u.cy().headless()){var f,p=u._private,g=p.rstyle;if(u.pstyle((f=d?d+"-":"")+"label").strValue){var J,W,oe,Q,b=u.pstyle("text-halign"),_=u.pstyle("text-valign"),w=iu(g,"labelWidth",d),x=iu(g,"labelHeight",d),E=iu(g,"labelX",d),S=iu(g,"labelY",d),M=u.pstyle(f+"text-margin-x").pfValue,T=u.pstyle(f+"text-margin-y").pfValue,I=u.isEdge(),R=u.pstyle(f+"text-rotation"),F=u.pstyle("text-outline-width").pfValue,z=u.pstyle("text-border-width").pfValue/2,K=u.pstyle("text-background-padding").pfValue,H=x,Y=w,U=Y/2,X=H/2;if(I)J=E-U,W=E+U,oe=S-X,Q=S+X;else{switch(b.value){case"left":J=E-Y,W=E;break;case"center":J=E-U,W=E+U;break;case"right":J=E,W=E+Y}switch(_.value){case"top":oe=S-H,Q=S;break;case"center":oe=S-X,Q=S+X;break;case"bottom":oe=S,Q=S+H}}J+=M-Math.max(F,z)-K-2,W+=M+Math.max(F,z)+K+2,oe+=T-Math.max(F,z)-K-2,Q+=T+Math.max(F,z)+K+2;var ge=d||"main",ae=p.labelBounds,ce=ae[ge]=ae[ge]||{};ce.x1=J,ce.y1=oe,ce.x2=W,ce.y2=Q,ce.w=W-J,ce.h=Q-oe;var be=I&&"autorotate"===R.strValue;if(be||null!=R.pfValue&&0!==R.pfValue){var Re=be?iu(p.rstyle,"labelAngle",d):R.pfValue,De=Math.cos(Re),ke=Math.sin(Re),Ge=(J+W)/2,Ke=(oe+Q)/2;if(!I){switch(b.value){case"left":Ge=W;break;case"right":Ge=J}switch(_.value){case"top":Ke=Q;break;case"bottom":Ke=oe}}var Ue=function(vn,wt){return{x:(vn-=Ge)*De-(wt-=Ke)*ke+Ge,y:vn*ke+wt*De+Ke}},Ie=Ue(J,oe),ve=Ue(J,Q),We=Ue(W,oe),Xe=Ue(W,Q);J=Math.min(Ie.x,ve.x,We.x,Xe.x),W=Math.max(Ie.x,ve.x,We.x,Xe.x),oe=Math.min(Ie.y,ve.y,We.y,Xe.y),Q=Math.max(Ie.y,ve.y,We.y,Xe.y)}var tt=ge+"Rot",gt=ae[tt]=ae[tt]||{};gt.x1=J,gt.y1=oe,gt.x2=W,gt.y2=Q,gt.w=W-J,gt.h=Q-oe,lo(o,J,oe,W,Q),lo(p.labelBounds.all,J,oe,W,Q)}return o}},ss=function(o){var u=0,d=function(g){return(g?1:0)<<u++},f=0;return f+=d(o.incudeNodes),f+=d(o.includeEdges),f+=d(o.includeLabels),f+=d(o.includeMainLabels),f+=d(o.includeSourceLabels),(f+=d(o.includeTargetLabels))+d(o.includeOverlays)},xa=function(o){if(o.isEdge()){var u=o.source().position(),d=o.target().position(),f=function(g){return Math.round(g)};return function(o,u){var d={value:0,done:!1},f=0,p=o.length;return Fp({next:function(){return f<p?d.value=o[f++]:d.done=!0,d}},void 0)}([f(u.x),f(u.y),f(d.x),f(d.y)])}return 0},zi=function(o,u){var f,d=o._private,p=o.isEdge(),y=(null==u?ay:ss(u))===ay,b=xa(o),_=d.bbCachePosKey===b,w=u.useCache&&_,x=function(T){return null==T._private.bbCache||T._private.styleDirty};if(!w||x(o)||p&&x(o.source())||x(o.target())?(_||o.recalculateRenderedStyle(w),f=function(o,u){var w,x,E,S,M,T,d=o._private.cy,f=d.styleEnabled(),p=d.headless(),g=Wr(),y=o._private,b=o.isNode(),_=o.isEdge(),I=y.rstyle,R=b&&f?o.pstyle("bounds-expansion").pfValue:[0],F=function(Ut){return"none"!==Ut.pstyle("display").value},L=!f||F(o)&&(!_||F(o.source())&&F(o.target()));if(L){var K=0;f&&u.includeOverlays&&0!==o.pstyle("overlay-opacity").value&&(K=o.pstyle("overlay-padding").value);var H=0;f&&u.includeUnderlays&&0!==o.pstyle("underlay-opacity").value&&(H=o.pstyle("underlay-padding").value);var Y=Math.max(K,H),X=0;if(f&&(X=o.pstyle("width").pfValue/2),b&&u.includeNodes){var J=o.position();M=J.x,T=J.y;var oe=o.outerWidth()/2,ge=o.outerHeight()/2;lo(g,w=M-oe,E=T-ge,x=M+oe,S=T+ge)}else if(_&&u.includeEdges)if(f&&!p){var ae=o.pstyle("curve-style").strValue;if(w=Math.min(I.srcX,I.midX,I.tgtX),x=Math.max(I.srcX,I.midX,I.tgtX),E=Math.min(I.srcY,I.midY,I.tgtY),S=Math.max(I.srcY,I.midY,I.tgtY),lo(g,w-=X,E-=X,x+=X,S+=X),"haystack"===ae){var ce=I.haystackPts;if(ce&&2===ce.length){if((w=ce[0].x)>(x=ce[1].x)){var be=w;w=x,x=be}if((E=ce[0].y)>(S=ce[1].y)){var Se=E;E=S,S=Se}lo(g,w-X,E-X,x+X,S+X)}}else if("bezier"===ae||"unbundled-bezier"===ae||"segments"===ae||"taxi"===ae){var Re;switch(ae){case"bezier":case"unbundled-bezier":Re=I.bezierPts;break;case"segments":case"taxi":Re=I.linePts}if(null!=Re)for(var De=0;De<Re.length;De++){var ke=Re[De];lo(g,w=ke.x-X,E=ke.y-X,x=ke.x+X,S=ke.y+X)}}}else{var Ke=o.source().position(),Ie=o.target().position();if((w=Ke.x)>(x=Ie.x)){var ve=w;w=x,x=ve}if((E=Ke.y)>(S=Ie.y)){var We=E;E=S,S=We}lo(g,w-=X,E-=X,x+=X,S+=X)}if(f&&u.includeEdges&&_&&(ru(g,o,"mid-source"),ru(g,o,"mid-target"),ru(g,o,"source"),ru(g,o,"target")),f&&"yes"===o.pstyle("ghost").value){var tt=o.pstyle("ghost-offset-x").pfValue,gt=o.pstyle("ghost-offset-y").pfValue;lo(g,g.x1+tt,g.y1+gt,g.x2+tt,g.y2+gt)}var nn=y.bodyBounds=y.bodyBounds||{};kh(nn,g),jc(nn,R),Xu(nn,1),f&&lo(g,(w=g.x1)-Y,(E=g.y1)-Y,(x=g.x2)+Y,(S=g.y2)+Y);var vn=y.overlayBounds=y.overlayBounds||{};kh(vn,g),jc(vn,R),Xu(vn,1);var wt=y.labelBounds=y.labelBounds||{};null!=wt.all?function(o){o.x1=1/0,o.y1=1/0,o.x2=-1/0,o.y2=-1/0,o.w=0,o.h=0}(wt.all):wt.all=Wr(),f&&u.includeLabels&&(u.includeMainLabels&&Xp(g,o,null),_&&(u.includeSourceLabels&&Xp(g,o,"source"),u.includeTargetLabels&&Xp(g,o,"target")))}return g.x1=Us(g.x1),g.y1=Us(g.y1),g.x2=Us(g.x2),g.y2=Us(g.y2),g.w=Us(g.x2-g.x1),g.h=Us(g.y2-g.y1),g.w>0&&g.h>0&&L&&(jc(g,R),Xu(g,1)),g}(o,Zo),d.bbCache=f,d.bbCachePosKey=b):f=d.bbCache,!y){var S=o.isNode();f=Wr(),(u.includeNodes&&S||u.includeEdges&&!S)&&cl(f,u.includeOverlays?d.overlayBounds:d.bodyBounds),u.includeLabels&&(u.includeMainLabels&&(!p||u.includeSourceLabels&&u.includeTargetLabels)?cl(f,d.labelBounds.all):(u.includeMainLabels&&cl(f,d.labelBounds.mainRot),u.includeSourceLabels&&cl(f,d.labelBounds.sourceRot),u.includeTargetLabels&&cl(f,d.labelBounds.targetRot))),f.w=f.x2-f.x1,f.h=f.y2-f.y1}return f},Zo={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},ay=ss(Zo),qh=Ur(Zo);Yo.boundingBox=function(c){var o;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==c&&void 0!==c.useCache&&!0!==c.useCache){o=Wr();var u=qh(c=c||Zo),d=this;if(d.cy().styleEnabled())for(var g=0;g<d.length;g++){var y=d[g],b=y._private,_=xa(y);y.recalculateRenderedStyle(u.useCache&&b.bbCachePosKey===_&&!b.styleDirty)}this.updateCompoundBounds(!c.useCache);for(var E=0;E<d.length;E++)cl(o,zi(d[E],u))}else c=void 0===c?Zo:qh(c),o=zi(this[0],c);return o.x1=Us(o.x1),o.y1=Us(o.y1),o.x2=Us(o.x2),o.y2=Us(o.y2),o.w=Us(o.x2-o.x1),o.h=Us(o.y2-o.y1),o},Yo.dirtyBoundingBoxCache=function(){for(var c=0;c<this.length;c++){var o=this[c]._private;o.bbCache=null,o.bbCachePosKey=null,o.bodyBounds=null,o.overlayBounds=null,o.labelBounds.all=null,o.labelBounds.source=null,o.labelBounds.target=null,o.labelBounds.main=null,o.labelBounds.sourceRot=null,o.labelBounds.targetRot=null,o.labelBounds.mainRot=null,o.arrowBounds.source=null,o.arrowBounds.target=null,o.arrowBounds["mid-source"]=null,o.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Yo.boundingBoxAt=function(c){var o=this.nodes(),u=this.cy(),d=u.hasCompoundNodes(),f=u.collection();if(d&&(f=o.filter(function(_){return _.isParent()}),o=o.not(f)),nt(c)){var p=c;c=function(){return p}}u.startBatch(),o.forEach(function(w,x){return w._private.bbAtOldPos=c(w,x)}).silentPositions(c),d&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0));var b=function(o){return{x1:o.x1,x2:o.x2,w:o.w,y1:o.y1,y2:o.y2,h:o.h}}(this.boundingBox({useCache:!1}));return o.silentPositions(function(w){return w._private.bbAtOldPos}),d&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0)),u.endBatch(),b},Wl.boundingbox=Wl.bb=Wl.boundingBox,Wl.renderedBoundingbox=Wl.renderedBoundingBox;var od,ad,TC=Yo;od=ad={};var ld=function(o){o.uppercaseName=ts(o.name),o.autoName="auto"+o.uppercaseName,o.labelName="label"+o.uppercaseName,o.outerName="outer"+o.uppercaseName,o.uppercaseOuterName=ts(o.outerName),od[o.name]=function(){var d=this[0],f=d._private;if(d){if(f.cy._private.styleEnabled){if(d.isParent())return d.updateCompoundBounds(),f[o.autoName]||0;var y=d.pstyle(o.name);return"label"===y.strValue?(d.recalculateRenderedStyle(),f.rstyle[o.labelName]||0):y.pfValue}return 1}},od["outer"+o.uppercaseName]=function(){var d=this[0];if(d)return d._private.cy._private.styleEnabled?d[o.name]()+d.pstyle("border-width").pfValue+2*d.padding():1},od["rendered"+o.uppercaseName]=function(){var d=this[0];if(d)return d[o.name]()*this.cy().zoom()},od["rendered"+o.uppercaseOuterName]=function(){var d=this[0];if(d)return d[o.outerName]()*this.cy().zoom()}};ld({name:"width"}),ld({name:"height"}),ad.padding=function(){var c=this[0],o=c._private;return c.isParent()?(c.updateCompoundBounds(),void 0!==o.autoPadding?o.autoPadding:c.pstyle("padding").pfValue):c.pstyle("padding").pfValue},ad.paddedHeight=function(){var c=this[0];return c.height()+2*c.padding()},ad.paddedWidth=function(){var c=this[0];return c.width()+2*c.padding()};var Kh=ad,su={controlPoints:{get:function(o){return o.renderer().getControlPoints(o)},mult:!0},segmentPoints:{get:function(o){return o.renderer().getSegmentPoints(o)},mult:!0},sourceEndpoint:{get:function(o){return o.renderer().getSourceEndpoint(o)}},targetEndpoint:{get:function(o){return o.renderer().getTargetEndpoint(o)}},midpoint:{get:function(o){return o.renderer().getEdgeMidpoint(o)}}},OC=Object.keys(su).reduce(function(c,o){var u=su[o],d=function(o){return"rendered"+o[0].toUpperCase()+o.substr(1)}(o);return c[o]=function(){return function(o,u){if(o.isEdge())return u(o)}(this,u.get)},c[d]=u.mult?function(){return function(o,u){if(o.isEdge()){var d=o.cy(),f=d.pan(),p=d.zoom();return u(o).map(function(g){return Hp(g,p,f)})}}(this,u.get)}:function(){return function(o,u){if(o.isEdge()){var d=o.cy();return Hp(u(o),d.zoom(),d.pan())}}(this,u.get)},c},{}),PC=qt({},MC,TC,Kh,OC),FC=function(o,u){this.recycle(o,u)};function Zh(){return!1}function ql(){return!0}FC.prototype={instanceString:function(){return"event"},recycle:function(o,u){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Zh,null!=o&&o.preventDefault?(this.type=o.type,this.isDefaultPrevented=o.defaultPrevented?ql:Zh):null!=o&&o.type?u=o:this.type=o,null!=u&&(this.originalEvent=u.originalEvent,this.type=null!=u.type?u.type:this.type,this.cy=u.cy,this.target=u.target,this.position=u.position,this.renderedPosition=u.renderedPosition,this.namespace=u.namespace,this.layout=u.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var d=this.position,f=this.cy.zoom(),p=this.cy.pan();this.renderedPosition={x:d.x*f+p.x,y:d.y*f+p.y}}this.timeStamp=o&&o.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=ql;var o=this.originalEvent;!o||o.preventDefault&&o.preventDefault()},stopPropagation:function(){this.isPropagationStopped=ql;var o=this.originalEvent;!o||o.stopPropagation&&o.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ql,this.stopPropagation()},isDefaultPrevented:Zh,isPropagationStopped:Zh,isImmediatePropagationStopped:Zh};var eg=/^([^.]+)(\.(?:[^.]+))?$/,ud={qualifierCompare:function(o,u){return o===u},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(o){return o},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},tg=Object.keys(ud),uy={};function Da(){for(var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uy,o=arguments.length>1?arguments[1]:void 0,u=0;u<tg.length;u++){var d=tg[u];this[d]=c[d]||ud[d]}this.context=o||this.context,this.listeners=[],this.emitting=0}var dl=Da.prototype,Kl=function(o,u,d,f,p,g,y){ft(f)&&(p=f,f=null),y&&(g=null==g?y:qt({},g,y));for(var b=Mt(d)?d:d.split(/\s+/),_=0;_<b.length;_++){var w=b[_];if(!vt(w)){var x=w.match(eg);if(x&&!1===u(o,w,x[1],x[2]?x[2]:null,f,p,g))break}}},Xh=function(o,u){return o.addEventFields(o.context,u),new FC(u.type,u)};dl.on=dl.addListener=function(c,o,u,d,f){return Kl(this,function(p,g,y,b,_,w,x){ft(w)&&p.listeners.push({event:g,callback:w,type:y,namespace:b,qualifier:_,conf:x})},c,o,u,d,f),this},dl.one=function(c,o,u,d){return this.on(c,o,u,d,{one:!0})},dl.removeListener=dl.off=function(c,o,u,d){var f=this;0!==this.emitting&&(this.listeners=function(o){return o.slice()}(this.listeners));for(var p=this.listeners,g=function(_){var w=p[_];Kl(f,function(x,E,S,M,T,I){if((w.type===S||"*"===c)&&(!M&&".*"!==w.namespace||w.namespace===M)&&(!T||x.qualifierCompare(w.qualifier,T))&&(!I||w.callback===I))return p.splice(_,1),!1},c,o,u,d)},y=p.length-1;y>=0;y--)g(y);return this},dl.removeAllListeners=function(){return this.removeListener("*")},dl.emit=dl.trigger=function(c,o,u){var d=this.listeners,f=d.length;return this.emitting++,Mt(o)||(o=[o]),function(o,u,d){if(function(o){return"event"===Ve(o)}(d))u(o,d);else if(nt(d))u(o,Xh(o,d));else for(var f=Mt(d)?d:d.split(/\s+/),p=0;p<f.length;p++){var g=f[p];if(!vt(g)){var y=g.match(eg);y&&u(o,Xh(o,{type:y[1],namespace:y[2]?y[2]:null,target:o.context}))}}}(this,function(p,g){null!=u&&(f=(d=[{event:g.event,type:g.type,namespace:g.namespace,callback:u}]).length);for(var y=function(w){var x=d[w];if(x.type===g.type&&(!x.namespace||x.namespace===g.namespace||".*"===x.namespace)&&p.eventMatches(p.context,x,g)){var E=[g];null!=o&&function(o,u){for(var d=0;d<u.length;d++)o.push(u[d])}(E,o),p.beforeEmit(p.context,x,g),x.conf&&x.conf.one&&(p.listeners=p.listeners.filter(function(T){return T!==x}));var S=p.callbackContext(p.context,x,g),M=x.callback.apply(S,E);p.afterEmit(p.context,x,g),!1===M&&(g.stopPropagation(),g.preventDefault())}},b=0;b<f;b++)y(b);p.bubble(p.context)&&!g.isPropagationStopped()&&p.parent(p.context).emit(g,o)},c),this.emitting--,this};var wT={qualifierCompare:function(o,u){return null==o||null==u?null==o&&null==u:o.sameText(u)},eventMatches:function(o,u,d){var f=u.qualifier;return null==f||o!==d.target&&ki(d.target)&&f.matches(d.target)},addEventFields:function(o,u){u.cy=o.cy(),u.target=o},callbackContext:function(o,u,d){return null!=u.qualifier?d.target:o},beforeEmit:function(o,u){u.conf&&u.conf.once&&u.conf.onceCollection.removeListener(u.event,u.qualifier,u.callback)},bubble:function(){return!0},parent:function(o){return o.isChild()?o.parent():o.cy()}},dd=function(o){return Ae(o)?new Uo(o):o},ng={createEmitter:function(){for(var o=0;o<this.length;o++){var u=this[o],d=u._private;d.emitter||(d.emitter=new Da(wT,u))}return this},emitter:function(){return this._private.emitter},on:function(o,u,d){for(var f=dd(u),p=0;p<this.length;p++)this[p].emitter().on(o,f,d);return this},removeListener:function(o,u,d){for(var f=dd(u),p=0;p<this.length;p++)this[p].emitter().removeListener(o,f,d);return this},removeAllListeners:function(){for(var o=0;o<this.length;o++)this[o].emitter().removeAllListeners();return this},one:function(o,u,d){for(var f=dd(u),p=0;p<this.length;p++)this[p].emitter().one(o,f,d);return this},once:function(o,u,d){for(var f=dd(u),p=0;p<this.length;p++)this[p].emitter().on(o,f,d,{once:!0,onceCollection:this})},emit:function(o,u){for(var d=0;d<this.length;d++)this[d].emitter().emit(o,u);return this},emitAndNotify:function(o,u){if(0!==this.length)return this.cy().notify(o,this),this.emit(o,u),this}};On.eventAliasesOn(ng);var dy={nodes:function(o){return this.filter(function(u){return u.isNode()}).filter(o)},edges:function(o){return this.filter(function(u){return u.isEdge()}).filter(o)},byGroup:function(){for(var o=this.spawn(),u=this.spawn(),d=0;d<this.length;d++){var f=this[d];f.isNode()?o.push(f):u.push(f)}return{nodes:o,edges:u}},filter:function(o,u){if(void 0===o)return this;if(Ae(o)||je(o))return new Uo(o).filter(this);if(ft(o)){for(var d=this.spawn(),f=this,p=0;p<f.length;p++){var g=f[p];(u?o.apply(u,[g,p,f]):o(g,p,f))&&d.push(g)}return d}return this.spawn()},not:function(o){if(o){Ae(o)&&(o=this.filter(o));for(var u=this.spawn(),d=0;d<this.length;d++){var f=this[d];o.has(f)||u.push(f)}return u}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(o){if(Ae(o))return this.filter(o);for(var d=this.spawn(),g=this.length<o.length,y=g?this:o,b=g?o:this,_=0;_<y.length;_++){var w=y[_];b.has(w)&&d.push(w)}return d},xor:function(o){var u=this._private.cy;Ae(o)&&(o=u.$(o));var d=this.spawn(),p=o,g=function(b,_){for(var w=0;w<b.length;w++){var x=b[w];_.hasElementWithId(x._private.data.id)||d.push(x)}};return g(this,p),g(p,this),d},diff:function(o){var u=this._private.cy;Ae(o)&&(o=u.$(o));var d=this.spawn(),f=this.spawn(),p=this.spawn(),y=o,b=function(w,x,E){for(var S=0;S<w.length;S++){var M=w[S];x.hasElementWithId(M._private.data.id)?p.merge(M):E.push(M)}};return b(this,y,d),b(y,this,f),{left:d,right:f,both:p}},add:function(o){var u=this._private.cy;if(!o)return this;if(Ae(o)){var d=o;o=u.mutableElements().filter(d)}for(var f=this.spawnSelf(),p=0;p<o.length;p++){var g=o[p];!this.has(g)&&f.push(g)}return f},merge:function(o){var u=this._private,d=u.cy;if(!o)return this;if(o&&Ae(o)){var f=o;o=d.mutableElements().filter(f)}for(var p=u.map,g=0;g<o.length;g++){var y=o[g],b=y._private.data.id;if(!p.has(b)){var w=this.length++;this[w]=y,p.set(b,{ele:y,index:w})}}return this},unmergeAt:function(o){var d=this[o].id(),p=this._private.map;if(this[o]=void 0,p.delete(d),this.length>1&&o!==this.length-1){var y=this.length-1,b=this[y],_=b._private.data.id;this[y]=void 0,this[o]=b,p.set(_,{ele:b,index:o})}return this.length--,this},unmergeOne:function(o){var p=this._private.map.get((o=o[0])._private.data.id);return p?(this.unmergeAt(p.index),this):this},unmerge:function(o){var u=this._private.cy;if(!o)return this;if(o&&Ae(o)){var d=o;o=u.mutableElements().filter(d)}for(var f=0;f<o.length;f++)this.unmergeOne(o[f]);return this},unmergeBy:function(o){for(var u=this.length-1;u>=0;u--)o(this[u])&&this.unmergeAt(u);return this},map:function(o,u){for(var d=[],f=this,p=0;p<f.length;p++){var g=f[p],y=u?o.apply(u,[g,p,f]):o(g,p,f);d.push(y)}return d},reduce:function(o,u){for(var d=u,f=this,p=0;p<f.length;p++)d=o(d,f[p],p,f);return d},max:function(o,u){for(var f,d=-1/0,p=this,g=0;g<p.length;g++){var y=p[g],b=u?o.apply(u,[y,g,p]):o(y,g,p);b>d&&(d=b,f=y)}return{value:d,ele:f}},min:function(o,u){for(var f,d=1/0,p=this,g=0;g<p.length;g++){var y=p[g],b=u?o.apply(u,[y,g,p]):o(y,g,p);b<d&&(d=b,f=y)}return{value:d,ele:f}}},Pn=dy;Pn.u=Pn["|"]=Pn["+"]=Pn.union=Pn.or=Pn.add,Pn["\\"]=Pn["!"]=Pn["-"]=Pn.difference=Pn.relativeComplement=Pn.subtract=Pn.not,Pn.n=Pn["&"]=Pn["."]=Pn.and=Pn.intersection=Pn.intersect,Pn["^"]=Pn["(+)"]=Pn["(-)"]=Pn.symmetricDifference=Pn.symdiff=Pn.xor,Pn.fnFilter=Pn.filterFn=Pn.stdFilter=Pn.filter,Pn.complement=Pn.abscomp=Pn.absoluteComplement;var o,ou=function(o,u){var f=o.cy().hasCompoundNodes();function p(w){var x=w.pstyle("z-compound-depth");return"auto"===x.value?f?w.zDepth():0:"bottom"===x.value?-1:"top"===x.value?tl:0}var g=p(o)-p(u);if(0!==g)return g;function y(w){return"auto"===w.pstyle("z-index-compare").value&&w.isNode()?1:0}var b=y(o)-y(u);if(0!==b)return b;var _=o.pstyle("z-index").value-u.pstyle("z-index").value;return 0!==_?_:o.poolIndex()-u.poolIndex()},au={forEach:function(o,u){if(ft(o))for(var d=this.length,f=0;f<d;f++){var p=this[f];if(!1===(u?o.apply(u,[p,f,this]):o(p,f,this)))break}return this},toArray:function(){for(var o=[],u=0;u<this.length;u++)o.push(this[u]);return o},slice:function(o,u){var d=[],f=this.length;null==u&&(u=f),null==o&&(o=0),o<0&&(o=f+o),u<0&&(u=f+u);for(var p=o;p>=0&&p<u&&p<f;p++)d.push(this[p]);return this.spawn(d)},size:function(){return this.length},eq:function(o){return this[o]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(o){if(!ft(o))return this;var u=this.toArray().sort(o);return this.spawn(u)},sortByZIndex:function(){return this.sort(ou)},zDepth:function(){var o=this[0];if(o){var u=o._private;if("nodes"===u.group){var f=u.data.parent?o.parents().size():0;return o.isParent()?f:tl-1}var g=u.target,y=u.source.zDepth(),b=g.zDepth();return Math.max(y,b,0)}}};au.each=au.forEach,o="undefined",(typeof Symbol>"u"?"undefined":st(Symbol))!=o&&st(Symbol.iterator)!=o&&(au[Symbol.iterator]=function(){var d=this,f={value:void 0,done:!1},p=0,g=this.length;return Qe({next:function(){return p<g?f.value=d[p++]:(f.value=void 0,f.done=!0),f}},Symbol.iterator,function(){return this})});var Jh=Ur({nodeDimensionsIncludeLabels:!1}),Yl={layoutDimensions:function(o){var u;if(o=Jh(o),this.takesUpSpace())if(o.nodeDimensionsIncludeLabels){var d=this.boundingBox();u={w:d.w,h:d.h}}else u={w:this.outerWidth(),h:this.outerHeight()};else u={w:0,h:0};return(0===u.w||0===u.h)&&(u.w=u.h=1),u},layoutPositions:function(o,u,d){var f=this.nodes().filter(function(K){return!K.isParent()}),p=this.cy(),g=u.eles,y=function(Z){return Z.id()},b=gr(d,y);o.emit({type:"layoutstart",layout:o}),o.animations=[];var w=u.spacingFactor&&1!==u.spacingFactor,E=function(){if(!w)return null;for(var Z=Wr(),H=0;H<f.length;H++){var U=b(f[H],H);aC(Z,U.x,U.y)}return Z}(),S=gr(function(K,Z){var H=b(K,Z);return w&&(H=function(Z,H,Y){var U_x=H.x1+H.w/2,U_y=H.y1+H.h/2;return{x:U_x+(Y.x-U_x)*Z,y:U_y+(Y.y-U_y)*Z}}(Math.abs(u.spacingFactor),E,H)),null!=u.transform&&(H=u.transform(K,H)),H},y);if(u.animate){for(var M=0;M<f.length;M++){var T=f[M],I=S(T,M);if(null==u.animateFilter||u.animateFilter(T,M)){var F=T.animation({position:I,duration:u.animationDuration,easing:u.animationEasing});o.animations.push(F)}else T.position(I)}if(u.fit){var L=p.animation({fit:{boundingBox:g.boundingBoxAt(S),padding:u.padding},duration:u.animationDuration,easing:u.animationEasing});o.animations.push(L)}else if(void 0!==u.zoom&&void 0!==u.pan){var z=p.animation({zoom:u.zoom,pan:u.pan,duration:u.animationDuration,easing:u.animationEasing});o.animations.push(z)}o.animations.forEach(function(K){return K.play()}),o.one("layoutready",u.ready),o.emit({type:"layoutready",layout:o}),Jc.all(o.animations.map(function(K){return K.promise()})).then(function(){o.one("layoutstop",u.stop),o.emit({type:"layoutstop",layout:o})})}else f.positions(S),u.fit&&p.fit(u.eles,u.padding),null!=u.zoom&&p.zoom(u.zoom),u.pan&&p.pan(u.pan),o.one("layoutready",u.ready),o.emit({type:"layoutready",layout:o}),o.one("layoutstop",u.stop),o.emit({type:"layoutstop",layout:o});return this},layout:function(o){return this.cy().makeLayout(qt({},o,{eles:this}))}};function hy(c,o,u){var p,d=u._private,f=d.styleCache=d.styleCache||[];return null!=(p=f[c])||(p=f[c]=o(u)),p}function hd(c,o){return c=el(c),function(d){return hy(c,o,d)}}function fd(c,o){c=el(c);var u=function(f){return o.call(f)};return function(){var f=this[0];if(f)return hy(c,u,f)}}Yl.createLayout=Yl.makeLayout=Yl.layout;var Fr={recalculateRenderedStyle:function(o){var u=this.cy(),d=u.renderer(),f=u.styleEnabled();return d&&f&&d.recalculateRenderedStyle(this,o),this},dirtyStyleCache:function(){var d,o=this.cy(),u=function(p){return p._private.styleCache=null};return o.hasCompoundNodes()?((d=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(d.connectedEdges()),d.forEach(u)):this.forEach(function(f){u(f),f.connectedEdges().forEach(u)}),this},updateStyle:function(o){var u=this._private.cy;if(!u.styleEnabled())return this;if(u.batching())return u._private.batchStyleEles.merge(this),this;var p=this;o=!(!o&&void 0!==o),u.hasCompoundNodes()&&(p=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var g=p;return o?g.emitAndNotify("style"):g.emit("style"),p.forEach(function(y){return y._private.styleDirty=!0}),this},cleanStyle:function(){var o=this.cy();if(o.styleEnabled())for(var u=0;u<this.length;u++){var d=this[u];d._private.styleDirty&&(d._private.styleDirty=!1,o.style().apply(d))}},parsedStyle:function(o){var u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=this[0],f=d.cy();if(f.styleEnabled()&&d){this.cleanStyle();var p=d._private.style[o];return p??(u?f.style().getDefaultProperty(o):null)}},numericStyle:function(o){var u=this[0];if(u.cy().styleEnabled()&&u){var d=u.pstyle(o);return void 0!==d.pfValue?d.pfValue:d.value}},numericStyleUnits:function(o){var u=this[0];if(u.cy().styleEnabled()&&u)return u.pstyle(o).units},renderedStyle:function(o){var u=this.cy();if(!u.styleEnabled())return this;var d=this[0];return d?u.style().getRenderedStyle(d,o):void 0},style:function(o,u){var d=this.cy();if(!d.styleEnabled())return this;var p=d.style();if(nt(o))p.applyBypass(this,o,!1),this.emitAndNotify("style");else if(Ae(o)){if(void 0===u){var y=this[0];return y?p.getStylePropertyValue(y,o):void 0}p.applyBypass(this,o,u,!1),this.emitAndNotify("style")}else if(void 0===o){var b=this[0];return b?p.getRawStyle(b):void 0}return this},removeStyle:function(o){var u=this.cy();if(!u.styleEnabled())return this;var f=u.style(),p=this;if(void 0===o)for(var g=0;g<p.length;g++)f.removeAllBypasses(p[g],!1);else{o=o.split(/\s+/);for(var b=0;b<p.length;b++)f.removeBypasses(p[b],o,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var o=this.cy();if(!o.styleEnabled())return 1;var u=o.hasCompoundNodes(),d=this[0];if(d){var f=d._private,p=d.pstyle("opacity").value;if(!u)return p;var g=f.data.parent?d.parents():null;if(g)for(var y=0;y<g.length;y++)p*=g[y].pstyle("opacity").value;return p}},transparent:function(){if(!this.cy().styleEnabled())return!1;var u=this[0],d=u.cy().hasCompoundNodes();return u?d?0===u.effectiveOpacity():0===u.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function ef(c,o){var d=c._private.data.parent?c.parents():null;if(d)for(var f=0;f<d.length;f++)if(!o(d[f]))return!1;return!0}function rg(c){var o=c.ok,u=c.edgeOkViaNode||c.ok,d=c.parentOk||c.ok;return function(){var f=this.cy();if(!f.styleEnabled())return!0;var p=this[0],g=f.hasCompoundNodes();if(p){var y=p._private;if(!o(p))return!1;if(p.isNode())return!g||ef(p,d);var b=y.source,_=y.target;return u(b)&&(!g||ef(b,u))&&(b===_||u(_)&&(!g||ef(_,u)))}}}var Ea=hd("eleTakesUpSpace",function(c){return"element"===c.pstyle("display").value&&0!==c.width()&&(!c.isNode()||0!==c.height())});Fr.takesUpSpace=fd("takesUpSpace",rg({ok:Ea}));var pd=hd("eleInteractive",function(c){return"yes"===c.pstyle("events").value&&"visible"===c.pstyle("visibility").value&&Ea(c)}),NC=hd("parentInteractive",function(c){return"visible"===c.pstyle("visibility").value&&Ea(c)});Fr.interactive=fd("interactive",rg({ok:pd,parentOk:NC,edgeOkViaNode:Ea})),Fr.noninteractive=function(){var c=this[0];if(c)return!c.interactive()};var fy=hd("eleVisible",function(c){return"visible"===c.pstyle("visibility").value&&0!==c.pstyle("opacity").pfValue&&Ea(c)});Fr.visible=fd("visible",rg({ok:fy,edgeOkViaNode:Ea})),Fr.hidden=function(){var c=this[0];if(c)return!c.visible()},Fr.isBundledBezier=fd("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Fr.bypass=Fr.css=Fr.style,Fr.renderedCss=Fr.renderedStyle,Fr.removeBypass=Fr.removeCss=Fr.removeStyle,Fr.pstyle=Fr.parsedStyle;var Gs={};function gy(c){return function(){var o=arguments,u=[];if(2===o.length){var d=o[0],f=o[1];this.on(c.event,d,f)}else if(1===o.length&&ft(o[0])){var p=o[0];this.on(c.event,p)}else if(0===o.length||1===o.length&&Mt(o[0])){for(var g=1===o.length?o[0]:null,y=0;y<this.length;y++){var b=this[y],_=!c.ableField||b._private[c.ableField],w=b._private[c.field]!=c.value;if(c.overrideAble){var x=c.overrideAble(b);if(void 0!==x&&(_=x,!x))return this}_&&(b._private[c.field]=c.value,w&&u.push(b))}var E=this.spawn(u);E.updateStyle(),E.emit(c.event),g&&E.emit(g)}return this}}function bt(c){Gs[c.field]=function(){var o=this[0];if(o){if(c.overrideField){var u=c.overrideField(o);if(void 0!==u)return u}return o._private[c.field]}},Gs[c.on]=gy({event:c.on,field:c.field,ableField:c.ableField,overrideAble:c.overrideAble,value:!0}),Gs[c.off]=gy({event:c.off,field:c.field,ableField:c.ableField,overrideAble:c.overrideAble,value:!1})}bt({field:"locked",overrideField:function(o){return!!o.cy().autolock()||void 0},on:"lock",off:"unlock"}),bt({field:"grabbable",overrideField:function(o){return!o.cy().autoungrabify()&&!o.pannable()&&void 0},on:"grabify",off:"ungrabify"}),bt({field:"selected",ableField:"selectable",overrideAble:function(o){return!o.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),bt({field:"selectable",overrideField:function(o){return!o.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Gs.deselect=Gs.unselect,Gs.grabbed=function(){var c=this[0];if(c)return c._private.grabbed},bt({field:"active",on:"activate",off:"unactivate"}),bt({field:"pannable",on:"panify",off:"unpanify"}),Gs.inactive=function(){var c=this[0];if(c)return!c._private.active};var Lr={},my=function(o){return function(d){for(var p=[],g=0;g<this.length;g++){var y=this[g];if(y.isNode()){for(var b=!1,_=y.connectedEdges(),w=0;w<_.length;w++){var x=_[w],E=x.source(),S=x.target();if(o.noIncomingEdges&&S===y&&E!==y||o.noOutgoingEdges&&E===y&&S!==y){b=!0;break}}b||p.push(y)}}return this.spawn(p,!0).filter(d)}},sg=function(o){return function(u){for(var f=[],p=0;p<this.length;p++){var g=this[p];if(g.isNode())for(var y=g.connectedEdges(),b=0;b<y.length;b++){var _=y[b],w=_.source(),x=_.target();o.outgoing&&w===g?(f.push(_),f.push(x)):o.incoming&&x===g&&(f.push(_),f.push(w))}}return this.spawn(f,!0).filter(u)}},Ds=function(o){return function(u){for(var d=this,f=[],p={};;){var g=o.outgoing?d.outgoers():d.incomers();if(0===g.length)break;for(var y=!1,b=0;b<g.length;b++){var _=g[b],w=_.id();p[w]||(p[w]=!0,f.push(_),y=!0)}if(!y)break;d=g}return this.spawn(f,!0).filter(u)}};function Zl(c){return function(u){for(var d=[],f=0;f<this.length;f++){var g=this[f]._private[c.attr];g&&d.push(g)}return this.spawn(d,!0).filter(u)}}function Xl(c){return function(u){var d=[],f=this._private.cy,p=c||{};Ae(u)&&(u=f.$(u));for(var g=0;g<u.length;g++)for(var y=u[g]._private.edges,b=0;b<y.length;b++){var _=y[b],w=_._private.data,x=this.hasElementWithId(w.source)&&u.hasElementWithId(w.target),E=u.hasElementWithId(w.source)&&this.hasElementWithId(w.target);!x&&!E||(p.thisIsSrc||p.thisIsTgt)&&(p.thisIsSrc&&!x||p.thisIsTgt&&!E)||d.push(_)}return this.spawn(d,!0)}}function Ql(c){return c=qt({},{codirected:!1},c),function(d){for(var f=[],p=this.edges(),g=c,y=0;y<p.length;y++)for(var _=p[y]._private,w=_.source,x=w._private.data.id,E=_.data.target,S=w._private.edges,M=0;M<S.length;M++){var T=S[M],I=T._private.data,R=I.target,F=I.source,L=R===E&&F===x;(g.codirected&&L||!g.codirected&&(L||x===R&&E===F))&&f.push(T)}return this.spawn(f,!0).filter(d)}}Lr.clearTraversalCache=function(){for(var c=0;c<this.length;c++)this[c]._private.traversalCache=null},qt(Lr,{roots:my({noIncomingEdges:!0}),leaves:my({noOutgoingEdges:!0}),outgoers:ao(sg({outgoing:!0}),"outgoers"),successors:Ds({outgoing:!0}),incomers:ao(sg({incoming:!0}),"incomers"),predecessors:Ds({incoming:!0})}),qt(Lr,{neighborhood:ao(function(c){for(var o=[],u=this.nodes(),d=0;d<u.length;d++)for(var f=u[d],p=f.connectedEdges(),g=0;g<p.length;g++){var y=p[g],b=y.source(),_=y.target(),w=f===b?_:b;w.length>0&&o.push(w[0]),o.push(y[0])}return this.spawn(o,!0).filter(c)},"neighborhood"),closedNeighborhood:function(o){return this.neighborhood().add(this).filter(o)},openNeighborhood:function(o){return this.neighborhood(o)}}),Lr.neighbourhood=Lr.neighborhood,Lr.closedNeighbourhood=Lr.closedNeighborhood,Lr.openNeighbourhood=Lr.openNeighborhood,qt(Lr,{source:ao(function(o){var d,u=this[0];return u&&(d=u._private.source||u.cy().collection()),d&&o?d.filter(o):d},"source"),target:ao(function(o){var d,u=this[0];return u&&(d=u._private.target||u.cy().collection()),d&&o?d.filter(o):d},"target"),sources:Zl({attr:"source"}),targets:Zl({attr:"target"})}),qt(Lr,{edgesWith:ao(Xl(),"edgesWith"),edgesTo:ao(Xl({thisIsSrc:!0}),"edgesTo")}),qt(Lr,{connectedEdges:ao(function(c){for(var o=[],d=0;d<this.length;d++){var f=this[d];if(f.isNode())for(var p=f._private.edges,g=0;g<p.length;g++)o.push(p[g])}return this.spawn(o,!0).filter(c)},"connectedEdges"),connectedNodes:ao(function(c){for(var o=[],d=0;d<this.length;d++){var f=this[d];!f.isEdge()||(o.push(f.source()[0]),o.push(f.target()[0]))}return this.spawn(o,!0).filter(c)},"connectedNodes"),parallelEdges:ao(Ql(),"parallelEdges"),codirectedEdges:ao(Ql({codirected:!0}),"codirectedEdges")}),qt(Lr,{components:function(o){var u=this,d=u.cy(),f=d.collection(),p=null==o?u.nodes():o.nodes(),g=[];null!=o&&p.empty()&&(p=o.sources());var y=function(w,x){f.merge(w),p.unmerge(w),x.merge(w)};if(p.empty())return u.spawn();var b=function(){var w=d.collection();g.push(w);var x=p[0];y(x,w),u.bfs({directed:!1,roots:x,visit:function(S){return y(S,w)}}),w.forEach(function(E){E.connectedEdges().forEach(function(S){u.has(S)&&w.has(S.source())&&w.has(S.target())&&w.merge(S)})})};do{b()}while(p.length>0);return g},component:function(){var o=this[0];return o.cy().mutableElements().components(o)[0]}}),Lr.componentsOf=Lr.components;var Nr=function(o,u){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==o){var p=new ro,g=!1;if(u){if(u.length>0&&nt(u[0])&&!ki(u[0])){g=!0;for(var y=[],b=new ai,_=0,w=u.length;_<w;_++){var x=u[_];null==x.data&&(x.data={});var E=x.data;if(null==E.id)E.id=$v();else if(o.hasElementWithId(E.id)||b.has(E.id))continue;var S=new zc(o,x,!1);y.push(S),b.add(E.id)}u=y}}else u=[];this.length=0;for(var M=0,T=u.length;M<T;M++){var I=u[M][0];if(null!=I){var R=I._private.data.id;(!d||!p.has(R))&&(d&&p.set(R,{index:this.length,ele:I}),this[this.length]=I,this.length++)}}this._private={eles:this,cy:o,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(F){this.lazyMap=F},rebuildMap:function(){for(var L=this.lazyMap=new ro,z=this.eles,K=0;K<z.length;K++){var Z=z[K];L.set(Z.id(),{index:K,ele:Z})}}},d&&(this._private.map=p),g&&!f&&this.restore()}else Fi("A collection must have a reference to the core")},Di=zc.prototype=Nr.prototype=Object.create(Array.prototype);Di.instanceString=function(){return"collection"},Di.spawn=function(c,o){return new Nr(this.cy(),c,o)},Di.spawnSelf=function(){return this.spawn(this)},Di.cy=function(){return this._private.cy},Di.renderer=function(){return this._private.cy.renderer()},Di.element=function(){return this[0]},Di.collection=function(){return Pi(this)?this:new Nr(this._private.cy,[this])},Di.unique=function(){return new Nr(this._private.cy,this,!0)},Di.hasElementWithId=function(c){return this._private.map.has(c=""+c)},Di.getElementById=function(c){var o=this._private.cy,u=this._private.map.get(c=""+c);return u?u.ele:new Nr(o)},Di.$id=Di.getElementById,Di.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Di.indexOf=function(c){return this._private.map.get(c[0]._private.data.id).index},Di.indexOfId=function(c){return this._private.map.get(c=""+c).index},Di.json=function(c){var o=this.element(),u=this.cy();if(null==o&&c)return this;if(null!=o){var d=o._private;if(nt(c)){if(u.startBatch(),c.data){o.data(c.data);var f=d.data;if(o.isEdge()){var p=!1,g={},y=c.data.source,b=c.data.target;null!=y&&y!=f.source&&(g.source=""+y,p=!0),null!=b&&b!=f.target&&(g.target=""+b,p=!0),p&&(o=o.move(g))}else{var w=c.data.parent;"parent"in c.data&&(null!=w||null!=f.parent)&&w!=f.parent&&(void 0===w&&(w=null),null!=w&&(w=""+w),o=o.move({parent:w}))}}c.position&&o.position(c.position);var x=function(T,I,R){var F=c[T];null!=F&&F!==d[T]&&(F?o[I]():o[R]())};return x("removed","remove","restore"),x("selected","select","unselect"),x("selectable","selectify","unselectify"),x("locked","lock","unlock"),x("grabbable","grabify","ungrabify"),x("pannable","panify","unpanify"),null!=c.classes&&o.classes(c.classes),u.endBatch(),this}if(void 0===c){var E={data:vo(d.data),position:vo(d.position),group:d.group,removed:d.removed,selected:d.selected,selectable:d.selectable,locked:d.locked,grabbable:d.grabbable,pannable:d.pannable,classes:""},S=0;return d.classes.forEach(function(M){return E.classes+=0==S++?M:" "+M}),E}}},Di.jsons=function(){for(var c=[],o=0;o<this.length;o++){var d=this[o].json();c.push(d)}return c},Di.clone=function(){for(var c=this.cy(),o=[],u=0;u<this.length;u++){var f=this[u].json(),p=new zc(c,f,!1);o.push(p)}return new Nr(c,o)},Di.copy=Di.clone,Di.restore=function(){for(var y,c=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=this,d=u.cy(),f=d._private,p=[],g=[],b=0,_=u.length;b<_;b++){var w=u[b];o&&!w.removed()||(w.isNode()?p.push(w):g.push(w))}y=p.concat(g);var x,E=function(){y.splice(x,1),x--};for(x=0;x<y.length;x++){var S=y[x],M=S._private,T=M.data;if(S.clearTraversalCache(),o||M.removed)if(void 0===T.id)T.id=$v();else if(Pe(T.id))T.id=""+T.id;else{if(vt(T.id)||!Ae(T.id)){Fi("Can not create element with invalid string ID `"+T.id+"`"),E();continue}if(d.hasElementWithId(T.id)){Fi("Can not create second element with ID `"+T.id+"`"),E();continue}}var I=T.id;if(S.isNode()){var R=M.position;null==R.x&&(R.x=0),null==R.y&&(R.y=0)}if(S.isEdge()){for(var F=S,L=["source","target"],z=L.length,K=!1,Z=0;Z<z;Z++){var H=L[Z],Y=T[H];Pe(Y)&&(Y=T[H]=""+T[H]),null==Y||""===Y?(Fi("Can not create edge `"+I+"` with unspecified "+H),K=!0):d.hasElementWithId(Y)||(Fi("Can not create edge `"+I+"` with nonexistant "+H+" `"+Y+"`"),K=!0)}if(K){E();continue}var U=d.getElementById(T.source),X=d.getElementById(T.target);U.same(X)?U._private.edges.push(F):(U._private.edges.push(F),X._private.edges.push(F)),F._private.source=U,F._private.target=X}M.map=new ro,M.map.set(I,{ele:S,index:0}),M.removed=!1,o&&d.addToPool(S)}for(var J=0;J<p.length;J++){var W=p[J],oe=W._private.data;Pe(oe.parent)&&(oe.parent=""+oe.parent);var Q=oe.parent,ge=null!=Q;if(ge||W._private.parent){var ae=W._private.parent?d.collection().merge(W._private.parent):d.getElementById(Q);if(ae.empty())oe.parent=void 0;else if(ae[0].removed())ti("Node added with missing parent, reference to parent removed"),oe.parent=void 0,W._private.parent=null;else{for(var ce=!1,be=ae;!be.empty();){if(W.same(be)){ce=!0,oe.parent=void 0;break}be=be.parent()}ce||(ae[0]._private.children.push(W),W._private.parent=ae[0],f.hasCompoundNodes=!0)}}}if(y.length>0){for(var Se=y.length===u.length?u:new Nr(d,y),Re=0;Re<Se.length;Re++){var De=Se[Re];De.isNode()||(De.parallelEdges().clearTraversalCache(),De.source().clearTraversalCache(),De.target().clearTraversalCache())}(f.hasCompoundNodes?d.collection().merge(Se).merge(Se.connectedNodes()).merge(Se.parent()):Se).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(c),c?Se.emitAndNotify("add"):o&&Se.emit("add")}return u},Di.removed=function(){var c=this[0];return c&&c._private.removed},Di.inside=function(){var c=this[0];return c&&!c._private.removed},Di.remove=function(){var c=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=this,d=[],f={},p=u._private.cy;function g(Q){for(var ge=Q._private.edges,ae=0;ae<ge.length;ae++)b(ge[ae])}function y(Q){for(var ge=Q._private.children,ae=0;ae<ge.length;ae++)b(ge[ae])}function b(Q){var ge=f[Q.id()];o&&Q.removed()||ge||(f[Q.id()]=!0,Q.isNode()?(d.push(Q),g(Q),y(Q)):d.unshift(Q))}for(var _=0,w=u.length;_<w;_++){var x=u[_];b(x)}function E(Q,ge){wa(Q._private.edges,ge),Q.clearTraversalCache()}function S(Q){Q.clearTraversalCache()}var M=[];function T(Q,ge){ge=ge[0];var ae=(Q=Q[0])._private.children,ce=Q.id();wa(ae,ge),ge._private.parent=null,M.ids[ce]||(M.ids[ce]=!0,M.push(Q))}M.ids={},u.dirtyCompoundBoundsCache(),o&&p.removeFromPool(d);for(var I=0;I<d.length;I++){var R=d[I];if(R.isEdge()){var F=R.source()[0],L=R.target()[0];E(F,R),E(L,R);for(var z=R.parallelEdges(),K=0;K<z.length;K++){var Z=z[K];S(Z),Z.isBundledBezier()&&Z.dirtyBoundingBoxCache()}}else{var H=R.parent();0!==H.length&&T(H,R)}o&&(R._private.removed=!0)}var Y=p._private.elements;p._private.hasCompoundNodes=!1;for(var U=0;U<Y.length;U++){var X=Y[U];if(X.isParent()){p._private.hasCompoundNodes=!0;break}}var J=new Nr(this.cy(),d);J.size()>0&&(c?J.emitAndNotify("remove"):o&&J.emit("remove"));for(var W=0;W<M.length;W++){var oe=M[W];(!o||!oe.removed())&&oe.updateStyle()}return J},Di.move=function(c){var o=this._private.cy,u=this,d=!1,f=!1,p=function(M){return null==M?M:""+M};if(void 0!==c.source||void 0!==c.target){var g=p(c.source),y=p(c.target),b=null!=g&&o.hasElementWithId(g),_=null!=y&&o.hasElementWithId(y);(b||_)&&(o.batch(function(){u.remove(d,f),u.emitAndNotify("moveout");for(var S=0;S<u.length;S++){var M=u[S],T=M._private.data;M.isEdge()&&(b&&(T.source=g),_&&(T.target=y))}u.restore(d,f)}),u.emitAndNotify("move"))}else if(void 0!==c.parent){var w=p(c.parent);if(null===w||o.hasElementWithId(w)){var E=null===w?void 0:w;o.batch(function(){var S=u.remove(d,f);S.emitAndNotify("moveout");for(var M=0;M<u.length;M++){var T=u[M],I=T._private.data;T.isNode()&&(I.parent=E)}S.restore(d,f)}),u.emitAndNotify("move")}}return this},[Xv,bC,eu,Gl,rd,SC,sd,PC,ng,dy,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var o=this[0];if(o)return o._private.group}},au,Yl,Fr,Gs,Lr].forEach(function(c){qt(Di,c)});var lu={add:function(o){var u,d=this;if(je(o)){var f=o;if(f._private.cy===d)u=f.restore();else{for(var p=[],g=0;g<f.length;g++)p.push(f[g].json());u=new Nr(d,p)}}else if(Mt(o))u=new Nr(d,o);else if(nt(o)&&(Mt(o.nodes)||Mt(o.edges))){for(var _=o,w=[],x=["nodes","edges"],E=0,S=x.length;E<S;E++){var M=x[E],T=_[M];if(Mt(T))for(var I=0,R=T.length;I<R;I++){var F=qt({group:M},T[I]);w.push(F)}}u=new Nr(d,w)}else u=new zc(d,o).collection();return u},remove:function(o){return je(o)||Ae(o)&&(o=this.$(o)),o.remove()}},BC=function(){function c(d){return-d.tension*d.x-d.friction*d.v}function o(d,f,p){var g={x:d.x+p.dx*f,v:d.v+p.dv*f,tension:d.tension,friction:d.friction};return{dx:g.v,dv:c(g)}}function u(d,f){var p={dx:d.v,dv:c(d)},g=o(d,.5*f,p),y=o(d,.5*f,g),b=o(d,f,y),w=1/6*(p.dv+2*(g.dv+y.dv)+b.dv);return d.x=d.x+1/6*(p.dx+2*(g.dx+y.dx)+b.dx)*f,d.v=d.v+w*f,d}return function d(f,p,g){var E,S,M,y={x:-1,v:0,tension:null,friction:null},b=[0],_=0,w=1e-4;for(f=parseFloat(f)||500,p=parseFloat(p)||20,g=g||null,y.tension=f,y.friction=p,S=(E=null!==g)?(_=d(f,p))/g*.016:.016;M=u(M||y,S),b.push(1+M.x),_+=16,Math.abs(M.x)>w&&Math.abs(M.v)>w;);return E?function(T){return b[T*(b.length-1)|0]}:_}}(),Te=function(o,u,d,f){var p=function CT(c,o,u,d){var f=4,p=.001,g=1e-7,y=10,b=11,_=1/(b-1),w=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var x=0;x<4;++x)if("number"!=typeof arguments[x]||isNaN(arguments[x])||!isFinite(arguments[x]))return!1;c=Math.min(c,1),u=Math.min(u,1),c=Math.max(c,0),u=Math.max(u,0);var E=w?new Float32Array(b):new Array(b);function S(X,J){return 1-3*J+3*X}function M(X,J){return 3*J-6*X}function T(X){return 3*X}function I(X,J,W){return((S(J,W)*X+M(J,W))*X+T(J))*X}function R(X,J,W){return 3*S(J,W)*X*X+2*M(J,W)*X+T(J)}function F(X,J){for(var W=0;W<f;++W){var oe=R(J,c,u);if(0===oe)return J;J-=(I(J,c,u)-X)/oe}return J}function L(){for(var X=0;X<b;++X)E[X]=I(X*_,c,u)}function z(X,J,W){var oe,Q,ge=0;do{(oe=I(Q=J+(W-J)/2,c,u)-X)>0?W=Q:J=Q}while(Math.abs(oe)>g&&++ge<y);return Q}function K(X){for(var J=0,W=1,oe=b-1;W!==oe&&E[W]<=X;++W)J+=_;--W;var ge=J+(X-E[W])/(E[W+1]-E[W])*_,ae=R(ge,c,u);return ae>=p?F(X,ge):0===ae?ge:z(X,J,J+_)}var Z=!1;function H(){Z=!0,(c!==o||u!==d)&&L()}var Y=function(J){return Z||H(),c===o&&u===d?J:0===J?0:1===J?1:I(K(J),o,d)};Y.getControlPoints=function(){return[{x:c,y:o},{x:u,y:d}]};var U="generateBezier("+[c,o,u,d]+")";return Y.toString=function(){return U},Y}(o,u,d,f);return function(g,y,b){return g+(y-g)*p(b)}},og={linear:function(o,u,d){return o+(u-o)*d},ease:Te(.25,.1,.25,1),"ease-in":Te(.42,0,1,1),"ease-out":Te(0,0,.58,1),"ease-in-out":Te(.42,0,.58,1),"ease-in-sine":Te(.47,0,.745,.715),"ease-out-sine":Te(.39,.575,.565,1),"ease-in-out-sine":Te(.445,.05,.55,.95),"ease-in-quad":Te(.55,.085,.68,.53),"ease-out-quad":Te(.25,.46,.45,.94),"ease-in-out-quad":Te(.455,.03,.515,.955),"ease-in-cubic":Te(.55,.055,.675,.19),"ease-out-cubic":Te(.215,.61,.355,1),"ease-in-out-cubic":Te(.645,.045,.355,1),"ease-in-quart":Te(.895,.03,.685,.22),"ease-out-quart":Te(.165,.84,.44,1),"ease-in-out-quart":Te(.77,0,.175,1),"ease-in-quint":Te(.755,.05,.855,.06),"ease-out-quint":Te(.23,1,.32,1),"ease-in-out-quint":Te(.86,0,.07,1),"ease-in-expo":Te(.95,.05,.795,.035),"ease-out-expo":Te(.19,1,.22,1),"ease-in-out-expo":Te(1,0,0,1),"ease-in-circ":Te(.6,.04,.98,.335),"ease-out-circ":Te(.075,.82,.165,1),"ease-in-out-circ":Te(.785,.135,.15,.86),spring:function(o,u,d){if(0===d)return og.linear;var f=BC(o,u,d);return function(p,g,y){return p+(g-p)*f(y)}},"cubic-bezier":Te};function VC(c,o,u,d,f){if(1===d||o===u)return u;var p=f(o,u,d);return null==c||((c.roundValue||c.color)&&(p=Math.round(p)),void 0!==c.min&&(p=Math.max(p,c.min)),void 0!==c.max&&(p=Math.min(p,c.max))),p}function HC(c,o){return null!=c.pfValue||null!=c.value?null==c.pfValue||null!=o&&"%"===o.type.units?c.value:c.pfValue:c}function gd(c,o,u,d,f){var p=null!=f?f.type:null;u<0?u=0:u>1&&(u=1);var g=HC(c,f),y=HC(o,f);if(Pe(g)&&Pe(y))return VC(p,g,y,u,d);if(Mt(g)&&Mt(y)){for(var b=[],_=0;_<y.length;_++){var w=g[_],x=y[_];if(null!=w&&null!=x){var E=VC(p,w,x,u,d);b.push(E)}else b.push(x)}return b}}function xT(c,o,u,d){var f=!d,p=c._private,g=o._private,y=g.easing,b=g.startTime,w=(d?c:c.cy()).style();if(!g.easingImpl)if(null==y)g.easingImpl=og.linear;else{var x,S,M;x=Ae(y)?w.parse("transition-timing-function",y).value:y,Ae(x)?(S=x,M=[]):(S=x[1],M=x.slice(2).map(function(Se){return+Se})),M.length>0?("spring"===S&&M.push(g.duration),g.easingImpl=og[S].apply(null,M)):g.easingImpl=og[S]}var I,T=g.easingImpl;if(I=0===g.duration?1:(u-b)/g.duration,g.applying&&(I=g.progress),I<0?I=0:I>1&&(I=1),null==g.delay){var R=g.startPosition,F=g.position;if(F&&f&&!c.locked()){var L={};tf(R.x,F.x)&&(L.x=gd(R.x,F.x,I,T)),tf(R.y,F.y)&&(L.y=gd(R.y,F.y,I,T)),c.position(L)}var z=g.startPan,K=g.pan,Z=p.pan,H=null!=K&&d;H&&(tf(z.x,K.x)&&(Z.x=gd(z.x,K.x,I,T)),tf(z.y,K.y)&&(Z.y=gd(z.y,K.y,I,T)),c.emit("pan"));var Y=g.startZoom,U=g.zoom,X=null!=U&&d;X&&(tf(Y,U)&&(p.zoom=Qt(p.minZoom,gd(Y,U,I,T),p.maxZoom)),c.emit("zoom")),(H||X)&&c.emit("viewport");var J=g.style;if(J&&J.length>0&&f){for(var W=0;W<J.length;W++){var oe=J[W],Q=oe.name,ae=g.startStyle[Q],be=gd(ae,oe,I,T,w.properties[ae.name]);w.overrideBypass(c,Q,be)}c.emit("style")}}return g.progress=I,I}function tf(c,o){return!!(null!=c&&null!=o&&(Pe(c)&&Pe(o)||c&&o))}function DT(c,o,u,d){var f=o._private;f.started=!0,f.startTime=u-f.progress*f.duration}function cu(c,o){var u=o._private.aniEles,d=[];function f(w,x){var E=w._private,S=E.animation.current,M=E.animation.queue,T=!1;if(0===S.length){var I=M.shift();I&&S.push(I)}for(var R=function(Z){for(var H=Z.length-1;H>=0;H--)(0,Z[H])();Z.splice(0,Z.length)},F=S.length-1;F>=0;F--){var L=S[F],z=L._private;z.stopped?(S.splice(F,1),z.hooked=!1,z.playing=!1,z.started=!1,R(z.frames)):!z.playing&&!z.applying||(z.playing&&z.applying&&(z.applying=!1),z.started||DT(0,L,c),xT(w,L,c,x),z.applying&&(z.applying=!1),R(z.frames),null!=z.step&&z.step(c),L.completed()&&(S.splice(F,1),z.hooked=!1,z.playing=!1,z.started=!1,R(z.completes)),T=!0)}return!x&&0===S.length&&0===M.length&&d.push(w),T}for(var p=!1,g=0;g<u.length;g++){var b=f(u[g]);p=p||b}var _=f(o,!0);(p||_)&&(u.length>0?o.notify("draw",u):o.notify("draw")),u.unmerge(d),o.emit("step")}var ET={animate:On.animate(),animation:On.animation(),animated:On.animated(),clearQueue:On.clearQueue(),delay:On.delay(),delayAnimation:On.delayAnimation(),stop:On.stop(),addToAnimationPool:function(o){!this.styleEnabled()||this._private.aniEles.merge(o)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var o=this;if(o._private.animationsRunning=!0,o.styleEnabled()){var d=o.renderer();d&&d.beforeRender?d.beforeRender(function(p,g){cu(g,o)},d.beforeRenderPriorities.animations):function u(){!o._private.animationsRunning||Qa(function(p){cu(p,o),u()})}()}}},ST={qualifierCompare:function(o,u){return null==o||null==u?null==o&&null==u:o.sameText(u)},eventMatches:function(o,u,d){var f=u.qualifier;return null==f||o!==d.target&&ki(d.target)&&f.matches(d.target)},addEventFields:function(o,u){u.cy=o,u.target=o},callbackContext:function(o,u,d){return null!=u.qualifier?d.target:o}},Xi=function(o){return Ae(o)?new Uo(o):o},nf={createEmitter:function(){var o=this._private;return o.emitter||(o.emitter=new Da(ST,this)),this},emitter:function(){return this._private.emitter},on:function(o,u,d){return this.emitter().on(o,Xi(u),d),this},removeListener:function(o,u,d){return this.emitter().removeListener(o,Xi(u),d),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(o,u,d){return this.emitter().one(o,Xi(u),d),this},once:function(o,u,d){return this.emitter().one(o,Xi(u),d),this},emit:function(o,u){return this.emitter().emit(o,u),this},emitAndNotify:function(o,u){return this.emit(o),this.notify(o,u),this}};On.eventAliasesOn(nf);var Jl={png:function(o){return this._private.renderer.png(o=o||{})},jpg:function(o){var u=this._private.renderer;return(o=o||{}).bg=o.bg||"#fff",u.jpg(o)}};Jl.jpeg=Jl.jpg;var ag={layout:function(o){var u=this;if(null!=o)if(null!=o.name){var p,d=o.name,f=u.extension("layout",d);if(null!=f)return p=Ae(o.eles)?u.$(o.eles):null!=o.eles?o.eles:u.$(),new f(qt({},o,{cy:u,eles:p}));Fi("No such layout `"+d+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Fi("A `name` must be specified to make a layout");else Fi("Layout options must be specified to make a layout")}};ag.createLayout=ag.makeLayout=ag.layout;var zC={notify:function(o,u){var d=this._private;if(this.batching()){d.batchNotifications=d.batchNotifications||{};var f=d.batchNotifications[o]=d.batchNotifications[o]||this.collection();null!=u&&f.merge(u)}else if(d.notificationsEnabled){var p=this.renderer();this.destroyed()||!p||p.notify(o,u)}},notifications:function(o){var u=this._private;return void 0===o?u.notificationsEnabled:(u.notificationsEnabled=!!o,this)},noNotifications:function(o){this.notifications(!1),o(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var o=this._private;return null==o.batchCount&&(o.batchCount=0),0===o.batchCount&&(o.batchStyleEles=this.collection(),o.batchNotifications={}),o.batchCount++,this},endBatch:function(){var o=this._private;if(0===o.batchCount)return this;if(o.batchCount--,0===o.batchCount){o.batchStyleEles.updateStyle();var u=this.renderer();Object.keys(o.batchNotifications).forEach(function(d){var f=o.batchNotifications[d];f.empty()?u.notify(d):u.notify(d,f)})}return this},batch:function(o){return this.startBatch(),o(),this.endBatch(),this},batchData:function(o){var u=this;return this.batch(function(){for(var d=Object.keys(o),f=0;f<d.length;f++){var p=d[f],g=o[p];u.getElementById(p).data(g)}})}},Ws=Ur({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),xo={renderTo:function(o,u,d,f){return this._private.renderer.renderTo(o,u,d,f),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(o){var u=this,d=u.extension("renderer",o.name);if(null!=d){void 0!==o.wheelSensitivity&&ti("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var f=Ws(o);f.cy=u,u._private.renderer=new d(f),this.notify("init")}else Fi("Can not initialise: No such renderer `".concat(o.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var o=this;o.notify("destroy");var u=o.container();if(u)for(u._cyreg=null;u.childNodes.length>0;)u.removeChild(u.childNodes[0]);o._private.renderer=null,o.mutableElements().forEach(function(d){var f=d._private;f.rscratch={},f.rstyle={},f.animation.current=[],f.animation.queue=[]})},onRender:function(o){return this.on("render",o)},offRender:function(o){return this.off("render",o)}};xo.invalidateDimensions=xo.resize;var md={collection:function(o,u){return Ae(o)?this.$(o):je(o)?o.collection():Mt(o)?(u||(u={}),new Nr(this,o,u.unique,u.removed)):new Nr(this)},nodes:function(o){var u=this.$(function(d){return d.isNode()});return o?u.filter(o):u},edges:function(o){var u=this.$(function(d){return d.isEdge()});return o?u.filter(o):u},$:function(o){var u=this._private.elements;return o?u.filter(o):u.spawnSelf()},mutableElements:function(){return this._private.elements}};md.elements=md.filter=md.$;var Sr={apply:function(c){for(var o=this,f=o._private.cy.collection(),p=0;p<c.length;p++){var g=c[p],y=o.getContextMeta(g);if(!y.empty){var b=o.getContextStyle(y),_=o.applyContextStyle(y,b,g);g._private.appliedInitStyle?o.updateTransitions(g,_.diffProps):g._private.appliedInitStyle=!0,o.updateStyleHints(g)&&f.push(g)}}return f},getPropertiesDiff:function(c,o){var u=this,d=u._private.propDiffs=u._private.propDiffs||{},f=c+"-"+o,p=d[f];if(p)return p;for(var g=[],y={},b=0;b<u.length;b++){var _=u[b],x="t"===o[b],E="t"===c[b]!==x,S=_.mappedProperties.length>0;if(E||x&&S){var M=void 0;E&&S||E?M=_.properties:S&&(M=_.mappedProperties);for(var T=0;T<M.length;T++){for(var I=M[T],R=I.name,F=!1,L=b+1;L<u.length&&("t"!==o[L]||!(F=null!=u[L].properties[I.name]));L++);!y[R]&&!F&&(y[R]=!0,g.push(R))}}}return d[f]=g,g},getContextMeta:function(c){for(var d,o=this,u="",f=c._private.styleCxtKey||"",p=0;p<o.length;p++){var g=o[p];u+=g.selector&&g.selector.matches(c)?"t":"f"}return d=o.getPropertiesDiff(f,u),c._private.styleCxtKey=u,{key:u,diffPropNames:d,empty:0===d.length}},getContextStyle:function(c){var o=c.key,d=this._private.contextStyles=this._private.contextStyles||{};if(d[o])return d[o];for(var f={_private:{key:o}},p=0;p<this.length;p++){var g=this[p];if("t"===o[p])for(var b=0;b<g.properties.length;b++){var _=g.properties[b];f[_.name]=_}}return d[o]=f,f},applyContextStyle:function(c,o,u){for(var f=c.diffPropNames,p={},g=this.types,y=0;y<f.length;y++){var b=f[y],_=o[b],w=u.pstyle(b);if(!_){if(!w)continue;_=w.bypass?{name:b,deleteBypassed:!0}:{name:b,delete:!0}}if(w!==_){if(_.mapped===g.fn&&null!=w&&null!=w.mapping&&w.mapping.value===_.value){var x=w.mapping;if((x.fnValue=_.value(u))===x.prevFnValue)continue}var S=p[b]={prev:w};this.applyParsedProperty(u,_),S.next=u.pstyle(b),S.next&&S.next.bypass&&(S.next=S.next.bypassed)}}return{diffProps:p}},updateStyleHints:function(c){var d,o=c._private,u=this,f=u.propertyGroupKeys,p=function(tt,gt,nn){return u.getPropertiesHash(tt,gt,nn)},g=o.styleKey;if(c.removed())return!1;var tt,y="nodes"===o.group,b=c._private.style;d=Object.keys(b);for(var _=0;_<f.length;_++)o.styleKeys[f[_]]=[ba,Vc];for(var x=function(tt,gt){return o.styleKeys[gt][0]=Hc(tt,o.styleKeys[gt][0])},E=function(tt,gt){return o.styleKeys[gt][1]=Dr(tt,o.styleKeys[gt][1])},S=function(tt,gt){x(tt,gt),E(tt,gt)},M=function(tt,gt){for(var nn=0;nn<tt.length;nn++){var vn=tt.charCodeAt(nn);x(vn,gt),E(vn,gt)}},R=0;R<d.length;R++){var F=d[R],L=b[F];if(null!=L){var z=this.properties[F],K=z.type,Z=z.groupKey,H=void 0;null!=z.hashOverride?H=z.hashOverride(c,L):null!=L.pfValue&&(H=L.pfValue);var Y=null==z.enums?L.value:null,U=null!=H,W=L.units;!K.number||!U&&null==Y||K.multiple?M(L.strValue,Z):(S(-128<(tt=U?H:Y)&&tt<128&&Math.floor(tt)!==tt?2e9-(1024*tt|0):tt,Z),!U&&null!=W&&M(W,Z))}}for(var Q=[ba,Vc],ge=0;ge<f.length;ge++){var ce=o.styleKeys[f[ge]];Q[0]=Hc(ce[0],Q[0]),Q[1]=Dr(ce[1],Q[1])}o.styleKey=function(o,u){return 2097152*o+u}(Q[0],Q[1]);var be=o.styleKeys;o.labelDimsKey=Ja(be.labelDimensions);var Se=p(c,["label"],be.labelDimensions);if(o.labelKey=Ja(Se),o.labelStyleKey=Ja(Dh(be.commonLabel,Se)),!y){var Re=p(c,["source-label"],be.labelDimensions);o.sourceLabelKey=Ja(Re),o.sourceLabelStyleKey=Ja(Dh(be.commonLabel,Re));var De=p(c,["target-label"],be.labelDimensions);o.targetLabelKey=Ja(De),o.targetLabelStyleKey=Ja(Dh(be.commonLabel,De))}if(y){var ke=o.styleKeys,ve=ke.pie,We=[ke.nodeBody,ke.nodeBorder,ke.backgroundImage,ke.compound,ve].filter(function(Xe){return null!=Xe}).reduce(Dh,[ba,Vc]);o.nodeKey=Ja(We),o.hasPie=null!=ve&&ve[0]!==ba&&ve[1]!==Vc}return g!==o.styleKey},clearStyleHints:function(c){var o=c._private;o.styleCxtKey="",o.styleKeys={},o.styleKey=null,o.labelKey=null,o.labelStyleKey=null,o.sourceLabelKey=null,o.sourceLabelStyleKey=null,o.targetLabelKey=null,o.targetLabelStyleKey=null,o.nodeKey=null,o.hasPie=null},applyParsedProperty:function(c,o){var p,u=this,d=o,f=c._private.style,g=u.types,y=u.properties[d.name].type,b=d.bypass,_=f[d.name],w=_&&_.bypass,x=c._private,E="mapping",S=function(Ge){return null==Ge?null:null!=Ge.pfValue?Ge.pfValue:Ge.value},M=function(){var Ge=S(_),Ke=S(d);u.checkTriggers(c,d.name,Ge,Ke)};if(d&&"pie"===d.name.substr(0,3)&&ti("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===o.name&&c.isEdge()&&("bezier"!==o.value&&c.isLoop()||"haystack"===o.value&&(c.source().isParent()||c.target().isParent()))&&(d=o=this.parse(o.name,"bezier",b)),d.delete)return f[d.name]=void 0,M(),!0;if(d.deleteBypassed)return _?!!_.bypass&&(_.bypassed=void 0,M(),!0):(M(),!0);if(d.deleteBypass)return _?!!_.bypass&&(f[d.name]=_.bypassed,M(),!0):(M(),!0);var T=function(){ti("Do not assign mappings to elements without corresponding data (i.e. ele `"+c.id()+"` has no mapping for property `"+d.name+"` with data field `"+d.field+"`); try a `["+d.field+"]` selector to limit scope to elements with `"+d.field+"` defined")};switch(d.mapped){case g.mapData:for(var I=d.field.split("."),R=x.data,F=0;F<I.length&&R;F++)R=R[I[F]];if(null==R)return T(),!1;var z;if(!Pe(R))return ti("Do not use continuous mappers without specifying numeric data (i.e. `"+d.field+": "+R+"` for `"+c.id()+"` is non-numeric)"),!1;var K=d.fieldMax-d.fieldMin;if((z=0===K?0:(R-d.fieldMin)/K)<0?z=0:z>1&&(z=1),y.color){var Z=d.valueMin[0],Y=d.valueMin[1],U=d.valueMax[1],X=d.valueMin[2],J=d.valueMax[2],W=d.valueMin[3]??1,oe=d.valueMax[3]??1,Q=[Math.round(Z+(d.valueMax[0]-Z)*z),Math.round(Y+(U-Y)*z),Math.round(X+(J-X)*z),Math.round(W+(oe-W)*z)];p={bypass:d.bypass,name:d.name,value:Q,strValue:"rgb("+Q[0]+", "+Q[1]+", "+Q[2]+")"}}else{if(!y.number)return!1;p=this.parse(d.name,d.valueMin+(d.valueMax-d.valueMin)*z,d.bypass,E)}if(!p)return T(),!1;p.mapping=d,d=p;break;case g.data:for(var ae=d.field.split("."),ce=x.data,be=0;be<ae.length&&ce;be++)ce=ce[ae[be]];if(null!=ce&&(p=this.parse(d.name,ce,d.bypass,E)),!p)return T(),!1;p.mapping=d,d=p;break;case g.fn:var De=null!=d.fnValue?d.fnValue:(0,d.value)(c);if(d.prevFnValue=De,null==De)return ti("Custom function mappers may not return null (i.e. `"+d.name+"` for ele `"+c.id()+"` is null)"),!1;if(!(p=this.parse(d.name,De,d.bypass,E)))return ti("Custom function mappers may not return invalid values for the property type (i.e. `"+d.name+"` for ele `"+c.id()+"` is invalid)"),!1;p.mapping=vo(d),d=p;break;case void 0:break;default:return!1}return b?(d.bypassed=w?_.bypassed:_,f[d.name]=d):w?_.bypassed=d:f[d.name]=d,M(),!0},cleanElements:function(c,o){for(var u=0;u<c.length;u++){var d=c[u];if(this.clearStyleHints(d),d.dirtyCompoundBoundsCache(),d.dirtyBoundingBoxCache(),o)for(var f=d._private.style,p=Object.keys(f),g=0;g<p.length;g++){var y=p[g],b=f[y];null!=b&&(b.bypass?b.bypassed=null:f[y]=null)}else d._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(c,o){var u=this,d=c._private,f=c.pstyle("transition-property").value,p=c.pstyle("transition-duration").pfValue,g=c.pstyle("transition-delay").pfValue;if(f.length>0&&p>0){for(var y={},b=!1,_=0;_<f.length;_++){var w=f[_],x=c.pstyle(w),E=o[w];if(E){var M=E.prev,T=null!=E.next?E.next:x,I=!1,R=void 0,F=1e-6;!M||(Pe(M.pfValue)&&Pe(T.pfValue)?R=M.pfValue+F*(I=T.pfValue-M.pfValue):Pe(M.value)&&Pe(T.value)?R=M.value+F*(I=T.value-M.value):Mt(M.value)&&Mt(T.value)&&(I=M.value[0]!==T.value[0]||M.value[1]!==T.value[1]||M.value[2]!==T.value[2],R=M.strValue),I&&(y[w]=T.strValue,this.applyBypass(c,w,R),b=!0))}}if(!b)return;d.transitioning=!0,new Jc(function(L){g>0?c.delayAnimation(g).play().promise().then(L):L()}).then(function(){return c.animation({style:y,duration:p,easing:c.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){u.removeBypasses(c,f),c.emitAndNotify("style"),d.transitioning=!1})}else d.transitioning&&(this.removeBypasses(c,f),c.emitAndNotify("style"),d.transitioning=!1)},checkTrigger:function(c,o,u,d,f,p){var g=this.properties[o],y=f(g);null!=y&&y(u,d)&&p(g)},checkZOrderTrigger:function(c,o,u,d){var f=this;this.checkTrigger(c,o,u,d,function(p){return p.triggersZOrder},function(){f._private.cy.notify("zorder",c)})},checkBoundsTrigger:function(c,o,u,d){this.checkTrigger(c,o,u,d,function(f){return f.triggersBounds},function(f){c.dirtyCompoundBoundsCache(),c.dirtyBoundingBoxCache(),f.triggersBoundsOfParallelBeziers&&("curve-style"===o&&("bezier"===u||"bezier"===d)||"display"===o&&("none"===u||"none"===d))&&c.parallelEdges().forEach(function(p){p.isBundledBezier()&&p.dirtyBoundingBoxCache()})})},checkTriggers:function(c,o,u,d){c.dirtyStyleCache(),this.checkZOrderTrigger(c,o,u,d),this.checkBoundsTrigger(c,o,u,d)}},vd={applyBypass:function(c,o,u,d){var p=[];if("*"===o||"**"===o){if(void 0!==u)for(var y=0;y<this.properties.length;y++){var w=this.parse(this.properties[y].name,u,!0);w&&p.push(w)}}else if(Ae(o)){var x=this.parse(o,u,!0);x&&p.push(x)}else{if(!nt(o))return!1;var E=o;d=u;for(var S=Object.keys(E),M=0;M<S.length;M++){var T=S[M],I=E[T];if(void 0===I&&(I=E[es(T)]),void 0!==I){var R=this.parse(T,I,!0);R&&p.push(R)}}}if(0===p.length)return!1;for(var F=!1,L=0;L<c.length;L++){for(var z=c[L],K={},Z=void 0,H=0;H<p.length;H++){var Y=p[H];if(d){var U=z.pstyle(Y.name);Z=K[Y.name]={prev:U}}F=this.applyParsedProperty(z,vo(Y))||F,d&&(Z.next=z.pstyle(Y.name))}F&&this.updateStyleHints(z),d&&this.updateTransitions(z,K,!0)}return F},overrideBypass:function(c,o,u){o=Jr(o);for(var d=0;d<c.length;d++){var f=c[d],p=f._private.style[o],g=this.properties[o].type,y=g.color,b=g.mutiple,_=p?null!=p.pfValue?p.pfValue:p.value:null;p&&p.bypass?(p.value=u,null!=p.pfValue&&(p.pfValue=u),p.strValue=y?"rgb("+u.join(",")+")":b?u.join(" "):""+u,this.updateStyleHints(f)):this.applyBypass(f,o,u),this.checkTriggers(f,o,_,u)}},removeAllBypasses:function(c,o){return this.removeBypasses(c,this.propertyNames,o)},removeBypasses:function(c,o,u){for(var f=0;f<c.length;f++){for(var p=c[f],g={},y=0;y<o.length;y++){var b=o[y],_=this.properties[b],w=p.pstyle(_.name);if(w&&w.bypass){var E=this.parse(b,"",!0),S=g[_.name]={prev:w};this.applyParsedProperty(p,E),S.next=p.pstyle(_.name)}}this.updateStyleHints(p),u&&this.updateTransitions(p,g,!0)}}},lg={getEmSizeInPixels:function(){var c=this.containerCss("font-size");return null!=c?parseFloat(c):1},containerCss:function(c){var u=this._private.cy.container();if(Tt&&u&&Tt.getComputedStyle)return Tt.getComputedStyle(u).getPropertyValue(c)}},Ma={getRenderedStyle:function(c,o){return o?this.getStylePropertyValue(c,o,!0):this.getRawStyle(c,!0)},getRawStyle:function(c,o){var u=this;if(c=c[0]){for(var d={},f=0;f<u.properties.length;f++){var p=u.properties[f],g=u.getStylePropertyValue(c,p.name,o);null!=g&&(d[p.name]=g,d[es(p.name)]=g)}return d}},getIndexedStyle:function(c,o,u,d){return c.pstyle(o)[u][d]??c.cy().style().getDefaultProperty(o)[u][0]},getStylePropertyValue:function(c,o,u){if(c=c[0]){var f=this.properties[o];f.alias&&(f=f.pointsTo);var p=f.type,g=c.pstyle(f.name);if(g){var y=g.value,b=g.units,_=g.strValue;if(u&&p.number&&null!=y&&Pe(y)){var w=c.cy().zoom(),x=function(I){return I*w},E=function(I,R){return x(I)+R},S=Mt(y);return(S?b.every(function(T){return null!=T}):null!=b)?S?y.map(function(T,I){return E(T,b[I])}).join(" "):E(y,b):S?y.map(function(T){return Ae(T)?T:""+x(T)}).join(" "):""+x(y)}if(null!=_)return _}return null}},getAnimationStartStyle:function(c,o){for(var u={},d=0;d<o.length;d++){var p=o[d].name,g=c.pstyle(p);void 0!==g&&(g=nt(g)?this.parse(p,g.strValue):this.parse(p,g)),g&&(u[p]=g)}return u},getPropsList:function(c){var u=[],d=c,f=this.properties;if(d)for(var p=Object.keys(d),g=0;g<p.length;g++){var y=p[g],b=d[y],_=f[y]||f[Jr(y)],w=this.parse(_.name,b);w&&u.push(w)}return u},getNonDefaultPropertiesHash:function(c,o,u){var p,g,y,b,_,d=u.slice();for(b=0;b<o.length;b++)if(null!=(p=c.pstyle(o[b],!1)))if(null!=p.pfValue)d[0]=Hc(y,d[0]),d[1]=Dr(y,d[1]);else for(g=p.strValue,_=0;_<g.length;_++)y=g.charCodeAt(_),d[0]=Hc(y,d[0]),d[1]=Dr(y,d[1]);return d}};Ma.getPropertiesHash=Ma.getNonDefaultPropertiesHash;var cg={appendFromJson:function(c){for(var o=this,u=0;u<c.length;u++){var d=c[u],f=d.selector,p=d.style||d.css,g=Object.keys(p);o.selector(f);for(var y=0;y<g.length;y++){var b=g[y];o.css(b,p[b])}}return o},fromJson:function(c){var o=this;return o.resetToDefault(),o.appendFromJson(c),o},json:function(){for(var c=[],o=this.defaultLength;o<this.length;o++){for(var u=this[o],d=u.selector,f=u.properties,p={},g=0;g<f.length;g++){var y=f[g];p[y.name]=y.strValue}c.push({selector:d?d.toString():"core",style:p})}return c}},rf={appendFromString:function(c){var f,p,g,u=this,d=""+c;function y(){d=d.length>f.length?d.substr(f.length):""}function b(){p=p.length>g.length?p.substr(g.length):""}for(d=d.replace(/[/][*](\s|.)+?[*][/]/g,"");!d.match(/^\s*$/);){var w=d.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!w){ti("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+d);break}f=w[0];var x=w[1];if("core"!==x&&new Uo(x).invalid)ti("Skipping parsing of block: Invalid selector found in string stylesheet: "+x),y();else{var S=w[2],M=!1;p=S;for(var T=[];!p.match(/^\s*$/);){var R=p.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!R){ti("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+S),M=!0;break}g=R[0];var F=R[1],L=R[2];this.properties[F]?u.parse(F,L)?(T.push({name:F,val:L}),b()):(ti("Skipping property: Invalid property definition in: "+g),b()):(ti("Skipping property: Invalid property name in: "+g),b())}if(M){y();break}u.selector(x);for(var Z=0;Z<T.length;Z++){var H=T[Z];u.css(H.name,H.val)}y()}}return u},fromString:function(c){var o=this;return o.resetToDefault(),o.appendFromString(c),o}},_i={};(function(){var c=ei,p=function(We){return"^"+We+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},g=function(We){var Xe=c+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+We+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+c+")\\s*\\,\\s*("+c+")\\s*,\\s*("+Xe+")\\s*\\,\\s*("+Xe+")\\)$"},y=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];_i.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:p("data")},layoutData:{mapping:!0,regex:p("layoutData")},scratch:{mapping:!0,regex:p("scratch")},mapData:{mapping:!0,regex:g("mapData")},mapLayoutData:{mapping:!0,regex:g("mapLayoutData")},mapScratch:{mapping:!0,regex:g("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:y,singleRegexMatchValue:!0},urls:{regexes:y,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(We,Xe){switch(We.length){case 2:return"deg"!==Xe[0]&&"rad"!==Xe[0]&&"deg"!==Xe[1]&&"rad"!==Xe[1];case 1:return Ae(We[0])||"deg"===Xe[0]||"rad"===Xe[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+c+")\\s*,\\s*("+c+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+c+")\\s*,\\s*("+c+")\\s*,\\s*("+c+")\\s*,\\s*("+c+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(We){var Xe=We.length;return 1===Xe||2===Xe||4===Xe}}};var b={zeroNonZero:function(We,Xe){return(null==We||null==Xe)&&We!==Xe||0==We&&0!=Xe||0!=We&&0==Xe},any:function(We,Xe){return We!=Xe},emptyNonEmpty:function(We,Xe){var tt=vt(We),gt=vt(Xe);return tt&&!gt||!tt&&gt}},_=_i.types,w=[{name:"label",type:_.text,triggersBounds:b.any,triggersZOrder:b.emptyNonEmpty},{name:"text-rotation",type:_.textRotation,triggersBounds:b.any},{name:"text-margin-x",type:_.bidirectionalSize,triggersBounds:b.any},{name:"text-margin-y",type:_.bidirectionalSize,triggersBounds:b.any}],x=[{name:"source-label",type:_.text,triggersBounds:b.any},{name:"source-text-rotation",type:_.textRotation,triggersBounds:b.any},{name:"source-text-margin-x",type:_.bidirectionalSize,triggersBounds:b.any},{name:"source-text-margin-y",type:_.bidirectionalSize,triggersBounds:b.any},{name:"source-text-offset",type:_.size,triggersBounds:b.any}],E=[{name:"target-label",type:_.text,triggersBounds:b.any},{name:"target-text-rotation",type:_.textRotation,triggersBounds:b.any},{name:"target-text-margin-x",type:_.bidirectionalSize,triggersBounds:b.any},{name:"target-text-margin-y",type:_.bidirectionalSize,triggersBounds:b.any},{name:"target-text-offset",type:_.size,triggersBounds:b.any}],S=[{name:"font-family",type:_.fontFamily,triggersBounds:b.any},{name:"font-style",type:_.fontStyle,triggersBounds:b.any},{name:"font-weight",type:_.fontWeight,triggersBounds:b.any},{name:"font-size",type:_.size,triggersBounds:b.any},{name:"text-transform",type:_.textTransform,triggersBounds:b.any},{name:"text-wrap",type:_.textWrap,triggersBounds:b.any},{name:"text-overflow-wrap",type:_.textOverflowWrap,triggersBounds:b.any},{name:"text-max-width",type:_.size,triggersBounds:b.any},{name:"text-outline-width",type:_.size,triggersBounds:b.any},{name:"line-height",type:_.positiveNumber,triggersBounds:b.any}],M=[{name:"text-valign",type:_.valign,triggersBounds:b.any},{name:"text-halign",type:_.halign,triggersBounds:b.any},{name:"color",type:_.color},{name:"text-outline-color",type:_.color},{name:"text-outline-opacity",type:_.zeroOneNumber},{name:"text-background-color",type:_.color},{name:"text-background-opacity",type:_.zeroOneNumber},{name:"text-background-padding",type:_.size,triggersBounds:b.any},{name:"text-border-opacity",type:_.zeroOneNumber},{name:"text-border-color",type:_.color},{name:"text-border-width",type:_.size,triggersBounds:b.any},{name:"text-border-style",type:_.borderStyle,triggersBounds:b.any},{name:"text-background-shape",type:_.textBackgroundShape,triggersBounds:b.any},{name:"text-justification",type:_.justification}],T=[{name:"events",type:_.bool},{name:"text-events",type:_.bool}],I=[{name:"display",type:_.display,triggersZOrder:b.any,triggersBounds:b.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:_.visibility,triggersZOrder:b.any},{name:"opacity",type:_.zeroOneNumber,triggersZOrder:b.zeroNonZero},{name:"text-opacity",type:_.zeroOneNumber},{name:"min-zoomed-font-size",type:_.size},{name:"z-compound-depth",type:_.zCompoundDepth,triggersZOrder:b.any},{name:"z-index-compare",type:_.zIndexCompare,triggersZOrder:b.any},{name:"z-index",type:_.nonNegativeInt,triggersZOrder:b.any}],R=[{name:"overlay-padding",type:_.size,triggersBounds:b.any},{name:"overlay-color",type:_.color},{name:"overlay-opacity",type:_.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"overlay-shape",type:_.overlayShape,triggersBounds:b.any}],F=[{name:"underlay-padding",type:_.size,triggersBounds:b.any},{name:"underlay-color",type:_.color},{name:"underlay-opacity",type:_.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"underlay-shape",type:_.overlayShape,triggersBounds:b.any}],L=[{name:"transition-property",type:_.propList},{name:"transition-duration",type:_.time},{name:"transition-delay",type:_.time},{name:"transition-timing-function",type:_.easing}],z=function(We,Xe){return"label"===Xe.value?-We.poolIndex():Xe.pfValue},K=[{name:"height",type:_.nodeSize,triggersBounds:b.any,hashOverride:z},{name:"width",type:_.nodeSize,triggersBounds:b.any,hashOverride:z},{name:"shape",type:_.nodeShape,triggersBounds:b.any},{name:"shape-polygon-points",type:_.polygonPointList,triggersBounds:b.any},{name:"background-color",type:_.color},{name:"background-fill",type:_.fill},{name:"background-opacity",type:_.zeroOneNumber},{name:"background-blacken",type:_.nOneOneNumber},{name:"background-gradient-stop-colors",type:_.colors},{name:"background-gradient-stop-positions",type:_.percentages},{name:"background-gradient-direction",type:_.gradientDirection},{name:"padding",type:_.sizeMaybePercent,triggersBounds:b.any},{name:"padding-relative-to",type:_.paddingRelativeTo,triggersBounds:b.any},{name:"bounds-expansion",type:_.boundsExpansion,triggersBounds:b.any}],Z=[{name:"border-color",type:_.color},{name:"border-opacity",type:_.zeroOneNumber},{name:"border-width",type:_.size,triggersBounds:b.any},{name:"border-style",type:_.borderStyle}],H=[{name:"background-image",type:_.urls},{name:"background-image-crossorigin",type:_.bgCrossOrigin},{name:"background-image-opacity",type:_.zeroOneNumbers},{name:"background-image-containment",type:_.bgContainment},{name:"background-image-smoothing",type:_.bools},{name:"background-position-x",type:_.bgPos},{name:"background-position-y",type:_.bgPos},{name:"background-width-relative-to",type:_.bgRelativeTo},{name:"background-height-relative-to",type:_.bgRelativeTo},{name:"background-repeat",type:_.bgRepeat},{name:"background-fit",type:_.bgFit},{name:"background-clip",type:_.bgClip},{name:"background-width",type:_.bgWH},{name:"background-height",type:_.bgWH},{name:"background-offset-x",type:_.bgPos},{name:"background-offset-y",type:_.bgPos}],Y=[{name:"position",type:_.position,triggersBounds:b.any},{name:"compound-sizing-wrt-labels",type:_.compoundIncludeLabels,triggersBounds:b.any},{name:"min-width",type:_.size,triggersBounds:b.any},{name:"min-width-bias-left",type:_.sizeMaybePercent,triggersBounds:b.any},{name:"min-width-bias-right",type:_.sizeMaybePercent,triggersBounds:b.any},{name:"min-height",type:_.size,triggersBounds:b.any},{name:"min-height-bias-top",type:_.sizeMaybePercent,triggersBounds:b.any},{name:"min-height-bias-bottom",type:_.sizeMaybePercent,triggersBounds:b.any}],U=[{name:"line-style",type:_.lineStyle},{name:"line-color",type:_.color},{name:"line-fill",type:_.fill},{name:"line-cap",type:_.lineCap},{name:"line-opacity",type:_.zeroOneNumber},{name:"line-dash-pattern",type:_.numbers},{name:"line-dash-offset",type:_.number},{name:"line-gradient-stop-colors",type:_.colors},{name:"line-gradient-stop-positions",type:_.percentages},{name:"curve-style",type:_.curveStyle,triggersBounds:b.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:_.zeroOneNumber,triggersBounds:b.any},{name:"source-endpoint",type:_.edgeEndpoint,triggersBounds:b.any},{name:"target-endpoint",type:_.edgeEndpoint,triggersBounds:b.any},{name:"control-point-step-size",type:_.size,triggersBounds:b.any},{name:"control-point-distances",type:_.bidirectionalSizes,triggersBounds:b.any},{name:"control-point-weights",type:_.numbers,triggersBounds:b.any},{name:"segment-distances",type:_.bidirectionalSizes,triggersBounds:b.any},{name:"segment-weights",type:_.numbers,triggersBounds:b.any},{name:"taxi-turn",type:_.bidirectionalSizeMaybePercent,triggersBounds:b.any},{name:"taxi-turn-min-distance",type:_.size,triggersBounds:b.any},{name:"taxi-direction",type:_.axisDirection,triggersBounds:b.any},{name:"edge-distances",type:_.edgeDistances,triggersBounds:b.any},{name:"arrow-scale",type:_.positiveNumber,triggersBounds:b.any},{name:"loop-direction",type:_.angle,triggersBounds:b.any},{name:"loop-sweep",type:_.angle,triggersBounds:b.any},{name:"source-distance-from-node",type:_.size,triggersBounds:b.any},{name:"target-distance-from-node",type:_.size,triggersBounds:b.any}],X=[{name:"ghost",type:_.bool,triggersBounds:b.any},{name:"ghost-offset-x",type:_.bidirectionalSize,triggersBounds:b.any},{name:"ghost-offset-y",type:_.bidirectionalSize,triggersBounds:b.any},{name:"ghost-opacity",type:_.zeroOneNumber}],J=[{name:"selection-box-color",type:_.color},{name:"selection-box-opacity",type:_.zeroOneNumber},{name:"selection-box-border-color",type:_.color},{name:"selection-box-border-width",type:_.size},{name:"active-bg-color",type:_.color},{name:"active-bg-opacity",type:_.zeroOneNumber},{name:"active-bg-size",type:_.size},{name:"outside-texture-bg-color",type:_.color},{name:"outside-texture-bg-opacity",type:_.zeroOneNumber}],W=[];_i.pieBackgroundN=16,W.push({name:"pie-size",type:_.sizeMaybePercent});for(var oe=1;oe<=_i.pieBackgroundN;oe++)W.push({name:"pie-"+oe+"-background-color",type:_.color}),W.push({name:"pie-"+oe+"-background-size",type:_.percent}),W.push({name:"pie-"+oe+"-background-opacity",type:_.zeroOneNumber});var Q=[],ge=_i.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:_.arrowShape,triggersBounds:b.any},{name:"arrow-color",type:_.color},{name:"arrow-fill",type:_.arrowFill}].forEach(function(ve){ge.forEach(function(We){Q.push({name:We+"-"+ve.name,type:ve.type,triggersBounds:ve.triggersBounds})})},{});var ae=_i.properties=[].concat(T,L,I,R,F,X,M,S,w,x,E,K,Z,H,W,Y,U,Q,J),ce=_i.propertyGroups={behavior:T,transition:L,visibility:I,overlay:R,underlay:F,ghost:X,commonLabel:M,labelDimensions:S,mainLabel:w,sourceLabel:x,targetLabel:E,nodeBody:K,nodeBorder:Z,backgroundImage:H,pie:W,compound:Y,edgeLine:U,edgeArrow:Q,core:J},be=_i.propertyGroupNames={};(_i.propertyGroupKeys=Object.keys(ce)).forEach(function(ve){be[ve]=ce[ve].map(function(We){return We.name}),ce[ve].forEach(function(We){return We.groupKey=ve})});var Re=_i.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];_i.propertyNames=ae.map(function(ve){return ve.name});for(var De=0;De<ae.length;De++){var ke=ae[De];ae[ke.name]=ke}for(var Ge=0;Ge<Re.length;Ge++){var Ke=Re[Ge],Ie={name:Ke.name,alias:!0,pointsTo:ae[Ke.pointsTo]};ae.push(Ie),ae[Ke.name]=Ie}})(),_i.getDefaultProperty=function(c){return this.getDefaultProperties()[c]},_i.getDefaultProperties=function(){var c=this._private;if(null!=c.defaultProperties)return c.defaultProperties;for(var o=qt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(b,_){for(var w=1;w<=_i.pieBackgroundN;w++)b[_.name.replace("{{i}}",w)]=_.value;return b},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(b,_){return _i.arrowPrefixes.forEach(function(w){b[w+"-"+_.name]=_.value}),b},{})),u={},d=0;d<this.properties.length;d++){var f=this.properties[d];if(!f.pointsTo){var p=f.name,y=this.parse(p,o[p]);u[p]=y}}return c.defaultProperties=u,c.defaultProperties},_i.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var uu={parse:function(c,o,u,d){var f=this;if(ft(o))return f.parseImplWarn(c,o,u,d);var w,b=Vv(c,""+o,u?"t":"f","mapping"===d||!0===d||!1===d||null==d?"dontcare":d),_=f.propCache=f.propCache||[];return(w=_[b])||(w=_[b]=f.parseImplWarn(c,o,u,d)),(u||"mapping"===d)&&(w=vo(w))&&(w.value=vo(w.value)),w},parseImplWarn:function(c,o,u,d){var f=this.parseImpl(c,o,u,d);return!f&&null!=o&&ti("The style property `".concat(c,": ").concat(o,"` is invalid")),f&&("width"===f.name||"height"===f.name)&&"label"===o&&ti("The style value of `label` is deprecated for `"+f.name+"`"),f}};uu.parseImpl=function(c,o,u,d){var f=this;c=Jr(c);var p=f.properties[c],g=o,y=f.types;if(!p||void 0===o)return null;p.alias&&(c=(p=p.pointsTo).name);var b=Ae(o);b&&(o=o.trim());var w,x,_=p.type;if(!_)return null;if(u&&(""===o||null===o))return{name:c,value:o,bypass:!0,deleteBypass:!0};if(ft(o))return{name:c,value:o,strValue:"fn",mapped:y.fn,bypass:u};if(!(!b||d||o.length<7||"a"!==o[1])){if(o.length>=7&&"d"===o[0]&&(w=new RegExp(y.data.regex).exec(o)))return!u&&{name:c,value:w,strValue:""+o,mapped:y.data,field:w[1],bypass:u};if(o.length>=10&&"m"===o[0]&&(x=new RegExp(y.mapData.regex).exec(o))){if(u||_.multiple)return!1;var S=y.mapData;if(!_.color&&!_.number)return!1;var M=this.parse(c,x[4]);if(!M||M.mapped)return!1;var T=this.parse(c,x[5]);if(!T||T.mapped)return!1;if(M.pfValue===T.pfValue||M.strValue===T.strValue)return ti("`"+c+": "+o+"` is not a valid mapper because the output range is zero; converting to `"+c+": "+M.strValue+"`"),this.parse(c,M.strValue);if(_.color){var I=M.value,R=T.value;if(!(I[0]!==R[0]||I[1]!==R[1]||I[2]!==R[2]||I[3]!==R[3]&&(null!=I[3]&&1!==I[3]||null!=R[3]&&1!==R[3])))return!1}return{name:c,value:x,strValue:""+o,mapped:S,field:x[1],fieldMin:parseFloat(x[2]),fieldMax:parseFloat(x[3]),valueMin:M.value,valueMax:T.value,bypass:u}}}if(_.multiple&&"multiple"!==d){var L;if(L=b?o.split(/\s+/):Mt(o)?o:[o],_.evenMultiple&&L.length%2!=0)return null;for(var z=[],K=[],Z=[],H="",Y=!1,U=0;U<L.length;U++){var X=f.parse(c,L[U],u,"multiple");Y=Y||Ae(X.value),z.push(X.value),Z.push(null!=X.pfValue?X.pfValue:X.value),K.push(X.units),H+=(U>0?" ":"")+X.strValue}return _.validate&&!_.validate(z,K)?null:_.singleEnum&&Y?1===z.length&&Ae(z[0])?{name:c,value:z[0],strValue:z[0],bypass:u}:null:{name:c,value:z,pfValue:Z,strValue:H,bypass:u,units:K}}var J=function(){for(var Xe=0;Xe<_.enums.length;Xe++)if(_.enums[Xe]===o)return{name:c,value:o,strValue:""+o,bypass:u};return null};if(_.number){var W,oe="px";if(_.units&&(W=_.units),_.implicitUnits&&(oe=_.implicitUnits),!_.unitless)if(b){var Q="px|em"+(_.allowPercent?"|\\%":"");W&&(Q=W);var ge=o.match("^("+ei+")("+Q+")?$");ge&&(o=ge[1],W=ge[2]||oe)}else(!W||_.implicitUnits)&&(W=oe);if(o=parseFloat(o),isNaN(o)&&void 0===_.enums)return null;if(isNaN(o)&&void 0!==_.enums)return o=g,J();if(_.integer&&!function(o){return Pe(o)&&Math.floor(o)===o}(o)||void 0!==_.min&&(o<_.min||_.strictMin&&o===_.min)||void 0!==_.max&&(o>_.max||_.strictMax&&o===_.max))return null;var ae={name:c,value:o,strValue:""+o+(W||""),units:W,bypass:u};return ae.pfValue=_.unitless||"px"!==W&&"em"!==W?o:"px"!==W&&W?this.getEmSizeInPixels()*o:o,("ms"===W||"s"===W)&&(ae.pfValue="ms"===W?o:1e3*o),("deg"===W||"rad"===W)&&(ae.pfValue="rad"===W?o:function(o){return Math.PI*o/180}(o)),"%"===W&&(ae.pfValue=o/100),ae}if(_.propList){var ce=[],be=""+o;if("none"!==be){for(var Se=be.split(/\s*,\s*|\s+/),Re=0;Re<Se.length;Re++){var De=Se[Re].trim();f.properties[De]?ce.push(De):ti("`"+De+"` is not a valid property name")}if(0===ce.length)return null}return{name:c,value:ce,strValue:0===ce.length?"none":ce.join(" "),bypass:u}}if(_.color){var ke=function(o){return(Mt(o)?o:null)||function(o){return Bv[o.toLowerCase()]}(o)||function(o){if((4===o.length||7===o.length)&&"#"===o[0]){var d,f,p,g=16;return 4===o.length?(d=parseInt(o[1]+o[1],g),f=parseInt(o[2]+o[2],g),p=parseInt(o[3]+o[3],g)):(d=parseInt(o[1]+o[2],g),f=parseInt(o[3]+o[4],g),p=parseInt(o[5]+o[6],g)),[d,f,p]}}(o)||function(o){var u,d=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(o);if(d){u=[];for(var f=[],p=1;p<=3;p++){var g=d[p];if("%"===g[g.length-1]&&(f[p]=!0),g=parseFloat(g),f[p]&&(g=g/100*255),g<0||g>255)return;u.push(Math.floor(g))}if((f[1]||f[2]||f[3])&&!(f[1]&&f[2]&&f[3]))return;var _=d[4];if(void 0!==_){if((_=parseFloat(_))<0||_>1)return;u.push(_)}}return u}(o)||function(o){var u,d,f,p,g,y,b,_;function w(M,T,I){return I<0&&(I+=1),I>1&&(I-=1),I<1/6?M+6*(T-M)*I:I<.5?T:I<2/3?M+(T-M)*(2/3-I)*6:M}var x=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(o);if(x){if((d=parseInt(x[1]))<0?d=(360- -1*d%360)%360:d>360&&(d%=360),d/=360,(f=parseFloat(x[2]))<0||f>100||(f/=100,(p=parseFloat(x[3]))<0||p>100)||(p/=100,void 0!==(g=x[4])&&((g=parseFloat(g))<0||g>1)))return;if(0===f)y=b=_=Math.round(255*p);else{var E=p<.5?p*(1+f):p+f-p*f,S=2*p-E;y=Math.round(255*w(S,E,d+1/3)),b=Math.round(255*w(S,E,d)),_=Math.round(255*w(S,E,d-1/3))}u=[y,b,_,g]}return u}(o)}(o);return ke?{name:c,value:ke,pfValue:ke,strValue:"rgb("+ke[0]+","+ke[1]+","+ke[2]+")",bypass:u}:null}if(_.regex||_.regexes){if(_.enums){var Ge=J();if(Ge)return Ge}for(var Ke=_.regexes?_.regexes:[_.regex],Ue=0;Ue<Ke.length;Ue++){var ve=new RegExp(Ke[Ue]).exec(o);if(ve)return{name:c,value:_.singleRegexMatchValue?ve[1]:ve,strValue:""+o,bypass:u}}return null}return _.string?{name:c,value:""+o,strValue:""+o,bypass:u}:_.enums?J():null};var sr=function c(o){if(!(this instanceof c))return new c(o);fn(o)?(this._private={cy:o,coreStyle:{}},this.length=0,this.resetToDefault()):Fi("A style must have a core reference")},vs=sr.prototype;vs.instanceString=function(){return"style"},vs.clear=function(){for(var c=this._private,u=c.cy.elements(),d=0;d<this.length;d++)this[d]=void 0;return this.length=0,c.contextStyles={},c.propDiffs={},this.cleanElements(u,!0),u.forEach(function(f){var p=f[0]._private;p.styleDirty=!0,p.appliedInitStyle=!1}),this},vs.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},vs.core=function(c){return this._private.coreStyle[c]||this.getDefaultProperty(c)},vs.selector=function(c){var o="core"===c?null:new Uo(c),u=this.length++;return this[u]={selector:o,properties:[],mappedProperties:[],index:u},this},vs.css=function(){var c=this,o=arguments;if(1===o.length)for(var u=o[0],d=0;d<c.properties.length;d++){var f=c.properties[d],p=u[f.name];void 0===p&&(p=u[es(f.name)]),void 0!==p&&this.cssRule(f.name,p)}else 2===o.length&&this.cssRule(o[0],o[1]);return this},vs.style=vs.css,vs.cssRule=function(c,o){var u=this.parse(c,o);if(u){var d=this.length-1;this[d].properties.push(u),this[d].properties[u.name]=u,u.name.match(/pie-(\d+)-background-size/)&&u.value&&(this._private.hasPie=!0),u.mapped&&this[d].mappedProperties.push(u),!this[d].selector&&(this._private.coreStyle[u.name]=u)}return this},vs.append=function(c){return Rn(c)?c.appendToStyle(this):Mt(c)?this.appendFromJson(c):Ae(c)&&this.appendFromString(c),this},sr.fromJson=function(c,o){var u=new sr(c);return u.fromJson(o),u},sr.fromString=function(c,o){return new sr(c).fromString(o)},[Sr,vd,lg,Ma,cg,rf,_i,uu].forEach(function(c){qt(vs,c)}),sr.types=vs.types,sr.properties=vs.properties,sr.propertyGroups=vs.propertyGroups,sr.propertyGroupNames=vs.propertyGroupNames,sr.propertyGroupKeys=vs.propertyGroupKeys;var yy={style:function(o){return o&&this.setStyle(o).update(),this._private.style},setStyle:function(o){var u=this._private;return u.style=Rn(o)?o.generateStyle(this):Mt(o)?sr.fromJson(this,o):Ae(o)?sr.fromString(this,o):sr(this),u.style},updateStyle:function(){this.mutableElements().updateStyle()}},ec={autolock:function(o){return void 0===o?this._private.autolock:(this._private.autolock=!!o,this)},autoungrabify:function(o){return void 0===o?this._private.autoungrabify:(this._private.autoungrabify=!!o,this)},autounselectify:function(o){return void 0===o?this._private.autounselectify:(this._private.autounselectify=!!o,this)},selectionType:function(o){var u=this._private;return null==u.selectionType&&(u.selectionType="single"),void 0===o?u.selectionType:(("additive"===o||"single"===o)&&(u.selectionType=o),this)},panningEnabled:function(o){return void 0===o?this._private.panningEnabled:(this._private.panningEnabled=!!o,this)},userPanningEnabled:function(o){return void 0===o?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!o,this)},zoomingEnabled:function(o){return void 0===o?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!o,this)},userZoomingEnabled:function(o){return void 0===o?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!o,this)},boxSelectionEnabled:function(o){return void 0===o?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!o,this)},pan:function(){var d,f,p,g,y,o=arguments,u=this._private.pan;switch(o.length){case 0:return u;case 1:if(Ae(o[0]))return u[d=o[0]];if(nt(o[0])){if(!this._private.panningEnabled)return this;y=(p=o[0]).y,Pe(g=p.x)&&(u.x=g),Pe(y)&&(u.y=y),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;f=o[1],("x"===(d=o[0])||"y"===d)&&Pe(f)&&(u[d]=f),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(o,u){var p,g,y,b,_,d=arguments,f=this._private.pan;if(!this._private.panningEnabled)return this;switch(d.length){case 1:nt(o)&&(_=(y=d[0]).y,Pe(b=y.x)&&(f.x+=b),Pe(_)&&(f.y+=_),this.emit("pan viewport"));break;case 2:g=u,("x"===(p=o)||"y"===p)&&Pe(g)&&(f[p]+=g),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(o,u){var d=this.getFitViewport(o,u);if(d){var f=this._private;f.zoom=d.zoom,f.pan=d.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(o,u){var d;if((Pe(o)&&void 0===u&&(u=o,o=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Ae(o)?o=this.$(o):!function(o){return nt(o)&&Pe(o.x1)&&Pe(o.x2)&&Pe(o.y1)&&Pe(o.y2)}(o)?je(o)||(o=this.mutableElements()):((d={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=d.x2-d.x1,d.h=d.y2-d.y1),!je(o)||!o.empty())){d=d||o.boundingBox();var b,g=this.width(),y=this.height();if(u=Pe(u)?u:0,!isNaN(g)&&!isNaN(y)&&g>0&&y>0&&!isNaN(d.w)&&!isNaN(d.h)&&d.w>0&&d.h>0)return{zoom:b=(b=(b=Math.min((g-2*u)/d.w,(y-2*u)/d.h))>this._private.maxZoom?this._private.maxZoom:b)<this._private.minZoom?this._private.minZoom:b,pan:{x:(g-b*(d.x1+d.x2))/2,y:(y-b*(d.y1+d.y2))/2}}}},zoomRange:function(o,u){var d=this._private;if(null==u){var f=o;o=f.min,u=f.max}return Pe(o)&&Pe(u)&&o<=u?(d.minZoom=o,d.maxZoom=u):Pe(o)&&void 0===u&&o<=d.maxZoom?d.minZoom=o:Pe(u)&&void 0===o&&u>=d.minZoom&&(d.maxZoom=u),this},minZoom:function(o){return void 0===o?this._private.minZoom:this.zoomRange({min:o})},maxZoom:function(o){return void 0===o?this._private.maxZoom:this.zoomRange({max:o})},getZoomedViewport:function(o){var p,g,u=this._private,d=u.pan,f=u.zoom,y=!1;return u.zoomingEnabled||(y=!0),Pe(o)?g=o:nt(o)&&(g=o.level,null!=o.position?p=Hp(o.position,f,d):null!=o.renderedPosition&&(p=o.renderedPosition),null!=p&&!u.panningEnabled&&(y=!0)),g=(g=g>u.maxZoom?u.maxZoom:g)<u.minZoom?u.minZoom:g,!y&&Pe(g)&&g!==f&&(null==p||Pe(p.x)&&Pe(p.y))?null!=p?{zoomed:!0,panned:!0,zoom:g,pan:{x:-g/f*(p.x-d.x)+p.x,y:-g/f*(p.y-d.y)+p.y}}:{zoomed:!0,panned:!1,zoom:g,pan:d}:null},zoom:function(o){if(void 0===o)return this._private.zoom;var u=this.getZoomedViewport(o),d=this._private;return null!=u&&u.zoomed?(d.zoom=u.zoom,u.panned&&(d.pan.x=u.pan.x,d.pan.y=u.pan.y),this.emit("zoom"+(u.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(o){var u=this._private,d=!0,f=!0,p=[],g=!1,y=!1;if(!o)return this;if(Pe(o.zoom)||(d=!1),nt(o.pan)||(f=!1),!d&&!f)return this;if(d){var b=o.zoom;b<u.minZoom||b>u.maxZoom||!u.zoomingEnabled?g=!0:(u.zoom=b,p.push("zoom"))}if(f&&(!g||!o.cancelOnFailedZoom)&&u.panningEnabled){var _=o.pan;Pe(_.x)&&(u.pan.x=_.x,y=!1),Pe(_.y)&&(u.pan.y=_.y,y=!1),y||p.push("pan")}return p.length>0&&(p.push("viewport"),this.emit(p.join(" ")),this.notify("viewport")),this},center:function(o){var u=this.getCenterPan(o);return u&&(this._private.pan=u,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(o,u){if(this._private.panningEnabled){if(Ae(o)){var d=o;o=this.mutableElements().filter(d)}else je(o)||(o=this.mutableElements());if(0!==o.length){var f=o.boundingBox(),p=this.width(),g=this.height();return{x:(p-(u=void 0===u?this._private.zoom:u)*(f.x1+f.x2))/2,y:(g-u*(f.y1+f.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var d,f,o=this._private,u=o.container;return o.sizeCache=o.sizeCache||(u?(d=Tt.getComputedStyle(u),{width:u.clientWidth-(f=function(g){return parseFloat(d.getPropertyValue(g))})("padding-left")-f("padding-right"),height:u.clientHeight-f("padding-top")-f("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var o=this._private.pan,u=this._private.zoom,d=this.renderedExtent(),f={x1:(d.x1-o.x)/u,x2:(d.x2-o.x)/u,y1:(d.y1-o.y)/u,y2:(d.y2-o.y)/u};return f.w=f.x2-f.x1,f.h=f.y2-f.y1,f},renderedExtent:function(){var o=this.width(),u=this.height();return{x1:0,y1:0,x2:o,y2:u,w:o,h:u}},multiClickDebounceTime:function(o){return o?(this._private.multiClickDebounceTime=o,this):this._private.multiClickDebounceTime}};ec.centre=ec.center,ec.autolockNodes=ec.autolock,ec.autoungrabifyNodes=ec.autoungrabify;var yd={data:On.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:On.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:On.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:On.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};yd.attr=yd.data,yd.removeAttr=yd.removeData;var _d=function(o){var u=this,d=(o=qt({},o)).container;d&&!Jn(d)&&Jn(d[0])&&(d=d[0]);var f=d?d._cyreg:null;(f=f||{})&&f.cy&&(f.cy.destroy(),f={});var p=f.readies=f.readies||[];d&&(d._cyreg=f),f.cy=u;var g=void 0!==Tt&&void 0!==d&&!o.headless,y=o;y.layout=qt({name:g?"grid":"null"},y.layout),y.renderer=qt({name:g?"canvas":"null"},y.renderer);var b=function(M,T,I){return void 0!==T?T:void 0!==I?I:M},_=this._private={container:d,ready:!1,options:y,elements:new Nr(this),listeners:[],aniEles:new Nr(this),data:y.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:b(!0,y.zoomingEnabled),userZoomingEnabled:b(!0,y.userZoomingEnabled),panningEnabled:b(!0,y.panningEnabled),userPanningEnabled:b(!0,y.userPanningEnabled),boxSelectionEnabled:b(!0,y.boxSelectionEnabled),autolock:b(!1,y.autolock,y.autolockNodes),autoungrabify:b(!1,y.autoungrabify,y.autoungrabifyNodes),autounselectify:b(!1,y.autounselectify),styleEnabled:void 0===y.styleEnabled?g:y.styleEnabled,zoom:Pe(y.zoom)?y.zoom:1,pan:{x:nt(y.pan)&&Pe(y.pan.x)?y.pan.x:0,y:nt(y.pan)&&Pe(y.pan.y)?y.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:b(250,y.multiClickDebounceTime)};this.createEmitter(),this.selectionType(y.selectionType),this.zoomRange({min:y.minZoom,max:y.maxZoom}),_.styleEnabled&&u.setStyle([]);var x=qt({},y,y.renderer);u.initRenderer(x),function(M,T){if(M.some(Hi))return Jc.all(M).then(T);T(M)}([y.style,y.elements],function(S){var M=S[0],T=S[1];_.styleEnabled&&u.style().append(M),function(M,T,I){u.notifications(!1);var R=u.mutableElements();R.length>0&&R.remove(),null!=M&&(nt(M)||Mt(M))&&u.add(M),u.one("layoutready",function(L){u.notifications(!0),u.emit(L),u.one("load",T),u.emitAndNotify("load")}).one("layoutstop",function(){u.one("done",I),u.emit("done")});var F=qt({},u._private.options.layout);F.eles=u.elements(),u.layout(F).run()}(T,function(){u.startAnimationLoop(),_.ready=!0,ft(y.ready)&&u.on("ready",y.ready);for(var I=0;I<p.length;I++)u.on("ready",p[I]);f&&(f.readies=[]),u.emit("ready")},y.done)})},sf=_d.prototype;qt(sf,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(o){return this.isReady()?this.emitter().emit("ready",[],o):this.on("ready",o),this},destroy:function(){var o=this;if(!o.destroyed())return o.stopAnimationLoop(),o.destroyRenderer(),this.emit("destroy"),o._private.destroyed=!0,o},hasElementWithId:function(o){return this._private.elements.hasElementWithId(o)},getElementById:function(o){return this._private.elements.getElementById(o)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(o){return this._private.elements.merge(o),this},removeFromPool:function(o){return this._private.elements.unmerge(o),this},container:function(){return this._private.container||null},mount:function(o){if(null!=o){var u=this,d=u._private,f=d.options;return!Jn(o)&&Jn(o[0])&&(o=o[0]),u.stopAnimationLoop(),u.destroyRenderer(),d.container=o,d.styleEnabled=!0,u.invalidateSize(),u.initRenderer(qt({},f,f.renderer,{name:"null"===f.renderer.name?"canvas":f.renderer.name})),u.startAnimationLoop(),u.style(f.style),u.emit("mount"),u}},unmount:function(){var o=this;return o.stopAnimationLoop(),o.destroyRenderer(),o.initRenderer({name:"null"}),o.emit("unmount"),o},options:function(){return vo(this._private.options)},json:function(o){var u=this,d=u._private,f=u.mutableElements();if(nt(o)){if(u.startBatch(),o.elements){var g={},y=function(z,K){for(var Z=[],H=[],Y=0;Y<z.length;Y++){var U=z[Y];if(U.data.id){var X=""+U.data.id,J=u.getElementById(X);g[X]=!0,0!==J.length?H.push({ele:J,json:U}):(K&&(U.group=K),Z.push(U))}else ti("cy.json() cannot handle elements without an ID attribute")}u.add(Z);for(var W=0;W<H.length;W++){var oe=H[W];oe.ele.json(oe.json)}};if(Mt(o.elements))y(o.elements);else for(var b=["nodes","edges"],_=0;_<b.length;_++){var w=b[_],x=o.elements[w];Mt(x)&&y(x,w)}var E=u.collection();f.filter(function(L){return!g[L.id()]}).forEach(function(L){L.isParent()?E.merge(L):L.remove()}),E.forEach(function(L){return L.children().move({parent:null})}),E.forEach(function(L){return(z=L,u.getElementById(z.id())).remove();var z})}o.style&&u.style(o.style),null!=o.zoom&&o.zoom!==d.zoom&&u.zoom(o.zoom),o.pan&&(o.pan.x!==d.pan.x||o.pan.y!==d.pan.y)&&u.pan(o.pan),o.data&&u.data(o.data);for(var S=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],M=0;M<S.length;M++){var T=S[M];null!=o[T]&&u[T](o[T])}return u.endBatch(),this}var R={};o?R.elements=this.elements().map(function(L){return L.json()}):(R.elements={},f.forEach(function(L){var z=L.group();R.elements[z]||(R.elements[z]=[]),R.elements[z].push(L.json())})),this._private.styleEnabled&&(R.style=u.style().json()),R.data=vo(u.data());var F=d.options;return R.zoomingEnabled=d.zoomingEnabled,R.userZoomingEnabled=d.userZoomingEnabled,R.zoom=d.zoom,R.minZoom=d.minZoom,R.maxZoom=d.maxZoom,R.panningEnabled=d.panningEnabled,R.userPanningEnabled=d.userPanningEnabled,R.pan=vo(d.pan),R.boxSelectionEnabled=d.boxSelectionEnabled,R.renderer=vo(F.renderer),R.hideEdgesOnViewport=F.hideEdgesOnViewport,R.textureOnViewport=F.textureOnViewport,R.wheelSensitivity=F.wheelSensitivity,R.motionBlur=F.motionBlur,R.multiClickDebounceTime=F.multiClickDebounceTime,R}}),sf.$id=sf.getElementById,[lu,ET,nf,Jl,ag,zC,xo,md,yy,ec,yd].forEach(function(c){qt(sf,c)});var jC={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,u){return!0},ready:void 0,stop:void 0,transform:function(o,u){return u}},hl=function(o){return o.scratch("breadthfirst")},bd=function(o,u){return o.scratch("breadthfirst",u)};function UC(c){this.options=qt({},jC,c)}UC.prototype.run=function(){var _,c=this.options,o=c,u=c.cy,d=o.eles,f=d.nodes().filter(function(wt){return!wt.isParent()}),p=d,g=o.directed,y=o.maximal||o.maximalAdjustments>0,b=Wr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()});if(je(o.roots))_=o.roots;else if(Mt(o.roots)){for(var w=[],x=0;x<o.roots.length;x++){var S=u.getElementById(o.roots[x]);w.push(S)}_=u.collection(w)}else if(Ae(o.roots))_=u.$(o.roots);else if(g)_=f.roots();else{var M=d.components();_=u.collection();for(var T=function(mt){var Ut=M[mt],Ft=Ut.maxDegree(!1),Dt=Ut.filter(function(Vt){return Vt.degree(!1)===Ft});_=_.add(Dt)},I=0;I<M.length;I++)T(I)}var R=[],F={},L=function(mt,Ut){null==R[Ut]&&(R[Ut]=[]);var Ft=R[Ut].length;R[Ut].push(mt),bd(mt,{index:Ft,depth:Ut})};p.bfs({roots:_,directed:o.directed,visit:function(mt,Ut,Ft,Dt,Vt){var Un=mt[0],Dn=Un.id();L(Un,Vt),F[Dn]=!0}});for(var K=[],Z=0;Z<f.length;Z++){var H=f[Z];F[H.id()]||K.push(H)}var Y=function(mt){for(var Ut=R[mt],Ft=0;Ft<Ut.length;Ft++){var Dt=Ut[Ft];null!=Dt?bd(Dt,{depth:mt,index:Ft}):(Ut.splice(Ft,1),Ft--)}},U=function(){for(var mt=0;mt<R.length;mt++)Y(mt)},X=function(mt,Ut){for(var Ft=hl(mt),Dt=mt.incomers().filter(function(G){return G.isNode()&&d.has(G)}),Vt=-1,Un=mt.id(),Dn=0;Dn<Dt.length;Dn++){var lt=hl(Dt[Dn]);Vt=Math.max(Vt,lt.depth)}return Ft.depth<=Vt&&(Ut[Un]?null:(function(mt,Ut){var Ft=hl(mt);R[Ft.depth][Ft.index]=null,L(mt,Ut)}(mt,Vt+1),Ut[Un]=!0,!0))};if(g&&y){var J=[],W={},oe=function(mt){return J.push(mt)};for(f.forEach(function(wt){return J.push(wt)});J.length>0;){var ge=J.shift(),ae=X(ge,W);if(ae)ge.outgoers().filter(function(wt){return wt.isNode()&&d.has(wt)}).forEach(oe);else if(null===ae){ti("Detected double maximal shift for node `"+ge.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}U();var ce=0;if(o.avoidOverlap)for(var be=0;be<f.length;be++){var Re=f[be].layoutDimensions(o);ce=Math.max(ce,Re.w,Re.h)}var Ge={},Ke=function(mt){if(Ge[mt.id()])return Ge[mt.id()];for(var Ut=hl(mt).depth,Ft=mt.neighborhood(),Dt=0,Vt=0,Un=0;Un<Ft.length;Un++){var Dn=Ft[Un];if(!Dn.isEdge()&&!Dn.isParent()&&f.has(Dn)){var en=hl(Dn);if(null!=en){var lt=en.index,G=en.depth;null!=lt&&null!=G&&G<Ut&&(Dt+=lt/R[G].length,Vt++)}}}return Dt/=Vt=Math.max(1,Vt),0===Vt&&(Dt=0),Ge[mt.id()]=Dt,Dt},Ue=function(mt,Ut){var Vt=Ke(mt)-Ke(Ut);return 0===Vt?io(mt.id(),Ut.id()):Vt};void 0!==o.depthSort&&(Ue=o.depthSort);for(var Ie=0;Ie<R.length;Ie++)R[Ie].sort(Ue),Y(Ie);for(var ve=[],We=0;We<K.length;We++)ve.push(K[We]);R.unshift(ve),U();for(var Xe=0,tt=0;tt<R.length;tt++)Xe=Math.max(R[tt].length,Xe);var gt_x=b.x1+b.w/2,gt_y=b.x1+b.h/2,nn=R.reduce(function(wt,mt){return Math.max(wt,mt.length)},0);return d.nodes().layoutPositions(this,o,function(mt){var Ut=hl(mt),Ft=Ut.depth,Dt=Ut.index,Vt=R[Ft].length,Un=Math.max(b.w/((o.grid?nn:Vt)+1),ce),Dn=Math.max(b.h/(R.length+1),ce),en=Math.min(b.w/2/R.length,b.h/2/R.length);if(en=Math.max(en,ce),o.circle){var G=en*Ft+en-(R.length>0&&R[0].length<=3?en/2:0),Me=2*Math.PI/R[Ft].length*Dt;return 0===Ft&&1===R[0].length&&(G=1),{x:gt_x+G*Math.cos(Me),y:gt_y+G*Math.sin(Me)}}return{x:gt_x+(Dt+1-(Vt+1)/2)*Un,y:(Ft+1)*Dn}}),this};var wd={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,u){return!0},ready:void 0,stop:void 0,transform:function(o,u){return u}};function af(c){this.options=qt({},wd,c)}af.prototype.run=function(){var c=this.options,o=c,u=c.cy,d=o.eles,f=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,p=d.nodes().not(":parent");o.sort&&(p=p.sort(o.sort));for(var w,g=Wr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()}),y={x:g.x1+g.w/2,y:g.y1+g.h/2},_=(void 0===o.sweep?2*Math.PI-2*Math.PI/p.length:o.sweep)/Math.max(1,p.length-1),x=0,E=0;E<p.length;E++){var M=p[E].layoutDimensions(o);x=Math.max(x,M.w,M.h)}if(w=Pe(o.radius)?o.radius:p.length<=1?0:Math.min(g.h,g.w)/2-x,p.length>1&&o.avoidOverlap){x*=1.75;var R=Math.cos(_)-Math.cos(0),F=Math.sin(_)-Math.sin(0),L=Math.sqrt(x*x/(R*R+F*F));w=Math.max(L,w)}return d.nodes().layoutPositions(this,o,function(Z,H){var Y=o.startAngle+H*_*(f?1:-1),U=w*Math.cos(Y),X=w*Math.sin(Y);return{x:y.x+U,y:y.y+X}}),this};var lf={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(o){return o.degree()},levelWidth:function(o){return o.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,u){return!0},ready:void 0,stop:void 0,transform:function(o,u){return u}};function _y(c){this.options=qt({},lf,c)}_y.prototype.run=function(){for(var c=this.options,o=c,u=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,d=c.cy,f=o.eles,p=f.nodes().not(":parent"),g=Wr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()}),y={x:g.x1+g.w/2,y:g.y1+g.h/2},b=[],_=0,w=0;w<p.length;w++){var E,x=p[w];E=o.concentric(x),b.push({value:E,node:x}),x._private.scratch.concentric=E}p.updateStyle();for(var S=0;S<p.length;S++){var T=p[S].layoutDimensions(o);_=Math.max(_,T.w,T.h)}b.sort(function(wt,mt){return mt.value-wt.value});for(var I=o.levelWidth(p),R=[[]],F=R[0],L=0;L<b.length;L++){var z=b[L];F.length>0&&Math.abs(F[0].value-z.value)>=I&&R.push(F=[]),F.push(z)}var Z=_+o.minNodeSpacing;if(!o.avoidOverlap){var H=R.length>0&&R[0].length>1,Y=Math.min(g.w,g.h)/2-Z;Z=Math.min(Z,Y/(R.length+H?1:0))}for(var X=0,J=0;J<R.length;J++){var W=R[J],oe=void 0===o.sweep?2*Math.PI-2*Math.PI/W.length:o.sweep,Q=W.dTheta=oe/Math.max(1,W.length-1);if(W.length>1&&o.avoidOverlap){var ge=Math.cos(Q)-Math.cos(0),ae=Math.sin(Q)-Math.sin(0),ce=Math.sqrt(Z*Z/(ge*ge+ae*ae));X=Math.max(ce,X)}W.r=X,X+=Z}if(o.equidistant){for(var be=0,Se=0,Re=0;Re<R.length;Re++)be=Math.max(be,R[Re].r-Se);Se=0;for(var Ge=0;Ge<R.length;Ge++){var Ke=R[Ge];0===Ge&&(Se=Ke.r),Ke.r=Se,Se+=be}}for(var Ue={},Ie=0;Ie<R.length;Ie++)for(var ve=R[Ie],We=ve.dTheta,Xe=ve.r,tt=0;tt<ve.length;tt++){var gt=ve[tt],nn=o.startAngle+(u?1:-1)*We*tt,vn={x:y.x+Xe*Math.cos(nn),y:y.y+Xe*Math.sin(nn)};Ue[gt.node.id()]=vn}return f.nodes().layoutPositions(this,o,function(wt){var mt=wt.id();return Ue[mt]}),this};var ug,GC={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(o,u){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(o){return 2048},nodeOverlap:4,idealEdgeLength:function(o){return 32},edgeElasticity:function(o){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Cd(c){this.options=qt({},GC,c),this.options.layout=this}Cd.prototype.run=function(){var c=this.options,o=c.cy,u=this;u.stopped=!1,(!0===c.animate||!1===c.animate)&&u.emit({type:"layoutstart",layout:u}),ug=!0===c.debug;var d=xd(o,u,c);ug&&(void 0)(d),c.randomize&&by(d);var f=Ls(),p=function(){dg(d,o,c),!0===c.fit&&o.fit(c.padding)},g=function(E){return!(u.stopped||E>=c.numIter||(Dd(d,c),d.temperature=d.temperature*c.coolingFactor,d.temperature<c.minTemp))},y=function(){if(!0===c.animate||!1===c.animate)p(),u.one("layoutstop",c.stop),u.emit({type:"layoutstop",layout:u});else{var E=c.eles.nodes(),S=bi(d,c,E);E.layoutPositions(u,c,S)}},b=0,_=!0;if(!0===c.animate)!function x(){for(var E=0;_&&E<c.refresh;)_=g(b),b++,E++;_?(Ls()-f>=c.animationThreshold&&p(),Qa(x)):(fg(d,c),y())}();else{for(;_;)_=g(b),b++;fg(d,c),y()}return this},Cd.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Cd.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var xd=function(o,u,d){for(var f=d.eles.edges(),p=d.eles.nodes(),g={isCompound:o.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:p.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:f.size(),temperature:d.initialTemp,clientWidth:o.width(),clientHeight:o.width(),boundingBox:Wr(d.boundingBox?d.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()})},y=d.eles.components(),b={},_=0;_<y.length;_++)for(var w=y[_],x=0;x<w.length;x++)b[w[x].id()]=_;for(_=0;_<g.nodeSize;_++){var M=(S=p[_]).layoutDimensions(d);(T={}).isLocked=S.locked(),T.id=S.data("id"),T.parentId=S.data("parent"),T.cmptId=b[S.id()],T.children=[],T.positionX=S.position("x"),T.positionY=S.position("y"),T.offsetX=0,T.offsetY=0,T.height=M.w,T.width=M.h,T.maxX=T.positionX+T.width/2,T.minX=T.positionX-T.width/2,T.maxY=T.positionY+T.height/2,T.minY=T.positionY-T.height/2,T.padLeft=parseFloat(S.style("padding")),T.padRight=parseFloat(S.style("padding")),T.padTop=parseFloat(S.style("padding")),T.padBottom=parseFloat(S.style("padding")),T.nodeRepulsion=ft(d.nodeRepulsion)?d.nodeRepulsion(S):d.nodeRepulsion,g.layoutNodes.push(T),g.idToIndex[T.id]=_}var I=[],R=0,F=-1,L=[];for(_=0;_<g.nodeSize;_++){var S,z=(S=g.layoutNodes[_]).parentId;null!=z?g.layoutNodes[g.idToIndex[z]].children.push(S.id):(I[++F]=S.id,L.push(S.id))}for(g.graphSet.push(L);R<=F;){var K=I[R++],H=g.layoutNodes[g.idToIndex[K]].children;if(H.length>0)for(g.graphSet.push(H),_=0;_<H.length;_++)I[++F]=H[_]}for(_=0;_<g.graphSet.length;_++){var Y=g.graphSet[_];for(x=0;x<Y.length;x++)g.indexToGraph[g.idToIndex[Y[x]]]=_}for(_=0;_<g.edgeSize;_++){var X=f[_],J={};J.id=X.data("id"),J.sourceId=X.data("source"),J.targetId=X.data("target");var W=ft(d.idealEdgeLength)?d.idealEdgeLength(X):d.idealEdgeLength,oe=ft(d.edgeElasticity)?d.edgeElasticity(X):d.edgeElasticity,Q=g.idToIndex[J.sourceId],ge=g.idToIndex[J.targetId];if(g.indexToGraph[Q]!=g.indexToGraph[ge]){for(var be=du(J.sourceId,J.targetId,g),Se=g.graphSet[be],Re=0,T=g.layoutNodes[Q];-1===Se.indexOf(T.id);)T=g.layoutNodes[g.idToIndex[T.parentId]],Re++;for(T=g.layoutNodes[ge];-1===Se.indexOf(T.id);)T=g.layoutNodes[g.idToIndex[T.parentId]],Re++;W*=Re*d.nestingFactor}J.idealLength=W,J.elasticity=oe,g.layoutEdges.push(J)}return g},du=function(o,u,d){var f=WC(o,u,0,d);return 2>f.count?0:f.graph},WC=function c(o,u,d,f){var p=f.graphSet[d];if(-1<p.indexOf(o)&&-1<p.indexOf(u))return{count:2,graph:d};for(var g=0,y=0;y<p.length;y++){var w=f.layoutNodes[f.idToIndex[p[y]]].children;if(0!==w.length){var E=c(o,u,f.indexToGraph[f.idToIndex[w[0]]],f);if(0!==E.count){if(1!==E.count)return E;if(2==++g)break}}}return{count:g,graph:d}},by=function(o,u){for(var d=o.clientWidth,f=o.clientHeight,p=0;p<o.nodeSize;p++){var g=o.layoutNodes[p];0===g.children.length&&!g.isLocked&&(g.positionX=Math.random()*d,g.positionY=Math.random()*f)}},bi=function(o,u,d){var f=o.boundingBox,p={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return u.boundingBox&&(d.forEach(function(g){var y=o.layoutNodes[o.idToIndex[g.data("id")]];p.x1=Math.min(p.x1,y.positionX),p.x2=Math.max(p.x2,y.positionX),p.y1=Math.min(p.y1,y.positionY),p.y2=Math.max(p.y2,y.positionY)}),p.w=p.x2-p.x1,p.h=p.y2-p.y1),function(g,y){var b=o.layoutNodes[o.idToIndex[g.data("id")]];return u.boundingBox?{x:f.x1+(b.positionX-p.x1)/p.w*f.w,y:f.y1+(b.positionY-p.y1)/p.h*f.h}:{x:b.positionX,y:b.positionY}}},dg=function(o,u,d){var f=d.layout,p=d.eles.nodes(),g=bi(o,d,p);p.positions(g),!0!==o.ready&&(o.ready=!0,f.one("layoutready",d.ready),f.emit({type:"layoutready",layout:this}))},Dd=function(o,u,d){qC(o,u),Cy(o),fl(o,u),YC(o),xy(o)},qC=function(o,u){for(var d=0;d<o.graphSet.length;d++)for(var f=o.graphSet[d],p=f.length,g=0;g<p;g++)for(var y=o.layoutNodes[o.idToIndex[f[g]]],b=g+1;b<p;b++)KC(y,o.layoutNodes[o.idToIndex[f[b]]],o,u)},wy=function(o){return-o+2*o*Math.random()},KC=function(o,u,d,f){if(o.cmptId===u.cmptId||d.isCompound){var y=u.positionX-o.positionX,b=u.positionY-o.positionY;0===y&&0===b&&(y=wy(1),b=wy(1));var w=hg(o,u,y,b);if(w>0)var S=(x=f.nodeOverlap*w)*y/(E=Math.sqrt(y*y+b*b)),M=x*b/E;else{var x,T=qs(o,y,b),I=qs(u,-1*y,-1*b),R=I.x-T.x,F=I.y-T.y,L=R*R+F*F,E=Math.sqrt(L);S=(x=(o.nodeRepulsion+u.nodeRepulsion)/L)*R/E,M=x*F/E}o.isLocked||(o.offsetX-=S,o.offsetY-=M),u.isLocked||(u.offsetX+=S,u.offsetY+=M)}},hg=function(o,u,d,f){if(d>0)var p=o.maxX-u.minX;else p=u.maxX-o.minX;if(f>0)var g=o.maxY-u.minY;else g=u.maxY-o.minY;return p>=0&&g>=0?Math.sqrt(p*p+g*g):0},qs=function(o,u,d){var f=o.positionX,p=o.positionY,g=o.height||1,y=o.width||1,b=d/u,_=g/y,w={};return 0===u&&0<d||0===u&&0>d?(w.x=f,w.y=p+g/2,w):0<u&&-1*_<=b&&b<=_?(w.x=f+y/2,w.y=p+y*d/2/u,w):0>u&&-1*_<=b&&b<=_?(w.x=f-y/2,w.y=p-y*d/2/u,w):0<d&&(b<=-1*_||b>=_)?(w.x=f+g*u/2/d,w.y=p+g/2,w):(0>d&&(b<=-1*_||b>=_)&&(w.x=f-g*u/2/d,w.y=p-g/2),w)},Cy=function(o,u){for(var d=0;d<o.edgeSize;d++){var f=o.layoutEdges[d],g=o.layoutNodes[o.idToIndex[f.sourceId]],b=o.layoutNodes[o.idToIndex[f.targetId]],_=b.positionX-g.positionX,w=b.positionY-g.positionY;if(0!==_||0!==w){var x=qs(g,_,w),E=qs(b,-1*_,-1*w),S=E.x-x.x,M=E.y-x.y,T=Math.sqrt(S*S+M*M),I=Math.pow(f.idealLength-T,2)/f.elasticity;if(0!==T)var R=I*S/T,F=I*M/T;else R=0,F=0;g.isLocked||(g.offsetX+=R,g.offsetY+=F),b.isLocked||(b.offsetX-=R,b.offsetY-=F)}}},fl=function(o,u){if(0!==u.gravity)for(var f=0;f<o.graphSet.length;f++){var p=o.graphSet[f],g=p.length;if(0===f)var y=o.clientHeight/2,b=o.clientWidth/2;else{var w=o.layoutNodes[o.idToIndex[o.layoutNodes[o.idToIndex[p[0]]].parentId]];y=w.positionX,b=w.positionY}for(var x=0;x<g;x++){var E=o.layoutNodes[o.idToIndex[p[x]]];if(!E.isLocked){var S=y-E.positionX,M=b-E.positionY,T=Math.sqrt(S*S+M*M);if(T>1){var R=u.gravity*M/T;E.offsetX+=u.gravity*S/T,E.offsetY+=R}}}}},YC=function(o,u){var d=[],f=0,p=-1;for(d.push.apply(d,o.graphSet[0]),p+=o.graphSet[0].length;f<=p;){var g=d[f++],b=o.layoutNodes[o.idToIndex[g]],_=b.children;if(0<_.length&&!b.isLocked){for(var w=b.offsetX,x=b.offsetY,E=0;E<_.length;E++){var S=o.layoutNodes[o.idToIndex[_[E]]];S.offsetX+=w,S.offsetY+=x,d[++p]=_[E]}b.offsetX=0,b.offsetY=0}}},xy=function(o,u){for(var d=0;d<o.nodeSize;d++)0<(f=o.layoutNodes[d]).children.length&&(f.maxX=void 0,f.minX=void 0,f.maxY=void 0,f.minY=void 0);for(d=0;d<o.nodeSize;d++)if(!(0<(f=o.layoutNodes[d]).children.length||f.isLocked)){var p=Ed(f.offsetX,f.offsetY,o.temperature);f.positionX+=p.x,f.positionY+=p.y,f.offsetX=0,f.offsetY=0,f.minX=f.positionX-f.width,f.maxX=f.positionX+f.width,f.minY=f.positionY-f.height,f.maxY=f.positionY+f.height,cf(f,o)}for(d=0;d<o.nodeSize;d++){var f;0<(f=o.layoutNodes[d]).children.length&&!f.isLocked&&(f.positionX=(f.maxX+f.minX)/2,f.positionY=(f.maxY+f.minY)/2,f.width=f.maxX-f.minX,f.height=f.maxY-f.minY)}},Ed=function(o,u,d){var f=Math.sqrt(o*o+u*u);if(f>d)var p={x:d*o/f,y:d*u/f};else p={x:o,y:u};return p},cf=function c(o,u){var d=o.parentId;if(null!=d){var f=u.layoutNodes[u.idToIndex[d]],p=!1;if((null==f.maxX||o.maxX+f.padRight>f.maxX)&&(f.maxX=o.maxX+f.padRight,p=!0),(null==f.minX||o.minX-f.padLeft<f.minX)&&(f.minX=o.minX-f.padLeft,p=!0),(null==f.maxY||o.maxY+f.padBottom>f.maxY)&&(f.maxY=o.maxY+f.padBottom,p=!0),(null==f.minY||o.minY-f.padTop<f.minY)&&(f.minY=o.minY-f.padTop,p=!0),p)return c(f,u)}},fg=function(o,u){for(var d=o.layoutNodes,f=[],p=0;p<d.length;p++){var g=d[p],y=g.cmptId;(f[y]=f[y]||[]).push(g)}var _=0;for(p=0;p<f.length;p++)if(w=f[p]){w.x1=1/0,w.x2=-1/0,w.y1=1/0,w.y2=-1/0;for(var x=0;x<w.length;x++){var E=w[x];w.x1=Math.min(w.x1,E.positionX-E.width/2),w.x2=Math.max(w.x2,E.positionX+E.width/2),w.y1=Math.min(w.y1,E.positionY-E.height/2),w.y2=Math.max(w.y2,E.positionY+E.height/2)}w.w=w.x2-w.x1,w.h=w.y2-w.y1,_+=w.w*w.h}f.sort(function(F,L){return L.w*L.h-F.w*F.h});var S=0,M=0,T=0,I=0,R=Math.sqrt(_)*o.clientWidth/o.clientHeight;for(p=0;p<f.length;p++){var w;if(w=f[p]){for(x=0;x<w.length;x++)(E=w[x]).isLocked||(E.positionX+=S-w.x1,E.positionY+=M-w.y1);S+=w.w+u.componentSpacing,T+=w.w+u.componentSpacing,I=Math.max(I,w.h),T>R&&(M+=I+u.componentSpacing,S=0,T=0,I=0)}}},ZC={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(o){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,u){return!0},ready:void 0,stop:void 0,transform:function(o,u){return u}};function Dy(c){this.options=qt({},ZC,c)}Dy.prototype.run=function(){var c=this.options,o=c,u=c.cy,d=o.eles,f=d.nodes().not(":parent");o.sort&&(f=f.sort(o.sort));var p=Wr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()});if(0===p.h||0===p.w)d.nodes().layoutPositions(this,o,function(Ge){return{x:p.x1,y:p.y1}});else{var g=f.size(),y=Math.sqrt(g*p.h/p.w),b=Math.round(y),_=Math.round(p.w/p.h*y),w=function(Ke){if(null==Ke)return Math.min(b,_);Math.min(b,_)==b?b=Ke:_=Ke},x=function(Ke){if(null==Ke)return Math.max(b,_);Math.max(b,_)==b?b=Ke:_=Ke},E=o.rows,S=null!=o.cols?o.cols:o.columns;if(null!=E&&null!=S)b=E,_=S;else if(null!=E&&null==S)b=E,_=Math.ceil(g/b);else if(null==E&&null!=S)_=S,b=Math.ceil(g/_);else if(_*b>g){var M=w(),T=x();(M-1)*T>=g?w(M-1):(T-1)*M>=g&&x(T-1)}else for(;_*b<g;){var I=w(),R=x();(R+1)*I>=g?x(R+1):w(I+1)}var F=p.w/_,L=p.h/b;if(o.condense&&(F=0,L=0),o.avoidOverlap)for(var z=0;z<f.length;z++){var K=f[z],Z=K._private.position;(null==Z.x||null==Z.y)&&(Z.x=0,Z.y=0);var H=K.layoutDimensions(o),Y=o.avoidOverlapPadding,X=H.h+Y;F=Math.max(F,H.w+Y),L=Math.max(L,X)}for(var J={},W=function(Ke,Ue){return!!J["c-"+Ke+"-"+Ue]},oe=function(Ke,Ue){J["c-"+Ke+"-"+Ue]=!0},Q=0,ge=0,ae=function(){++ge>=_&&(ge=0,Q++)},ce={},be=0;be<f.length;be++){var Se=f[be],Re=o.position(Se);if(Re&&(void 0!==Re.row||void 0!==Re.col)){var De={row:Re.row,col:Re.col};if(void 0===De.col)for(De.col=0;W(De.row,De.col);)De.col++;else if(void 0===De.row)for(De.row=0;W(De.row,De.col);)De.row++;ce[Se.id()]=De,oe(De.row,De.col)}}f.layoutPositions(this,o,function(Ke,Ue){var Ie,ve;if(Ke.locked()||Ke.isParent())return!1;var We=ce[Ke.id()];if(We)Ie=We.col*F+F/2+p.x1,ve=We.row*L+L/2+p.y1;else{for(;W(Q,ge);)ae();Ie=ge*F+F/2+p.x1,ve=Q*L+L/2+p.y1,oe(Q,ge),ae()}return{x:Ie,y:ve}})}return this};var hu={ready:function(){},stop:function(){}};function tc(c){this.options=qt({},hu,c)}tc.prototype.run=function(){var c=this.options,o=c.eles,u=this;return u.emit("layoutstart"),o.nodes().positions(function(){return{x:0,y:0}}),u.one("layoutready",c.ready),u.emit("layoutready"),u.one("layoutstop",c.stop),u.emit("layoutstop"),this},tc.prototype.stop=function(){return this};var XC={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,u){return!0},ready:void 0,stop:void 0,transform:function(o,u){return u}};function QC(c){this.options=qt({},XC,c)}QC.prototype.run=function(){var c=this.options,u=c.eles.nodes(),d=ft(c.positions);return u.layoutPositions(this,c,function(p,g){var y=function f(p){return null==c.positions?function(o){return{x:o.x,y:o.y}}(p.position()):d?c.positions(p):c.positions[p._private.data.id]??null}(p);return!p.locked()&&null!=y&&y}),this};var Ey={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,u){return!0},ready:void 0,stop:void 0,transform:function(o,u){return u}};function Sy(c){this.options=qt({},Ey,c)}Sy.prototype.run=function(){var c=this.options,o=c.cy,u=c.eles,d=Wr(c.boundingBox?c.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});return u.nodes().layoutPositions(this,c,function(g,y){return{x:d.x1+Math.round(Math.random()*d.w),y:d.y1+Math.round(Math.random()*d.h)}}),this};var MT=[{name:"breadthfirst",impl:UC},{name:"circle",impl:af},{name:"concentric",impl:_y},{name:"cose",impl:Cd},{name:"grid",impl:Dy},{name:"null",impl:tc},{name:"preset",impl:QC},{name:"random",impl:Sy}];function My(c){this.options=c,this.notifications=0}var Ay=function(){},Ty=function(){throw new Error("A headless instance can not render images")};My.prototype={recalculateRenderedStyle:Ay,notify:function(){this.notifications++},init:Ay,isHeadless:function(){return!0},png:Ty,jpg:Ty};var fu={arrowShapeWidth:.3,registerArrowShapes:function(){var c=this.arrowShapes={},o=this,u=function(_,w,x,E,S,M,T){return S.x-x/2-T<=_&&_<=S.x+x/2+T&&S.y-x/2-T<=w&&w<=S.y+x/2+T},d=function(_,w,x,E,S){var M=_*Math.cos(E)-w*Math.sin(E),T=_*Math.sin(E)+w*Math.cos(E);return{x:M*x+S.x,y:T*x+S.y}},f=function(_,w,x,E){for(var S=[],M=0;M<_.length;M+=2)S.push(d(_[M],_[M+1],w,x,E));return S},p=function(_){for(var w=[],x=0;x<_.length;x++){var E=_[x];w.push(E.x,E.y)}return w},g=function(_){return _.pstyle("width").pfValue*_.pstyle("arrow-scale").pfValue*2},y=function(_,w){Ae(w)&&(w=c[w]),c[_]=qt({name:_,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(E,S,M,T,I,R){var F=p(f(this.points,M+2*R,T,I));return Bs(E,S,F)},roughCollide:u,draw:function(E,S,M,T){var I=f(this.points,S,M,T);o.arrowShapeImpl("polygon")(E,I)},spacing:function(E){return 0},gap:g},w)};y("none",{collide:Lp,roughCollide:Lp,draw:Eh,spacing:Hv,gap:Hv}),y("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),y("arrow","triangle"),y("triangle-backcurve",{points:c.triangle.points,controlPoint:[0,-.15],roughCollide:u,draw:function(_,w,x,E,S){var M=f(this.points,w,x,E),T=this.controlPoint,I=d(T[0],T[1],w,x,E);o.arrowShapeImpl(this.name)(_,M,I)},gap:function(_){return.8*g(_)}}),y("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(_,w,x,E,S,M,T){var I=p(f(this.points,x+2*T,E,S)),R=p(f(this.pointsTee,x+2*T,E,S));return Bs(_,w,I)||Bs(_,w,R)},draw:function(_,w,x,E,S){var M=f(this.points,w,x,E),T=f(this.pointsTee,w,x,E);o.arrowShapeImpl(this.name)(_,M,T)}}),y("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(_,w,x,E,S,M,T){var I=S,R=Math.pow(I.x-_,2)+Math.pow(I.y-w,2)<=Math.pow((x+2*T)*this.radius,2),F=p(f(this.points,x+2*T,E,S));return Bs(_,w,F)||R},draw:function(_,w,x,E,S){var M=f(this.pointsTr,w,x,E);o.arrowShapeImpl(this.name)(_,M,E.x,E.y,this.radius*w)},spacing:function(_){return o.getArrowWidth(_.pstyle("width").pfValue,_.pstyle("arrow-scale").value)*this.radius}}),y("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(_,w){var x=this.baseCrossLinePts.slice(),E=w/_;return x[3]=x[3]-E,x[5]=x[5]-E,x},collide:function(_,w,x,E,S,M,T){var I=p(f(this.points,x+2*T,E,S)),R=p(f(this.crossLinePts(x,M),x+2*T,E,S));return Bs(_,w,I)||Bs(_,w,R)},draw:function(_,w,x,E,S){var M=f(this.points,w,x,E),T=f(this.crossLinePts(w,S),w,x,E);o.arrowShapeImpl(this.name)(_,M,T)}}),y("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(_){return.525*g(_)}}),y("circle",{radius:.15,collide:function(_,w,x,E,S,M,T){var I=S;return Math.pow(I.x-_,2)+Math.pow(I.y-w,2)<=Math.pow((x+2*T)*this.radius,2)},draw:function(_,w,x,E,S){o.arrowShapeImpl(this.name)(_,E.x,E.y,this.radius*w)},spacing:function(_){return o.getArrowWidth(_.pstyle("width").pfValue,_.pstyle("arrow-scale").value)*this.radius}}),y("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(_){return 1},gap:function(_){return 1}}),y("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),y("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(_){return _.pstyle("width").pfValue*_.pstyle("arrow-scale").value}}),y("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(_){return.95*_.pstyle("width").pfValue*_.pstyle("arrow-scale").value}})}},pl={projectIntoViewport:function(c,o){var u=this.cy,d=this.findContainerClientCoords(),f=d[0],p=d[1],g=d[4],y=u.pan(),b=u.zoom();return[((c-f)/g-y.x)/b,((o-p)/g-y.y)/b]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var c=this.container,o=c.getBoundingClientRect(),u=Tt.getComputedStyle(c),d=function(R){return parseFloat(u.getPropertyValue(R))},f_left=d("padding-left"),f_right=d("padding-right"),f_top=d("padding-top"),f_bottom=d("padding-bottom"),p_left=d("border-left-width"),p_right=d("border-right-width"),p_top=d("border-top-width"),g=(d("border-bottom-width"),c.clientWidth);return this.containerBB=[o.left+f_left+p_left,o.top+f_top+p_top,g-(f_left+f_right),c.clientHeight-(f_top+f_bottom),o.width/(g+(p_left+p_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(c,o,u,d){return this.findNearestElements(c,o,u,d)[0]},findNearestElements:function(c,o,u,d){var M,T,f=this,p=this,g=p.getCachedZSortedEles(),y=[],b=p.cy.zoom(),_=p.cy.hasCompoundNodes(),w=(d?24:8)/b,x=(d?8:2)/b,E=(d?8:2)/b,S=1/0;function I(H,Y){if(H.isNode()){if(T)return;T=H,y.push(H)}if(H.isEdge()&&(null==Y||Y<S))if(M){if(M.pstyle("z-compound-depth").value===H.pstyle("z-compound-depth").value&&M.pstyle("z-compound-depth").value===H.pstyle("z-compound-depth").value)for(var U=0;U<y.length;U++)if(y[U].isEdge()){y[U]=H,M=H,S=Y??S;break}}else y.push(H),M=H,S=Y??S}function R(H){var Y=H.outerWidth()+2*x,U=H.outerHeight()+2*x,X=Y/2,J=U/2,W=H.position();if(W.x-X<=c&&c<=W.x+X&&W.y-J<=o&&o<=W.y+J&&p.nodeShapes[f.getNodeShape(H)].checkPoint(c,o,0,Y,U,W.x,W.y))return I(H,0),!0}function F(H){var ge,Y=H._private,U=Y.rscratch,X=H.pstyle("width").pfValue,J=H.pstyle("arrow-scale").value,W=X/2+w,oe=W*W,Q=2*W,be=Y.source,Se=Y.target;if("segments"===U.edgeType||"straight"===U.edgeType||"haystack"===U.edgeType){for(var ae=U.allpts,ce=0;ce+3<ae.length;ce+=2)if(so(c,o,ae[ce],ae[ce+1],ae[ce+2],ae[ce+3],Q)&&oe>(ge=rT(c,o,ae[ce],ae[ce+1],ae[ce+2],ae[ce+3])))return I(H,ge),!0}else if("bezier"===U.edgeType||"multibezier"===U.edgeType||"self"===U.edgeType||"compound"===U.edgeType)for(ae=U.allpts,ce=0;ce+5<U.allpts.length;ce+=4)if(Yv(c,o,ae[ce],ae[ce+1],ae[ce+2],ae[ce+3],ae[ce+4],ae[ce+5],Q)&&oe>(ge=yo(c,o,ae[ce],ae[ce+1],ae[ce+2],ae[ce+3],ae[ce+4],ae[ce+5])))return I(H,ge),!0;be=be||Y.source,Se=Se||Y.target;var Re=f.getArrowWidth(X,J),De=[{name:"source",x:U.arrowStartX,y:U.arrowStartY,angle:U.srcArrowAngle},{name:"target",x:U.arrowEndX,y:U.arrowEndY,angle:U.tgtArrowAngle},{name:"mid-source",x:U.midX,y:U.midY,angle:U.midsrcArrowAngle},{name:"mid-target",x:U.midX,y:U.midY,angle:U.midtgtArrowAngle}];for(ce=0;ce<De.length;ce++){var ke=De[ce],Ge=p.arrowShapes[H.pstyle(ke.name+"-arrow-shape").value],Ke=H.pstyle("width").pfValue;if(Ge.roughCollide(c,o,Re,ke.angle,{x:ke.x,y:ke.y},Ke,w)&&Ge.collide(c,o,Re,ke.angle,{x:ke.x,y:ke.y},Ke,w))return I(H),!0}_&&y.length>0&&(R(be),R(Se))}function L(H,Y,U){return di(H,Y,U)}function z(H,Y){var J,U=H._private,X=E;J=Y?Y+"-":"",H.boundingBox();var W=U.labelBounds[Y||"main"],oe=H.pstyle(J+"label").value;if("yes"===H.pstyle("text-events").strValue&&oe){var ge=L(U.rscratch,"labelX",Y),ae=L(U.rscratch,"labelY",Y),ce=L(U.rscratch,"labelAngle",Y),be=H.pstyle(J+"text-margin-x").pfValue,Se=H.pstyle(J+"text-margin-y").pfValue,Re=W.x1-X-be,De=W.x2+X-be,ke=W.y1-X-Se,Ge=W.y2+X-Se;if(ce){var Ke=Math.cos(ce),Ue=Math.sin(ce),Ie=function(vn,wt){return{x:(vn-=ge)*Ke-(wt-=ae)*Ue+ge,y:vn*Ue+wt*Ke+ae}},ve=Ie(Re,ke),We=Ie(Re,Ge),Xe=Ie(De,ke),tt=Ie(De,Ge);if(Bs(c,o,[ve.x+be,ve.y+Se,Xe.x+be,Xe.y+Se,tt.x+be,tt.y+Se,We.x+be,We.y+Se]))return I(H),!0}else if(Uc(W,c,o))return I(H),!0}}u&&(g=g.interactive);for(var K=g.length-1;K>=0;K--){var Z=g[K];Z.isNode()?R(Z)||z(Z):F(Z)||z(Z)||z(Z,"source")||z(Z,"target")}return y},getAllInBox:function(c,o,u,d){for(var f=this.getCachedZSortedEles().interactive,p=[],g=Math.min(c,u),y=Math.max(c,u),b=Math.min(o,d),_=Math.max(o,d),w=Wr({x1:c=g,y1:o=b,x2:u=y,y2:d=_}),x=0;x<f.length;x++){var E=f[x];if(E.isNode()){var S=E,M=S.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Ih(w,M)&&!Rh(M,w)&&p.push(S)}else{var T=E,I=T._private,R=I.rscratch;if(null!=R.startX&&null!=R.startY&&!Uc(w,R.startX,R.startY)||null!=R.endX&&null!=R.endY&&!Uc(w,R.endX,R.endY))continue;if("bezier"===R.edgeType||"multibezier"===R.edgeType||"self"===R.edgeType||"compound"===R.edgeType||"segments"===R.edgeType||"haystack"===R.edgeType){for(var F=I.rstyle.bezierPts||I.rstyle.linePts||I.rstyle.haystackPts,L=!0,z=0;z<F.length;z++)if(!Jt(w,F[z])){L=!1;break}L&&p.push(T)}else("haystack"===R.edgeType||"straight"===R.edgeType)&&p.push(T)}}return p}},uf={calculateArrowAngles:function(c){var b,_,w,x,E,S,o=c._private.rscratch,u="haystack"===o.edgeType,d="bezier"===o.edgeType,f="multibezier"===o.edgeType,p="segments"===o.edgeType,g="compound"===o.edgeType,y="self"===o.edgeType;u?(w=o.haystackPts[0],x=o.haystackPts[1],E=o.haystackPts[2],S=o.haystackPts[3]):(w=o.arrowStartX,x=o.arrowStartY,E=o.arrowEndX,S=o.arrowEndY),R=o.midX,F=o.midY,p?(b=w-o.segpts[0],_=x-o.segpts[1]):f||g||y||d?(b=w-Gr((M=o.allpts)[0],M[2],M[4],.1),_=x-Gr(M[1],M[3],M[5],.1)):(b=w-R,_=x-F),o.srcArrowAngle=Th(b,_);var R=o.midX,F=o.midY;if(u&&(R=(w+E)/2,F=(x+S)/2),b=E-w,_=S-x,p)if((M=o.allpts).length/2%2==0)b=M[L=M.length/2]-M[z=L-2],_=M[L+1]-M[z+1];else{var L,z,K=2+(L=M.length/2-1);b=M[L]-M[z=L-2],_=M[L+1]-M[z+1]}else if(f||g||y){var H,Y,U,X,W,J,oe,M=o.allpts;o.ctrlpts.length/2%2==0?(H=Gr(M[J=M.length/2-1],M[W=J+2],M[oe=W+2],0),Y=Gr(M[J+1],M[W+1],M[oe+1],0),U=Gr(M[J],M[W],M[oe],1e-4),X=Gr(M[J+1],M[W+1],M[oe+1],1e-4)):(H=Gr(M[J=(W=M.length/2-1)-2],M[W],M[oe=W+2],.4999),Y=Gr(M[J+1],M[W+1],M[oe+1],.4999),U=Gr(M[J],M[W],M[oe],.5),X=Gr(M[J+1],M[W+1],M[oe+1],.5)),b=U-H,_=X-Y}if(o.midtgtArrowAngle=Th(b,_),o.midDispX=b,o.midDispY=_,b*=-1,_*=-1,p&&(M=o.allpts).length/2%2!=0&&(b=-(M[K=2+(L=M.length/2-1)]-M[L]),_=-(M[K+1]-M[L+1])),o.midsrcArrowAngle=Th(b,_),p)b=E-o.segpts[o.segpts.length-2],_=S-o.segpts[o.segpts.length-1];else if(f||g||y||d){var Q=(M=o.allpts).length;b=E-Gr(M[Q-6],M[Q-4],M[Q-2],.9),_=S-Gr(M[Q-5],M[Q-3],M[Q-1],.9)}else b=E-R,_=S-F;o.tgtArrowAngle=Th(b,_)}};uf.getArrowWidth=uf.getArrowHeight=function(c,o){var u=this.arrowWidthCache=this.arrowWidthCache||{},d=u[c+", "+o];return d||(d=Math.max(Math.pow(13.37*c,.9),29)*o,u[c+", "+o]=d,d)};var os={};function JC(c){var o=[];if(null!=c){for(var u=0;u<c.length;u+=2)o.push({x:c[u],y:c[u+1]});return o}}os.findHaystackPoints=function(c){for(var o=0;o<c.length;o++){var u=c[o],d=u._private,f=d.rscratch;if(!f.haystack){var p=2*Math.random()*Math.PI;f.source={x:Math.cos(p),y:Math.sin(p)},p=2*Math.random()*Math.PI,f.target={x:Math.cos(p),y:Math.sin(p)}}var g=d.source,y=d.target,b=g.position(),_=y.position(),w=g.width(),x=y.width(),E=g.height(),S=y.height(),T=u.pstyle("haystack-radius").value/2;f.haystackPts=f.allpts=[f.source.x*w*T+b.x,f.source.y*E*T+b.y,f.target.x*x*T+_.x,f.target.y*S*T+_.y],f.midX=(f.allpts[0]+f.allpts[2])/2,f.midY=(f.allpts[1]+f.allpts[3])/2,f.edgeType="haystack",f.haystack=!0,this.storeEdgeProjections(u),this.calculateArrowAngles(u),this.recalculateEdgeLabelProjections(u),this.calculateLabelAngles(u)}},os.findSegmentsPoints=function(c,o){var u=c._private.rscratch,d=o.posPts,f=o.intersectionPts,p=o.vectorNormInverse,g=c.pstyle("edge-distances").value,y=c.pstyle("segment-weights"),b=c.pstyle("segment-distances"),_=Math.min(y.pfValue.length,b.pfValue.length);u.edgeType="segments",u.segpts=[];for(var w=0;w<_;w++){var x=y.pfValue[w],E=b.pfValue[w],S=1-x,T="node-position"===g?d:f,I={x:T.x1*S+T.x2*x,y:T.y1*S+T.y2*x};u.segpts.push(I.x+p.x*E,I.y+p.y*E)}},os.findLoopPoints=function(c,o,u,d){var f=c._private.rscratch,p=o.dirCounts,g=o.srcPos,y=c.pstyle("control-point-distances"),b=y?y.pfValue[0]:void 0,_=c.pstyle("loop-direction").pfValue,w=c.pstyle("loop-sweep").pfValue,x=c.pstyle("control-point-step-size").pfValue;f.edgeType="self";var E=u,S=x;d&&(E=0,S=b);var M=_-Math.PI/2,T=M-w/2,I=M+w/2,R=String(_+"_"+w);E=void 0===p[R]?p[R]=0:++p[R],f.ctrlpts=[g.x+1.4*Math.cos(T)*S*(E/3+1),g.y+1.4*Math.sin(T)*S*(E/3+1),g.x+1.4*Math.cos(I)*S*(E/3+1),g.y+1.4*Math.sin(I)*S*(E/3+1)]},os.findCompoundLoopPoints=function(c,o,u,d){var f=c._private.rscratch;f.edgeType="compound";var p=o.srcPos,g=o.tgtPos,y=o.srcW,b=o.srcH,_=o.tgtW,w=o.tgtH,x=c.pstyle("control-point-step-size").pfValue,E=c.pstyle("control-point-distances"),M=u,T=x;d&&(M=0,T=E?E.pfValue[0]:void 0);var R={x:p.x-y/2,y:p.y-b/2},F={x:g.x-_/2,y:g.y-w/2},L={x:Math.min(R.x,F.x),y:Math.min(R.y,F.y)},K=Math.max(.5,Math.log(.01*y)),Z=Math.max(.5,Math.log(.01*_));f.ctrlpts=[L.x,L.y-(1+Math.pow(50,1.12)/100)*T*(M/3+1)*K,L.x-(1+Math.pow(50,1.12)/100)*T*(M/3+1)*Z,L.y]},os.findStraightEdgePoints=function(c){c._private.rscratch.edgeType="straight"},os.findBezierPoints=function(c,o,u,d,f){var p=c._private.rscratch,g=o.vectorNormInverse,y=o.posPts,b=o.intersectionPts,_=c.pstyle("edge-distances").value,w=c.pstyle("control-point-step-size").pfValue,x=c.pstyle("control-point-distances"),E=c.pstyle("control-point-weights"),S=x&&E?Math.min(x.value.length,E.value.length):1,M=x?x.pfValue[0]:void 0,T=E.value[0],I=d;p.edgeType=I?"multibezier":"bezier",p.ctrlpts=[];for(var R=0;R<S;R++){var L,F=(.5-o.eles.length/2+u)*w*(f?-1:1),z=ws(F);I&&(M=x?x.pfValue[R]:w,T=E.value[R]);var K=void 0!==(L=d?M:void 0!==M?z*M:void 0)?L:F,Z=1-T,Y="node-position"===_?y:b,U={x:Y.x1*Z+Y.x2*T,y:Y.y1*Z+Y.y2*T};p.ctrlpts.push(U.x+g.x*K,U.y+g.y*K)}},os.findTaxiPoints=function(c,o){var u=c._private.rscratch;u.edgeType="segments";var d="vertical",f="horizontal",p="leftward",g="rightward",y="downward",b="upward",w=o.posPts,x=o.srcW,E=o.srcH,S=o.tgtW,M=o.tgtH,I="node-position"!==c.pstyle("edge-distances").value,R=c.pstyle("taxi-direction").value,F=R,L=c.pstyle("taxi-turn"),z="%"===L.units,K=L.pfValue,Z=K<0,H=c.pstyle("taxi-turn-min-distance").pfValue,U=I?(E+M)/2:0,X=w.x2-w.x1,J=w.y2-w.y1,W=function(Nt,ii){return Nt>0?Math.max(Nt-ii,0):Math.min(Nt+ii,0)},oe=W(X,I?(x+S)/2:0),Q=W(J,U),ge=!1;"auto"===F?R=Math.abs(oe)>Math.abs(Q)?f:d:F===b||F===y?(R=d,ge=!0):(F===p||F===g)&&(R=f,ge=!0);var De,ae=R===d,ce=ae?Q:oe,be=ae?J:X,Se=ws(be),Re=!1;(!ge||!z&&!Z)&&(F===y&&be<0||F===b&&be>0||F===p&&be>0||F===g&&be<0)&&(ce=(Se*=-1)*Math.abs(ce),Re=!0);var Ke=function(Nt){return Math.abs(Nt)<H||Math.abs(Nt)>=Math.abs(ce)},Ue=Ke(De=z?(K<0?1+K:K)*ce:(K<0?ce:0)+K*Se),Ie=Ke(Math.abs(ce)-Math.abs(De));if(!Ue&&!Ie||Re)if(ae){var G=w.y1+De+(I?E/2*Se:0);u.segpts=[w.x1,G,w.x2,G]}else{var He=w.x1+De+(I?x/2*Se:0);u.segpts=[He,w.y1,He,w.y2]}else if(ae){var We=Math.abs(be)<=E/2,Xe=Math.abs(X)<=S/2;if(We){var tt=(w.x1+w.x2)/2;u.segpts=[tt,w.y1,tt,w.y2]}else if(Xe){var vn=(w.y1+w.y2)/2;u.segpts=[w.x1,vn,w.x2,vn]}else u.segpts=[w.x1,w.y2]}else{var Ut=Math.abs(be)<=x/2,Ft=Math.abs(J)<=M/2;if(Ut){var Dt=(w.y1+w.y2)/2;u.segpts=[w.x1,Dt,w.x2,Dt]}else if(Ft){var Dn=(w.x1+w.x2)/2;u.segpts=[Dn,w.y1,Dn,w.y2]}else u.segpts=[w.x2,w.y1]}},os.tryToCorrectInvalidPoints=function(c,o){var u=c._private.rscratch;if("bezier"===u.edgeType){var d=o.srcPos,f=o.tgtPos,p=o.srcW,g=o.srcH,y=o.tgtW,b=o.tgtH,_=o.srcShape,w=o.tgtShape,x=!Pe(u.startX)||!Pe(u.startY),E=!Pe(u.arrowStartX)||!Pe(u.arrowStartY),S=!Pe(u.endX)||!Pe(u.endY),M=!Pe(u.arrowEndX)||!Pe(u.arrowEndY),R=this.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,F=Kn({x:u.ctrlpts[0],y:u.ctrlpts[1]},{x:u.startX,y:u.startY}),L=F<R,z=Kn({x:u.ctrlpts[0],y:u.ctrlpts[1]},{x:u.endX,y:u.endY}),K=z<R,Z=!1;if(x||E||L){Z=!0;var H={x:u.ctrlpts[0]-d.x,y:u.ctrlpts[1]-d.y},Y=Math.sqrt(H.x*H.x+H.y*H.y),U={x:H.x/Y,y:H.y/Y},X=Math.max(p,g),J={x:u.ctrlpts[0]+2*U.x*X,y:u.ctrlpts[1]+2*U.y*X},W=_.intersectLine(d.x,d.y,p,g,J.x,J.y,0);L?(u.ctrlpts[0]=u.ctrlpts[0]+U.x*(R-F),u.ctrlpts[1]=u.ctrlpts[1]+U.y*(R-F)):(u.ctrlpts[0]=W[0]+U.x*R,u.ctrlpts[1]=W[1]+U.y*R)}if(S||M||K){Z=!0;var oe={x:u.ctrlpts[0]-f.x,y:u.ctrlpts[1]-f.y},Q=Math.sqrt(oe.x*oe.x+oe.y*oe.y),ge={x:oe.x/Q,y:oe.y/Q},ae=Math.max(p,g),ce={x:u.ctrlpts[0]+2*ge.x*ae,y:u.ctrlpts[1]+2*ge.y*ae},be=w.intersectLine(f.x,f.y,y,b,ce.x,ce.y,0);K?(u.ctrlpts[0]=u.ctrlpts[0]+ge.x*(R-z),u.ctrlpts[1]=u.ctrlpts[1]+ge.y*(R-z)):(u.ctrlpts[0]=be[0]+ge.x*R,u.ctrlpts[1]=be[1]+ge.y*R)}Z&&this.findEndpoints(c)}},os.storeAllpts=function(c){var o=c._private.rscratch;if("multibezier"===o.edgeType||"bezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType){o.allpts=[],o.allpts.push(o.startX,o.startY);for(var u=0;u+1<o.ctrlpts.length;u+=2)o.allpts.push(o.ctrlpts[u],o.ctrlpts[u+1]),u+3<o.ctrlpts.length&&o.allpts.push((o.ctrlpts[u]+o.ctrlpts[u+2])/2,(o.ctrlpts[u+1]+o.ctrlpts[u+3])/2);var d;o.allpts.push(o.endX,o.endY),o.ctrlpts.length/2%2==0?(o.midX=o.allpts[d=o.allpts.length/2-1],o.midY=o.allpts[d+1]):(o.midX=Gr(o.allpts[d=o.allpts.length/2-3],o.allpts[d+2],o.allpts[d+4],.5),o.midY=Gr(o.allpts[d+1],o.allpts[d+3],o.allpts[d+5],.5))}else if("straight"===o.edgeType)o.allpts=[o.startX,o.startY,o.endX,o.endY],o.midX=(o.startX+o.endX+o.arrowStartX+o.arrowEndX)/4,o.midY=(o.startY+o.endY+o.arrowStartY+o.arrowEndY)/4;else if("segments"===o.edgeType)if(o.allpts=[],o.allpts.push(o.startX,o.startY),o.allpts.push.apply(o.allpts,o.segpts),o.allpts.push(o.endX,o.endY),o.segpts.length%4==0){var p=o.segpts.length/2,g=p-2;o.midX=(o.segpts[g]+o.segpts[p])/2,o.midY=(o.segpts[g+1]+o.segpts[p+1])/2}else{var y=o.segpts.length/2-1;o.midX=o.segpts[y],o.midY=o.segpts[y+1]}},os.checkForInvalidEdgeWarning=function(c){var o=c[0]._private.rscratch;o.nodesOverlap||Pe(o.startX)&&Pe(o.startY)&&Pe(o.endX)&&Pe(o.endY)?o.loggedErr=!1:o.loggedErr||(o.loggedErr=!0,ti("Edge `"+c.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},os.findEdgeControlPoints=function(c){var o=this;if(c&&0!==c.length){for(var u=this,f=u.cy.hasCompoundNodes(),p={map:new ro,get:function(H){var Y=this.map.get(H[0]);return null!=Y?Y.get(H[1]):null},set:function(H,Y){var U=this.map.get(H[0]);null==U&&(U=new ro,this.map.set(H[0],U)),U.set(H[1],Y)}},g=[],y=[],b=0;b<c.length;b++){var _=c[b],w=_._private,x=_.pstyle("curve-style").value;if(!_.removed()&&_.takesUpSpace()){if("haystack"===x){y.push(_);continue}var E="unbundled-bezier"===x||"segments"===x||"straight"===x||"straight-triangle"===x||"taxi"===x,S="unbundled-bezier"===x||"bezier"===x,T=w.target,F=[w.source.poolIndex(),T.poolIndex()].sort(),L=p.get(F);null==L&&(p.set(F,L={eles:[]}),g.push(F)),L.eles.push(_),E&&(L.hasUnbundled=!0),S&&(L.hasBezier=!0)}}for(var z=function(H){var U=p.get(g[H]),X=void 0;if(!U.hasUnbundled){var J=U.eles[0].parallelEdges().filter(function(lt){return lt.isBundledBezier()});Np(U.eles),J.forEach(function(lt){return U.eles.push(lt)}),U.eles.sort(function(lt,G){return lt.poolIndex()-G.poolIndex()})}var W=U.eles[0],oe=W.source(),Q=W.target();if(oe.poolIndex()>Q.poolIndex()){var ge=oe;oe=Q,Q=ge}var ae=U.srcPos=oe.position(),ce=U.tgtPos=Q.position(),be=U.srcW=oe.outerWidth(),Se=U.srcH=oe.outerHeight(),Re=U.tgtW=Q.outerWidth(),De=U.tgtH=Q.outerHeight(),ke=U.srcShape=u.nodeShapes[o.getNodeShape(oe)],Ge=U.tgtShape=u.nodeShapes[o.getNodeShape(Q)];U.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Ke=0;Ke<U.eles.length;Ke++){var Ue=U.eles[Ke],Ie=Ue[0]._private.rscratch,ve=Ue.pstyle("curve-style").value,We="unbundled-bezier"===ve||"segments"===ve||"taxi"===ve,Xe=!oe.same(Ue.source());if(!U.calculatedIntersection&&oe!==Q&&(U.hasBezier||U.hasUnbundled)){U.calculatedIntersection=!0;var tt=ke.intersectLine(ae.x,ae.y,be,Se,ce.x,ce.y,0),gt=U.srcIntn=tt,nn=Ge.intersectLine(ce.x,ce.y,Re,De,ae.x,ae.y,0),vn=U.tgtIntn=nn,wt=U.intersectionPts={x1:tt[0],x2:nn[0],y1:tt[1],y2:nn[1]},mt=U.posPts={x1:ae.x,x2:ce.x,y1:ae.y,y2:ce.y},Ut=nn[1]-tt[1],Ft=nn[0]-tt[0],Dt=Math.sqrt(Ft*Ft+Ut*Ut),Vt=U.vector={x:Ft,y:Ut},Un=U.vectorNorm={x:Vt.x/Dt,y:Vt.y/Dt},Dn={x:-Un.y,y:Un.x};U.nodesOverlap=!Pe(Dt)||Ge.checkPoint(tt[0],tt[1],0,Re,De,ce.x,ce.y)||ke.checkPoint(nn[0],nn[1],0,be,Se,ae.x,ae.y),U.vectorNormInverse=Dn,X={nodesOverlap:U.nodesOverlap,dirCounts:U.dirCounts,calculatedIntersection:!0,hasBezier:U.hasBezier,hasUnbundled:U.hasUnbundled,eles:U.eles,srcPos:ce,tgtPos:ae,srcW:Re,srcH:De,tgtW:be,tgtH:Se,srcIntn:vn,tgtIntn:gt,srcShape:Ge,tgtShape:ke,posPts:{x1:mt.x2,y1:mt.y2,x2:mt.x1,y2:mt.y1},intersectionPts:{x1:wt.x2,y1:wt.y2,x2:wt.x1,y2:wt.y1},vector:{x:-Vt.x,y:-Vt.y},vectorNorm:{x:-Un.x,y:-Un.y},vectorNormInverse:{x:-Dn.x,y:-Dn.y}}}var en=Xe?X:U;Ie.nodesOverlap=en.nodesOverlap,Ie.srcIntn=en.srcIntn,Ie.tgtIntn=en.tgtIntn,f&&(oe.isParent()||oe.isChild()||Q.isParent()||Q.isChild())&&(oe.parents().anySame(Q)||Q.parents().anySame(oe)||oe.same(Q)&&oe.isParent())?o.findCompoundLoopPoints(Ue,en,Ke,We):oe===Q?o.findLoopPoints(Ue,en,Ke,We):"segments"===ve?o.findSegmentsPoints(Ue,en):"taxi"===ve?o.findTaxiPoints(Ue,en):"straight"===ve||!We&&U.eles.length%2==1&&Ke===Math.floor(U.eles.length/2)?o.findStraightEdgePoints(Ue):o.findBezierPoints(Ue,en,Ke,We,Xe),o.findEndpoints(Ue),o.tryToCorrectInvalidPoints(Ue,en),o.checkForInvalidEdgeWarning(Ue),o.storeAllpts(Ue),o.storeEdgeProjections(Ue),o.calculateArrowAngles(Ue),o.recalculateEdgeLabelProjections(Ue),o.calculateLabelAngles(Ue)}},K=0;K<g.length;K++)z(K);this.findHaystackPoints(y)}},os.getSegmentPoints=function(c){var o=c[0]._private.rscratch;if("segments"===o.edgeType)return this.recalculateRenderedStyle(c),JC(o.segpts)},os.getControlPoints=function(c){var o=c[0]._private.rscratch,u=o.edgeType;if("bezier"===u||"multibezier"===u||"self"===u||"compound"===u)return this.recalculateRenderedStyle(c),JC(o.ctrlpts)},os.getEdgeMidpoint=function(c){var o=c[0]._private.rscratch;return this.recalculateRenderedStyle(c),{x:o.midX,y:o.midY}};var pu={manualEndptToPx:function(c,o){var d=c.position(),f=c.outerWidth(),p=c.outerHeight();if(2===o.value.length){var g=[o.pfValue[0],o.pfValue[1]];return"%"===o.units[0]&&(g[0]=g[0]*f),"%"===o.units[1]&&(g[1]=g[1]*p),g[0]+=d.x,g[1]+=d.y,g}var y=o.pfValue[0];y=-Math.PI/2+y;var b=2*Math.max(f,p),_=[d.x+Math.cos(y)*b,d.y+Math.sin(y)*b];return this.nodeShapes[this.getNodeShape(c)].intersectLine(d.x,d.y,f,p,_[0],_[1],0)},findEndpoints:function(c){var u,X,J,W,oe,o=this,d=c.source()[0],f=c.target()[0],p=d.position(),g=f.position(),y=c.pstyle("target-arrow-shape").value,b=c.pstyle("source-arrow-shape").value,_=c.pstyle("target-distance-from-node").pfValue,w=c.pstyle("source-distance-from-node").pfValue,x=c.pstyle("curve-style").value,E=c._private.rscratch,S=E.edgeType,T="self"===S||"compound"===S,I="bezier"===S||"multibezier"===S||T,R="bezier"!==S,F="straight"===S||"segments"===S,L="segments"===S,z=I||R||F,K=T||"taxi"===x,Z=c.pstyle("source-endpoint"),H=K?"outside-to-node":Z.value,Y=c.pstyle("target-endpoint"),U=K?"outside-to-node":Y.value;if(E.srcManEndpt=Z,E.tgtManEndpt=Y,I){var Q=[E.ctrlpts[0],E.ctrlpts[1]];X=R?[E.ctrlpts[E.ctrlpts.length-2],E.ctrlpts[E.ctrlpts.length-1]]:Q,J=Q}else if(F){var ae=L?E.segpts.slice(0,2):[g.x,g.y];X=L?E.segpts.slice(E.segpts.length-2):[p.x,p.y],J=ae}if("inside-to-node"===U)u=[g.x,g.y];else if(Y.units)u=this.manualEndptToPx(f,Y);else if("outside-to-line"===U)u=E.tgtIntn;else if("outside-to-node"===U||"outside-to-node-or-label"===U?W=X:("outside-to-line"===U||"outside-to-line-or-label"===U)&&(W=[p.x,p.y]),u=o.nodeShapes[this.getNodeShape(f)].intersectLine(g.x,g.y,f.outerWidth(),f.outerHeight(),W[0],W[1],0),"outside-to-node-or-label"===U||"outside-to-line-or-label"===U){var be=f._private.rscratch,De=be.labelX,ke=be.labelY,Ge=be.labelWidth/2,Ke=be.labelHeight/2,Ue=f.pstyle("text-valign").value;"top"===Ue?ke-=Ke:"bottom"===Ue&&(ke+=Ke);var Ie=f.pstyle("text-halign").value;"left"===Ie?De-=Ge:"right"===Ie&&(De+=Ge);var ve=Wc(W[0],W[1],[De-Ge,ke-Ke,De+Ge,ke-Ke,De+Ge,ke+Ke,De-Ge,ke+Ke],g.x,g.y);if(ve.length>0){var We=p,Xe=$c(We,Zu(u)),tt=$c(We,Zu(ve)),gt=Xe;tt<Xe&&(u=ve,gt=tt),ve.length>2&&$c(We,{x:ve[2],y:ve[3]})<gt&&(u=[ve[2],ve[3]])}}var vn=rl(u,X,o.arrowShapes[y].spacing(c)+_),wt=rl(u,X,o.arrowShapes[y].gap(c)+_);if(E.endX=wt[0],E.endY=wt[1],E.arrowEndX=vn[0],E.arrowEndY=vn[1],"inside-to-node"===H)u=[p.x,p.y];else if(Z.units)u=this.manualEndptToPx(d,Z);else if("outside-to-line"===H)u=E.srcIntn;else if("outside-to-node"===H||"outside-to-node-or-label"===H?oe=J:("outside-to-line"===H||"outside-to-line-or-label"===H)&&(oe=[g.x,g.y]),u=o.nodeShapes[this.getNodeShape(d)].intersectLine(p.x,p.y,d.outerWidth(),d.outerHeight(),oe[0],oe[1],0),"outside-to-node-or-label"===H||"outside-to-line-or-label"===H){var mt=d._private.rscratch,Dt=mt.labelX,Vt=mt.labelY,Un=mt.labelWidth/2,Dn=mt.labelHeight/2,en=d.pstyle("text-valign").value;"top"===en?Vt-=Dn:"bottom"===en&&(Vt+=Dn);var lt=d.pstyle("text-halign").value;"left"===lt?Dt-=Un:"right"===lt&&(Dt+=Un);var G=Wc(oe[0],oe[1],[Dt-Un,Vt-Dn,Dt+Un,Vt-Dn,Dt+Un,Vt+Dn,Dt-Un,Vt+Dn],p.x,p.y);if(G.length>0){var Me=g,Ye=$c(Me,Zu(u)),He=$c(Me,Zu(G)),ze=Ye;He<Ye&&(u=[G[0],G[1]],ze=He),G.length>2&&$c(Me,{x:G[2],y:G[3]})<ze&&(u=[G[2],G[3]])}}var ct=rl(u,J,o.arrowShapes[b].spacing(c)+w),Nt=rl(u,J,o.arrowShapes[b].gap(c)+w);E.startX=Nt[0],E.startY=Nt[1],E.arrowStartX=ct[0],E.arrowStartY=ct[1],z&&(E.badLine=!(Pe(E.startX)&&Pe(E.startY)&&Pe(E.endX)&&Pe(E.endY)))},getSourceEndpoint:function(c){var o=c[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(c),o.edgeType)?{x:o.haystackPts[0],y:o.haystackPts[1]}:{x:o.arrowStartX,y:o.arrowStartY}},getTargetEndpoint:function(c){var o=c[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(c),o.edgeType)?{x:o.haystackPts[2],y:o.haystackPts[3]}:{x:o.arrowEndX,y:o.arrowEndY}}},ky={};function pg(c,o,u){for(var d=function(_,w,x,E){return Gr(_,w,x,E)},p=o._private.rstyle.bezierPts,g=0;g<c.bezierProjPcts.length;g++){var y=c.bezierProjPcts[g];p.push({x:d(u[0],u[2],u[4],y),y:d(u[1],u[3],u[5],y)})}}ky.storeEdgeProjections=function(c){var o=c._private,u=o.rscratch,d=u.edgeType;if(o.rstyle.bezierPts=null,o.rstyle.linePts=null,o.rstyle.haystackPts=null,"multibezier"===d||"bezier"===d||"self"===d||"compound"===d){o.rstyle.bezierPts=[];for(var f=0;f+5<u.allpts.length;f+=4)pg(this,c,u.allpts.slice(f,f+6))}else if("segments"===d){var p=o.rstyle.linePts=[];for(f=0;f+1<u.allpts.length;f+=2)p.push({x:u.allpts[f],y:u.allpts[f+1]})}else if("haystack"===d){var g=u.haystackPts;o.rstyle.haystackPts=[{x:g[0],y:g[1]},{x:g[2],y:g[3]}]}o.rstyle.arrowWidth=this.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.arrowShapeWidth},ky.recalculateEdgeProjections=function(c){this.findEdgeControlPoints(c)};var Xo={recalculateNodeLabelProjection:function(c){var o=c.pstyle("label").strValue;if(!vt(o)){var u,d,f=c._private,p=c.width(),g=c.height(),y=c.padding(),b=c.position(),_=c.pstyle("text-halign").strValue,w=c.pstyle("text-valign").strValue,x=f.rscratch,E=f.rstyle;switch(_){case"left":u=b.x-p/2-y;break;case"right":u=b.x+p/2+y;break;default:u=b.x}switch(w){case"top":d=b.y-g/2-y;break;case"bottom":d=b.y+g/2+y;break;default:d=b.y}x.labelX=u,x.labelY=d,E.labelX=u,E.labelY=d,this.calculateLabelAngles(c),this.applyLabelDimensions(c)}}},gg=function(o,u){var d=Math.atan(u/o);return 0===o&&d<0&&(d*=-1),d},Sd=function(o,u){return gg(u.x-o.x,u.y-o.y)};Xo.recalculateEdgeLabelProjections=function(c){var o,u=c._private,d=u.rscratch,f=this,p={mid:c.pstyle("label").strValue,source:c.pstyle("source-label").strValue,target:c.pstyle("target-label").strValue};if(p.mid||p.source||p.target){var g=function(x,E,S){rr(u.rscratch,x,E,S),rr(u.rstyle,x,E,S)};g("labelX",null,(o={x:d.midX,y:d.midY}).x),g("labelY",null,o.y);var y=gg(d.midDispX,d.midDispY);g("labelAutoAngle",null,y);var b=function w(){if(w.cache)return w.cache;for(var x=[],E=0;E+5<d.allpts.length;E+=4)x.push({p0:{x:d.allpts[E],y:d.allpts[E+1]},p1:{x:d.allpts[E+2],y:d.allpts[E+3]},p2:{x:d.allpts[E+4],y:d.allpts[E+5]},startDist:0,length:0,segments:[]});var I=u.rstyle.bezierPts,R=f.bezierProjPcts.length;function F(H,Y,U,X,J){var W=Kn(Y,U),oe=H.segments[H.segments.length-1];H.segments.push({p0:Y,p1:U,t0:X,t1:J,startDist:oe?oe.startDist+oe.length:0,length:W}),H.length+=W}for(var L=0;L<x.length;L++){var z=x[L],K=x[L-1];K&&(z.startDist=K.startDist+K.length),F(z,z.p0,I[L*R],0,f.bezierProjPcts[0]);for(var Z=0;Z<R-1;Z++)F(z,I[L*R+Z],I[L*R+Z+1],f.bezierProjPcts[Z],f.bezierProjPcts[Z+1]);F(z,I[L*R+R-1],z.p2,f.bezierProjPcts[R-1],1)}return w.cache=x},_=function(x){var E,S="source"===x;if(p[x]){var M=c.pstyle(x+"-text-offset").pfValue;switch(d.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var I,T=b(),R=0,F=0,L=0;L<T.length;L++){for(var z=T[S?L:T.length-1-L],K=0;K<z.segments.length;K++){var Z=z.segments[S?K:z.segments.length-1-K];if(R=F,(F+=Z.length)>=M||L===T.length-1&&K===z.segments.length-1){I={cp:z,segment:Z};break}}if(I)break}var Y=I.cp,U=I.segment,X=(M-R)/U.length,J=U.t1-U.t0,W=S?U.t0+J*X:U.t1-J*X;W=Qt(0,W,1),o=Oe(Y.p0,Y.p1,Y.p2,W),E=function(o,u,d,f){var p=Qt(0,f-.001,1),g=Qt(0,f+.001,1),y=Oe(o,u,d,p),b=Oe(o,u,d,g);return Sd(y,b)}(Y.p0,Y.p1,Y.p2,W);break;case"straight":case"segments":case"haystack":for(var Q,ge,ae,ce,oe=0,be=d.allpts.length,Se=0;Se+3<be&&(S?(ae={x:d.allpts[Se],y:d.allpts[Se+1]},ce={x:d.allpts[Se+2],y:d.allpts[Se+3]}):(ae={x:d.allpts[be-2-Se],y:d.allpts[be-1-Se]},ce={x:d.allpts[be-4-Se],y:d.allpts[be-3-Se]}),ge=oe,!((oe+=Q=Kn(ae,ce))>=M));Se+=2);var De=(M-ge)/Q;De=Qt(0,De,1),o=function(o,u,d,f){var p_x=u.x-o.x,p_y=u.y-o.y,g=Kn(o,u);return d=d??0,{x:o.x+p_x/g*(f=f??d*g),y:o.y+p_y/g*f}}(ae,ce,De),E=Sd(ae,ce)}g("labelX",x,o.x),g("labelY",x,o.y),g("labelAutoAngle",x,E)}};_("source"),_("target"),this.applyLabelDimensions(c)}},Xo.applyLabelDimensions=function(c){this.applyPrefixedLabelDimensions(c),c.isEdge()&&(this.applyPrefixedLabelDimensions(c,"source"),this.applyPrefixedLabelDimensions(c,"target"))},Xo.applyPrefixedLabelDimensions=function(c,o){var u=c._private,d=this.getLabelText(c,o),f=this.calculateLabelDimensions(c,d),p=c.pstyle("line-height").pfValue,g=c.pstyle("text-wrap").strValue,y=di(u.rscratch,"labelWrapCachedLines",o)||[],b="wrap"!==g?1:Math.max(y.length,1),_=f.height/b,w=_*p,x=f.width,E=f.height+(b-1)*(p-1)*_;rr(u.rstyle,"labelWidth",o,x),rr(u.rscratch,"labelWidth",o,x),rr(u.rstyle,"labelHeight",o,E),rr(u.rscratch,"labelHeight",o,E),rr(u.rscratch,"labelLineHeight",o,w)},Xo.getLabelText=function(c,o){var u=c._private,f=c.pstyle((o?o+"-":"")+"label").strValue,p=c.pstyle("text-transform").value,g=function(Re,De){return De?(rr(u.rscratch,Re,o,De),De):di(u.rscratch,Re,o)};if(!f)return"";"none"==p||("uppercase"==p?f=f.toUpperCase():"lowercase"==p&&(f=f.toLowerCase()));var y=c.pstyle("text-wrap").value;if("wrap"===y){var b=g("labelKey");if(null!=b&&g("labelWrapKey")===b)return g("labelWrapCachedText");for(var w=f.split("\n"),x=c.pstyle("text-max-width").pfValue,S="anywhere"===c.pstyle("text-overflow-wrap").value,M=[],T=/[\s\u200b]+/,I=S?"":" ",R=0;R<w.length;R++){var F=w[R],z=this.calculateLabelDimensions(c,F).width;if(S){var K=F.split("").join("\u200b");F=K}if(z>x){for(var Z=F.split(T),H="",Y=0;Y<Z.length;Y++){var U=Z[Y];this.calculateLabelDimensions(c,0===H.length?U:H+I+U).width<=x?H+=U+I:(H&&M.push(H),H=U+I)}H.match(/^[\s\u200b]+$/)||M.push(H)}else M.push(F)}g("labelWrapCachedLines",M),f=g("labelWrapCachedText",M.join("\n")),g("labelWrapKey",b)}else if("ellipsis"===y){var oe=c.pstyle("text-max-width").pfValue,Q="",ae=!1;if(this.calculateLabelDimensions(c,f).width<oe)return f;for(var ce=0;ce<f.length&&!(this.calculateLabelDimensions(c,Q+f[ce]+"\u2026").width>oe);ce++)Q+=f[ce],ce===f.length-1&&(ae=!0);return ae||(Q+="\u2026"),Q}return f},Xo.getLabelJustification=function(c){var o=c.pstyle("text-justification").strValue,u=c.pstyle("text-halign").strValue;if("auto"!==o)return o;if(!c.isNode())return"center";switch(u){case"left":return"right";case"right":return"left";default:return"center"}},Xo.calculateLabelDimensions=function(c,o){var d=el(o,c._private.labelDimsKey),f=this.labelDimCache||(this.labelDimCache=[]),p=f[d];if(null!=p)return p;var y=c.pstyle("font-style").strValue,b=c.pstyle("font-size").pfValue,_=c.pstyle("font-family").strValue,w=c.pstyle("font-weight").strValue,x=this.labelCalcCanvas,E=this.labelCalcCanvasContext;if(!x){x=this.labelCalcCanvas=document.createElement("canvas"),E=this.labelCalcCanvasContext=x.getContext("2d");var S=x.style;S.position="absolute",S.left="-9999px",S.top="-9999px",S.zIndex="-1",S.visibility="hidden",S.pointerEvents="none"}E.font="".concat(y," ").concat(w," ").concat(b,"px ").concat(_);for(var M=0,T=0,I=o.split("\n"),R=0;R<I.length;R++){var L=E.measureText(I[R]),z=Math.ceil(L.width),K=b;M=Math.max(z,M),T+=K}return f[d]={width:M+=0,height:T+=0}},Xo.calculateLabelAngle=function(c,o){var d=c._private.rscratch,f=c.isEdge(),g=c.pstyle((o?o+"-":"")+"text-rotation"),y=g.strValue;return"none"===y?0:f&&"autorotate"===y?d.labelAutoAngle:"autorotate"===y?0:g.pfValue},Xo.calculateLabelAngles=function(c){var o=this,u=c.isEdge(),f=c._private.rscratch;f.labelAngle=o.calculateLabelAngle(c),u&&(f.sourceLabelAngle=o.calculateLabelAngle(c,"source"),f.targetLabelAngle=o.calculateLabelAngle(c,"target"))};var nc={},Ry=!1;nc.getNodeShape=function(c){var u=c.pstyle("shape").value;if("cutrectangle"===u&&(c.width()<28||c.height()<28))return Ry||(ti("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Ry=!0),"rectangle";if(c.isParent())return"rectangle"===u||"roundrectangle"===u||"round-rectangle"===u||"cutrectangle"===u||"cut-rectangle"===u||"barrel"===u?u:"rectangle";if("polygon"===u){var d=c.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(d).name}return u};var ic={updateCachedGrabbedEles:function(){var c=this.cachedZSortedEles;if(c){c.drag=[],c.nondrag=[];for(var o=[],u=0;u<c.length;u++){var f=(d=c[u])._private.rscratch;d.grabbed()&&!d.isParent()?o.push(d):f.inDragLayer?c.drag.push(d):c.nondrag.push(d)}for(u=0;u<o.length;u++){var d;c.drag.push(d=o[u])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(c){if(c||!this.cachedZSortedEles){var o=this.cy.mutableElements().toArray();o.sort(ou),o.interactive=o.filter(function(u){return u.interactive()}),this.cachedZSortedEles=o,this.updateCachedGrabbedEles()}else o=this.cachedZSortedEles;return o}},df={};[pl,uf,os,pu,ky,Xo,nc,{registerCalculationListeners:function(){var c=this.cy,o=c.collection(),u=this,d=function(g){var y=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o.merge(g),y)for(var b=0;b<g.length;b++){var _=g[b],w=_._private,x=w.rstyle;x.clean=!1,x.cleanConnected=!1}};u.binder(c).on("bounds.* dirty.*",function(g){d(g.target)}).on("style.* background.*",function(g){d(g.target,!1)});var f=function(g){if(g){var y=u.onUpdateEleCalcsFns;o.cleanStyle();for(var b=0;b<o.length;b++){var _=o[b],w=_._private.rstyle;_.isNode()&&!w.cleanConnected&&(d(_.connectedEdges()),w.cleanConnected=!0)}if(y)for(var x=0;x<y.length;x++)(0,y[x])(g,o);u.recalculateRenderedStyle(o),o=c.collection()}};u.flushRenderedStyleQueue=function(){f(!0)},u.beforeRender(f,u.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(c){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(c)},recalculateRenderedStyle:function(c,o){var u=function(z){return z._private.rstyle.cleanConnected},d=[],f=[];if(!this.destroyed){void 0===o&&(o=!0);for(var p=0;p<c.length;p++){var g=c[p],y=g._private,b=y.rstyle;g.isEdge()&&(!u(g.source())||!u(g.target()))&&(b.clean=!1),!(o&&b.clean||g.removed())&&"none"!==g.pstyle("display").value&&("nodes"===y.group?f.push(g):d.push(g),b.clean=!0)}for(var _=0;_<f.length;_++){var w=f[_],E=w._private.rstyle,S=w.position();this.recalculateNodeLabelProjection(w),E.nodeX=S.x,E.nodeY=S.y,E.nodeW=w.pstyle("width").pfValue,E.nodeH=w.pstyle("height").pfValue}this.recalculateEdgeProjections(d);for(var M=0;M<d.length;M++){var I=d[M]._private,R=I.rstyle,F=I.rscratch;R.srcX=F.arrowStartX,R.srcY=F.arrowStartY,R.tgtX=F.arrowEndX,R.tgtY=F.arrowEndY,R.midX=F.midX,R.midY=F.midY,R.labelAngle=F.labelAngle,R.sourceLabelAngle=F.sourceLabelAngle,R.targetLabelAngle=F.targetLabelAngle}}}},ic].forEach(function(c){qt(df,c)});var yg={getCachedImage:function(c,o,u){var f=this.imageCache=this.imageCache||{},p=f[c];if(p)return p.image.complete||p.image.addEventListener("load",u),p.image;var g=(p=f[c]=f[c]||{}).image=new Image;g.addEventListener("load",u),g.addEventListener("error",function(){g.error=!0});var y="data:";return c.substring(0,y.length).toLowerCase()===y||(g.crossOrigin=o),g.src=c,g}},rc={registerBinding:function(c,o,u,d){var f=Array.prototype.slice.apply(arguments,[1]),p=this.binder(c);return p.on.apply(p,f)},binder:function(c){var o=this,u=c===window||c===document||c===document.body||function(o){return!(typeof HTMLElement>"u")&&o instanceof HTMLElement}(c);if(null==o.supportsPassiveEvents){var d=!1;try{var f=Object.defineProperty({},"passive",{get:function(){return d=!0,!0}});window.addEventListener("test",null,f)}catch{}o.supportsPassiveEvents=d}var p=function(y,b,_){var w=Array.prototype.slice.call(arguments);return u&&o.supportsPassiveEvents&&(w[2]={capture:_??!1,passive:!1,once:!1}),o.bindings.push({target:c,args:w}),(c.addEventListener||c.on).apply(c,w),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(c){return c&&c.isNode()&&!c.locked()&&c.grabbable()},nodeIsGrabbable:function(c){return this.nodeIsDraggable(c)&&c.interactive()}};rc.load=function(){var c=this,o=function(G){return G.selected()},u=function(G,Me,Ye,He){null==G&&(G=c.cy);for(var ze=0;ze<Me.length;ze++)G.emit({originalEvent:Ye,type:Me[ze],position:He})},d=function(G){return G.shiftKey||G.metaKey||G.ctrlKey},f=function(G,Me){var Ye=!0;if(c.cy.hasCompoundNodes()&&G&&G.pannable()){for(var He=0;Me&&He<Me.length;He++)if((G=Me[He]).isNode()&&G.isParent()&&!G.pannable()){Ye=!1;break}}else Ye=!0;return Ye},y=function(G){G[0]._private.rscratch.inDragLayer=!0},_=function(G){G[0]._private.rscratch.isGrabTarget=!0},x=function(G,Me){var Ye=Me.addToList;!Ye.has(G)&&G.grabbable()&&!G.locked()&&(Ye.merge(G),function(G){G[0]._private.grabbed=!0}(G))},S=function(G,Me){Me=Me||{};var Ye=G.cy().hasCompoundNodes();Me.inDragLayer&&(G.forEach(y),G.neighborhood().stdFilter(function(He){return!Ye||He.isEdge()}).forEach(y)),Me.addToList&&G.forEach(function(He){x(He,Me)}),function(G,Me){if(G.cy().hasCompoundNodes()&&(null!=Me.inDragLayer||null!=Me.addToList)){var Ye=G.descendants();Me.inDragLayer&&(Ye.forEach(y),Ye.connectedEdges().forEach(y)),Me.addToList&&x(Ye,Me)}}(G,Me),I(G,{inDragLayer:Me.inDragLayer}),c.updateCachedGrabbedEles()},M=S,T=function(G){!G||(c.getCachedZSortedEles().forEach(function(Me){(function(G){G[0]._private.grabbed=!1})(Me),function(G){G[0]._private.rscratch.inDragLayer=!1}(Me),function(G){G[0]._private.rscratch.isGrabTarget=!1}(Me)}),c.updateCachedGrabbedEles())},I=function(G,Me){if((null!=Me.inDragLayer||null!=Me.addToList)&&G.cy().hasCompoundNodes()){var Ye=G.ancestors().orphans();if(!Ye.same(G)){var He=Ye.descendants().spawnSelf().merge(Ye).unmerge(G).unmerge(G.descendants()),ze=He.connectedEdges();Me.inDragLayer&&(ze.forEach(y),He.forEach(y)),Me.addToList&&He.forEach(function(An){x(An,Me)})}}},R=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},F=typeof MutationObserver<"u",L=typeof ResizeObserver<"u";F?(c.removeObserver=new MutationObserver(function(lt){for(var G=0;G<lt.length;G++){var Ye=lt[G].removedNodes;if(Ye)for(var He=0;He<Ye.length;He++)if(Ye[He]===c.container){c.destroy();break}}}),c.container.parentNode&&c.removeObserver.observe(c.container.parentNode,{childList:!0})):c.registerBinding(c.container,"DOMNodeRemoved",function(lt){c.destroy()});var z=ue.default(function(){c.cy.resize()},100);F&&(c.styleObserver=new MutationObserver(z),c.styleObserver.observe(c.container,{attributes:!0})),c.registerBinding(window,"resize",z),L&&(c.resizeObserver=new ResizeObserver(z),c.resizeObserver.observe(c.container));var Z=function(){c.invalidateContainerClientCoordsCache()};(function(G,Me){for(;null!=G;)c.registerBinding(lt=G,"transitionend",Z),c.registerBinding(lt,"animationend",Z),c.registerBinding(lt,"scroll",Z),G=G.parentNode;var lt})(c.container),c.registerBinding(c.container,"contextmenu",function(lt){lt.preventDefault()});var U,X,J,Y=function(G){for(var Me=c.findContainerClientCoords(),Ye=Me[0],He=Me[1],ze=Me[2],An=Me[3],ct=G.touches?G.touches:[G],Nt=!1,ii=0;ii<ct.length;ii++){var Tn=ct[ii];if(Ye<=Tn.clientX&&Tn.clientX<=Ye+ze&&He<=Tn.clientY&&Tn.clientY<=He+An){Nt=!0;break}}if(!Nt)return!1;for(var kn=c.container,En=G.target.parentNode,Fn=!1;En;){if(En===kn){Fn=!0;break}En=En.parentNode}return!!Fn};c.registerBinding(c.container,"mousedown",function(G){if(Y(G)){G.preventDefault(),R(),c.hoverData.capture=!0,c.hoverData.which=G.which;var Me=c.cy,Ye=[G.clientX,G.clientY],He=c.projectIntoViewport(Ye[0],Ye[1]),ze=c.selection,An=c.findNearestElements(He[0],He[1],!0,!1),ct=An[0],Nt=c.dragData.possibleDragElements;if(c.hoverData.mdownPos=He,c.hoverData.mdownGPos=Ye,3==G.which){c.hoverData.cxtStarted=!0;var Tn={originalEvent:G,type:"cxttapstart",position:{x:He[0],y:He[1]}};ct?(ct.activate(),ct.emit(Tn),c.hoverData.down=ct):Me.emit(Tn),c.hoverData.downTime=(new Date).getTime(),c.hoverData.cxtDragged=!1}else if(1==G.which){if(ct&&ct.activate(),null!=ct&&c.nodeIsGrabbable(ct)){var kn=function(Qi){return{originalEvent:G,type:Qi,position:{x:He[0],y:He[1]}}};if(_(ct),ct.selected()){Nt=c.dragData.possibleDragElements=Me.collection();var En=Me.$(function(Fn){return Fn.isNode()&&Fn.selected()&&c.nodeIsGrabbable(Fn)});S(En,{addToList:Nt}),ct.emit(kn("grabon")),En.forEach(function(Qi){Qi.emit(kn("grab"))})}else Nt=c.dragData.possibleDragElements=Me.collection(),M(ct,{addToList:Nt}),ct.emit(kn("grabon")).emit(kn("grab"));c.redrawHint("eles",!0),c.redrawHint("drag",!0)}c.hoverData.down=ct,c.hoverData.downs=An,c.hoverData.downTime=(new Date).getTime(),u(ct,["mousedown","tapstart","vmousedown"],G,{x:He[0],y:He[1]}),null==ct?(ze[4]=1,c.data.bgActivePosistion={x:He[0],y:He[1]},c.redrawHint("select",!0),c.redraw()):ct.pannable()&&(ze[4]=1),c.hoverData.tapholdCancelled=!1,clearTimeout(c.hoverData.tapholdTimeout),c.hoverData.tapholdTimeout=setTimeout(function(){if(!c.hoverData.tapholdCancelled){var Qi=c.hoverData.down;Qi?Qi.emit({originalEvent:G,type:"taphold",position:{x:He[0],y:He[1]}}):Me.emit({originalEvent:G,type:"taphold",position:{x:He[0],y:He[1]}})}},c.tapholdDuration)}ze[0]=ze[2]=He[0],ze[1]=ze[3]=He[1]}},!1),c.registerBinding(window,"mousemove",function(G){var ta;if(c.hoverData.capture||Y(G)){var Ye=!1,He=c.cy,ze=He.zoom(),An=[G.clientX,G.clientY],ct=c.projectIntoViewport(An[0],An[1]),Nt=c.hoverData.mdownPos,ii=c.hoverData.mdownGPos,Tn=c.selection,kn=null;!c.hoverData.draggingEles&&!c.hoverData.dragging&&!c.hoverData.selecting&&(kn=c.findNearestElement(ct[0],ct[1],!0,!1));var ar,oi=c.hoverData.last,En=c.hoverData.down,Fn=[ct[0]-Tn[2],ct[1]-Tn[3]],Qi=c.dragData.possibleDragElements;if(ii){var Ao=An[0]-ii[0],Ar=An[1]-ii[1];c.hoverData.isOverThresholdDrag=ar=Ao*Ao+Ar*Ar>=c.desktopTapThreshold2}var yl=d(G);ar&&(c.hoverData.tapholdCancelled=!0),Ye=!0,u(kn,["mousemove","vmousemove","tapdrag"],G,{x:ct[0],y:ct[1]});var _l=function(){c.data.bgActivePosistion=void 0,c.hoverData.selecting||He.emit({originalEvent:G,type:"boxstart",position:{x:ct[0],y:ct[1]}}),Tn[4]=1,c.hoverData.selecting=!0,c.redrawHint("select",!0),c.redraw()};if(3===c.hoverData.which){if(ar){var bl={originalEvent:G,type:"cxtdrag",position:{x:ct[0],y:ct[1]}};En?En.emit(bl):He.emit(bl),c.hoverData.cxtDragged=!0,(!c.hoverData.cxtOver||kn!==c.hoverData.cxtOver)&&(c.hoverData.cxtOver&&c.hoverData.cxtOver.emit({originalEvent:G,type:"cxtdragout",position:{x:ct[0],y:ct[1]}}),c.hoverData.cxtOver=kn,kn&&kn.emit({originalEvent:G,type:"cxtdragover",position:{x:ct[0],y:ct[1]}}))}}else if(c.hoverData.dragging){if(Ye=!0,He.panningEnabled()&&He.userPanningEnabled()){var vu;if(c.hoverData.justStartedPan){var yu=c.hoverData.mdownPos;vu={x:(ct[0]-yu[0])*ze,y:(ct[1]-yu[1])*ze},c.hoverData.justStartedPan=!1}else vu={x:Fn[0]*ze,y:Fn[1]*ze};He.panBy(vu),He.emit("dragpan"),c.hoverData.dragged=!0}ct=c.projectIntoViewport(G.clientX,G.clientY)}else if(1!=Tn[4]||null!=En&&!En.pannable()){if(En&&En.pannable()&&En.active()&&En.unactivate(),(!En||!En.grabbed())&&kn!=oi&&(oi&&u(oi,["mouseout","tapdragout"],G,{x:ct[0],y:ct[1]}),kn&&u(kn,["mouseover","tapdragover"],G,{x:ct[0],y:ct[1]}),c.hoverData.last=kn),En)if(ar){if(He.boxSelectionEnabled()&&yl)En&&En.grabbed()&&(T(Qi),En.emit("freeon"),Qi.emit("free"),c.dragData.didDrag&&(En.emit("dragfreeon"),Qi.emit("dragfree"))),_l();else if(En&&En.grabbed()&&c.nodeIsDraggable(En)){var Ms=!c.dragData.didDrag;Ms&&c.redrawHint("eles",!0),c.dragData.didDrag=!0,c.hoverData.draggingEles||S(Qi,{inDragLayer:!0});var ls={x:0,y:0};if(Pe(Fn[0])&&Pe(Fn[1])&&(ls.x+=Fn[0],ls.y+=Fn[1],Ms)){var As=c.hoverData.dragDelta;As&&Pe(As[0])&&Pe(As[1])&&(ls.x+=As[0],ls.y+=As[1])}c.hoverData.draggingEles=!0,Qi.silentShift(ls).emit("position drag"),c.redrawHint("drag",!0),c.redraw()}}else 0===(ta=c.hoverData.dragDelta=c.hoverData.dragDelta||[]).length?(ta.push(Fn[0]),ta.push(Fn[1])):(ta[0]+=Fn[0],ta[1]+=Fn[1]);Ye=!0}else ar&&(c.hoverData.dragging||!He.boxSelectionEnabled()||!yl&&He.panningEnabled()&&He.userPanningEnabled()?!c.hoverData.selecting&&He.panningEnabled()&&He.userPanningEnabled()&&f(En,c.hoverData.downs)&&(c.hoverData.dragging=!0,c.hoverData.justStartedPan=!0,Tn[4]=0,c.data.bgActivePosistion=Zu(Nt),c.redrawHint("select",!0),c.redraw()):_l(),En&&En.pannable()&&En.active()&&En.unactivate());if(Tn[2]=ct[0],Tn[3]=ct[1],Ye)return G.stopPropagation&&G.stopPropagation(),G.preventDefault&&G.preventDefault(),!1}},!1),c.registerBinding(window,"mouseup",function(G){if(c.hoverData.capture){c.hoverData.capture=!1;var Ye=c.cy,He=c.projectIntoViewport(G.clientX,G.clientY),ze=c.selection,An=c.findNearestElement(He[0],He[1],!0,!1),ct=c.dragData.possibleDragElements,Nt=c.hoverData.down,ii=d(G);if(c.data.bgActivePosistion&&(c.redrawHint("select",!0),c.redraw()),c.hoverData.tapholdCancelled=!0,c.data.bgActivePosistion=void 0,Nt&&Nt.unactivate(),3===c.hoverData.which){var Tn={originalEvent:G,type:"cxttapend",position:{x:He[0],y:He[1]}};if(Nt?Nt.emit(Tn):Ye.emit(Tn),!c.hoverData.cxtDragged){var kn={originalEvent:G,type:"cxttap",position:{x:He[0],y:He[1]}};Nt?Nt.emit(kn):Ye.emit(kn)}c.hoverData.cxtDragged=!1,c.hoverData.which=null}else if(1===c.hoverData.which){if(u(An,["mouseup","tapend","vmouseup"],G,{x:He[0],y:He[1]}),!c.dragData.didDrag&&!c.hoverData.dragged&&!c.hoverData.selecting&&!c.hoverData.isOverThresholdDrag&&(u(Nt,["click","tap","vclick"],G,{x:He[0],y:He[1]}),X=!1,G.timeStamp-J<=Ye.multiClickDebounceTime()?(U&&clearTimeout(U),X=!0,J=null,u(Nt,["dblclick","dbltap","vdblclick"],G,{x:He[0],y:He[1]})):(U=setTimeout(function(){X||u(Nt,["oneclick","onetap","voneclick"],G,{x:He[0],y:He[1]})},Ye.multiClickDebounceTime()),J=G.timeStamp)),null==Nt&&!c.dragData.didDrag&&!c.hoverData.selecting&&!c.hoverData.dragged&&!d(G)&&(Ye.$(o).unselect(["tapunselect"]),ct.length>0&&c.redrawHint("eles",!0),c.dragData.possibleDragElements=ct=Ye.collection()),An==Nt&&!c.dragData.didDrag&&!c.hoverData.selecting&&null!=An&&An._private.selectable&&(c.hoverData.dragging||("additive"===Ye.selectionType()||ii?An.selected()?An.unselect(["tapunselect"]):An.select(["tapselect"]):ii||(Ye.$(o).unmerge(An).unselect(["tapunselect"]),An.select(["tapselect"]))),c.redrawHint("eles",!0)),c.hoverData.selecting){var oi=Ye.collection(c.getAllInBox(ze[0],ze[1],ze[2],ze[3]));c.redrawHint("select",!0),oi.length>0&&c.redrawHint("eles",!0),Ye.emit({type:"boxend",originalEvent:G,position:{x:He[0],y:He[1]}}),"additive"===Ye.selectionType()||ii||Ye.$(o).unmerge(oi).unselect(),oi.emit("box").stdFilter(function(ar){return ar.selectable()&&!ar.selected()}).select().emit("boxselect"),c.redraw()}if(c.hoverData.dragging&&(c.hoverData.dragging=!1,c.redrawHint("select",!0),c.redrawHint("eles",!0),c.redraw()),!ze[4]){c.redrawHint("drag",!0),c.redrawHint("eles",!0);var Fn=Nt&&Nt.grabbed();T(ct),Fn&&(Nt.emit("freeon"),ct.emit("free"),c.dragData.didDrag&&(Nt.emit("dragfreeon"),ct.emit("dragfree")))}}ze[4]=0,c.hoverData.down=null,c.hoverData.cxtStarted=!1,c.hoverData.draggingEles=!1,c.hoverData.selecting=!1,c.hoverData.isOverThresholdDrag=!1,c.dragData.didDrag=!1,c.hoverData.dragged=!1,c.hoverData.dragDelta=[],c.hoverData.mdownPos=null,c.hoverData.mdownGPos=null}},!1);var W=function(G){if(!c.scrollingPage){var Me=c.cy,Ye=Me.zoom(),He=Me.pan(),ze=c.projectIntoViewport(G.clientX,G.clientY),An=[ze[0]*Ye+He.x,ze[1]*Ye+He.y];if(c.hoverData.draggingEles||c.hoverData.dragging||c.hoverData.cxtStarted||0!==c.selection[4])return void G.preventDefault();if(Me.panningEnabled()&&Me.userPanningEnabled()&&Me.zoomingEnabled()&&Me.userZoomingEnabled()){var ct;G.preventDefault(),c.data.wheelZooming=!0,clearTimeout(c.data.wheelTimeout),c.data.wheelTimeout=setTimeout(function(){c.data.wheelZooming=!1,c.redrawHint("eles",!0),c.redraw()},150),ct=null!=G.deltaY?G.deltaY/-250:null!=G.wheelDeltaY?G.wheelDeltaY/1e3:G.wheelDelta/1e3,ct*=c.wheelSensitivity,1===G.deltaMode&&(ct*=33);var ii=Me.zoom()*Math.pow(10,ct);"gesturechange"===G.type&&(ii=c.gestureStartZoom*G.scale),Me.zoom({level:ii,renderedPosition:{x:An[0],y:An[1]}}),Me.emit("gesturechange"===G.type?"pinchzoom":"scrollzoom")}}};c.registerBinding(c.container,"wheel",W,!0),c.registerBinding(window,"scroll",function(G){c.scrollingPage=!0,clearTimeout(c.scrollingPageTimeout),c.scrollingPageTimeout=setTimeout(function(){c.scrollingPage=!1},250)},!0),c.registerBinding(c.container,"gesturestart",function(G){c.gestureStartZoom=c.cy.zoom(),c.hasTouchStarted||G.preventDefault()},!0),c.registerBinding(c.container,"gesturechange",function(lt){c.hasTouchStarted||W(lt)},!0),c.registerBinding(c.container,"mouseout",function(G){var Me=c.projectIntoViewport(G.clientX,G.clientY);c.cy.emit({originalEvent:G,type:"mouseout",position:{x:Me[0],y:Me[1]}})},!1),c.registerBinding(c.container,"mouseover",function(G){var Me=c.projectIntoViewport(G.clientX,G.clientY);c.cy.emit({originalEvent:G,type:"mouseover",position:{x:Me[0],y:Me[1]}})},!1);var oe,Q,ge,ae,ce,be,Se,Re,De,ke,Ge,Ke,Ue,We,Xe,tt,gt,nn,vn,wt,Ie=function(G,Me,Ye,He){return Math.sqrt((Ye-G)*(Ye-G)+(He-Me)*(He-Me))},ve=function(G,Me,Ye,He){return(Ye-G)*(Ye-G)+(He-Me)*(He-Me)};if(c.registerBinding(c.container,"touchstart",We=function(G){if(c.hasTouchStarted=!0,Y(G)){R(),c.touchData.capture=!0,c.data.bgActivePosistion=void 0;var Me=c.cy,Ye=c.touchData.now,He=c.touchData.earlier;if(G.touches[0]){var ze=c.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);Ye[0]=ze[0],Ye[1]=ze[1]}if(G.touches[1]&&(ze=c.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),Ye[2]=ze[0],Ye[3]=ze[1]),G.touches[2]&&(ze=c.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),Ye[4]=ze[0],Ye[5]=ze[1]),G.touches[1]){c.touchData.singleTouchMoved=!0,T(c.dragData.touchDragEles);var An=c.findContainerClientCoords();Ge=An[2],Ke=An[3],Q=G.touches[0].clientY-(ke=An[1]),ge=G.touches[1].clientX-(De=An[0]),ae=G.touches[1].clientY-ke,Ue=0<=(oe=G.touches[0].clientX-De)&&oe<=Ge&&0<=ge&&ge<=Ge&&0<=Q&&Q<=Ke&&0<=ae&&ae<=Ke;var ct=Me.pan(),Nt=Me.zoom();if(ce=Ie(oe,Q,ge,ae),be=ve(oe,Q,ge,ae),Re=[((Se=[(oe+ge)/2,(Q+ae)/2])[0]-ct.x)/Nt,(Se[1]-ct.y)/Nt],be<4e4&&!G.touches[2]){var kn=c.findNearestElement(Ye[0],Ye[1],!0,!0),oi=c.findNearestElement(Ye[2],Ye[3],!0,!0);return kn&&kn.isNode()?(kn.activate().emit({originalEvent:G,type:"cxttapstart",position:{x:Ye[0],y:Ye[1]}}),c.touchData.start=kn):oi&&oi.isNode()?(oi.activate().emit({originalEvent:G,type:"cxttapstart",position:{x:Ye[0],y:Ye[1]}}),c.touchData.start=oi):Me.emit({originalEvent:G,type:"cxttapstart",position:{x:Ye[0],y:Ye[1]}}),c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxt=!0,c.touchData.cxtDragged=!1,c.data.bgActivePosistion=void 0,void c.redraw()}}if(G.touches[2])Me.boxSelectionEnabled()&&G.preventDefault();else if(!G.touches[1]&&G.touches[0]){var En=c.findNearestElements(Ye[0],Ye[1],!0,!0),Fn=En[0];if(null!=Fn&&(Fn.activate(),c.touchData.start=Fn,c.touchData.starts=En,c.nodeIsGrabbable(Fn))){var Qi=c.dragData.touchDragEles=Me.collection(),ar=null;c.redrawHint("eles",!0),c.redrawHint("drag",!0),Fn.selected()?(ar=Me.$(function(as){return as.selected()&&c.nodeIsGrabbable(as)}),S(ar,{addToList:Qi})):M(Fn,{addToList:Qi}),_(Fn);var Ao=function(yl){return{originalEvent:G,type:yl,position:{x:Ye[0],y:Ye[1]}}};Fn.emit(Ao("grabon")),ar?ar.forEach(function(as){as.emit(Ao("grab"))}):Fn.emit(Ao("grab"))}u(Fn,["touchstart","tapstart","vmousedown"],G,{x:Ye[0],y:Ye[1]}),null==Fn&&(c.data.bgActivePosistion={x:ze[0],y:ze[1]},c.redrawHint("select",!0),c.redraw()),c.touchData.singleTouchMoved=!1,c.touchData.singleTouchStartTime=+new Date,clearTimeout(c.touchData.tapholdTimeout),c.touchData.tapholdTimeout=setTimeout(function(){!1===c.touchData.singleTouchMoved&&!c.pinching&&!c.touchData.selecting&&u(c.touchData.start,["taphold"],G,{x:Ye[0],y:Ye[1]})},c.tapholdDuration)}if(G.touches.length>=1){for(var To=c.touchData.startPosition=[],Ar=0;Ar<Ye.length;Ar++)To[Ar]=He[Ar]=Ye[Ar];var Ss=G.touches[0];c.touchData.startGPosition=[Ss.clientX,Ss.clientY]}}},!1),c.registerBinding(window,"touchmove",Xe=function(G){var Me=c.touchData.capture;if(Me||Y(G)){var Ye=c.selection,He=c.cy,ze=c.touchData.now,An=c.touchData.earlier,ct=He.zoom();if(G.touches[0]){var Nt=c.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);ze[0]=Nt[0],ze[1]=Nt[1]}G.touches[1]&&(Nt=c.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),ze[2]=Nt[0],ze[3]=Nt[1]),G.touches[2]&&(Nt=c.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),ze[4]=Nt[0],ze[5]=Nt[1]);var Tn,ii=c.touchData.startGPosition;if(Me&&G.touches[0]&&ii){for(var kn=[],oi=0;oi<ze.length;oi++)kn[oi]=ze[oi]-An[oi];var En=G.touches[0].clientX-ii[0],Qi=G.touches[0].clientY-ii[1];Tn=En*En+Qi*Qi>=c.touchTapThreshold2}if(Me&&c.touchData.cxt){G.preventDefault();var yl=ve(To=G.touches[0].clientX-De,Ar=G.touches[0].clientY-ke,Ss=G.touches[1].clientX-De,as=G.touches[1].clientY-ke);if(yl/be>=2.25||yl>=22500){c.touchData.cxt=!1,c.data.bgActivePosistion=void 0,c.redrawHint("select",!0);var uc={originalEvent:G,type:"cxttapend",position:{x:ze[0],y:ze[1]}};c.touchData.start?(c.touchData.start.unactivate().emit(uc),c.touchData.start=null):He.emit(uc)}}if(Me&&c.touchData.cxt){uc={originalEvent:G,type:"cxtdrag",position:{x:ze[0],y:ze[1]}},c.data.bgActivePosistion=void 0,c.redrawHint("select",!0),c.touchData.start?c.touchData.start.emit(uc):He.emit(uc),c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxtDragged=!0;var Ms=c.findNearestElement(ze[0],ze[1],!0,!0);(!c.touchData.cxtOver||Ms!==c.touchData.cxtOver)&&(c.touchData.cxtOver&&c.touchData.cxtOver.emit({originalEvent:G,type:"cxtdragout",position:{x:ze[0],y:ze[1]}}),c.touchData.cxtOver=Ms,Ms&&Ms.emit({originalEvent:G,type:"cxtdragover",position:{x:ze[0],y:ze[1]}}))}else if(Me&&G.touches[2]&&He.boxSelectionEnabled())G.preventDefault(),c.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,c.touchData.selecting||He.emit({originalEvent:G,type:"boxstart",position:{x:ze[0],y:ze[1]}}),c.touchData.selecting=!0,c.touchData.didSelect=!0,Ye[4]=1,Ye&&0!==Ye.length&&void 0!==Ye[0]?(Ye[2]=(ze[0]+ze[2]+ze[4])/3,Ye[3]=(ze[1]+ze[3]+ze[5])/3):(Ye[0]=(ze[0]+ze[2]+ze[4])/3,Ye[1]=(ze[1]+ze[3]+ze[5])/3,Ye[2]=(ze[0]+ze[2]+ze[4])/3+1,Ye[3]=(ze[1]+ze[3]+ze[5])/3+1),c.redrawHint("select",!0),c.redraw();else if(Me&&G.touches[1]&&!c.touchData.didSelect&&He.zoomingEnabled()&&He.panningEnabled()&&He.userZoomingEnabled()&&He.userPanningEnabled()){if(G.preventDefault(),c.data.bgActivePosistion=void 0,c.redrawHint("select",!0),ls=c.dragData.touchDragEles){c.redrawHint("drag",!0);for(var As=0;As<ls.length;As++){var _f=ls[As]._private;_f.grabbed=!1,_f.rscratch.inDragLayer=!1}}var To,Ar,Ss,as,ta=c.touchData.start,Tg=Ie(To=G.touches[0].clientX-De,Ar=G.touches[0].clientY-ke,Ss=G.touches[1].clientX-De,as=G.touches[1].clientY-ke),kg=Tg/ce;if(Ue){var r_=(To-oe+(Ss-ge))/2,s_=(Ar-Q+(as-ae))/2,ko=He.zoom(),bf=ko*kg,Rd=He.pan(),o_=Re[0]*ko+Rd.x,Ex=Re[1]*ko+Rd.y,wf={x:-bf/ko*(o_-Rd.x-r_)+o_,y:-bf/ko*(Ex-Rd.y-s_)+Ex};ta&&ta.active()&&(T(ls=c.dragData.touchDragEles),c.redrawHint("drag",!0),c.redrawHint("eles",!0),ta.unactivate().emit("freeon"),ls.emit("free"),c.dragData.didDrag&&(ta.emit("dragfreeon"),ls.emit("dragfree"))),He.viewport({zoom:bf,pan:wf,cancelOnFailedZoom:!0}),He.emit("pinchzoom"),ce=Tg,oe=To,Q=Ar,ge=Ss,ae=as,c.pinching=!0}G.touches[0]&&(Nt=c.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY),ze[0]=Nt[0],ze[1]=Nt[1]),G.touches[1]&&(Nt=c.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),ze[2]=Nt[0],ze[3]=Nt[1]),G.touches[2]&&(Nt=c.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),ze[4]=Nt[0],ze[5]=Nt[1])}else if(G.touches[0]&&!c.touchData.didSelect){var Io=c.touchData.start,Cf=c.touchData.last;if(!c.hoverData.draggingEles&&!c.swipePanning&&(Ms=c.findNearestElement(ze[0],ze[1],!0,!0)),Me&&null!=Io&&G.preventDefault(),Me&&null!=Io&&c.nodeIsDraggable(Io))if(Tn){var ls=c.dragData.touchDragEles,Rg=!c.dragData.didDrag;Rg&&S(ls,{inDragLayer:!0}),c.dragData.didDrag=!0;var _u={x:0,y:0};Pe(kn[0])&&Pe(kn[1])&&(_u.x+=kn[0],_u.y+=kn[1],Rg)&&(c.redrawHint("eles",!0),(Zs=c.touchData.dragDelta)&&Pe(Zs[0])&&Pe(Zs[1])&&(_u.x+=Zs[0],_u.y+=Zs[1])),c.hoverData.draggingEles=!0,ls.silentShift(_u).emit("position drag"),c.redrawHint("drag",!0),c.touchData.startPosition[0]==An[0]&&c.touchData.startPosition[1]==An[1]&&c.redrawHint("eles",!0),c.redraw()}else{var Zs;0===(Zs=c.touchData.dragDelta=c.touchData.dragDelta||[]).length?(Zs.push(kn[0]),Zs.push(kn[1])):(Zs[0]+=kn[0],Zs[1]+=kn[1])}if(u(Io||Ms,["touchmove","tapdrag","vmousemove"],G,{x:ze[0],y:ze[1]}),(!Io||!Io.grabbed())&&Ms!=Cf&&(Cf&&Cf.emit({originalEvent:G,type:"tapdragout",position:{x:ze[0],y:ze[1]}}),Ms&&Ms.emit({originalEvent:G,type:"tapdragover",position:{x:ze[0],y:ze[1]}})),c.touchData.last=Ms,Me)for(As=0;As<ze.length;As++)ze[As]&&c.touchData.startPosition[As]&&Tn&&(c.touchData.singleTouchMoved=!0);Me&&(null==Io||Io.pannable())&&He.panningEnabled()&&He.userPanningEnabled()&&(f(Io,c.touchData.starts)&&(G.preventDefault(),c.data.bgActivePosistion||(c.data.bgActivePosistion=Zu(c.touchData.startPosition)),c.swipePanning?(He.panBy({x:kn[0]*ct,y:kn[1]*ct}),He.emit("dragpan")):Tn&&(c.swipePanning=!0,He.panBy({x:En*ct,y:Qi*ct}),He.emit("dragpan"),Io&&(Io.unactivate(),c.redrawHint("select",!0),c.touchData.start=null))),Nt=c.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY),ze[0]=Nt[0],ze[1]=Nt[1])}for(oi=0;oi<ze.length;oi++)An[oi]=ze[oi];Me&&G.touches.length>0&&!c.hoverData.draggingEles&&!c.swipePanning&&null!=c.data.bgActivePosistion&&(c.data.bgActivePosistion=void 0,c.redrawHint("select",!0),c.redraw())}},!1),c.registerBinding(window,"touchcancel",tt=function(G){var Me=c.touchData.start;c.touchData.capture=!1,Me&&Me.unactivate()}),c.registerBinding(window,"touchend",gt=function(G){var Me=c.touchData.start;if(c.touchData.capture){0===G.touches.length&&(c.touchData.capture=!1),G.preventDefault();var He=c.selection;c.swipePanning=!1,c.hoverData.draggingEles=!1;var Tn,ze=c.cy,An=ze.zoom(),ct=c.touchData.now,Nt=c.touchData.earlier;if(G.touches[0]){var ii=c.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);ct[0]=ii[0],ct[1]=ii[1]}if(G.touches[1]&&(ii=c.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),ct[2]=ii[0],ct[3]=ii[1]),G.touches[2]&&(ii=c.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),ct[4]=ii[0],ct[5]=ii[1]),Me&&Me.unactivate(),c.touchData.cxt){if(Tn={originalEvent:G,type:"cxttapend",position:{x:ct[0],y:ct[1]}},Me?Me.emit(Tn):ze.emit(Tn),!c.touchData.cxtDragged){var kn={originalEvent:G,type:"cxttap",position:{x:ct[0],y:ct[1]}};Me?Me.emit(kn):ze.emit(kn)}return c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxt=!1,c.touchData.start=null,void c.redraw()}if(!G.touches[2]&&ze.boxSelectionEnabled()&&c.touchData.selecting){c.touchData.selecting=!1;var oi=ze.collection(c.getAllInBox(He[0],He[1],He[2],He[3]));He[0]=void 0,He[1]=void 0,He[2]=void 0,He[3]=void 0,He[4]=0,c.redrawHint("select",!0),ze.emit({type:"boxend",originalEvent:G,position:{x:ct[0],y:ct[1]}}),oi.emit("box").stdFilter(function(bl){return bl.selectable()&&!bl.selected()}).select().emit("boxselect"),oi.nonempty()&&c.redrawHint("eles",!0),c.redraw()}if(Me?.unactivate(),G.touches[2])c.data.bgActivePosistion=void 0,c.redrawHint("select",!0);else if(!G.touches[1]&&!G.touches[0]&&!G.touches[0]){c.data.bgActivePosistion=void 0,c.redrawHint("select",!0);var Fn=c.dragData.touchDragEles;if(null!=Me){var Qi=Me._private.grabbed;T(Fn),c.redrawHint("drag",!0),c.redrawHint("eles",!0),Qi&&(Me.emit("freeon"),Fn.emit("free"),c.dragData.didDrag&&(Me.emit("dragfreeon"),Fn.emit("dragfree"))),u(Me,["touchend","tapend","vmouseup","tapdragout"],G,{x:ct[0],y:ct[1]}),Me.unactivate(),c.touchData.start=null}else{var ar=c.findNearestElement(ct[0],ct[1],!0,!0);u(ar,["touchend","tapend","vmouseup","tapdragout"],G,{x:ct[0],y:ct[1]})}var Ao=c.touchData.startPosition[0]-ct[0],Ar=c.touchData.startPosition[1]-ct[1],yl=(Ao*Ao+Ar*Ar)*An*An;c.touchData.singleTouchMoved||(Me||ze.$(":selected").unselect(["tapunselect"]),u(Me,["tap","vclick"],G,{x:ct[0],y:ct[1]}),nn=!1,G.timeStamp-wt<=ze.multiClickDebounceTime()?(vn&&clearTimeout(vn),nn=!0,wt=null,u(Me,["dbltap","vdblclick"],G,{x:ct[0],y:ct[1]})):(vn=setTimeout(function(){nn||u(Me,["onetap","voneclick"],G,{x:ct[0],y:ct[1]})},ze.multiClickDebounceTime()),wt=G.timeStamp)),null!=Me&&!c.dragData.didDrag&&Me._private.selectable&&yl<c.touchTapThreshold2&&!c.pinching&&("single"===ze.selectionType()?(ze.$(o).unmerge(Me).unselect(["tapunselect"]),Me.select(["tapselect"])):Me.selected()?Me.unselect(["tapunselect"]):Me.select(["tapselect"]),c.redrawHint("eles",!0)),c.touchData.singleTouchMoved=!0}for(var Ys=0;Ys<ct.length;Ys++)Nt[Ys]=ct[Ys];c.dragData.didDrag=!1,0===G.touches.length&&(c.touchData.dragDelta=[],c.touchData.startPosition=null,c.touchData.startGPosition=null,c.touchData.didSelect=!1),G.touches.length<2&&(1===G.touches.length&&(c.touchData.startGPosition=[G.touches[0].clientX,G.touches[0].clientY]),c.pinching=!1,c.redrawHint("eles",!0),c.redraw())}},!1),typeof TouchEvent>"u"){var mt=[],Ut=function(G){return{clientX:G.clientX,clientY:G.clientY,force:1,identifier:G.pointerId,pageX:G.pageX,pageY:G.pageY,radiusX:G.width/2,radiusY:G.height/2,screenX:G.screenX,screenY:G.screenY,target:G.target}},Vt=function(G){for(var Me=0;Me<mt.length;Me++)if(mt[Me].event.pointerId===G.pointerId)return void mt.splice(Me,1)},Dn=function(G){G.touches=mt.map(function(Me){return Me.touch})},en=function(G){return"mouse"===G.pointerType||4===G.pointerType};c.registerBinding(c.container,"pointerdown",function(lt){en(lt)||(lt.preventDefault(),mt.push(function(G){return{event:G,touch:Ut(G)}}(lt)),Dn(lt),We(lt))}),c.registerBinding(c.container,"pointerup",function(lt){en(lt)||(Vt(lt),Dn(lt),gt(lt))}),c.registerBinding(c.container,"pointercancel",function(lt){en(lt)||(Vt(lt),Dn(lt),tt())}),c.registerBinding(c.container,"pointermove",function(lt){var G,Me;en(lt)||(lt.preventDefault(),G=lt,(Me=mt.filter(function(Ye){return Ye.event.pointerId===G.pointerId})[0]).event=G,Me.touch=Ut(G),Dn(lt),Xe(lt))})}};var Qo={generatePolygon:function(c,o){return this.nodeShapes[c]={renderer:this,name:c,points:o,draw:function(d,f,p,g,y){this.renderer.nodeShapeImpl("polygon",d,f,p,g,y,this.points)},intersectLine:function(d,f,p,g,y,b,_){return Wc(y,b,this.points,d,f,p/2,g/2,_)},checkPoint:function(d,f,p,g,y,b,_){return Er(d,f,this.points,b,_,g,y,[0,-1],p)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(o,u,d,f,p){this.renderer.nodeShapeImpl(this.name,o,u,d,f,p)},intersectLine:function(o,u,d,f,p,g,y){return function(o,u,d,f,p,g){var y=d-o,b=f-u;y/=p,b/=g;var _=Math.sqrt(y*y+b*b),w=_-1;if(w<0)return[];var x=w/_;return[(d-o)*x+o,(f-u)*x+u]}(p,g,o,u,d/2+y,f/2+y)},checkPoint:function(o,u,d,f,p,g,y){return Wn(o,u,f,p,g,y,d)}}},generateRoundPolygon:function(c,o){for(var u=new Array(2*o.length),d=0;d<o.length/2;d++){var p,f=2*d;p=d<o.length/2-1?2*(d+1):0,u[4*d]=o[f],u[4*d+1]=o[f+1];var g=o[p]-o[f],y=o[p+1]-o[f+1],b=Math.sqrt(g*g+y*y);u[4*d+2]=g/b,u[4*d+3]=y/b}return this.nodeShapes[c]={renderer:this,name:c,points:u,draw:function(w,x,E,S,M){this.renderer.nodeShapeImpl("round-polygon",w,x,E,S,M,this.points)},intersectLine:function(w,x,E,S,M,T,I){return function(o,u,d,f,p,g,y,b){for(var w,_=[],x=new Array(d.length),E=g/2,S=y/2,M=Oh(g,y),T=0;T<d.length/4;T++){var R,I;I=0===T?d.length-2:4*T-2,R=4*T+2;var F=f+E*d[4*T],L=p+S*d[4*T+1],K=M/Math.tan(Math.acos(-d[I]*d[R]-d[I+1]*d[R+1])/2),Z=F-K*d[I],H=L-K*d[I+1],Y=F+K*d[R],U=L+K*d[R+1];0===T?(x[d.length-2]=Z,x[d.length-1]=H):(x[4*T-2]=Z,x[4*T-1]=H),x[4*T]=Y,x[4*T+1]=U;var X=d[I+1],J=-d[I];X*d[R]+J*d[R+1]<0&&(X*=-1,J*=-1),0!==(w=il(o,u,f,p,Z+X*M,H+J*M,M)).length&&_.push(w[0],w[1])}for(var ge=0;ge<x.length/4;ge++)0!==(w=$o(o,u,f,p,x[4*ge],x[4*ge+1],x[4*ge+2],x[4*ge+3],!1)).length&&_.push(w[0],w[1]);if(_.length>2){for(var ae=[_[0],_[1]],ce=Math.pow(ae[0]-o,2)+Math.pow(ae[1]-u,2),be=1;be<_.length/2;be++){var Se=Math.pow(_[2*be]-o,2)+Math.pow(_[2*be+1]-u,2);Se<=ce&&(ae[0]=_[2*be],ae[1]=_[2*be+1],ce=Se)}return ae}return _}(M,T,this.points,w,x,E,S)},checkPoint:function(w,x,E,S,M,T,I){return function(o,u,d,f,p,g,y){for(var b=new Array(d.length),_=g/2,w=y/2,x=Oh(g,y),E=x*x,S=0;S<d.length/4;S++){var T,M;M=0===S?d.length-2:4*S-2,T=4*S+2;var I=f+_*d[4*S],R=p+w*d[4*S+1],L=x/Math.tan(Math.acos(-d[M]*d[T]-d[M+1]*d[T+1])/2),z=I-L*d[M],K=R-L*d[M+1],Z=I+L*d[T],H=R+L*d[T+1];b[4*S]=z,b[4*S+1]=K,b[4*S+2]=Z,b[4*S+3]=H;var Y=d[M+1],U=-d[M];Y*d[T]+U*d[T+1]<0&&(Y*=-1,U*=-1);var W=K+U*x;if(Math.pow(z+Y*x-o,2)+Math.pow(W-u,2)<=E)return!0}return Bs(o,u,b)}(w,x,this.points,T,I,S,M)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:gs(4,0),draw:function(o,u,d,f,p){this.renderer.nodeShapeImpl(this.name,o,u,d,f,p)},intersectLine:function(o,u,d,f,p,g,y){return Kv(p,g,o,u,d,f,y)},checkPoint:function(o,u,d,f,p,g,y){var b=qc(f,p),_=2*b;return!!(Er(o,u,this.points,g,y,f,p-_,[0,-1],d)||Er(o,u,this.points,g,y,f-_,p,[0,-1],d)||Wn(o,u,_,_,g-f/2+b,y-p/2+b,d)||Wn(o,u,_,_,g+f/2-b,y-p/2+b,d)||Wn(o,u,_,_,g+f/2-b,y+p/2-b,d)||Wn(o,u,_,_,g-f/2+b,y+p/2-b,d))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:gs(4,0),draw:function(o,u,d,f,p){this.renderer.nodeShapeImpl(this.name,o,u,d,f,p)},generateCutTrianglePts:function(o,u,d,f){var p=this.cornerLength,g=u/2,y=o/2,b=d-y,_=d+y,w=f-g,x=f+g;return{topLeft:[b,w+p,b+p,w,b+p,w+p],topRight:[_-p,w,_,w+p,_-p,w+p],bottomRight:[_,x-p,_-p,x,_-p,x-p],bottomLeft:[b+p,x,b,x-p,b+p,x-p]}},intersectLine:function(o,u,d,f,p,g,y){var b=this.generateCutTrianglePts(d+2*y,f+2*y,o,u),_=[].concat.apply([],[b.topLeft.splice(0,4),b.topRight.splice(0,4),b.bottomRight.splice(0,4),b.bottomLeft.splice(0,4)]);return Wc(p,g,_,o,u)},checkPoint:function(o,u,d,f,p,g,y){if(Er(o,u,this.points,g,y,f,p-2*this.cornerLength,[0,-1],d)||Er(o,u,this.points,g,y,f-2*this.cornerLength,p,[0,-1],d))return!0;var b=this.generateCutTrianglePts(f,p,g,y);return Bs(o,u,b.topLeft)||Bs(o,u,b.topRight)||Bs(o,u,b.bottomRight)||Bs(o,u,b.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:gs(4,0),draw:function(o,u,d,f,p){this.renderer.nodeShapeImpl(this.name,o,u,d,f,p)},intersectLine:function(o,u,d,f,p,g,y){var x=this.generateBarrelBezierPts(d+2*y,f+2*y,o,u),E=function(T){var I=Oe({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},.15),R=Oe({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},.5),F=Oe({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},.85);return[T[0],T[1],I.x,I.y,R.x,R.y,F.x,F.y,T[4],T[5]]},S=[].concat(E(x.topLeft),E(x.topRight),E(x.bottomRight),E(x.bottomLeft));return Wc(p,g,S,o,u)},generateBarrelBezierPts:function(o,u,d,f){var p=u/2,g=o/2,y=d-g,b=d+g,_=f-p,w=f+p,x=Ph(o,u),E=x.heightOffset,S=x.widthOffset,M=x.ctrlPtOffsetPct*o,T={topLeft:[y,_+E,y+M,_,y+S,_],topRight:[b-S,_,b-M,_,b,_+E],bottomRight:[b,w-E,b-M,w,b-S,w],bottomLeft:[y+S,w,y+M,w,y,w-E]};return T.topLeft.isTop=!0,T.topRight.isTop=!0,T.bottomLeft.isBottom=!0,T.bottomRight.isBottom=!0,T},checkPoint:function(o,u,d,f,p,g,y){var b=Ph(f,p),w=b.widthOffset;if(Er(o,u,this.points,g,y,f,p-2*b.heightOffset,[0,-1],d)||Er(o,u,this.points,g,y,f-2*w,p,[0,-1],d))return!0;for(var x=this.generateBarrelBezierPts(f,p,g,y),E=function(H,Y,U){var X=U[4],J=U[2],W=U[0],oe=U[5],Q=U[1],ge=Math.min(X,W),ae=Math.max(X,W),ce=Math.min(oe,Q),be=Math.max(oe,Q);if(ge<=H&&H<=ae&&ce<=Y&&Y<=be){var Se=function(o,u,d){return[o-2*u+d,2*(u-o),o]}(X,J,W),Re=function(o,u,d,f){var p=u*u-4*o*(d-=f);if(p<0)return[];var g=Math.sqrt(p),y=2*o;return[(-u+g)/y,(-u-g)/y]}(Se[0],Se[1],Se[2],H),De=Re.filter(function(ke){return 0<=ke&&ke<=1});if(De.length>0)return De[0]}return null},S=Object.keys(x),M=0;M<S.length;M++){var I=x[S[M]],R=E(o,u,I);if(null!=R){var K=Gr(I[5],I[3],I[1],R);if(I.isTop&&K<=u||I.isBottom&&u<=K)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:gs(4,0),draw:function(o,u,d,f,p){this.renderer.nodeShapeImpl(this.name,o,u,d,f,p)},intersectLine:function(o,u,d,f,p,g,y){var _=u-(f/2+y),E=$o(p,g,o,u,o-(d/2+y),_,o+(d/2+y),_,!1);return E.length>0?E:Kv(p,g,o,u,d,f,y)},checkPoint:function(o,u,d,f,p,g,y){var b=qc(f,p),_=2*b;if(Er(o,u,this.points,g,y,f,p-_,[0,-1],d)||Er(o,u,this.points,g,y,f-_,p,[0,-1],d))return!0;var w=f/2+2*d,x=p/2+2*d;return!!(Bs(o,u,[g-w,y-x,g-w,y,g+w,y,g+w,y-x])||Wn(o,u,_,_,g+f/2-b,y+p/2-b,d)||Wn(o,u,_,_,g-f/2+b,y+p/2-b,d))}}},registerNodeShapes:function(){var c=this.nodeShapes={},o=this;this.generateEllipse(),this.generatePolygon("triangle",gs(3,0)),this.generateRoundPolygon("round-triangle",gs(3,0)),this.generatePolygon("rectangle",gs(4,0)),c.square=c.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var u=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",u),this.generateRoundPolygon("round-diamond",u),this.generatePolygon("pentagon",gs(5,0)),this.generateRoundPolygon("round-pentagon",gs(5,0)),this.generatePolygon("hexagon",gs(6,0)),this.generateRoundPolygon("round-hexagon",gs(6,0)),this.generatePolygon("heptagon",gs(7,0)),this.generateRoundPolygon("round-heptagon",gs(7,0)),this.generatePolygon("octagon",gs(8,0)),this.generateRoundPolygon("round-octagon",gs(8,0));var d=new Array(20),f=zp(5,0),p=zp(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var y=0;y<p.length/2;y++)p[2*y]*=g,p[2*y+1]*=g;for(y=0;y<5;y++)d[4*y]=f[2*y],d[4*y+1]=f[2*y+1],d[4*y+2]=p[2*y],d[4*y+3]=p[2*y+1];d=pn(d),this.generatePolygon("star",d),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var b=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",b),this.generateRoundPolygon("round-tag",b),c.makePolygon=function(_){var E,x="polygon-"+_.join("$");return(E=this[x])?E:o.generatePolygon(x,_)}}},Do={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(c){c=c||jv();var o=this;void 0===o.averageRedrawTime&&(o.averageRedrawTime=0),void 0===o.lastRedrawTime&&(o.lastRedrawTime=0),void 0===o.lastDrawTime&&(o.lastDrawTime=0),o.requestedFrame=!0,o.renderOptions=c},beforeRender:function(c,o){if(!this.destroyed){null==o&&Fi("Priority is not optional for beforeRender");var u=this.beforeRenderCallbacks;u.push({fn:c,priority:o}),u.sort(function(d,f){return f.priority-d.priority})}}},Oy=function(o,u,d){for(var f=o.beforeRenderCallbacks,p=0;p<f.length;p++)f[p].fn(u,d)};Do.startRenderLoop=function(){var c=this,o=c.cy;c.renderLoopStarted||(c.renderLoopStarted=!0,Qa(function d(f){if(!c.destroyed){if(!o.batching())if(c.requestedFrame&&!c.skipFrame){Oy(c,!0,f);var p=Ls();c.render(c.renderOptions);var g=c.lastDrawTime=Ls();void 0===c.averageRedrawTime&&(c.averageRedrawTime=g-p),void 0===c.redrawCount&&(c.redrawCount=0),c.redrawCount++,void 0===c.redrawTotalTime&&(c.redrawTotalTime=0);var y=g-p;c.redrawTotalTime+=y,c.lastRedrawTime=y,c.averageRedrawTime=c.averageRedrawTime/2+y/2,c.requestedFrame=!1}else Oy(c,!1,f);c.skipFrame=!1,Qa(d)}}))};var Py=function(o){this.init(o)},gu=Py.prototype;gu.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],gu.init=function(c){var o=this;o.options=c,o.cy=c.cy;var u=o.container=c.cy.container();if(Tt){var d=Tt.document,f=d.head,p="__________cytoscape_stylesheet",g="__________cytoscape_container",y=null!=d.getElementById(p);if(u.className.indexOf(g)<0&&(u.className=(u.className||"")+" "+g),!y){var b=d.createElement("style");b.id=p,b.innerHTML="."+g+" { position: relative; }",f.insertBefore(b,f.children[0])}"static"===Tt.getComputedStyle(u).getPropertyValue("position")&&ti("A Cytoscape container has style position:static and so can not use UI extensions properly")}o.selection=[void 0,void 0,void 0,void 0,0],o.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],o.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},o.dragData={possibleDragElements:[]},o.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},o.redraws=0,o.showFps=c.showFps,o.debug=c.debug,o.hideEdgesOnViewport=c.hideEdgesOnViewport,o.textureOnViewport=c.textureOnViewport,o.wheelSensitivity=c.wheelSensitivity,o.motionBlurEnabled=c.motionBlur,o.forcedPixelRatio=Pe(c.pixelRatio)?c.pixelRatio:null,o.motionBlur=c.motionBlur,o.motionBlurOpacity=c.motionBlurOpacity,o.motionBlurTransparency=1-o.motionBlurOpacity,o.motionBlurPxRatio=1,o.mbPxRBlurry=1,o.minMbLowQualFrames=4,o.fullQualityMb=!1,o.clearedForMotionBlur=[],o.desktopTapThreshold=c.desktopTapThreshold,o.desktopTapThreshold2=c.desktopTapThreshold*c.desktopTapThreshold,o.touchTapThreshold=c.touchTapThreshold,o.touchTapThreshold2=c.touchTapThreshold*c.touchTapThreshold,o.tapholdDuration=500,o.bindings=[],o.beforeRenderCallbacks=[],o.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},o.registerNodeShapes(),o.registerArrowShapes(),o.registerCalculationListeners()},gu.notify=function(c,o){var u=this,d=u.cy;if(!this.destroyed){if("init"===c)return void u.load();if("destroy"===c)return void u.destroy();("add"===c||"remove"===c||"move"===c&&d.hasCompoundNodes()||"load"===c||"zorder"===c||"mount"===c)&&u.invalidateCachedZSortedEles(),"viewport"===c&&u.redrawHint("select",!0),("load"===c||"resize"===c||"mount"===c)&&(u.invalidateContainerClientCoordsCache(),u.matchCanvasSize(u.container)),u.redrawHint("eles",!0),u.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},gu.destroy=function(){var c=this;c.destroyed=!0,c.cy.stopAnimationLoop();for(var o=0;o<c.bindings.length;o++){var u=c.bindings[o],f=u.target;(f.off||f.removeEventListener).apply(f,u.args)}if(c.bindings=[],c.beforeRenderCallbacks=[],c.onUpdateEleCalcsFns=[],c.removeObserver&&c.removeObserver.disconnect(),c.styleObserver&&c.styleObserver.disconnect(),c.resizeObserver&&c.resizeObserver.disconnect(),c.labelCalcDiv)try{document.body.removeChild(c.labelCalcDiv)}catch{}},gu.isHeadless=function(){return!1},[fu,df,yg,rc,Qo,Do].forEach(function(c){qt(gu,c)});var _g=1e3/60,Es_setupDequeueing=function(o){return function(){var d=this,f=this.renderer;if(!d.dequeueingSetup){d.dequeueingSetup=!0;var p=ue.default(function(){f.redrawHint("eles",!0),f.redrawHint("drag",!0),f.redraw()},o.deqRedrawThreshold);f.beforeRender(function(_,w){var x=Ls(),E=f.averageRedrawTime,S=f.lastRedrawTime,M=[],T=f.cy.extent(),I=f.getPixelRatio();for(_||f.flushRenderedStyleQueue();;){var R=Ls(),F=R-x,L=R-w;if(S<_g){if(L>=o.deqFastCost*(_g-(_?E:0)))break}else if(_){if(F>=o.deqCost*S||F>=o.deqAvgCost*E)break}else if(L>=o.deqNoDrawCost*_g)break;var K=o.deq(d,I,T);if(!(K.length>0))break;for(var Z=0;Z<K.length;Z++)M.push(K[Z])}M.length>0&&(o.onDeqd(d,M),!_&&o.shouldRedraw(d,M,I,T)&&p())},(o.priority||Eh)(d))}}},Jo=function(){function c(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lp;et(this,c),this.idsByKey=new ro,this.keyForId=new ro,this.cachesByLvl=new ro,this.lvls=[],this.getKey=o,this.doesEleInvalidateKey=u}return we(c,[{key:"getIdsFor",value:function(u){null==u&&Fi("Can not get id list for null key");var d=this.idsByKey,f=this.idsByKey.get(u);return f||(f=new ai,d.set(u,f)),f}},{key:"addIdForKey",value:function(u,d){null!=u&&this.getIdsFor(u).add(d)}},{key:"deleteIdForKey",value:function(u,d){null!=u&&this.getIdsFor(u).delete(d)}},{key:"getNumberOfIdsForKey",value:function(u){return null==u?0:this.getIdsFor(u).size}},{key:"updateKeyMappingFor",value:function(u){var d=u.id(),f=this.keyForId.get(d),p=this.getKey(u);this.deleteIdForKey(f,d),this.addIdForKey(p,d),this.keyForId.set(d,p)}},{key:"deleteKeyMappingFor",value:function(u){var d=u.id(),f=this.keyForId.get(d);this.deleteIdForKey(f,d),this.keyForId.delete(d)}},{key:"keyHasChangedFor",value:function(u){var d=u.id();return this.keyForId.get(d)!==this.getKey(u)}},{key:"isInvalid",value:function(u){return this.keyHasChangedFor(u)||this.doesEleInvalidateKey(u)}},{key:"getCachesAt",value:function(u){var d=this.cachesByLvl,f=this.lvls,p=d.get(u);return p||(p=new ro,d.set(u,p),f.push(u)),p}},{key:"getCache",value:function(u,d){return this.getCachesAt(d).get(u)}},{key:"get",value:function(u,d){var f=this.getKey(u),p=this.getCache(f,d);return null!=p&&this.updateKeyMappingFor(u),p}},{key:"getForCachedKey",value:function(u,d){var f=this.keyForId.get(u.id());return this.getCache(f,d)}},{key:"hasCache",value:function(u,d){return this.getCachesAt(d).has(u)}},{key:"has",value:function(u,d){var f=this.getKey(u);return this.hasCache(f,d)}},{key:"setCache",value:function(u,d,f){f.key=u,this.getCachesAt(d).set(u,f)}},{key:"set",value:function(u,d,f){var p=this.getKey(u);this.setCache(p,d,f),this.updateKeyMappingFor(u)}},{key:"deleteCache",value:function(u,d){this.getCachesAt(d).delete(u)}},{key:"delete",value:function(u,d){var f=this.getKey(u);this.deleteCache(f,d)}},{key:"invalidateKey",value:function(u){var d=this;this.lvls.forEach(function(f){return d.deleteCache(u,f)})}},{key:"invalidate",value:function(u){var d=u.id(),f=this.keyForId.get(d);this.deleteKeyMappingFor(u);var p=this.doesEleInvalidateKey(u);return p&&this.invalidateKey(f),p||0===this.getNumberOfIdsForKey(f)}}]),c}(),Ad={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},TT=Ur({getKey:null,doesEleInvalidateKey:Lp,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Ns,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),sc=function(o,u){var d=this;d.renderer=o,d.onDequeues=[];var f=TT(u);qt(d,f),d.lookup=new Jo(f.getKey,f.doesEleInvalidateKey),d.setupDequeueing()},or=sc.prototype;or.reasons=Ad,or.getTextureQueue=function(c){var o=this;return o.eleImgCaches=o.eleImgCaches||{},o.eleImgCaches[c]=o.eleImgCaches[c]||[]},or.getRetiredTextureQueue=function(c){var u=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return u[c]=u[c]||[]},or.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new fe.default(function(u,d){return d.reqs-u.reqs})},or.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},or.getElement=function(c,o,u,d,f){var p=this,g=this.renderer,y=g.cy.zoom(),b=this.lookup;if(!o||0===o.w||0===o.h||isNaN(o.w)||isNaN(o.h)||!c.visible()||c.removed()||!p.allowEdgeTxrCaching&&c.isEdge()||!p.allowParentTxrCaching&&c.isParent())return null;if(null==d&&(d=Math.ceil(Wv(y*u))),d<-4)d=-4;else if(y>=7.99||d>3)return null;var _=Math.pow(2,d),w=o.h*_,x=o.w*_,E=g.eleTextBiggerThanMin(c,_);if(!this.isVisible(c,E))return null;var M,S=b.get(c,d);if(S&&S.invalidated&&(S.invalidated=!1,S.texture.invalidatedWidth-=S.width),S)return S;if(M=w<=25?25:w<=50?50:50*Math.ceil(w/50),w>1024||x>1024)return null;var T=p.getTextureQueue(M),I=T[T.length-2],R=function(){return p.recycleTexture(M,x)||p.addTexture(M,x)};I||(I=T[T.length-1]),I||(I=R()),I.width-I.usedWidth<x&&(I=R());for(var Z,F=function(ae){return ae&&ae.scaledLabelShown===E},L=f&&f===Ad.dequeue,z=f&&f===Ad.highQuality,K=f&&f===Ad.downscale,H=d+1;H<=3;H++){var Y=b.get(c,H);if(Y){Z=Y;break}}var U=Z&&Z.level===d+1?Z:null,X=function(){I.context.drawImage(U.texture.canvas,U.x,0,U.width,U.height,I.usedWidth,0,x,w)};if(I.context.setTransform(1,0,0,1,0,0),I.context.clearRect(I.usedWidth,0,x,M),F(U))X();else if(F(Z)){if(!z)return p.queueElement(c,Z.level-1),Z;for(var J=Z.level;J>d;J--)U=p.getElement(c,o,u,J,Ad.downscale);X()}else{var W;if(!L&&!z&&!K)for(var oe=d-1;oe>=-4;oe--){var Q=b.get(c,oe);if(Q){W=Q;break}}if(F(W))return p.queueElement(c,d),W;I.context.translate(I.usedWidth,0),I.context.scale(_,_),this.drawElement(I.context,c,o,E,!1),I.context.scale(1/_,1/_),I.context.translate(-I.usedWidth,0)}return S={x:I.usedWidth,texture:I,level:d,scale:_,width:x,height:w,scaledLabelShown:E},I.usedWidth+=Math.ceil(x+8),I.eleCaches.push(S),b.set(c,d,S),p.checkTextureFullness(I),S},or.invalidateElements=function(c){for(var o=0;o<c.length;o++)this.invalidateElement(c[o])},or.invalidateElement=function(c){var o=this,u=o.lookup,d=[];if(u.isInvalid(c)){for(var p=-4;p<=3;p++){var g=u.getForCachedKey(c,p);g&&d.push(g)}if(u.invalidate(c))for(var b=0;b<d.length;b++){var _=d[b],w=_.texture;w.invalidatedWidth+=_.width,_.invalidated=!0,o.checkTextureUtility(w)}o.removeFromQueue(c)}},or.checkTextureUtility=function(c){c.invalidatedWidth>=.2*c.width&&this.retireTexture(c)},or.checkTextureFullness=function(c){var u=this.getTextureQueue(c.height);c.usedWidth/c.width>.8&&c.fullnessChecks>=10?wa(u,c):c.fullnessChecks++},or.retireTexture=function(c){var u=c.height,d=this.getTextureQueue(u),f=this.lookup;wa(d,c),c.retired=!0;for(var p=c.eleCaches,g=0;g<p.length;g++){var y=p[g];f.deleteCache(y.key,y.level)}Np(p),this.getRetiredTextureQueue(u).push(c)},or.addTexture=function(c,o){var f={};return this.getTextureQueue(c).push(f),f.eleCaches=[],f.height=c,f.width=Math.max(1024,o),f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,f.canvas=this.renderer.makeOffscreenCanvas(f.width,f.height),f.context=f.canvas.getContext("2d"),f},or.recycleTexture=function(c,o){for(var d=this.getTextureQueue(c),f=this.getRetiredTextureQueue(c),p=0;p<f.length;p++){var g=f[p];if(g.width>=o)return g.retired=!1,g.usedWidth=0,g.invalidatedWidth=0,g.fullnessChecks=0,Np(g.eleCaches),g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(0,0,g.width,g.height),wa(f,g),d.push(g),g}},or.queueElement=function(c,o){var d=this.getElementQueue(),f=this.getElementKeyToQueue(),p=this.getKey(c),g=f[p];if(g)g.level=Math.max(g.level,o),g.eles.merge(c),g.reqs++,d.updateItem(g);else{var y={eles:c.spawn().merge(c),level:o,reqs:1,key:p};d.push(y),f[p]=y}},or.dequeue=function(c){for(var o=this,u=o.getElementQueue(),d=o.getElementKeyToQueue(),f=[],p=o.lookup,g=0;g<1&&u.size()>0;g++){var y=u.pop(),b=y.key,_=y.eles[0],w=p.hasCache(_,y.level);if(d[b]=null,!w){f.push(y);var x=o.getBoundingBox(_);o.getElement(_,x,c,y.level,Ad.dequeue)}}return f},or.removeFromQueue=function(c){var u=this.getElementQueue(),d=this.getElementKeyToQueue(),f=this.getKey(c),p=d[f];null!=p&&(1===p.eles.length?(p.reqs=tl,u.updateItem(p),u.pop(),d[f]=null):p.eles.unmerge(c))},or.onDequeue=function(c){this.onDequeues.push(c)},or.offDequeue=function(c){wa(this.onDequeues,c)},or.setupDequeueing=Es_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,u,d){return o.dequeue(u,d)},onDeqd:function(o,u){for(var d=0;d<o.onDequeues.length;d++)(0,o.onDequeues[d])(u)},shouldRedraw:function(o,u,d,f){for(var p=0;p<u.length;p++)for(var g=u[p].eles,y=0;y<g.length;y++){var b=g[y].boundingBox();if(Ih(b,f))return!0}return!1},priority:function(o){return o.renderer.beforeRenderPriorities.eleTxrDeq}});var jy=function(o){var u=this,d=u.renderer=o,f=d.cy;u.layersByLevel={},u.firstGet=!0,u.lastInvalidationTime=Ls()-500,u.skipping=!1,u.eleTxrDeqs=f.collection(),u.scheduleElementRefinement=ue.default(function(){u.refineElementTextures(u.eleTxrDeqs),u.eleTxrDeqs.unmerge(u.eleTxrDeqs)},50),d.beforeRender(function(g,y){u.skipping=y-u.lastInvalidationTime<=250},d.beforeRenderPriorities.lyrTxrSkip),u.layersQueue=new fe.default(function(y,b){return b.reqs-y.reqs}),u.setupDequeueing()},Mr=jy.prototype,Cg=0,hx=Math.pow(2,53)-1;Mr.makeLayer=function(c,o){var u=Math.pow(2,o),d=Math.ceil(c.w*u),f=Math.ceil(c.h*u),p=this.renderer.makeOffscreenCanvas(d,f),g={id:Cg=++Cg%hx,bb:c,level:o,width:d,height:f,canvas:p,context:p.getContext("2d"),eles:[],elesQueue:[],reqs:0},y=g.context,b=-g.bb.x1,_=-g.bb.y1;return y.scale(u,u),y.translate(b,_),g},Mr.getLayers=function(c,o,u){var d=this,g=d.renderer.cy.zoom(),y=d.firstGet;if(d.firstGet=!1,null==u)if((u=Math.ceil(Wv(g*o)))<-4)u=-4;else if(g>=3.99||u>2)return null;d.validateLayersElesOrdering(u,c);var x,S,b=d.layersByLevel,_=Math.pow(2,u),w=b[u]=b[u]||[];if(d.levelIsComplete(u,c))return w;!function(){var X=function(ge){if(d.validateLayersElesOrdering(ge,c),d.levelIsComplete(ge,c))return S=b[ge],!0},J=function(ge){if(!S)for(var ae=u+ge;-4<=ae&&ae<=2&&!X(ae);ae+=ge);};J(1),J(-1);for(var W=w.length-1;W>=0;W--){var oe=w[W];oe.invalid&&wa(w,oe)}}();var I=function(X){var J=(X=X||{}).after;if(function(){if(!x){x=Wr();for(var X=0;X<c.length;X++)oC(x,c[X].boundingBox())}}(),x.w*_*(x.h*_)>16e6)return null;var oe=d.makeLayer(x,u);if(null!=J){var Q=w.indexOf(J)+1;w.splice(Q,0,oe)}else(void 0===X.insert||X.insert)&&w.unshift(oe);return oe};if(d.skipping&&!y)return null;for(var R=null,F=c.length/1,L=!y,z=0;z<c.length;z++){var K=c[z],Z=K._private.rscratch,H=Z.imgLayerCaches=Z.imgLayerCaches||{},Y=H[u];if(Y)R=Y;else{if((!R||R.eles.length>=F||!Rh(R.bb,K.boundingBox()))&&!(R=I({insert:!0,after:R})))return null;S||L?d.queueLayer(R,K):d.drawEleInLayer(R,K,u,o),R.eles.push(K),H[u]=R}}return S||(L?null:w)},Mr.getEleLevelForLayerLevel=function(c,o){return c},Mr.drawEleInLayer=function(c,o,u,d){var p=this.renderer,g=c.context,y=o.boundingBox();0===y.w||0===y.h||!o.visible()||(u=this.getEleLevelForLayerLevel(u,d),p.setImgSmoothing(g,!1),p.drawCachedElement(g,o,null,null,u,!0),p.setImgSmoothing(g,!0))},Mr.levelIsComplete=function(c,o){var d=this.layersByLevel[c];if(!d||0===d.length)return!1;for(var f=0,p=0;p<d.length;p++){var g=d[p];if(g.reqs>0||g.invalid)return!1;f+=g.eles.length}return f===o.length},Mr.validateLayersElesOrdering=function(c,o){var u=this.layersByLevel[c];if(u)for(var d=0;d<u.length;d++){for(var f=u[d],p=-1,g=0;g<o.length;g++)if(f.eles[0]===o[g]){p=g;break}if(p<0)this.invalidateLayer(f);else{var y=p;for(g=0;g<f.eles.length;g++)if(f.eles[g]!==o[y+g]){this.invalidateLayer(f);break}}}},Mr.updateElementsInLayers=function(c,o){for(var d=ki(c[0]),f=0;f<c.length;f++)for(var p=d?null:c[f],g=d?c[f]:c[f].ele,y=g._private.rscratch,b=y.imgLayerCaches=y.imgLayerCaches||{},_=-4;_<=2;_++){var w=b[_];!w||p&&this.getEleLevelForLayerLevel(w.level)!==p.level||o(w,g,p)}},Mr.haveLayers=function(){for(var o=!1,u=-4;u<=2;u++){var d=this.layersByLevel[u];if(d&&d.length>0){o=!0;break}}return o},Mr.invalidateElements=function(c){var o=this;0!==c.length&&(o.lastInvalidationTime=Ls(),0!==c.length&&o.haveLayers()&&o.updateElementsInLayers(c,function(d,f,p){o.invalidateLayer(d)}))},Mr.invalidateLayer=function(c){if(this.lastInvalidationTime=Ls(),!c.invalid){var o=c.level,u=c.eles;wa(this.layersByLevel[o],c),c.elesQueue=[],c.invalid=!0,c.replacement&&(c.replacement.invalid=!0);for(var f=0;f<u.length;f++){var p=u[f]._private.rscratch.imgLayerCaches;p&&(p[o]=null)}}},Mr.refineElementTextures=function(c){var o=this;o.updateElementsInLayers(c,function(d,f,p){var g=d.replacement;if(g||((g=d.replacement=o.makeLayer(d.bb,d.level)).replaces=d,g.eles=d.eles),!g.reqs)for(var y=0;y<g.eles.length;y++)o.queueLayer(g,g.eles[y])})},Mr.enqueueElementRefinement=function(c){this.eleTxrDeqs.merge(c),this.scheduleElementRefinement()},Mr.queueLayer=function(c,o){var d=this.layersQueue,f=c.elesQueue,p=f.hasId=f.hasId||{};if(!c.replacement){if(o){if(p[o.id()])return;f.push(o),p[o.id()]=!0}c.reqs?(c.reqs++,d.updateItem(c)):(c.reqs=1,d.push(c))}},Mr.dequeue=function(c){for(var o=this,u=o.layersQueue,d=[],f=0;f<1&&0!==u.size();){var p=u.peek();if(p.replacement)u.pop();else if(p.replaces&&p!==p.replaces.replacement)u.pop();else if(p.invalid)u.pop();else{var g=p.elesQueue.shift();g&&(o.drawEleInLayer(p,g,p.level,c),f++),0===d.length&&d.push(!0),0===p.elesQueue.length&&(u.pop(),p.reqs=0,p.replaces&&o.applyLayerReplacement(p),o.requestRedraw())}}return d},Mr.applyLayerReplacement=function(c){var u=this.layersByLevel[c.level],d=c.replaces,f=u.indexOf(d);if(!(f<0||d.invalid)){u[f]=c;for(var p=0;p<c.eles.length;p++){var g=c.eles[p]._private,y=g.imgLayerCaches=g.imgLayerCaches||{};y&&(y[c.level]=c)}this.requestRedraw()}},Mr.requestRedraw=ue.default(function(){var c=this.renderer;c.redrawHint("eles",!0),c.redrawHint("drag",!0),c.redraw()},100),Mr.setupDequeueing=Es_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,u){return o.dequeue(u)},onDeqd:Eh,shouldRedraw:Ns,priority:function(o){return o.renderer.beforeRenderPriorities.lyrTxrDeq}});var Gy,Uy={};function fx(c,o){for(var u=0;u<o.length;u++){var d=o[u];c.lineTo(d.x,d.y)}}function px(c,o,u){for(var d,f=0;f<o.length;f++){var p=o[f];0===f&&(d=p),c.lineTo(p.x,p.y)}c.quadraticCurveTo(u.x,u.y,d.x,d.y)}function gx(c,o,u){c.beginPath&&c.beginPath();for(var d=o,f=0;f<d.length;f++)c.lineTo((p=d[f]).x,p.y);var g=u,y=u[0];for(c.moveTo(y.x,y.y),f=1;f<g.length;f++){var p;c.lineTo((p=g[f]).x,p.y)}c.closePath&&c.closePath()}function IT(c,o,u,d,f){c.beginPath&&c.beginPath(),c.arc(u,d,f,0,2*Math.PI,!1);var p=o,g=p[0];c.moveTo(g.x,g.y);for(var y=0;y<p.length;y++){var b=p[y];c.lineTo(b.x,b.y)}c.closePath&&c.closePath()}function kd(c,o,u,d){c.arc(o,u,d,0,2*Math.PI,!1)}Uy.arrowShapeImpl=function(c){return(Gy||(Gy={polygon:fx,"triangle-backcurve":px,"triangle-tee":gx,"circle-triangle":IT,"triangle-cross":gx,circle:kd}))[c]};var co={drawElement:function(c,o,u,d,f,p){o.isNode()?this.drawNode(c,o,u,d,f,p):this.drawEdge(c,o,u,d,f,p)},drawElementOverlay:function(c,o){o.isNode()?this.drawNodeOverlay(c,o):this.drawEdgeOverlay(c,o)},drawElementUnderlay:function(c,o){o.isNode()?this.drawNodeUnderlay(c,o):this.drawEdgeUnderlay(c,o)},drawCachedElementPortion:function(c,o,u,d,f,p,g,y){var b=this,_=u.getBoundingBox(o);if(0!==_.w&&0!==_.h){var w=u.getElement(o,_,d,f,p);if(null!=w){var x=y(b,o);if(0===x)return;var R,F,L,z,K,Y,E=g(b,o),S=_.x1,M=_.y1,T=_.w,I=_.h;if(0!==E){var Z=u.getRotationPoint(o);c.translate(L=Z.x,z=Z.y),c.rotate(E),(K=b.getImgSmoothing(c))||b.setImgSmoothing(c,!0);var H=u.getRotationOffset(o);R=H.x,F=H.y}else R=S,F=M;1!==x&&(c.globalAlpha=(Y=c.globalAlpha)*x),c.drawImage(w.texture.canvas,w.x,0,w.width,w.height,R,F,T,I),1!==x&&(c.globalAlpha=Y),0!==E&&(c.rotate(-E),c.translate(-L,-z),K||b.setImgSmoothing(c,!1))}else u.drawElement(c,o)}}},Wy=function(){return 0},qy=function(o,u){return o.getTextAngle(u,null)},Ky=function(o,u){return o.getTextAngle(u,"source")},mx=function(o,u){return o.getTextAngle(u,"target")},Yy=function(o,u){return u.effectiveOpacity()},vf=function(o,u){return u.pstyle("text-opacity").pfValue*u.effectiveOpacity()};co.drawCachedElement=function(c,o,u,d,f,p){var g=this,y=g.data,b=y.eleTxrCache,_=y.lblTxrCache,w=y.slbTxrCache,x=y.tlbTxrCache,E=o.boundingBox(),S=!0===p?b.reasons.highQuality:null;if(0!==E.w&&0!==E.h&&o.visible()&&(!d||Ih(E,d))){var M=o.isEdge(),T=o.element()._private.rscratch.badLine;g.drawElementUnderlay(c,o),g.drawCachedElementPortion(c,o,b,u,f,S,Wy,Yy),(!M||!T)&&g.drawCachedElementPortion(c,o,_,u,f,S,qy,vf),M&&!T&&(g.drawCachedElementPortion(c,o,w,u,f,S,Ky,vf),g.drawCachedElementPortion(c,o,x,u,f,S,mx,vf)),g.drawElementOverlay(c,o)}},co.drawElements=function(c,o){for(var d=0;d<o.length;d++)this.drawElement(c,o[d])},co.drawCachedElements=function(c,o,u,d){for(var p=0;p<o.length;p++)this.drawCachedElement(c,o[p],u,d)},co.drawCachedNodes=function(c,o,u,d){for(var p=0;p<o.length;p++){var g=o[p];!g.isNode()||this.drawCachedElement(c,g,u,d)}},co.drawLayeredElements=function(c,o,u,d){var p=this.data.lyrTxrCache.getLayers(o,u);if(p)for(var g=0;g<p.length;g++){var y=p[g],b=y.bb;0===b.w||0===b.h||c.drawImage(y.canvas,b.x1,b.y1,b.w,b.h)}else this.drawCachedElements(c,o,u,d)};var Eo={drawEdge:function(c,o,u){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,y=o._private.rscratch;if((!p||o.visible())&&!y.badLine&&null!=y.allpts&&!isNaN(y.allpts[0])){var b;u&&c.translate(-(b=u).x1,-b.y1);var _=p?o.pstyle("opacity").value:1,w=p?o.pstyle("line-opacity").value:1,x=o.pstyle("curve-style").value,E=o.pstyle("line-style").value,S=o.pstyle("width").pfValue,M=o.pstyle("line-cap").value,T=_*w,I=_*w,R=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;"straight-triangle"===x?(g.eleStrokeStyle(c,o,W),g.drawEdgeTrianglePath(o,c,y.allpts)):(c.lineWidth=S,c.lineCap=M,g.eleStrokeStyle(c,o,W),g.drawEdgePath(o,c,y.allpts,E),c.lineCap="butt")},F=function(){!f||g.drawEdgeOverlay(c,o)},L=function(){!f||g.drawEdgeUnderlay(c,o)},z=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;g.drawArrowheads(c,o,W)},K=function(){g.drawElementText(c,o,null,d)};c.lineJoin="round";var Z="yes"===o.pstyle("ghost").value;if(Z){var H=o.pstyle("ghost-offset-x").pfValue,Y=o.pstyle("ghost-offset-y").pfValue,U=o.pstyle("ghost-opacity").value,X=T*U;c.translate(H,Y),R(X),z(X),c.translate(-H,-Y)}L(),R(),z(),F(),K(),u&&c.translate(b.x1,b.y1)}}},vx=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(u,d){if(d.visible()){var f=d.pstyle("".concat(o,"-opacity")).value;if(0!==f){var p=this,g=p.usePaths(),y=d._private.rscratch,_=2*d.pstyle("".concat(o,"-padding")).pfValue,w=d.pstyle("".concat(o,"-color")).value;u.lineWidth=_,u.lineCap="self"!==y.edgeType||g?"round":"butt",p.colorStrokeStyle(u,w[0],w[1],w[2],f),p.drawEdgePath(d,u,y.allpts,"solid")}}}};Eo.drawEdgeOverlay=vx("overlay"),Eo.drawEdgeUnderlay=vx("underlay"),Eo.drawEdgePath=function(c,o,u,d){var g,f=c._private.rscratch,p=o,y=!1,b=this.usePaths(),_=c.pstyle("line-dash-pattern").pfValue,w=c.pstyle("line-dash-offset").pfValue;if(b){var x=u.join("$");f.pathCacheKey&&f.pathCacheKey===x?(g=o=f.pathCache,y=!0):(g=o=new Path2D,f.pathCacheKey=x,f.pathCache=g)}if(p.setLineDash)switch(d){case"dotted":p.setLineDash([1,1]);break;case"dashed":p.setLineDash(_),p.lineDashOffset=w;break;case"solid":p.setLineDash([])}if(!y&&!f.badLine)switch(o.beginPath&&o.beginPath(),o.moveTo(u[0],u[1]),f.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var S=2;S+3<u.length;S+=4)o.quadraticCurveTo(u[S],u[S+1],u[S+2],u[S+3]);break;case"straight":case"segments":case"haystack":for(var M=2;M+1<u.length;M+=2)o.lineTo(u[M],u[M+1])}o=p,b?o.stroke(g):o.stroke(),o.setLineDash&&o.setLineDash([])},Eo.drawEdgeTrianglePath=function(c,o,u){o.fillStyle=o.strokeStyle;for(var d=c.pstyle("width").pfValue,f=0;f+1<u.length;f+=2){var p=[u[f+2]-u[f],u[f+3]-u[f+1]],g=Math.sqrt(p[0]*p[0]+p[1]*p[1]),y=[p[1]/g,-p[0]/g],b=[y[0]*d/2,y[1]*d/2];o.beginPath(),o.moveTo(u[f]-b[0],u[f+1]-b[1]),o.lineTo(u[f]+b[0],u[f+1]+b[1]),o.lineTo(u[f+2],u[f+3]),o.closePath(),o.fill()}},Eo.drawArrowheads=function(c,o,u){var d=o._private.rscratch,f="haystack"===d.edgeType;f||this.drawArrowhead(c,o,"source",d.arrowStartX,d.arrowStartY,d.srcArrowAngle,u),this.drawArrowhead(c,o,"mid-target",d.midX,d.midY,d.midtgtArrowAngle,u),this.drawArrowhead(c,o,"mid-source",d.midX,d.midY,d.midsrcArrowAngle,u),f||this.drawArrowhead(c,o,"target",d.arrowEndX,d.arrowEndY,d.tgtArrowAngle,u)},Eo.drawArrowhead=function(c,o,u,d,f,p,g){if(!(isNaN(d)||null==d||isNaN(f)||null==f||isNaN(p)||null==p)){var y=this,b=o.pstyle(u+"-arrow-shape").value;if("none"!==b){var _="hollow"===o.pstyle(u+"-arrow-fill").value?"both":"filled",w=o.pstyle(u+"-arrow-fill").value,x=o.pstyle("width").pfValue,E=o.pstyle("opacity").value;void 0===g&&(g=E);var S=c.globalCompositeOperation;(1!==g||"hollow"===w)&&(c.globalCompositeOperation="destination-out",y.colorFillStyle(c,255,255,255,1),y.colorStrokeStyle(c,255,255,255,1),y.drawArrowShape(o,c,_,x,b,d,f,p),c.globalCompositeOperation=S);var M=o.pstyle(u+"-arrow-color").value;y.colorFillStyle(c,M[0],M[1],M[2],g),y.colorStrokeStyle(c,M[0],M[1],M[2],g),y.drawArrowShape(o,c,w,x,b,d,f,p)}}},Eo.drawArrowShape=function(c,o,u,d,f,p,g,y){var x,b=this,_=this.usePaths()&&"triangle-cross"!==f,w=!1,E=o,S={x:p,y:g},M=c.pstyle("arrow-scale").value,T=this.getArrowWidth(d,M),I=b.arrowShapes[f];if(_){var R=b.arrowPathCache=b.arrowPathCache||[],F=el(f),L=R[F];null!=L?(x=o=L,w=!0):(x=o=new Path2D,R[F]=x)}w||(o.beginPath&&o.beginPath(),_?I.draw(o,1,0,{x:0,y:0},1):I.draw(o,T,y,S,d),o.closePath&&o.closePath()),o=E,_&&(o.translate(p,g),o.rotate(y),o.scale(T,T)),("filled"===u||"both"===u)&&(_?o.fill(x):o.fill()),("hollow"===u||"both"===u)&&(o.lineWidth=(I.matchEdgeWidth?d:1)/(_?T:1),o.lineJoin="miter",_?o.stroke(x):o.stroke()),_&&(o.scale(1/T,1/T),o.rotate(-y),o.translate(-p,-g))};var xg={safeDrawImage:function(c,o,u,d,f,p,g,y,b,_){if(!(f<=0||p<=0||b<=0||_<=0))try{c.drawImage(o,u,d,f,p,g,y,b,_)}catch(w){ti(w)}},drawInscribedImage:function(c,o,u,d,f){var p=this,g=u.position(),y=g.x,b=g.y,_=u.cy().style(),w=_.getIndexedStyle.bind(_),x=w(u,"background-fit","value",d),E=w(u,"background-repeat","value",d),S=u.width(),M=u.height(),T=2*u.padding(),I=S+("inner"===w(u,"background-width-relative-to","value",d)?0:T),R=M+("inner"===w(u,"background-height-relative-to","value",d)?0:T),F=u._private.rscratch,z="node"===w(u,"background-clip","value",d),K=w(u,"background-image-opacity","value",d)*f,Z=w(u,"background-image-smoothing","value",d),H=o.width||o.cachedW,Y=o.height||o.cachedH;(null==H||null==Y)&&(document.body.appendChild(o),H=o.cachedW=o.width||o.offsetWidth,Y=o.cachedH=o.height||o.offsetHeight,document.body.removeChild(o));var U=H,X=Y;if("auto"!==w(u,"background-width","value",d)&&(U="%"===w(u,"background-width","units",d)?w(u,"background-width","pfValue",d)*I:w(u,"background-width","pfValue",d)),"auto"!==w(u,"background-height","value",d)&&(X="%"===w(u,"background-height","units",d)?w(u,"background-height","pfValue",d)*R:w(u,"background-height","pfValue",d)),0!==U&&0!==X){if("contain"===x)U*=J=Math.min(I/U,R/X),X*=J;else if("cover"===x){var J;U*=J=Math.max(I/U,R/X),X*=J}var W=y-I/2,oe=w(u,"background-position-x","units",d),Q=w(u,"background-position-x","pfValue",d);W+="%"===oe?(I-U)*Q:Q;var ge=w(u,"background-offset-x","units",d),ae=w(u,"background-offset-x","pfValue",d);W+="%"===ge?(I-U)*ae:ae;var ce=b-R/2,be=w(u,"background-position-y","units",d),Se=w(u,"background-position-y","pfValue",d);ce+="%"===be?(R-X)*Se:Se;var Re=w(u,"background-offset-y","units",d),De=w(u,"background-offset-y","pfValue",d);ce+="%"===Re?(R-X)*De:De,F.pathCache&&(W-=y,ce-=b,y=0,b=0);var ke=c.globalAlpha;c.globalAlpha=K;var Ge=p.getImgSmoothing(c),Ke=!1;if("no"===Z&&Ge?(p.setImgSmoothing(c,!1),Ke=!0):"yes"===Z&&!Ge&&(p.setImgSmoothing(c,!0),Ke=!0),"no-repeat"===E)z&&(c.save(),F.pathCache?c.clip(F.pathCache):(p.nodeShapes[p.getNodeShape(u)].draw(c,y,b,I,R),c.clip())),p.safeDrawImage(c,o,0,0,H,Y,W,ce,U,X),z&&c.restore();else{var Ue=c.createPattern(o,E);c.fillStyle=Ue,p.nodeShapes[p.getNodeShape(u)].draw(c,y,b,I,R),c.translate(W,ce),c.fill(),c.translate(-W,-ce)}c.globalAlpha=ke,Ke&&p.setImgSmoothing(c,Ge)}}},Ta={};function Zy(c,o,u,d,f){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;c.beginPath(),c.moveTo(o+p,u),c.lineTo(o+d-p,u),c.quadraticCurveTo(o+d,u,o+d,u+p),c.lineTo(o+d,u+f-p),c.quadraticCurveTo(o+d,u+f,o+d-p,u+f),c.lineTo(o+p,u+f),c.quadraticCurveTo(o,u+f,o,u+f-p),c.lineTo(o,u+p),c.quadraticCurveTo(o,u,o+p,u),c.closePath(),c.fill()}Ta.eleTextBiggerThanMin=function(c,o){if(!o){var u=c.cy().zoom(),d=this.getPixelRatio(),f=Math.ceil(Wv(u*d));o=Math.pow(2,f)}return!(c.pstyle("font-size").pfValue*o<c.pstyle("min-zoomed-font-size").pfValue)},Ta.drawElementText=function(c,o,u,d,f){var p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this;if(null==d){if(p&&!g.eleTextBiggerThanMin(o))return}else if(!1===d)return;if(o.isNode()){var y=o.pstyle("label");if(!y||!y.value)return;var b=g.getLabelJustification(o);c.textAlign=b,c.textBaseline="bottom"}else{var _=o.element()._private.rscratch.badLine,w=o.pstyle("label"),x=o.pstyle("source-label"),E=o.pstyle("target-label");if(_||(!w||!w.value)&&(!x||!x.value)&&(!E||!E.value))return;c.textAlign="center",c.textBaseline="bottom"}var M,S=!u;u&&c.translate(-(M=u).x1,-M.y1),null==f?(g.drawText(c,o,null,S,p),o.isEdge()&&(g.drawText(c,o,"source",S,p),g.drawText(c,o,"target",S,p))):g.drawText(c,o,f,S,p),u&&c.translate(M.x1,M.y1)},Ta.getFontCache=function(c){var o;this.fontCaches=this.fontCaches||[];for(var u=0;u<this.fontCaches.length;u++)if((o=this.fontCaches[u]).context===c)return o;return this.fontCaches.push(o={context:c}),o},Ta.setupTextStyle=function(c,o){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=o.pstyle("font-style").strValue,f=o.pstyle("font-size").pfValue+"px",p=o.pstyle("font-family").strValue,g=o.pstyle("font-weight").strValue,y=u?o.effectiveOpacity()*o.pstyle("text-opacity").value:1,b=o.pstyle("text-outline-opacity").value*y,_=o.pstyle("color").value,w=o.pstyle("text-outline-color").value;c.font=d+" "+g+" "+f+" "+p,c.lineJoin="round",this.colorFillStyle(c,_[0],_[1],_[2],y),this.colorStrokeStyle(c,w[0],w[1],w[2],b)},Ta.getTextAngle=function(c,o){var f=c._private.rscratch,g=c.pstyle((o?o+"-":"")+"text-rotation"),y=di(f,"labelAngle",o);return"autorotate"===g.strValue?c.isEdge()?y:0:"none"===g.strValue?0:g.pfValue},Ta.drawText=function(c,o,u){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=o._private,g=p.rscratch,y=f?o.effectiveOpacity():1;if(!f||0!==y&&0!==o.pstyle("text-opacity").value){"main"===u&&(u=null);var w,x,b=di(g,"labelX",u),_=di(g,"labelY",u),E=this.getLabelText(o,u);if(null!=E&&""!==E&&!isNaN(b)&&!isNaN(_)){this.setupTextStyle(c,o,f);var K,S=u?u+"-":"",M=di(g,"labelWidth",u),T=di(g,"labelHeight",u),I=o.pstyle(S+"text-margin-x").pfValue,R=o.pstyle(S+"text-margin-y").pfValue,F=o.isEdge(),L=o.pstyle("text-halign").value,z=o.pstyle("text-valign").value;switch(F&&(L="center",z="center"),b+=I,_+=R,0!==(K=d?this.getTextAngle(o,u):0)&&(c.translate(w=b,x=_),c.rotate(K),b=0,_=0),z){case"top":break;case"center":_+=T/2;break;case"bottom":_+=T}var Z=o.pstyle("text-background-opacity").value,H=o.pstyle("text-border-opacity").value,Y=o.pstyle("text-border-width").pfValue,U=o.pstyle("text-background-padding").pfValue;if(Z>0||Y>0&&H>0){var X=b-U;switch(L){case"left":X-=M;break;case"center":X-=M/2}var J=_-T-U,W=M+2*U,oe=T+2*U;if(Z>0){var Q=c.fillStyle,ge=o.pstyle("text-background-color").value;c.fillStyle="rgba("+ge[0]+","+ge[1]+","+ge[2]+","+Z*y+")";var ae=o.pstyle("text-background-shape").strValue;0===ae.indexOf("round")?Zy(c,X,J,W,oe,2):c.fillRect(X,J,W,oe),c.fillStyle=Q}if(Y>0&&H>0){var ce=c.strokeStyle,be=c.lineWidth,Se=o.pstyle("text-border-color").value,Re=o.pstyle("text-border-style").value;if(c.strokeStyle="rgba("+Se[0]+","+Se[1]+","+Se[2]+","+H*y+")",c.lineWidth=Y,c.setLineDash)switch(Re){case"dotted":c.setLineDash([1,1]);break;case"dashed":c.setLineDash([4,2]);break;case"double":c.lineWidth=Y/4,c.setLineDash([]);break;case"solid":c.setLineDash([])}if(c.strokeRect(X,J,W,oe),"double"===Re){var De=Y/2;c.strokeRect(X+De,J+De,W-2*De,oe-2*De)}c.setLineDash&&c.setLineDash([]),c.lineWidth=be,c.strokeStyle=ce}}var ke=2*o.pstyle("text-outline-width").pfValue;if(ke>0&&(c.lineWidth=ke),"wrap"===o.pstyle("text-wrap").value){var Ge=di(g,"labelWrapCachedLines",u),Ke=di(g,"labelLineHeight",u),Ue=M/2,Ie=this.getLabelJustification(o);switch("auto"===Ie||("left"===L?"left"===Ie?b+=-M:"center"===Ie&&(b+=-Ue):"center"===L?"left"===Ie?b+=-Ue:"right"===Ie&&(b+=Ue):"right"===L&&("center"===Ie?b+=Ue:"right"===Ie&&(b+=M))),z){case"top":case"center":case"bottom":_-=(Ge.length-1)*Ke}for(var ve=0;ve<Ge.length;ve++)ke>0&&c.strokeText(Ge[ve],b,_),c.fillText(Ge[ve],b,_),_+=Ke}else ke>0&&c.strokeText(E,b,_),c.fillText(E,b,_);0!==K&&(c.rotate(-K),c.translate(-w,-x))}}};var oc={drawNode:function(c,o,u){var y,b,d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,_=o._private,w=_.rscratch,x=o.position();if(Pe(x.x)&&Pe(x.y)&&(!p||o.visible())){var M,R,E=p?o.effectiveOpacity():1,S=g.usePaths(),T=!1,I=o.padding();y=o.width()+2*I,b=o.height()+2*I,u&&c.translate(-(R=u).x1,-R.y1);for(var F=o.pstyle("background-image"),L=F.value,z=new Array(L.length),K=new Array(L.length),Z=0,H=0;H<L.length;H++){var Y=L[H],U=z[H]=null!=Y&&"none"!==Y;if(U){var X=o.cy().style().getIndexedStyle(o,"background-image-crossorigin","value",H);Z++,K[H]=g.getCachedImage(Y,X,function(){_.backgroundTimestamp=Date.now(),o.emitAndNotify("background")})}}var J=o.pstyle("background-blacken").value,W=o.pstyle("border-width").pfValue,oe=o.pstyle("background-opacity").value*E,Q=o.pstyle("border-color").value,ge=o.pstyle("border-style").value,ae=o.pstyle("border-opacity").value*E;c.lineJoin="miter";var ce=function(){var Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe;g.eleFillStyle(c,o,Dt)},be=function(){var Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae;g.colorStrokeStyle(c,Q[0],Q[1],Q[2],Dt)},Se=o.pstyle("shape").strValue,Re=o.pstyle("shape-polygon-points").pfValue;if(S){c.translate(x.x,x.y);var De=g.nodePathCache=g.nodePathCache||[],ke=Vv("polygon"===Se?Se+","+Re.join(","):Se,""+b,""+y),Ge=De[ke];null!=Ge?(T=!0,w.pathCache=M=Ge):(M=new Path2D,De[ke]=w.pathCache=M)}var Ke=function(){if(!T){var Dt=x;S&&(Dt={x:0,y:0}),g.nodeShapes[g.getNodeShape(o)].draw(M||c,Dt.x,Dt.y,y,b)}S?c.fill(M):c.fill()},Ue=function(){for(var Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,Vt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Un=_.backgrounding,Dn=0,en=0;en<K.length;en++){var lt=o.cy().style().getIndexedStyle(o,"background-image-containment","value",en);Vt&&"over"===lt||!Vt&&"inside"===lt?Dn++:z[en]&&K[en].complete&&!K[en].error&&(Dn++,g.drawInscribedImage(c,K[en],o,en,Dt))}_.backgrounding=Dn!==Z,Un!==_.backgrounding&&o.updateStyle(!1)},Ie=function(){var Dt=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;g.hasPie(o)&&(g.drawPie(c,o,Vt),Dt&&(S||g.nodeShapes[g.getNodeShape(o)].draw(c,x.x,x.y,y,b)))},ve=function(){var Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,Vt=(J>0?J:-J)*Dt,Un=J>0?0:255;0!==J&&(g.colorFillStyle(c,Un,Un,Un,Vt),S?c.fill(M):c.fill())},We=function(){if(W>0){if(c.lineWidth=W,c.lineCap="butt",c.setLineDash)switch(ge){case"dotted":c.setLineDash([1,1]);break;case"dashed":c.setLineDash([4,2]);break;case"solid":case"double":c.setLineDash([])}if(S?c.stroke(M):c.stroke(),"double"===ge){c.lineWidth=W/3;var Dt=c.globalCompositeOperation;c.globalCompositeOperation="destination-out",S?c.stroke(M):c.stroke(),c.globalCompositeOperation=Dt}c.setLineDash&&c.setLineDash([])}},Xe=function(){f&&g.drawNodeOverlay(c,o,x,y,b)},tt=function(){f&&g.drawNodeUnderlay(c,o,x,y,b)},gt=function(){g.drawElementText(c,o,null,d)},nn="yes"===o.pstyle("ghost").value;if(nn){var vn=o.pstyle("ghost-offset-x").pfValue,wt=o.pstyle("ghost-offset-y").pfValue,mt=o.pstyle("ghost-opacity").value,Ut=mt*E;c.translate(vn,wt),ce(mt*oe),Ke(),Ue(Ut,!0),be(mt*ae),We(),Ie(0!==J||0!==W),Ue(Ut,!1),ve(Ut),c.translate(-vn,-wt)}S&&c.translate(-x.x,-x.y),tt(),S&&c.translate(x.x,x.y),ce(),Ke(),Ue(E,!0),be(),We(),Ie(0!==J||0!==W),Ue(E,!1),ve(),S&&c.translate(-x.x,-x.y),gt(),Xe(),u&&c.translate(R.x1,R.y1)}}},gl=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(u,d,f,p,g){if(d.visible()){var b=d.pstyle("".concat(o,"-padding")).pfValue,_=d.pstyle("".concat(o,"-opacity")).value,w=d.pstyle("".concat(o,"-color")).value,x=d.pstyle("".concat(o,"-shape")).value;if(_>0){if(f=f||d.position(),null==p||null==g){var E=d.padding();p=d.width()+2*E,g=d.height()+2*E}this.colorFillStyle(u,w[0],w[1],w[2],_),this.nodeShapes[x].draw(u,f.x,f.y,p+2*b,g+2*b),u.fill()}}}};oc.drawNodeOverlay=gl("overlay"),oc.drawNodeUnderlay=gl("underlay"),oc.hasPie=function(c){return(c=c[0])._private.hasPie},oc.drawPie=function(c,o,u,d){o=o[0],d=d||o.position();var f=o.cy().style(),p=o.pstyle("pie-size"),g=d.x,y=d.y,b=o.width(),_=o.height(),w=Math.min(b,_)/2,x=0;this.usePaths()&&(g=0,y=0),"%"===p.units?w*=p.pfValue:void 0!==p.pfValue&&(w=p.pfValue/2);for(var S=1;S<=f.pieBackgroundN;S++){var M=o.pstyle("pie-"+S+"-background-size").value,T=o.pstyle("pie-"+S+"-background-color").value,I=o.pstyle("pie-"+S+"-background-opacity").value*u,R=M/100;R+x>1&&(R=1-x);var F=1.5*Math.PI+2*Math.PI*x,z=F+2*Math.PI*R;0===M||x>=1||x+R>1||(c.beginPath(),c.moveTo(g,y),c.arc(g,y,w,F,z),c.closePath(),this.colorFillStyle(c,T[0],T[1],T[2],I),c.fill(),x+=R)}};for(var Ks={getPixelRatio:function(){var c=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(c.backingStorePixelRatio||c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1)},paintCache:function(c){for(var d,o=this.paintCaches=this.paintCaches||[],u=!0,f=0;f<o.length;f++)if((d=o[f]).context===c){u=!1;break}return u&&o.push(d={context:c}),d},createGradientStyleFor:function(c,o,u,d,f){var p,g=this.usePaths(),y=u.pstyle(o+"-gradient-stop-colors").value,b=u.pstyle(o+"-gradient-stop-positions").pfValue;if("radial-gradient"===d)if(u.isEdge()){var _=u.sourceEndpoint(),w=u.targetEndpoint(),x=u.midpoint(),E=Kn(_,x),S=Kn(w,x);p=c.createRadialGradient(x.x,x.y,0,x.x,x.y,Math.max(E,S))}else{var M=g?{x:0,y:0}:u.position(),T=u.paddedWidth(),I=u.paddedHeight();p=c.createRadialGradient(M.x,M.y,0,M.x,M.y,Math.max(T,I))}else if(u.isEdge()){var R=u.sourceEndpoint(),F=u.targetEndpoint();p=c.createLinearGradient(R.x,R.y,F.x,F.y)}else{var L=g?{x:0,y:0}:u.position(),Z=u.paddedWidth()/2,H=u.paddedHeight()/2;switch(u.pstyle("background-gradient-direction").value){case"to-bottom":p=c.createLinearGradient(L.x,L.y-H,L.x,L.y+H);break;case"to-top":p=c.createLinearGradient(L.x,L.y+H,L.x,L.y-H);break;case"to-left":p=c.createLinearGradient(L.x+Z,L.y,L.x-Z,L.y);break;case"to-right":p=c.createLinearGradient(L.x-Z,L.y,L.x+Z,L.y);break;case"to-bottom-right":case"to-right-bottom":p=c.createLinearGradient(L.x-Z,L.y-H,L.x+Z,L.y+H);break;case"to-top-right":case"to-right-top":p=c.createLinearGradient(L.x-Z,L.y+H,L.x+Z,L.y-H);break;case"to-bottom-left":case"to-left-bottom":p=c.createLinearGradient(L.x+Z,L.y-H,L.x-Z,L.y+H);break;case"to-top-left":case"to-left-top":p=c.createLinearGradient(L.x+Z,L.y+H,L.x-Z,L.y-H)}}if(!p)return null;for(var U=b.length===y.length,X=y.length,J=0;J<X;J++)p.addColorStop(U?b[J]:J/(X-1),"rgba("+y[J][0]+","+y[J][1]+","+y[J][2]+","+f+")");return p},gradientFillStyle:function(c,o,u,d){var f=this.createGradientStyleFor(c,"background",o,u,d);if(!f)return null;c.fillStyle=f},colorFillStyle:function(c,o,u,d,f){c.fillStyle="rgba("+o+","+u+","+d+","+f+")"},eleFillStyle:function(c,o,u){var d=o.pstyle("background-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientFillStyle(c,o,d,u);else{var f=o.pstyle("background-color").value;this.colorFillStyle(c,f[0],f[1],f[2],u)}},gradientStrokeStyle:function(c,o,u,d){var f=this.createGradientStyleFor(c,"line",o,u,d);if(!f)return null;c.strokeStyle=f},colorStrokeStyle:function(c,o,u,d,f){c.strokeStyle="rgba("+o+","+u+","+d+","+f+")"},eleStrokeStyle:function(c,o,u){var d=o.pstyle("line-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientStrokeStyle(c,o,d,u);else{var f=o.pstyle("line-color").value;this.colorStrokeStyle(c,f[0],f[1],f[2],u)}},matchCanvasSize:function(c){var o=this,u=o.data,d=o.findContainerClientCoords(),f=d[2],p=d[3],g=o.getPixelRatio();(c===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE]||c===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG])&&(g=o.motionBlurPxRatio);var w,b=f*g,_=p*g;if(b!==o.canvasWidth||_!==o.canvasHeight){o.fontCaches=null;var x=u.canvasContainer;x.style.width=f+"px",x.style.height=p+"px";for(var E=0;E<o.CANVAS_LAYERS;E++)(w=u.canvases[E]).width=b,w.height=_,w.style.width=f+"px",w.style.height=p+"px";for(E=0;E<o.BUFFER_COUNT;E++)(w=u.bufferCanvases[E]).width=b,w.height=_,w.style.width=f+"px",w.style.height=p+"px";o.textureMult=1,g<=1&&(w=u.bufferCanvases[o.TEXTURE_BUFFER],o.textureMult=2,w.width=b*o.textureMult,w.height=_*o.textureMult),o.canvasWidth=b,o.canvasHeight=_}},renderTo:function(c,o,u,d){this.render({forcedContext:c,forcedZoom:o,forcedPan:u,drawAllLayers:!0,forcedPxRatio:d})},render:function(c){var o=(c=c||jv()).forcedContext,u=c.drawAllLayers,d=c.drawOnlyNodeLayer,f=c.forcedZoom,p=c.forcedPan,g=this,y=void 0===c.forcedPxRatio?this.getPixelRatio():c.forcedPxRatio,b=g.cy,_=g.data,w=_.canvasNeedsRedraw,x=g.textureOnViewport&&!o&&(g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming),E=void 0!==c.motionBlur?c.motionBlur:g.motionBlur,S=g.motionBlurPxRatio,M=b.hasCompoundNodes(),T=g.hoverData.draggingEles,R=E=E&&!o&&g.motionBlurEnabled&&!(g.hoverData.selecting||g.touchData.selecting);o||(g.prevPxRatio!==y&&(g.invalidateContainerClientCoordsCache(),g.matchCanvasSize(g.container),g.redrawHint("eles",!0),g.redrawHint("drag",!0)),g.prevPxRatio=y),!o&&g.motionBlurTimeout&&clearTimeout(g.motionBlurTimeout),E&&(null==g.mbFrames&&(g.mbFrames=0),g.mbFrames++,g.mbFrames<3&&(R=!1),g.mbFrames>g.minMbLowQualFrames&&(g.motionBlurPxRatio=g.mbPxRBlurry)),g.clearingMotionBlur&&(g.motionBlurPxRatio=1),g.textureDrawLastFrame&&!x&&(w[g.NODE]=!0,w[g.SELECT_BOX]=!0);var F=b.style(),L=b.zoom(),z=void 0!==f?f:L,K=b.pan(),Z={x:K.x,y:K.y},H={zoom:L,pan:{x:K.x,y:K.y}},Y=g.prevViewport;!(void 0===Y||H.zoom!==Y.zoom||H.pan.x!==Y.pan.x||H.pan.y!==Y.pan.y)&&!(T&&!M)&&(g.motionBlurPxRatio=1),p&&(Z=p),z*=y,Z.x*=y,Z.y*=y;var X=g.getCachedZSortedEles();function J(wt,mt,Ut,Ft,Dt){var Vt=wt.globalCompositeOperation;wt.globalCompositeOperation="destination-out",g.colorFillStyle(wt,255,255,255,g.motionBlurTransparency),wt.fillRect(mt,Ut,Ft,Dt),wt.globalCompositeOperation=Vt}function W(wt,mt){var Ut,Ft,Dt,Vt;g.clearingMotionBlur||wt!==_.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]&&wt!==_.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]?(Ut=Z,Ft=z,Dt=g.canvasWidth,Vt=g.canvasHeight):(Ut={x:K.x*S,y:K.y*S},Ft=L*S,Dt=g.canvasWidth*S,Vt=g.canvasHeight*S),wt.setTransform(1,0,0,1,0,0),"motionBlur"===mt?J(wt,0,0,Dt,Vt):!o&&(void 0===mt||mt)&&wt.clearRect(0,0,Dt,Vt),u||(wt.translate(Ut.x,Ut.y),wt.scale(Ft,Ft)),p&&wt.translate(p.x,p.y),f&&wt.scale(f,f)}if(x||(g.textureDrawLastFrame=!1),x){if(g.textureDrawLastFrame=!0,!g.textureCache){g.textureCache={},g.textureCache.bb=b.mutableElements().boundingBox(),g.textureCache.texture=g.data.bufferCanvases[g.TEXTURE_BUFFER];var oe=g.data.bufferContexts[g.TEXTURE_BUFFER];oe.setTransform(1,0,0,1,0,0),oe.clearRect(0,0,g.canvasWidth*g.textureMult,g.canvasHeight*g.textureMult),g.render({forcedContext:oe,drawOnlyNodeLayer:!0,forcedPxRatio:y*g.textureMult}),(H=g.textureCache.viewport={zoom:b.zoom(),pan:b.pan(),width:g.canvasWidth,height:g.canvasHeight}).mpan={x:(0-H.pan.x)/H.zoom,y:(0-H.pan.y)/H.zoom}}w[g.DRAG]=!1,w[g.NODE]=!1;var ge=g.textureCache.texture;H=g.textureCache.viewport,(Q=_.contexts[g.NODE]).setTransform(1,0,0,1,0,0),E?J(Q,0,0,H.width,H.height):Q.clearRect(0,0,H.width,H.height);var ae=F.core("outside-texture-bg-color").value,ce=F.core("outside-texture-bg-opacity").value;g.colorFillStyle(Q,ae[0],ae[1],ae[2],ce),Q.fillRect(0,0,H.width,H.height),L=b.zoom(),W(Q,!1),Q.clearRect(H.mpan.x,H.mpan.y,H.width/H.zoom/y,H.height/H.zoom/y),Q.drawImage(ge,H.mpan.x,H.mpan.y,H.width/H.zoom/y,H.height/H.zoom/y)}else g.textureOnViewport&&!o&&(g.textureCache=null);var be=b.extent(),Se=g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming||g.hoverData.draggingEles||g.cy.animated(),Re=g.hideEdgesOnViewport&&Se,De=[];if(De[g.NODE]=!w[g.NODE]&&E&&!g.clearedForMotionBlur[g.NODE]||g.clearingMotionBlur,De[g.NODE]&&(g.clearedForMotionBlur[g.NODE]=!0),De[g.DRAG]=!w[g.DRAG]&&E&&!g.clearedForMotionBlur[g.DRAG]||g.clearingMotionBlur,De[g.DRAG]&&(g.clearedForMotionBlur[g.DRAG]=!0),w[g.NODE]||u||d||De[g.NODE]){var ke=E&&!De[g.NODE]&&1!==S;W(Q=o||(ke?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]:_.contexts[g.NODE]),E&&!ke?"motionBlur":void 0),Re?g.drawCachedNodes(Q,X.nondrag,y,be):g.drawLayeredElements(Q,X.nondrag,y,be),g.debug&&g.drawDebugPoints(Q,X.nondrag),!u&&!E&&(w[g.NODE]=!1)}if(!d&&(w[g.DRAG]||u||De[g.DRAG])&&(ke=E&&!De[g.DRAG]&&1!==S,W(Q=o||(ke?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]:_.contexts[g.DRAG]),E&&!ke?"motionBlur":void 0),Re?g.drawCachedNodes(Q,X.drag,y,be):g.drawCachedElements(Q,X.drag,y,be),g.debug&&g.drawDebugPoints(Q,X.drag),!u&&!E&&(w[g.DRAG]=!1)),g.showFps||!d&&w[g.SELECT_BOX]&&!u){var Q;if(W(Q=o||_.contexts[g.SELECT_BOX]),1==g.selection[4]&&(g.hoverData.selecting||g.touchData.selecting)){L=g.cy.zoom();var Ke=F.core("selection-box-border-width").value/L;Q.lineWidth=Ke,Q.fillStyle="rgba("+F.core("selection-box-color").value[0]+","+F.core("selection-box-color").value[1]+","+F.core("selection-box-color").value[2]+","+F.core("selection-box-opacity").value+")",Q.fillRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]),Ke>0&&(Q.strokeStyle="rgba("+F.core("selection-box-border-color").value[0]+","+F.core("selection-box-border-color").value[1]+","+F.core("selection-box-border-color").value[2]+","+F.core("selection-box-opacity").value+")",Q.strokeRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]))}if(_.bgActivePosistion&&!g.hoverData.selecting){L=g.cy.zoom();var Ue=_.bgActivePosistion;Q.fillStyle="rgba("+F.core("active-bg-color").value[0]+","+F.core("active-bg-color").value[1]+","+F.core("active-bg-color").value[2]+","+F.core("active-bg-opacity").value+")",Q.beginPath(),Q.arc(Ue.x,Ue.y,F.core("active-bg-size").pfValue/L,0,2*Math.PI),Q.fill()}var Ie=g.lastRedrawTime;if(g.showFps&&Ie){Ie=Math.round(Ie);var ve=Math.round(1e3/Ie);Q.setTransform(1,0,0,1,0,0),Q.fillStyle="rgba(255, 0, 0, 0.75)",Q.strokeStyle="rgba(255, 0, 0, 0.75)",Q.lineWidth=1,Q.fillText("1 frame = "+Ie+" ms = "+ve+" fps",0,20),Q.strokeRect(0,30,250,20),Q.fillRect(0,30,250*Math.min(ve/60,1),20)}u||(w[g.SELECT_BOX]=!1)}if(E&&1!==S){var gt=_.contexts[g.DRAG],nn=g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_DRAG],vn=function(mt,Ut,Ft){mt.setTransform(1,0,0,1,0,0),Ft||!R?mt.clearRect(0,0,g.canvasWidth,g.canvasHeight):J(mt,0,0,g.canvasWidth,g.canvasHeight),mt.drawImage(Ut,0,0,g.canvasWidth*S,g.canvasHeight*S,0,0,g.canvasWidth,g.canvasHeight)};(w[g.NODE]||De[g.NODE])&&(vn(_.contexts[g.NODE],g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_NODE],De[g.NODE]),w[g.NODE]=!1),(w[g.DRAG]||De[g.DRAG])&&(vn(gt,nn,De[g.DRAG]),w[g.DRAG]=!1)}g.prevViewport=H,g.clearingMotionBlur&&(g.clearingMotionBlur=!1,g.motionBlurCleared=!0,g.motionBlur=!0),E&&(g.motionBlurTimeout=setTimeout(function(){g.motionBlurTimeout=null,g.clearedForMotionBlur[g.NODE]=!1,g.clearedForMotionBlur[g.DRAG]=!1,g.motionBlur=!1,g.clearingMotionBlur=!x,g.mbFrames=0,w[g.NODE]=!0,w[g.DRAG]=!0,g.redraw()},100)),o||b.emit("render")}},So={drawPolygonPath:function(c,o,u,d,f,p){var g=d/2,y=f/2;c.beginPath&&c.beginPath(),c.moveTo(o+g*p[0],u+y*p[1]);for(var b=1;b<p.length/2;b++)c.lineTo(o+g*p[2*b],u+y*p[2*b+1]);c.closePath()},drawRoundPolygonPath:function(c,o,u,d,f,p){var g=d/2,y=f/2,b=Oh(d,f);c.beginPath&&c.beginPath();for(var _=0;_<p.length/4;_++){var x,w;w=0===_?p.length-2:4*_-2,x=4*_+2;var E=o+g*p[4*_],S=u+y*p[4*_+1],T=b/Math.tan(Math.acos(-p[w]*p[x]-p[w+1]*p[x+1])/2),I=E-T*p[w],R=S-T*p[w+1],F=E+T*p[x],L=S+T*p[x+1];0===_?c.moveTo(I,R):c.lineTo(I,R),c.arcTo(E,S,F,L,b)}c.closePath()},drawRoundRectanglePath:function(c,o,u,d,f){var p=d/2,g=f/2,y=qc(d,f);c.beginPath&&c.beginPath(),c.moveTo(o,u-g),c.arcTo(o+p,u-g,o+p,u,y),c.arcTo(o+p,u+g,o,u+g,y),c.arcTo(o-p,u+g,o-p,u,y),c.arcTo(o-p,u-g,o,u-g,y),c.lineTo(o,u-g),c.closePath()},drawBottomRoundRectanglePath:function(c,o,u,d,f){var p=d/2,g=f/2,y=qc(d,f);c.beginPath&&c.beginPath(),c.moveTo(o,u-g),c.lineTo(o+p,u-g),c.lineTo(o+p,u),c.arcTo(o+p,u+g,o,u+g,y),c.arcTo(o-p,u+g,o-p,u,y),c.lineTo(o-p,u-g),c.lineTo(o,u-g),c.closePath()},drawCutRectanglePath:function(c,o,u,d,f){var p=d/2,g=f/2;c.beginPath&&c.beginPath(),c.moveTo(o-p+8,u-g),c.lineTo(o+p-8,u-g),c.lineTo(o+p,u-g+8),c.lineTo(o+p,u+g-8),c.lineTo(o+p-8,u+g),c.lineTo(o-p+8,u+g),c.lineTo(o-p,u+g-8),c.lineTo(o-p,u-g+8),c.closePath()},drawBarrelPath:function(c,o,u,d,f){var p=d/2,g=f/2,y=o-p,b=o+p,_=u-g,w=u+g,x=Ph(d,f),E=x.widthOffset,S=x.heightOffset,M=x.ctrlPtOffsetPct*E;c.beginPath&&c.beginPath(),c.moveTo(y,_+S),c.lineTo(y,w-S),c.quadraticCurveTo(y+M,w,y+E,w),c.lineTo(b-E,w),c.quadraticCurveTo(b-M,w,b,w-S),c.lineTo(b,_+S),c.quadraticCurveTo(b-M,_,b-E,_),c.lineTo(y+E,_),c.quadraticCurveTo(y+M,_,y,_+S),c.closePath()}},Xy=Math.sin(0),yf=Math.cos(0),mu={},ea={},Eg=Math.PI/40,ml=0*Math.PI;ml<2*Math.PI;ml+=Eg)mu[ml]=Math.sin(ml),ea[ml]=Math.cos(ml);So.drawEllipsePath=function(c,o,u,d,f){if(c.beginPath&&c.beginPath(),c.ellipse)c.ellipse(o,u,d/2,f/2,0,0,2*Math.PI);else for(var p,g,y=d/2,b=f/2,_=0*Math.PI;_<2*Math.PI;_+=Eg)p=o-y*mu[_]*Xy+y*ea[_]*yf,g=u+b*ea[_]*Xy+b*mu[_]*yf,0===_?c.moveTo(p,g):c.lineTo(p,g);c.closePath()};var Id={};function Sg(c){var o=c.indexOf(",");return c.substr(o+1)}function ac(c,o,u){var d=function(){return o.toDataURL(u,c.quality)};switch(c.output){case"blob-promise":return new Jc(function(f,p){try{o.toBlob(function(g){null!=g?f(g):p(new Error("`canvas.toBlob()` sent a null value in its callback"))},u,c.quality)}catch(g){p(g)}});case"blob":return function yx(c,o){for(var u=atob(c),d=new ArrayBuffer(u.length),f=new Uint8Array(d),p=0;p<u.length;p++)f[p]=u.charCodeAt(p);return new Blob([d],{type:o})}(Sg(d()),u);case"base64":return Sg(d());default:return d()}}Id.createBuffer=function(c,o){var u=document.createElement("canvas");return u.width=c,u.height=o,[u,u.getContext("2d")]},Id.bufferCanvasImage=function(c){var o=this.cy,d=o.mutableElements().boundingBox(),f=this.findContainerClientCoords(),p=c.full?Math.ceil(d.w):f[2],g=c.full?Math.ceil(d.h):f[3],y=Pe(c.maxWidth)||Pe(c.maxHeight),b=this.getPixelRatio(),_=1;if(void 0!==c.scale)p*=c.scale,g*=c.scale,_=c.scale;else if(y){var w=1/0,x=1/0;Pe(c.maxWidth)&&(w=_*c.maxWidth/p),Pe(c.maxHeight)&&(x=_*c.maxHeight/g),p*=_=Math.min(w,x),g*=_}y||(p*=b,g*=b,_*=b);var E=document.createElement("canvas");E.width=p,E.height=g,E.style.width=p+"px",E.style.height=g+"px";var S=E.getContext("2d");if(p>0&&g>0){S.clearRect(0,0,p,g),S.globalCompositeOperation="source-over";var M=this.getCachedZSortedEles();if(c.full)S.translate(-d.x1*_,-d.y1*_),S.scale(_,_),this.drawElements(S,M),S.scale(1/_,1/_),S.translate(d.x1*_,d.y1*_);else{var T=o.pan(),I={x:T.x*_,y:T.y*_};_*=o.zoom(),S.translate(I.x,I.y),S.scale(_,_),this.drawElements(S,M),S.scale(1/_,1/_),S.translate(-I.x,-I.y)}c.bg&&(S.globalCompositeOperation="destination-over",S.fillStyle=c.bg,S.rect(0,0,p,g),S.fill())}return E},Id.png=function(c){return ac(c,this.bufferCanvasImage(c),"image/png")},Id.jpg=function(c){return ac(c,this.bufferCanvasImage(c),"image/jpeg")};var _x=Jy,ui=Jy.prototype;function Jy(c){var o=this;o.data={canvases:new Array(ui.CANVAS_LAYERS),contexts:new Array(ui.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ui.CANVAS_LAYERS),bufferCanvases:new Array(ui.BUFFER_COUNT),bufferContexts:new Array(ui.CANVAS_LAYERS)};var u="-webkit-tap-highlight-color",d="rgba(0,0,0,0)";o.data.canvasContainer=document.createElement("div");var f=o.data.canvasContainer.style;o.data.canvasContainer.style[u]=d,f.position="relative",f.zIndex="0",f.overflow="hidden";var p=c.cy.container();p.appendChild(o.data.canvasContainer),p.style[u]=d;var g={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Ot&&Ot.userAgent.match(/msie|trident|edge/i)&&(g["-ms-touch-action"]="none",g["touch-action"]="none");for(var y=0;y<ui.CANVAS_LAYERS;y++){var b=o.data.canvases[y]=document.createElement("canvas");o.data.contexts[y]=b.getContext("2d"),Object.keys(g).forEach(function(Ie){b.style[Ie]=g[Ie]}),b.style.position="absolute",b.setAttribute("data-id","layer"+y),b.style.zIndex=String(ui.CANVAS_LAYERS-y),o.data.canvasContainer.appendChild(b),o.data.canvasNeedsRedraw[y]=!1}for(o.data.topCanvas=o.data.canvases[0],o.data.canvases[ui.NODE].setAttribute("data-id","layer"+ui.NODE+"-node"),o.data.canvases[ui.SELECT_BOX].setAttribute("data-id","layer"+ui.SELECT_BOX+"-selectbox"),o.data.canvases[ui.DRAG].setAttribute("data-id","layer"+ui.DRAG+"-drag"),y=0;y<ui.BUFFER_COUNT;y++)o.data.bufferCanvases[y]=document.createElement("canvas"),o.data.bufferContexts[y]=o.data.bufferCanvases[y].getContext("2d"),o.data.bufferCanvases[y].style.position="absolute",o.data.bufferCanvases[y].setAttribute("data-id","buffer"+y),o.data.bufferCanvases[y].style.zIndex=String(-y-1),o.data.bufferCanvases[y].style.visibility="hidden";o.pathsEnabled=!0;var _=Wr(),x=function(ve){return{x:-ve.w/2,y:-ve.h/2}},K=function(ve){return ve.boundingBox(),ve[0]._private.bodyBounds},Z=function(ve){return ve.boundingBox(),ve[0]._private.labelBounds.main||_},H=function(ve){return ve.boundingBox(),ve[0]._private.labelBounds.source||_},Y=function(ve){return ve.boundingBox(),ve[0]._private.labelBounds.target||_},U=function(ve,We){return We},J=function(ve,We,Xe){var tt=ve?ve+"-":"";return{x:We.x+Xe.pstyle(tt+"text-margin-x").pfValue,y:We.y+Xe.pstyle(tt+"text-margin-y").pfValue}},W=function(ve,We,Xe){var tt=ve[0]._private.rscratch;return{x:tt[We],y:tt[Xe]}},Re=o.data.eleTxrCache=new sc(o,{getKey:function(ve){return ve[0]._private.nodeKey},doesEleInvalidateKey:function(ve){var We=ve[0]._private;return!(We.oldBackgroundTimestamp===We.backgroundTimestamp)},drawElement:function(ve,We,Xe,tt,gt){return o.drawElement(ve,We,Xe,!1,!1,gt)},getBoundingBox:K,getRotationPoint:function(ve){return function(ve){return{x:(ve.x1+ve.x2)/2,y:(ve.y1+ve.y2)/2}}(K(ve))},getRotationOffset:function(ve){return x(K(ve))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),De=o.data.lblTxrCache=new sc(o,{getKey:function(ve){return ve[0]._private.labelStyleKey},drawElement:function(ve,We,Xe,tt,gt){return o.drawElementText(ve,We,Xe,tt,"main",gt)},getBoundingBox:Z,getRotationPoint:function(ve){return J("",W(ve,"labelX","labelY"),ve)},getRotationOffset:function(ve){var We=Z(ve),Xe=x(Z(ve));if(ve.isNode()){switch(ve.pstyle("text-halign").value){case"left":Xe.x=-We.w;break;case"right":Xe.x=0}switch(ve.pstyle("text-valign").value){case"top":Xe.y=-We.h;break;case"bottom":Xe.y=0}}return Xe},isVisible:U}),ke=o.data.slbTxrCache=new sc(o,{getKey:function(ve){return ve[0]._private.sourceLabelStyleKey},drawElement:function(ve,We,Xe,tt,gt){return o.drawElementText(ve,We,Xe,tt,"source",gt)},getBoundingBox:H,getRotationPoint:function(ve){return J("source",W(ve,"sourceLabelX","sourceLabelY"),ve)},getRotationOffset:function(ve){return x(H(ve))},isVisible:U}),Ge=o.data.tlbTxrCache=new sc(o,{getKey:function(ve){return ve[0]._private.targetLabelStyleKey},drawElement:function(ve,We,Xe,tt,gt){return o.drawElementText(ve,We,Xe,tt,"target",gt)},getBoundingBox:Y,getRotationPoint:function(ve){return J("target",W(ve,"targetLabelX","targetLabelY"),ve)},getRotationOffset:function(ve){return x(Y(ve))},isVisible:U}),Ke=o.data.lyrTxrCache=new jy(o);o.onUpdateEleCalcs(function(ve,We){Re.invalidateElements(We),De.invalidateElements(We),ke.invalidateElements(We),Ge.invalidateElements(We),Ke.invalidateElements(We);for(var Xe=0;Xe<We.length;Xe++){var tt=We[Xe]._private;tt.oldBackgroundTimestamp=tt.backgroundTimestamp}});var Ue=function(ve){for(var We=0;We<ve.length;We++)Ke.enqueueElementRefinement(ve[We].ele)};Re.onDequeue(Ue),De.onDequeue(Ue),ke.onDequeue(Ue),Ge.onDequeue(Ue)}ui.CANVAS_LAYERS=3,ui.SELECT_BOX=0,ui.DRAG=1,ui.NODE=2,ui.BUFFER_COUNT=3,ui.TEXTURE_BUFFER=0,ui.MOTIONBLUR_BUFFER_NODE=1,ui.MOTIONBLUR_BUFFER_DRAG=2,ui.redrawHint=function(c,o){var u=this;switch(c){case"eles":u.data.canvasNeedsRedraw[ui.NODE]=o;break;case"drag":u.data.canvasNeedsRedraw[ui.DRAG]=o;break;case"select":u.data.canvasNeedsRedraw[ui.SELECT_BOX]=o}};var Mg=typeof Path2D<"u";ui.path2dEnabled=function(c){if(void 0===c)return this.pathsEnabled;this.pathsEnabled=!!c},ui.usePaths=function(){return Mg&&this.pathsEnabled},ui.setImgSmoothing=function(c,o){null!=c.imageSmoothingEnabled?c.imageSmoothingEnabled=o:(c.webkitImageSmoothingEnabled=o,c.mozImageSmoothingEnabled=o,c.msImageSmoothingEnabled=o)},ui.getImgSmoothing=function(c){return null!=c.imageSmoothingEnabled?c.imageSmoothingEnabled:c.webkitImageSmoothingEnabled||c.mozImageSmoothingEnabled||c.msImageSmoothingEnabled},ui.makeOffscreenCanvas=function(c,o){var u;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":st(OffscreenCanvas))?u=new OffscreenCanvas(c,o):((u=document.createElement("canvas")).width=c,u.height=o),u},[Uy,co,Eo,xg,Ta,oc,Ks,So,Id,{nodeShapeImpl:function(c,o,u,d,f,p,g){switch(c){case"ellipse":return this.drawEllipsePath(o,u,d,f,p);case"polygon":return this.drawPolygonPath(o,u,d,f,p,g);case"round-polygon":return this.drawRoundPolygonPath(o,u,d,f,p,g);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(o,u,d,f,p);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(o,u,d,f,p);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(o,u,d,f,p);case"barrel":return this.drawBarrelPath(o,u,d,f,p)}}}].forEach(function(c){qt(ui,c)});var e_=[{type:"layout",extensions:MT},{type:"renderer",extensions:[{name:"null",impl:My},{name:"base",impl:Py},{name:"canvas",impl:_x}]}],t_={},Ag={};function wx(c,o,u){var d=u,f=function(Y){ti("Can not register `"+o+"` for `"+c+"` since `"+Y+"` already exists in the prototype and can not be overridden")};if("core"===c){if(_d.prototype[o])return f(o);_d.prototype[o]=u}else if("collection"===c){if(Nr.prototype[o])return f(o);Nr.prototype[o]=u}else if("layout"===c){for(var p=function(Y){this.options=Y,u.call(this,Y),nt(this._private)||(this._private={}),this._private.cy=Y.cy,this._private.listeners=[],this.createEmitter()},g=p.prototype=Object.create(u.prototype),y=[],b=0;b<y.length;b++){var _=y[b];g[_]=g[_]||function(){return this}}g.start&&!g.run?g.run=function(){return this.start(),this}:!g.start&&g.run&&(g.start=function(){return this.run(),this});var w=u.prototype.stop;g.stop=function(){var H=this.options;if(H&&H.animate){var Y=this.animations;if(Y)for(var U=0;U<Y.length;U++)Y[U].stop()}return w?w.call(this):this.emit("layoutstop"),this},g.destroy||(g.destroy=function(){return this}),g.cy=function(){return this._private.cy};var x=function(Y){return Y._private.cy},E={addEventFields:function(Y,U){U.layout=Y,U.cy=x(Y),U.target=Y},bubble:function(){return!0},parent:function(Y){return x(Y)}};qt(g,{createEmitter:function(){return this._private.emitter=new Da(E,this),this},emitter:function(){return this._private.emitter},on:function(Y,U){return this.emitter().on(Y,U),this},one:function(Y,U){return this.emitter().one(Y,U),this},once:function(Y,U){return this.emitter().one(Y,U),this},removeListener:function(Y,U){return this.emitter().removeListener(Y,U),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Y,U){return this.emitter().emit(Y,U),this}}),On.eventAliasesOn(g),d=p}else if("renderer"===c&&"null"!==o&&"base"!==o){var S=n_("renderer","base"),M=S.prototype,T=u,I=u.prototype,R=function(){S.apply(this,arguments),T.apply(this,arguments)},F=R.prototype;for(var L in M){var z=M[L];if(null!=I[L])return f(L);F[L]=z}for(var Z in I)F[Z]=I[Z];M.clientFunctions.forEach(function(H){F[H]=F[H]||function(){Fi("Renderer does not implement `renderer."+H+"()` on its prototype")}}),d=R}else if("__proto__"===c||"constructor"===c||"prototype"===c)return Fi(c+" is an illegal type to be registered, possibly lead to prototype pollutions");return _a({map:t_,keys:[c,o],value:d})}function n_(c,o){return Fc({map:t_,keys:[c,o]})}function lc(c,o,u,d,f){return _a({map:Ag,keys:[c,o,u,d],value:f})}function Cx(c,o,u,d){return Fc({map:Ag,keys:[c,o,u,d]})}var vl=function(){return 2===arguments.length?n_.apply(null,arguments):3===arguments.length?wx.apply(null,arguments):4===arguments.length?Cx.apply(null,arguments):5===arguments.length?lc.apply(null,arguments):void Fi("Invalid extension access syntax")};_d.prototype.extension=vl,e_.forEach(function(c){c.extensions.forEach(function(o){wx(c.type,o.name,o.impl)})});var St=function c(){if(!(this instanceof c))return new c;this.length=0},cc=St.prototype;cc.instanceString=function(){return"stylesheet"},cc.selector=function(c){return this[this.length++]={selector:c,properties:[]},this},cc.css=function(c,o){var u=this.length-1;if(Ae(c))this[u].properties.push({name:c,value:o});else if(nt(c))for(var d=c,f=Object.keys(d),p=0;p<f.length;p++){var g=f[p],y=d[g];if(null!=y){var b=sr.properties[g]||sr.properties[es(g)];null!=b&&this[u].properties.push({name:b.name,value:y})}}return this},cc.style=cc.css,cc.generateStyle=function(c){var o=new sr(c);return this.appendToStyle(o)},cc.appendToStyle=function(c){for(var o=0;o<this.length;o++){var u=this[o],f=u.properties;c.selector(u.selector);for(var p=0;p<f.length;p++){var g=f[p];c.css(g.name,g.value)}}return c};var Mo=function(o){return void 0===o&&(o={}),nt(o)?new _d(o):Ae(o)?vl.apply(vl,arguments):void 0};Mo.use=function(c){var o=Array.prototype.slice.call(arguments,1);return o.unshift(Mo),c.apply(null,o),this},Mo.warnings=function(c){return Sh(c)},Mo.version="3.23.0",Mo.stylesheet=Mo.Stylesheet=St,de.exports=Mo},5203:(de,me,B)=>{de.exports=B(8732)},8732:function(de,me){var B,j,ee;(function(){var se,ie,ne,re,ue,fe,Ce,Le,rt,st,et,Ne,we,Qe,xt;ne=Math.floor,st=Math.min,ie=function(xe,ot){return xe<ot?-1:xe>ot?1:0},rt=function(xe,ot,ut,yt,Ht){var Tt;if(null==ut&&(ut=0),null==Ht&&(Ht=ie),ut<0)throw new Error("lo must be non-negative");for(null==yt&&(yt=xe.length);ut<yt;)Ht(ot,xe[Tt=ne((ut+yt)/2)])<0?yt=Tt:ut=Tt+1;return[].splice.apply(xe,[ut,ut-ut].concat(ot)),ot},fe=function(xe,ot,ut){return null==ut&&(ut=ie),xe.push(ot),Qe(xe,0,xe.length-1,ut)},ue=function(xe,ot){var ut,yt;return null==ot&&(ot=ie),ut=xe.pop(),xe.length?(yt=xe[0],xe[0]=ut,xt(xe,0,ot)):yt=ut,yt},Le=function(xe,ot,ut){var yt;return null==ut&&(ut=ie),yt=xe[0],xe[0]=ot,xt(xe,0,ut),yt},Ce=function(xe,ot,ut){var yt;return null==ut&&(ut=ie),xe.length&&ut(xe[0],ot)<0&&(ot=(yt=[xe[0],ot])[0],xe[0]=yt[1],xt(xe,0,ut)),ot},re=function(xe,ot){var yt,Tt,on,Cn,ht;for(null==ot&&(ot=ie),Cn=[],yt=0,Tt=(on=function(){ht=[];for(var _t=0,Ve=ne(xe.length/2);0<=Ve?_t<Ve:_t>Ve;0<=Ve?_t++:_t--)ht.push(_t);return ht}.apply(this).reverse()).length;yt<Tt;yt++)Cn.push(xt(xe,on[yt],ot));return Cn},we=function(xe,ot,ut){var yt;if(null==ut&&(ut=ie),-1!==(yt=xe.indexOf(ot)))return Qe(xe,0,yt,ut),xt(xe,yt,ut)},et=function(xe,ot,ut){var Ht,Tt,Ot,on;if(null==ut&&(ut=ie),!(Ht=xe.slice(0,ot)).length)return Ht;for(re(Ht,ut),Tt=0,Ot=(on=xe.slice(ot)).length;Tt<Ot;Tt++)Ce(Ht,on[Tt],ut);return Ht.sort(ut).reverse()},Ne=function(xe,ot,ut){var yt,Tt,Ot,on,Cn,ht,_t,Ve,Ae;if(null==ut&&(ut=ie),10*ot<=xe.length){if(!(Ot=xe.slice(0,ot).sort(ut)).length)return Ot;for(Tt=Ot[Ot.length-1],on=0,ht=(_t=xe.slice(ot)).length;on<ht;on++)ut(yt=_t[on],Tt)<0&&(rt(Ot,yt,0,null,ut),Ot.pop(),Tt=Ot[Ot.length-1]);return Ot}for(re(xe,ut),Ae=[],Cn=0,Ve=st(ot,xe.length);0<=Ve?Cn<Ve:Cn>Ve;0<=Ve?++Cn:--Cn)Ae.push(ue(xe,ut));return Ae},Qe=function(xe,ot,ut,yt){var Ht,Tt,Ot;for(null==yt&&(yt=ie),Ht=xe[ut];ut>ot&&yt(Ht,Tt=xe[Ot=ut-1>>1])<0;)xe[ut]=Tt,ut=Ot;return xe[ut]=Ht},xt=function(xe,ot,ut){var yt,Ht,Tt,Ot,on;for(null==ut&&(ut=ie),Ht=xe.length,on=ot,Tt=xe[ot],yt=2*ot+1;yt<Ht;)(Ot=yt+1)<Ht&&!(ut(xe[yt],xe[Ot])<0)&&(yt=Ot),xe[ot]=xe[yt],yt=2*(ot=yt)+1;return xe[ot]=Tt,Qe(xe,on,ot,ut)},se=function(){function xe(ot){this.cmp=ot??ie,this.nodes=[]}return xe.push=fe,xe.pop=ue,xe.replace=Le,xe.pushpop=Ce,xe.heapify=re,xe.updateItem=we,xe.nlargest=et,xe.nsmallest=Ne,xe.prototype.push=function(ot){return fe(this.nodes,ot,this.cmp)},xe.prototype.pop=function(){return ue(this.nodes,this.cmp)},xe.prototype.peek=function(){return this.nodes[0]},xe.prototype.contains=function(ot){return-1!==this.nodes.indexOf(ot)},xe.prototype.replace=function(ot){return Le(this.nodes,ot,this.cmp)},xe.prototype.pushpop=function(ot){return Ce(this.nodes,ot,this.cmp)},xe.prototype.heapify=function(){return re(this.nodes,this.cmp)},xe.prototype.updateItem=function(ot){return we(this.nodes,ot,this.cmp)},xe.prototype.clear=function(){return this.nodes=[]},xe.prototype.empty=function(){return 0===this.nodes.length},xe.prototype.size=function(){return this.nodes.length},xe.prototype.clone=function(){var ot;return(ot=new xe).nodes=this.nodes.slice(0),ot},xe.prototype.toArray=function(){return this.nodes.slice(0)},xe.prototype.insert=xe.prototype.push,xe.prototype.top=xe.prototype.peek,xe.prototype.front=xe.prototype.peek,xe.prototype.has=xe.prototype.contains,xe.prototype.copy=xe.prototype.clone,xe}(),j=[],void 0===(ee="function"==typeof(B=function(){return se})?B.apply(me,j):B)||(de.exports=ee)}).call(this)},4994:(de,me,B)=>{var j=B(4312),ee=B(6421),se=B(5764),ie=B(8685),ne=B(6676);function re(ue){var fe=-1,Ce=null==ue?0:ue.length;for(this.clear();++fe<Ce;){var Le=ue[fe];this.set(Le[0],Le[1])}}re.prototype.clear=j,re.prototype.delete=ee,re.prototype.get=se,re.prototype.has=ie,re.prototype.set=ne,de.exports=re},9215:(de,me,B)=>{var j=B(1840),ee=B(4378),se=B(4981),ie=B(7343),ne=B(8895);function re(ue){var fe=-1,Ce=null==ue?0:ue.length;for(this.clear();++fe<Ce;){var Le=ue[fe];this.set(Le[0],Le[1])}}re.prototype.clear=j,re.prototype.delete=ee,re.prototype.get=se,re.prototype.has=ie,re.prototype.set=ne,de.exports=re},1501:(de,me,B)=>{var se=B(3436)(B(2119),"Map");de.exports=se},9850:(de,me,B)=>{var j=B(638),ee=B(1184),se=B(866),ie=B(3771),ne=B(1772);function re(ue){var fe=-1,Ce=null==ue?0:ue.length;for(this.clear();++fe<Ce;){var Le=ue[fe];this.set(Le[0],Le[1])}}re.prototype.clear=j,re.prototype.delete=ee,re.prototype.get=se,re.prototype.has=ie,re.prototype.set=ne,de.exports=re},443:(de,me,B)=>{var j=B(2119);de.exports=j.Symbol},4633:de=>{de.exports=function me(B,j){for(var ee=-1,se=null==B?0:B.length,ie=Array(se);++ee<se;)ie[ee]=j(B[ee],ee,B);return ie}},9719:(de,me,B)=>{var j=B(5683),ee=B(217),ie=Object.prototype.hasOwnProperty;de.exports=function ne(re,ue,fe){var Ce=re[ue];(!ie.call(re,ue)||!ee(Ce,fe)||void 0===fe&&!(ue in re))&&j(re,ue,fe)}},3503:(de,me,B)=>{var j=B(217);de.exports=function ee(se,ie){for(var ne=se.length;ne--;)if(j(se[ne][0],ie))return ne;return-1}},5683:(de,me,B)=>{var j=B(6713);de.exports=function ee(se,ie,ne){"__proto__"==ie&&j?j(se,ie,{configurable:!0,enumerable:!0,value:ne,writable:!0}):se[ie]=ne}},5456:(de,me,B)=>{var j=B(6884),ee=B(8533);de.exports=function se(ie,ne){for(var re=0,ue=(ne=j(ne,ie)).length;null!=ie&&re<ue;)ie=ie[ee(ne[re++])];return re&&re==ue?ie:void 0}},3337:(de,me,B)=>{var j=B(443),ee=B(1318),se=B(2902),re=j?j.toStringTag:void 0;de.exports=function ue(fe){return null==fe?void 0===fe?"[object Undefined]":"[object Null]":re&&re in Object(fe)?ee(fe):se(fe)}},7304:(de,me,B)=>{var j=B(5946),ee=B(1943),se=B(5940),ie=B(2827),re=/^\[object .+?Constructor\]$/,rt=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");de.exports=function st(et){return!(!se(et)||ee(et))&&(j(et)?rt:re).test(ie(et))}},5963:(de,me,B)=>{var j=B(9719),ee=B(6884),se=B(8442),ie=B(5940),ne=B(8533);de.exports=function re(ue,fe,Ce,Le){if(!ie(ue))return ue;for(var rt=-1,st=(fe=ee(fe,ue)).length,et=st-1,Ne=ue;null!=Ne&&++rt<st;){var we=ne(fe[rt]),Qe=Ce;if("__proto__"===we||"constructor"===we||"prototype"===we)return ue;if(rt!=et){var xt=Ne[we];void 0===(Qe=Le?Le(xt,we,Ne):void 0)&&(Qe=ie(xt)?xt:se(fe[rt+1])?[]:{})}j(Ne,we,Qe),Ne=Ne[we]}return ue}},3935:(de,me,B)=>{var j=B(443),ee=B(4633),se=B(1503),ie=B(4129),re=j?j.prototype:void 0,ue=re?re.toString:void 0;de.exports=function fe(Ce){if("string"==typeof Ce)return Ce;if(se(Ce))return ee(Ce,fe)+"";if(ie(Ce))return ue?ue.call(Ce):"";var Le=Ce+"";return"0"==Le&&1/Ce==-1/0?"-0":Le}},3348:(de,me,B)=>{var j=B(2760),ee=/^\s+/;de.exports=function se(ie){return ie&&ie.slice(0,j(ie)+1).replace(ee,"")}},6884:(de,me,B)=>{var j=B(1503),ee=B(5352),se=B(2855),ie=B(3943);de.exports=function ne(re,ue){return j(re)?re:ee(re,ue)?[re]:se(ie(re))}},9454:de=>{de.exports=function me(B,j){var ee=-1,se=B.length;for(j||(j=Array(se));++ee<se;)j[ee]=B[ee];return j}},4610:(de,me,B)=>{var j=B(2119);de.exports=j["__core-js_shared__"]},6713:(de,me,B)=>{var j=B(3436),ee=function(){try{var se=j(Object,"defineProperty");return se({},"",{}),se}catch{}}();de.exports=ee},9122:de=>{var me="object"==typeof global&&global&&global.Object===Object&&global;de.exports=me},4537:(de,me,B)=>{var j=B(3819);de.exports=function ee(se,ie){var ne=se.__data__;return j(ie)?ne["string"==typeof ie?"string":"hash"]:ne.map}},3436:(de,me,B)=>{var j=B(7304),ee=B(1990);de.exports=function se(ie,ne){var re=ee(ie,ne);return j(re)?re:void 0}},1318:(de,me,B)=>{var j=B(443),ee=Object.prototype,se=ee.hasOwnProperty,ie=ee.toString,ne=j?j.toStringTag:void 0;de.exports=function re(ue){var fe=se.call(ue,ne),Ce=ue[ne];try{ue[ne]=void 0;var Le=!0}catch{}var rt=ie.call(ue);return Le&&(fe?ue[ne]=Ce:delete ue[ne]),rt}},1990:de=>{de.exports=function me(B,j){return B?.[j]}},4312:(de,me,B)=>{var j=B(862);de.exports=function ee(){this.__data__=j?j(null):{},this.size=0}},6421:de=>{de.exports=function me(B){var j=this.has(B)&&delete this.__data__[B];return this.size-=j?1:0,j}},5764:(de,me,B)=>{var j=B(862),ie=Object.prototype.hasOwnProperty;de.exports=function ne(re){var ue=this.__data__;if(j){var fe=ue[re];return"__lodash_hash_undefined__"===fe?void 0:fe}return ie.call(ue,re)?ue[re]:void 0}},8685:(de,me,B)=>{var j=B(862),se=Object.prototype.hasOwnProperty;de.exports=function ie(ne){var re=this.__data__;return j?void 0!==re[ne]:se.call(re,ne)}},6676:(de,me,B)=>{var j=B(862);de.exports=function se(ie,ne){var re=this.__data__;return this.size+=this.has(ie)?0:1,re[ie]=j&&void 0===ne?"__lodash_hash_undefined__":ne,this}},8442:de=>{var B=/^(?:0|[1-9]\d*)$/;de.exports=function j(ee,se){var ie=typeof ee;return!!(se=se??9007199254740991)&&("number"==ie||"symbol"!=ie&&B.test(ee))&&ee>-1&&ee%1==0&&ee<se}},5352:(de,me,B)=>{var j=B(1503),ee=B(4129),se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ie=/^\w*$/;de.exports=function ne(re,ue){if(j(re))return!1;var fe=typeof re;return!("number"!=fe&&"symbol"!=fe&&"boolean"!=fe&&null!=re&&!ee(re))||ie.test(re)||!se.test(re)||null!=ue&&re in Object(ue)}},3819:de=>{de.exports=function me(B){var j=typeof B;return"string"==j||"number"==j||"symbol"==j||"boolean"==j?"__proto__"!==B:null===B}},1943:(de,me,B)=>{var ie,j=B(4610),ee=(ie=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+ie:"";de.exports=function se(ie){return!!ee&&ee in ie}},1840:de=>{de.exports=function me(){this.__data__=[],this.size=0}},4378:(de,me,B)=>{var j=B(3503),se=Array.prototype.splice;de.exports=function ie(ne){var re=this.__data__,ue=j(re,ne);return!(ue<0||(ue==re.length-1?re.pop():se.call(re,ue,1),--this.size,0))}},4981:(de,me,B)=>{var j=B(3503);de.exports=function ee(se){var ie=this.__data__,ne=j(ie,se);return ne<0?void 0:ie[ne][1]}},7343:(de,me,B)=>{var j=B(3503);de.exports=function ee(se){return j(this.__data__,se)>-1}},8895:(de,me,B)=>{var j=B(3503);de.exports=function ee(se,ie){var ne=this.__data__,re=j(ne,se);return re<0?(++this.size,ne.push([se,ie])):ne[re][1]=ie,this}},638:(de,me,B)=>{var j=B(4994),ee=B(9215),se=B(1501);de.exports=function ie(){this.size=0,this.__data__={hash:new j,map:new(se||ee),string:new j}}},1184:(de,me,B)=>{var j=B(4537);de.exports=function ee(se){var ie=j(this,se).delete(se);return this.size-=ie?1:0,ie}},866:(de,me,B)=>{var j=B(4537);de.exports=function ee(se){return j(this,se).get(se)}},3771:(de,me,B)=>{var j=B(4537);de.exports=function ee(se){return j(this,se).has(se)}},1772:(de,me,B)=>{var j=B(4537);de.exports=function ee(se,ie){var ne=j(this,se),re=ne.size;return ne.set(se,ie),this.size+=ne.size==re?0:1,this}},719:(de,me,B)=>{var j=B(535);de.exports=function se(ie){var ne=j(ie,function(ue){return 500===re.size&&re.clear(),ue}),re=ne.cache;return ne}},862:(de,me,B)=>{var ee=B(3436)(Object,"create");de.exports=ee},2902:de=>{var B=Object.prototype.toString;de.exports=function j(ee){return B.call(ee)}},2119:(de,me,B)=>{var j=B(9122),ee="object"==typeof self&&self&&self.Object===Object&&self,se=j||ee||Function("return this")();de.exports=se},2855:(de,me,B)=>{var j=B(719),ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,se=/\\(\\)?/g,ie=j(function(ne){var re=[];return 46===ne.charCodeAt(0)&&re.push(""),ne.replace(ee,function(ue,fe,Ce,Le){re.push(Ce?Le.replace(se,"$1"):fe||ue)}),re});de.exports=ie},8533:(de,me,B)=>{var j=B(4129);de.exports=function se(ie){if("string"==typeof ie||j(ie))return ie;var ne=ie+"";return"0"==ne&&1/ie==-1/0?"-0":ne}},2827:de=>{var B=Function.prototype.toString;de.exports=function j(ee){if(null!=ee){try{return B.call(ee)}catch{}try{return ee+""}catch{}}return""}},2760:de=>{var me=/\s/;de.exports=function B(j){for(var ee=j.length;ee--&&me.test(j.charAt(ee)););return ee}},406:(de,me,B)=>{var j=B(5940),ee=B(1710),se=B(1467),ne=Math.max,re=Math.min;de.exports=function ue(fe,Ce,Le){var rt,st,et,Ne,we,Qe,xt=0,xe=!1,ot=!1,ut=!0;if("function"!=typeof fe)throw new TypeError("Expected a function");function yt(Ae){var ft=rt,Mt=st;return rt=st=void 0,xt=Ae,Ne=fe.apply(Mt,ft)}function Ht(Ae){return xt=Ae,we=setTimeout(on,Ce),xe?yt(Ae):Ne}function Ot(Ae){var ft=Ae-Qe;return void 0===Qe||ft>=Ce||ft<0||ot&&Ae-xt>=et}function on(){var Ae=ee();if(Ot(Ae))return Cn(Ae);we=setTimeout(on,function Tt(Ae){var nt=Ce-(Ae-Qe);return ot?re(nt,et-(Ae-xt)):nt}(Ae))}function Cn(Ae){return we=void 0,ut&&rt?yt(Ae):(rt=st=void 0,Ne)}function Ve(){var Ae=ee(),ft=Ot(Ae);if(rt=arguments,st=this,Qe=Ae,ft){if(void 0===we)return Ht(Qe);if(ot)return clearTimeout(we),we=setTimeout(on,Ce),yt(Qe)}return void 0===we&&(we=setTimeout(on,Ce)),Ne}return Ce=se(Ce)||0,j(Le)&&(xe=!!Le.leading,et=(ot="maxWait"in Le)?ne(se(Le.maxWait)||0,Ce):et,ut="trailing"in Le?!!Le.trailing:ut),Ve.cancel=function ht(){void 0!==we&&clearTimeout(we),xt=0,rt=Qe=st=we=void 0},Ve.flush=function _t(){return void 0===we?Ne:Cn(ee())},Ve}},217:de=>{de.exports=function me(B,j){return B===j||B!=B&&j!=j}},8817:(de,me,B)=>{var j=B(5456);de.exports=function ee(se,ie,ne){var re=null==se?void 0:j(se,ie);return void 0===re?ne:re}},1503:de=>{de.exports=Array.isArray},5946:(de,me,B)=>{var j=B(3337),ee=B(5940);de.exports=function ue(fe){if(!ee(fe))return!1;var Ce=j(fe);return"[object Function]"==Ce||"[object GeneratorFunction]"==Ce||"[object AsyncFunction]"==Ce||"[object Proxy]"==Ce}},5940:de=>{de.exports=function me(B){var j=typeof B;return null!=B&&("object"==j||"function"==j)}},2671:de=>{de.exports=function me(B){return null!=B&&"object"==typeof B}},4129:(de,me,B)=>{var j=B(3337),ee=B(2671);de.exports=function ie(ne){return"symbol"==typeof ne||ee(ne)&&"[object Symbol]"==j(ne)}},535:(de,me,B)=>{var j=B(9850);function se(ie,ne){if("function"!=typeof ie||null!=ne&&"function"!=typeof ne)throw new TypeError("Expected a function");var re=function(){var ue=arguments,fe=ne?ne.apply(this,ue):ue[0],Ce=re.cache;if(Ce.has(fe))return Ce.get(fe);var Le=ie.apply(this,ue);return re.cache=Ce.set(fe,Le)||Ce,Le};return re.cache=new(se.Cache||j),re}se.Cache=j,de.exports=se},1710:(de,me,B)=>{var j=B(2119);de.exports=function(){return j.Date.now()}},4793:(de,me,B)=>{var j=B(5963);de.exports=function ee(se,ie,ne){return null==se?se:j(se,ie,ne)}},1467:(de,me,B)=>{var j=B(3348),ee=B(5940),se=B(4129),ne=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,ue=/^0o[0-7]+$/i,fe=parseInt;de.exports=function Ce(Le){if("number"==typeof Le)return Le;if(se(Le))return NaN;if(ee(Le)){var rt="function"==typeof Le.valueOf?Le.valueOf():Le;Le=ee(rt)?rt+"":rt}if("string"!=typeof Le)return 0===Le?Le:+Le;Le=j(Le);var st=re.test(Le);return st||ue.test(Le)?fe(Le.slice(2),st?2:8):ne.test(Le)?NaN:+Le}},4152:(de,me,B)=>{var j=B(4633),ee=B(9454),se=B(1503),ie=B(4129),ne=B(2855),re=B(8533),ue=B(3943);de.exports=function fe(Ce){return se(Ce)?j(Ce,re):ie(Ce)?[Ce]:ee(ne(ue(Ce)))}},3943:(de,me,B)=>{var j=B(3935);de.exports=function ee(se){return null==se?"":j(se)}}},de=>{de(de.s=2421)}]);