var $ce=Object.defineProperty,jce=(he,ve,B)=>ve in he?$ce(he,ve,{enumerable:!0,configurable:!0,writable:!0,value:B}):he[ve]=B,Bt=(he,ve,B)=>(jce(he,"symbol"!=typeof ve?ve+"":ve,B),B);(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[179],{2421:(he,ve,B)=>{"use strict";function j(n){return"function"==typeof n}function ee(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const se=ee(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ie(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class ne{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(j(i))try{i()}catch(s){t=s instanceof se?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{ge(s)}catch(a){t=t??[],a instanceof se?t=[...t,...a.errors]:t.push(a)}}if(t)throw new se(t)}}add(t){var e;if(t&&t!==this)if(this.closed)ge(t);else{if(t instanceof ne){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ie(e,t)}remove(t){const{_finalizers:e}=this;e&&ie(e,t),t instanceof ne&&t._removeParent(this)}}ne.EMPTY=(()=>{const n=new ne;return n.closed=!0,n})();const re=ne.EMPTY;function ue(n){return n instanceof ne||n&&"closed"in n&&j(n.remove)&&j(n.add)&&j(n.unsubscribe)}function ge(n){j(n)?n():n.unsubscribe()}const Ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ne={setTimeout(n,t,...e){const{delegate:i}=Ne;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Ne;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function st(n){Ne.setTimeout(()=>{const{onUnhandledError:t}=Ce;if(!t)throw n;t(n)})}function ot(){}const tt=et("C",void 0,void 0);function et(n,t,e){return{kind:n,value:t,error:e}}let xt=null;function xe(n){if(Ce.useDeprecatedSynchronousErrorHandling){const t=!xt;if(t&&(xt={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=xt;if(xt=null,e)throw i}}else n()}class ut extends ne{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ue(t)&&t.add(this)):this.destination=_t}static create(t,e,i){return new Ot(t,e,i)}next(t){this.isStopped?ht(function we(n){return et("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ht(function Be(n){return et("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ht(tt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yt=Function.prototype.bind;function Ht(n,t){return yt.call(n,t)}class At{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){on(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){on(i)}else on(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){on(e)}}}class Ot extends ut{constructor(t,e,i){let r;if(super(),j(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&Ce.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Ht(t.next,s),error:t.error&&Ht(t.error,s),complete:t.complete&&Ht(t.complete,s)}):r=t}this.destination=new At(r)}}function on(n){Ce.useDeprecatedSynchronousErrorHandling?function at(n){Ce.useDeprecatedSynchronousErrorHandling&&xt&&(xt.errorThrown=!0,xt.error=n)}(n):st(n)}function ht(n,t){const{onStoppedNotification:e}=Ce;e&&Ne.setTimeout(()=>e(n,t))}const _t={closed:!0,next:ot,error:function wn(n){throw n},complete:ot},He="function"==typeof Symbol&&Symbol.observable||"@@observable";function Te(n){return n}function Mt(n){return 0===n.length?Te:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let it=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function hn(n){return n&&n instanceof ut||function Fe(n){return n&&j(n.next)&&j(n.error)&&j(n.complete)}(n)&&ue(n)}(e)?e:new Ot(e,i,r);return xe(()=>{const{operator:a,source:l}=this;s.add(a?a.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Xt(i))((r,s)=>{const a=new Ot({next:l=>{try{e(l)}catch(h){s(h),a.unsubscribe()}},error:s,complete:r});this.subscribe(a)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[He](){return this}pipe(...e){return Mt(e)(this)}toPromise(e){return new(e=Xt(e))((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return n.create=t=>new n(t),n})();function Xt(n){var t;return null!==(t=n??Ce.Promise)&&void 0!==t?t:Promise}const Qn=ee(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ue=(()=>{class n extends it{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new ki(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Qn}next(e){xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?re:(this.currentObservers=null,s.push(e),new ne(()=>{this.currentObservers=null,ie(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new it;return e.source=this,e}}return n.create=(t,e)=>new ki(t,e),n})();class ki extends Ue{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:re}}function Pi(n){return j(n?.lift)}function fn(n){return t=>{if(Pi(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function In(n,t,e,i,r){return new fr(n,t,e,i,r)}class fr extends ut{constructor(t,e,i,r,s,a){super(t),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=e?function(l){try{e(l)}catch(h){t.error(h)}}:super._next,this._error=r?function(l){try{r(l)}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function vt(n,t){return fn((e,i)=>{let r=0;e.subscribe(In(i,s=>{i.next(n.call(t,s,r++))}))})}function io(n){return this instanceof io?(this.v=n,this):new io(n)}function Np(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(D){i[D]&&(r[D]=function(T){return new Promise(function(k,P){s.push([D,T,k,P])>1||l(D,T)})})}function l(D,T){try{!function h(D){D.value instanceof io?Promise.resolve(D.value.v).then(m,v):C(s[0][2],D)}(i[D](T))}catch(k){C(s[0][3],k)}}function m(D){l("next",D)}function v(D){l("throw",D)}function C(D,T){D(T),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Bp(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function mo(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(a){return new Promise(function(l,h){!function r(s,a,l,h){Promise.resolve(h).then(function(m){s({value:m,done:l})},a)}(l,h,(a=n[s](a)).done,a.value)})}}}const Xa=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Bc(n){return j(n?.then)}function Vc(n){return j(n[He])}function Qa(n){return Symbol.asyncIterator&&j(n?.[Symbol.asyncIterator])}function Ls(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Hc=function ba(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function zc(n){return j(n?.[Hc])}function Hp(n){return Np(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield io(e.read());if(r)return yield io(void 0);yield yield io(i)}}finally{e.releaseLock()}})}function $c(n){return j(n?.getReader)}function xr(n){if(n instanceof it)return n;if(null!=n){if(Vc(n))return function Xw(n){return new it(t=>{const e=n[He]();if(j(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Xa(n))return function Ja(n){return new it(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Bc(n))return function Th(n){return new it(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,st)})}(n);if(Qa(n))return el(n);if(zc(n))return function Qw(n){return new it(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if($c(n))return function zv(n){return el(Hp(n))}(n)}throw Ls(n)}function el(n){return new it(t=>{(function Jw(n,t){var e,i,r,s;return function fs(n,t,e,i){return new(e||(e=Promise))(function(s,a){function l(v){try{m(i.next(v))}catch(C){a(C)}}function h(v){try{m(i.throw(v))}catch(C){a(C)}}function m(v){v.done?s(v.value):function r(s){return s instanceof e?s:new e(function(a){a(s)})}(v.value).then(l,h)}m((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Bp(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Ho(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Pr(n,t,e=1/0){return j(t)?Pr((i,r)=>vt((s,a)=>t(i,s,r,a))(xr(n(i,r))),e):("number"==typeof t&&(e=t),fn((i,r)=>function eC(n,t,e,i,r,s,a,l){const h=[];let m=0,v=0,C=!1;const D=()=>{C&&!h.length&&!m&&t.complete()},T=P=>m<i?k(P):h.push(P),k=P=>{s&&t.next(P),m++;let N=!1;xr(e(P,v++)).subscribe(In(t,V=>{r?.(V),s?T(V):t.next(V)},()=>{N=!0},void 0,()=>{if(N)try{for(m--;h.length&&m<i;){const V=h.shift();a?Ho(t,a,()=>k(V)):k(V)}D()}catch(V){t.error(V)}}))};return n.subscribe(In(t,T,()=>{C=!0,D()})),()=>{l?.()}}(i,r,n,e)))}function tl(n=1/0){return Pr(Te,n)}const Ns=new it(n=>n.complete());function Ah(n){return n&&j(n.schedule)}function Fi(n){return n[n.length-1]}function kh(n){return j(Fi(n))?n.pop():void 0}function ei(n){return Ah(Fi(n))?n.pop():void 0}function vo(n,t=0){return fn((e,i)=>{e.subscribe(In(i,r=>Ho(i,n,()=>i.next(r),t),()=>Ho(i,n,()=>i.complete(),t),r=>Ho(i,n,()=>i.error(r),t)))})}function jv(n,t=0){return fn((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function wa(n,t){if(!n)throw new Error("Iterable cannot be null");return new it(e=>{Ho(e,t,()=>{const i=n[Symbol.asyncIterator]();Ho(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function ui(n,t){return t?function iC(n,t){if(null!=n){if(Vc(n))return function Uv(n,t){return xr(n).pipe(jv(t),vo(t))}(n,t);if(Xa(n))return function Gv(n,t){return new it(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Bc(n))return function nC(n,t){return xr(n).pipe(jv(t),vo(t))}(n,t);if(Qa(n))return wa(n,t);if(zc(n))return function Ur(n,t){return new it(e=>{let i;return Ho(e,t,()=>{i=n[Hc](),Ho(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(a){return void e.error(a)}s?e.complete():e.next(r)},0,!0)}),()=>j(i?.return)&&i.return()})}(n,t);if($c(n))return function $p(n,t){return wa(Hp(n),t)}(n,t)}throw Ls(n)}(n,t):xr(n)}function rr(...n){const t=ei(n),e=function tC(n,t){return"number"==typeof Fi(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?xr(i[0]):tl(e)(ui(i,t)):Ns}function Wv(n={}){const{connector:t=(()=>new Ue),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let a,l,h,m=0,v=!1,C=!1;const D=()=>{l?.unsubscribe(),l=void 0},T=()=>{D(),a=h=void 0,v=C=!1},k=()=>{const P=a;T(),P?.unsubscribe()};return fn((P,N)=>{m++,!C&&!v&&D();const V=h=h??t();N.add(()=>{m--,0===m&&!C&&!v&&(l=ro(k,r))}),V.subscribe(N),!a&&m>0&&(a=new Ot({next:q=>V.next(q),error:q=>{C=!0,D(),l=ro(T,e,q),V.error(q)},complete:()=>{v=!0,D(),l=ro(T,i),V.complete()}}),xr(P).subscribe(a))})(s)}}function ro(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Ot({next:()=>{i.unsubscribe(),n()}});return t(...e).subscribe(i)}function Si(n){for(let t in n)if(n[t]===Si)return t;throw Error("Could not find renamed property on target object.")}function jp(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function oi(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(oi).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function jc(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const qv=Si({__forward_ref__:Si});function ai(n){return n.__forward_ref__=ai,n.toString=function(){return oi(this())},n}function an(n){return Up(n)?n():n}function Up(n){return"function"==typeof n&&n.hasOwnProperty(qv)&&n.__forward_ref__===ai}class Ke extends Error{constructor(t,e){super(function Ih(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function mn(n){return"string"==typeof n?n:null==n?"":String(n)}function Rh(n,t){throw new Ke(-201,!1)}function ws(n,t){null==n&&function Kn(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function Pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Wr(n){return Yv(n,Gc)||Yv(n,Fh)}function Yv(n,t){return n.hasOwnProperty(t)?n[t]:null}function Ju(n){return n&&(n.hasOwnProperty(Ph)||n.hasOwnProperty(Wc))?n[Ph]:null}const Gc=Si({\u0275prov:Si}),Ph=Si({\u0275inj:Si}),Fh=Si({ngInjectableDef:Si}),Wc=Si({ngInjectorDef:Si});var Jt=(()=>((Jt=Jt||{})[Jt.Default=0]="Default",Jt[Jt.Host=1]="Host",Jt[Jt.Self=2]="Self",Jt[Jt.SkipSelf=4]="SkipSelf",Jt[Jt.Optional=8]="Optional",Jt))();let Lh;function so(n){const t=Lh;return Lh=n,t}function Xv(n,t,e){const i=Wr(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Jt.Optional?null:void 0!==t?t:void Rh(oi(n))}function nl(n){return{toString:n}.toString()}var yo=(()=>((yo=yo||{})[yo.OnPush=0]="OnPush",yo[yo.Default=1]="Default",yo))(),Dr=(()=>{return(n=Dr||(Dr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Dr;var n})();const Ri=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qc={},Wn=[],il=Si({\u0275cmp:Si}),ed=Si({\u0275dir:Si}),$o=Si({\u0275pipe:Si}),Kc=Si({\u0275mod:Si}),Ca=Si({\u0275fac:Si}),rl=Si({__NG_ELEMENT_ID__:Si});let gs=0;function pn(n){return nl(()=>{const e=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===yo.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Wn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Dr.Emulated,id:"c"+gs++,styles:n.styles||Wn,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,a=n.features;return r.inputs=Bh(n.inputs,i),r.outputs=Bh(n.outputs),a&&a.forEach(l=>l(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(Yc).filter(Nh):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(ns).filter(Nh):null,r})}function Yc(n){return gi(n)||gr(n)}function Nh(n){return null!==n}function ln(n){return nl(()=>({type:n.type,bootstrap:n.bootstrap||Wn,declarations:n.declarations||Wn,imports:n.imports||Wn,exports:n.exports||Wn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Bh(n,t){if(null==n)return qc;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const Ee=pn;function ms(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function gi(n){return n[il]||null}function gr(n){return n[ed]||null}function ns(n){return n[$o]||null}function Vs(n,t){const e=n[Kc]||null;if(!e&&!0===t)throw new Error(`Type ${oi(n)} does not have '\u0275mod' property.`);return e}function xs(n){return Array.isArray(n)&&"object"==typeof n[1]}function oo(n){return Array.isArray(n)&&!0===n[1]}function zh(n){return 0!=(8&n.flags)}function $h(n){return 2==(2&n.flags)}function jh(n){return 1==(1&n.flags)}function wo(n){return null!==n.template}function mC(n){return 0!=(256&n[2])}function Ul(n,t){return n.hasOwnProperty(Ca)?n[Ca]:null}class Uh{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Zi(){return rd}function rd(n){return n.type.prototype.ngOnChanges&&(n.setInput=Jv),wC}function wC(){const n=Qp(this),t=n?.current;if(t){const e=n.previous;if(e===qc)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Jv(n,t,e,i){const r=Qp(n)||function ey(n,t){return n[Xp]=t}(n,{previous:qc,current:null}),s=r.current||(r.current={}),a=r.previous,l=this.declaredInputs[e],h=a[l];s[l]=new Uh(h&&h.currentValue,t,a===qc),n[i]=t}Zi.ngInherit=!0;const Xp="__ngSimpleChanges__";function Qp(n){return n[Xp]||null}function Oi(n){for(;Array.isArray(n);)n=n[0];return n}function Wh(n,t){return Oi(t[n])}function Rn(n,t){return Oi(t[n.index])}function nu(n,t){return n.data[t]}function $n(n,t){return n[t]}function Ln(n,t){const e=t[n];return xs(e)?e:e[0]}function iu(n){return 64==(64&n[2])}function al(n,t){return null==t?null:n[t]}function ry(n){n[18]=0}function ll(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Zt={lFrame:lo(null),bindingsEnabled:!0};function sy(){return Zt.bindingsEnabled}function rt(){return Zt.lFrame.lView}function Yn(){return Zt.lFrame.tView}function $s(n){return Zt.lFrame.contextLView=n,n[8]}function ti(n){return Zt.lFrame.contextLView=null,n}function Cn(){let n=ay();for(;null!==n&&64===n.type;)n=n.parent;return n}function ay(){return Zt.lFrame.currentTNode}function jo(n,t){const e=Zt.lFrame;e.currentTNode=n,e.isParent=t}function Uo(){return Zt.lFrame.isParent}function Go(){Zt.lFrame.isParent=!1}function rs(){const n=Zt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function qo(){return Zt.lFrame.bindingIndex++}function Ko(n){const t=Zt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function eg(n,t){const e=Zt.lFrame;e.bindingIndex=e.bindingRootIndex=n,js(t)}function js(n){Zt.lFrame.currentDirectiveIndex=n}function Yh(n){const t=Zt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function tg(){return Zt.lFrame.currentQueryIndex}function Zh(n){Zt.lFrame.currentQueryIndex=n}function kC(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Wl(n,t,e){if(e&Jt.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Jt.Host||(r=kC(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Zt.lFrame=Us();return i.currentTNode=t,i.lView=n,!0}function Yo(n){const t=Us(),e=n[1];Zt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Us(){const n=Zt.lFrame,t=null===n?null:n.child;return null===t?lo(n):t}function lo(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function cl(){const n=Zt.lFrame;return Zt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const su=cl;function ou(){const n=cl();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ss(){return Zt.lFrame.selectedIndex}function xa(n){Zt.lFrame.selectedIndex=n}function Hi(){const n=Zt.lFrame;return nu(n.tView,n.selectedIndex)}function Zo(){Zt.lFrame.currentNamespace="svg"}function Xh(){!function RC(){Zt.lFrame.currentNamespace=null}()}function ud(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:h,ngAfterViewChecked:m,ngOnDestroy:v}=s;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),l&&((n.contentHooks||(n.contentHooks=[])).push(e,l),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,l)),h&&(n.viewHooks||(n.viewHooks=[])).push(-e,h),m&&((n.viewHooks||(n.viewHooks=[])).push(e,m),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,m)),null!=v&&(n.destroyHooks||(n.destroyHooks=[])).push(e,v)}}function Qh(n,t,e){uy(n,t,3,e)}function Jh(n,t,e,i){(3&n[2])===e&&uy(n,t,e,i)}function ig(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function uy(n,t,e,i){const s=i??-1,a=t.length-1;let l=0;for(let h=void 0!==i?65535&n[18]:0;h<a;h++)if("number"==typeof t[h+1]){if(l=t[h],null!=i&&l>=i)break}else t[h]<0&&(n[18]+=65536),(l<s||-1==s)&&(OC(n,e,t,h),n[18]=(4294901760&n[18])+h+2),h++}function OC(n,t,e,i){const r=e[i]<0,s=e[i+1],l=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class dd{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function ql(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],a=e[i++],l=e[i++];n.setAttribute(t,a,l,s)}else{const s=r,a=e[++i];dy(s)?n.setProperty(t,s,a):n.setAttribute(t,s,a),i++}}return i}function sg(n){return 3===n||4===n||6===n}function dy(n){return 64===n.charCodeAt(0)}function hd(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||og(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function og(n,t,e,i,r){let s=0,a=n.length;if(-1===t)a=-1;else for(;s<n.length;){const l=n[s++];if("number"==typeof l){if(l===t){a=-1;break}if(l>t){a=s-1;break}}}for(;s<n.length;){const l=n[s];if("number"==typeof l)break;if(l===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(n.splice(a,0,t),s=a+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function hy(n){return-1!==n}function Da(n){return 32767&n}function Kl(n,t){let e=function dl(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let tf=!0;function nf(n){const t=tf;return tf=n,t}let fy=0;const On={};function lu(n,t){const e=lg(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,cu(i.data,n),cu(t,null),cu(i.blueprint,null));const r=rf(n,t),s=n.injectorIndex;if(hy(r)){const a=Da(r),l=Kl(r,t),h=l[1].data;for(let m=0;m<8;m++)t[s+m]=l[a+m]|h[a+m]}return t[s+8]=r,s}function cu(n,t){n.push(0,0,0,0,0,0,0,0,t)}function lg(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function rf(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=ug(r),null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Yl(n,t,e){!function VC(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(rl)&&(i=e[rl]),null==i&&(i=e[rl]=fy++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function pd(n,t,e){if(e&Jt.Optional||void 0!==n)return n;Rh()}function gd(n,t,e,i){if(e&Jt.Optional&&void 0===i&&(i=null),0==(e&(Jt.Self|Jt.Host))){const r=n[9],s=so(void 0);try{return r?r.get(t,i,e&Jt.Optional):Xv(t,i,e&Jt.Optional)}finally{so(s)}}return pd(i,0,e)}function Lr(n,t,e,i=Jt.Default,r){if(null!==n){if(1024&t[2]){const a=function yy(n,t,e,i,r){let s=n,a=t;for(;null!==s&&null!==a&&1024&a[2]&&!(256&a[2]);){const l=sf(s,a,e,i|Jt.Self,On);if(l!==On)return l;let h=s.parent;if(!h){const m=a[21];if(m){const v=m.get(e,On,i);if(v!==On)return v}h=ug(a),a=a[15]}s=h}return r}(n,t,e,i,On);if(a!==On)return a}const s=sf(n,t,e,i,On);if(s!==On)return s}return gd(t,e,i,r)}function sf(n,t,e,i,r){const s=function HC(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(rl)?n[rl]:void 0;return"number"==typeof t?t>=0?255&t:vy:t}(e);if("function"==typeof s){if(!Wl(t,n,i))return i&Jt.Host?pd(r,0,i):gd(t,e,i,r);try{const a=s(i);if(null!=a||i&Jt.Optional)return a;Rh()}finally{su()}}else if("number"==typeof s){let a=null,l=lg(n,t),h=-1,m=i&Jt.Host?t[16][6]:null;for((-1===l||i&Jt.SkipSelf)&&(h=-1===l?rf(n,t):t[l+8],-1!==h&&my(i,!1)?(a=t[1],l=Da(h),t=Kl(h,t)):l=-1);-1!==l;){const v=t[1];if(gy(s,l,v.data)){const C=cg(l,t,e,a,i,m);if(C!==On)return C}h=t[l+8],-1!==h&&my(i,t[1].data[l+8]===m)&&gy(s,l,t)?(a=v,l=Da(h),t=Kl(h,t)):l=-1}}return r}function cg(n,t,e,i,r,s){const a=t[1],l=a.data[n+8],v=Ea(l,a,e,null==i?$h(l)&&tf:i!=a&&0!=(3&l.type),r&Jt.Host&&s===l);return null!==v?md(t,a,v,l):On}function Ea(n,t,e,i,r){const s=n.providerIndexes,a=t.data,l=1048575&s,h=n.directiveStart,v=s>>20,D=r?l+v:n.directiveEnd;for(let T=i?l:l+v;T<D;T++){const k=a[T];if(T<h&&e===k||T>=h&&k.type===e)return T}if(r){const T=a[h];if(T&&wo(T)&&T.type===e)return h}return null}function md(n,t,e,i){let r=n[e];const s=t.data;if(function PC(n){return n instanceof dd}(r)){const a=r;a.resolving&&function rC(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Ke(-200,`Circular dependency in DI detected for ${n}${e}`)}(function di(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():mn(n)}(s[e]));const l=nf(a.canSeeViewProviders);a.resolving=!0;const h=a.injectImpl?so(a.injectImpl):null;Wl(n,i,Jt.Default);try{r=n[e]=a.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function cd(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const a=rd(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==h&&so(h),nf(l),a.resolving=!1,su()}}return r}function gy(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function my(n,t){return!(n&Jt.Self||n&Jt.Host&&t)}class Gs{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Lr(this._tNode,this._lView,t,i,e)}}function vy(){return new Gs(Cn(),rt())}function bt(n){return nl(()=>{const t=n.prototype.constructor,e=t[Ca]||Nr(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Ca]||Nr(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Nr(n){return Up(n)?()=>{const t=Nr(an(n));return t&&t()}:Ul(n)}function ug(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function Ds(n){return function py(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(sg(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(Cn(),n)}const Xl="__parameters__";function uu(n,t,e){return nl(()=>{const i=function Di(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const a=new r(...s);return l.annotation=a,l;function l(h,m,v){const C=h.hasOwnProperty(Xl)?h[Xl]:Object.defineProperty(h,Xl,{value:[]})[Xl];for(;C.length<=v;)C.push(null);return(C[v]=C[v]||[]).push(a),h}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class ke{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Pe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ws(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Ws(i,t)):t!==n&&t.push(i)}return t}function xo(n,t){n.forEach(e=>Array.isArray(e)?xo(e,t):t(e))}function yd(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Er(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Sa(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function _i(n,t,e){let i=sr(n,t);return i>=0?n[1|i]=e:(i=~i,function fg(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function hu(n,t){const e=sr(n,t);if(e>=0)return n[1|e]}function sr(n,t){return function by(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),a=n[s<<e];if(t===a)return s<<e;a>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const xd={},df="__NG_DI_FLAG__",hf="ngTempTokenPath",gg=/\n/gm,Dd="__source";let Ed;function fu(n){const t=Ed;return Ed=n,t}function YC(n,t=Jt.Default){if(void 0===Ed)throw new Ke(-203,!1);return null===Ed?Xv(n,void 0,t):Ed.get(n,t&Jt.Optional?null:void 0,t)}function le(n,t=Jt.Default){return(function Zv(){return Lh}()||YC)(an(n),t)}function bi(n,t=Jt.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),le(n,t)}function mg(n){const t=[];for(let e=0;e<n.length;e++){const i=an(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Ke(900,!1);let r,s=Jt.Default;for(let a=0;a<i.length;a++){const l=i[a],h=ZC(l);"number"==typeof h?-1===h?r=l.token:s|=h:r=l}t.push(le(r,s))}else t.push(le(i))}return t}function Sd(n,t){return n[df]=t,n.prototype[df]=t,n}function ZC(n){return n[df]}const qs=Sd(uu("Optional"),8),fl=Sd(uu("SkipSelf"),4);let _g,Td;function nc(n){return function wg(){if(void 0===Td&&(Td=null,Ri.trustedTypes))try{Td=Ri.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Td}()?.createHTML(n)||n}class Do{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Fy extends Do{getTypeName(){return"HTML"}}class ix extends Do{getTypeName(){return"Style"}}class Ly extends Do{getTypeName(){return"Script"}}class vu extends Do{getTypeName(){return"URL"}}class Dg extends Do{getTypeName(){return"ResourceURL"}}function Es(n){return n instanceof Do?n.changingThisBreaksApplicationSecurity:n}function Jo(n,t){const e=function Ny(n){return n instanceof Do&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}class ox{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(nc(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class ax{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=nc(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=nc(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const a=e.item(r).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&t.removeAttribute(a)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const cx=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function yf(n){return(n=String(n)).match(cx)?n:"unsafe:"+n}function Ta(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Ad(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Vy=Ta("area,br,col,hr,img,wbr"),Hy=Ta("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zy=Ta("rp,rt"),sc=Ad(Vy,Ad(Hy,Ta("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ad(zy,Ta("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ad(zy,Hy)),or=Ta("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Id=Ad(or,Ta("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ta("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ux=Ta("script,style,template");class dx{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sc.hasOwnProperty(e))return this.sanitizedSomething=!0,!ux.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),a=s.name,l=a.toLowerCase();if(!Id.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let h=s.value;or[l]&&(h=yf(h)),this.buf.push(" ",a,'="',$y(h),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sc.hasOwnProperty(e)&&!Vy.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push($y(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const hx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fx=/([^\#-~ |!])/g;function $y(n){return n.replace(/&/g,"&amp;").replace(hx,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(fx,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bf;function jy(n,t){let e=null;try{bf=bf||function By(n){const t=new ax(n);return function lx(){try{return!!(new window.DOMParser).parseFromString(nc(""),"text/html")}catch{return!1}}()?new ox(t):t}(n);let i=t?String(t):"";e=bf.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=bf.getInertBodyElement(i)}while(i!==s);return nc((new dx).sanitizeChildren(Sg(e)||e))}finally{if(e){const i=Sg(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Sg(n){return"content"in n&&function Uy(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var li=(()=>((li=li||{})[li.NONE=0]="NONE",li[li.HTML=1]="HTML",li[li.STYLE=2]="STYLE",li[li.SCRIPT=3]="SCRIPT",li[li.URL=4]="URL",li[li.RESOURCE_URL=5]="RESOURCE_URL",li))();function Sr(n){const t=function Rd(){const n=rt();return n&&n[12]}();return t?t.sanitize(li.URL,n)||"":Jo(n,"URL")?Es(n):yf(mn(n))}const co=new ke("ENVIRONMENT_INITIALIZER"),Ky=new ke("INJECTOR",-1),Yy=new ke("INJECTOR_DEF_TYPES");class Zy{get(t,e=xd){if(e===xd){const i=new Error(`NullInjectorError: No provider for ${oi(t)}!`);throw i.name="NullInjectorError",i}return e}}function _x(...n){return{\u0275providers:Xy(0,n)}}function Xy(n,...t){const e=[],i=new Set;let r;return xo(t,s=>{const a=s;Eo(a,e,[],i)&&(r||(r=[]),r.push(a))}),void 0!==r&&wf(r,e),e}function wf(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];xo(r,s=>{t.push(s)})}}function Eo(n,t,e,i){if(!(n=an(n)))return!1;let r=null,s=Ju(n);const a=!s&&gi(n);if(s||a){if(a&&!a.standalone)return!1;r=n}else{const h=n.ngModule;if(s=Ju(h),!s)return!1;r=h}const l=i.has(r);if(a){if(l)return!1;if(i.add(r),a.dependencies){const h="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const m of h)Eo(m,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!l){let m;i.add(r);try{xo(s.imports,v=>{Eo(v,t,e,i)&&(m||(m=[]),m.push(v))})}finally{}void 0!==m&&wf(m,t)}if(!l){const m=Ul(r)||(()=>new r);t.push({provide:r,useFactory:m,deps:Wn},{provide:Yy,useValue:r,multi:!0},{provide:co,useValue:()=>le(r),multi:!0})}const h=s.providers;null==h||l||xo(h,v=>{t.push(v)})}}return r!==n&&void 0!==n.providers}const Tg=Si({provide:String,useValue:Si});function Aa(n){return null!==n&&"object"==typeof n&&Tg in n}function gl(n){return"function"==typeof n}const Ag=new ke("Set Injector scope."),So={},Jy={};let Cf;function yu(){return void 0===Cf&&(Cf=new Zy),Cf}class ea{}class kg extends ea{constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rg(t,a=>this.processProvider(a)),this.records.set(Ky,ac(void 0,this)),r.has("environment")&&this.records.set(ea,ac(void 0,this));const s=this.records.get(Ag);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Yy.multi,Wn,Jt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=fu(this),i=so(void 0);try{return t()}finally{fu(e),so(i)}}get(t,e=xd,i=Jt.Default){this.assertNotDestroyed();const r=fu(this),s=so(void 0);try{if(!(i&Jt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const h=function ci(n){return"function"==typeof n||"object"==typeof n&&n instanceof ke}(t)&&Wr(t);l=h&&this.injectableDefInScope(h)?ac(ml(t),So):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Jt.Self?yu():this.parent).get(t,e=i&Jt.Optional&&e===xd?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[hf]=a[hf]||[]).unshift(oi(t)),r)throw a;return function xy(n,t,e,i){const r=n[hf];throw t[Dd]&&r.unshift(t[Dd]),n.message=function XC(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=oi(t);if(Array.isArray(t))r=t.map(oi).join(" -> ");else if("object"==typeof t){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let l=t[a];s.push(a+":"+("string"==typeof l?JSON.stringify(l):oi(l)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(gg,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[hf]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{so(s),fu(r)}}resolveInjectorInitializers(){const t=fu(this),e=so(void 0);try{const i=this.get(co.multi,Wn,Jt.Self);for(const r of i)r()}finally{fu(t),so(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(oi(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processProvider(t){let e=gl(t=an(t))?t:an(t&&t.provide);const i=function wx(n){return Aa(n)?ac(void 0,n.useValue):ac(Ig(n),So)}(t);if(gl(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=ac(void 0,So,!0),r.factory=()=>mg(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===So&&(e.value=Jy,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Cx(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=an(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function ml(n){const t=Wr(n),e=null!==t?t.factory:Ul(n);if(null!==e)return e;if(n instanceof ke)throw new Ke(204,!1);if(n instanceof Function)return function Od(n){const t=n.length;if(t>0)throw Sa(t,"?"),new Ke(204,!1);const e=function cC(n){const t=n&&(n[Gc]||n[Fh]);if(t){const e=function uC(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Ke(204,!1)}function Ig(n,t,e){let i;if(gl(n)){const r=an(n);return Ul(r)||ml(r)}if(Aa(n))i=()=>an(n.useValue);else if(function oc(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...mg(n.deps||[]));else if(function Qy(n){return!(!n||!n.useExisting)}(n))i=()=>le(an(n.useExisting));else{const r=an(n&&(n.useClass||n.provide));if(!function e_(n){return!!n.deps}(n))return Ul(r)||ml(r);i=()=>new r(...mg(n.deps))}return i}function ac(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function t_(n){return!!n.\u0275providers}function Rg(n,t){for(const e of n)Array.isArray(e)?Rg(e,t):t_(e)?Rg(e.\u0275providers,t):t(e)}class n_{}class r_{resolveComponentFactory(t){throw function i_(n){const t=Error(`No component factory found for ${oi(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let lc=(()=>{class n{}return n.NULL=new r_,n})();function Ex(){return vl(Cn(),rt())}function vl(n,t){return new St(Rn(n,t))}let St=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=Ex,n})();function cc(n){return n instanceof St?n.nativeElement:n}class Mo{}let c=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function o(){const n=rt(),e=Ln(Cn().index,n);return(xs(e)?e:n)[11]}(),n})(),u=(()=>{class n{}return n.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>null}),n})();class d{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const f=new d("14.2.11"),p={};function U(n){return n.ngOriginalError}class X{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&U(t);for(;e&&U(e);)e=U(e);return e||null}}const Se=new Map;let Oe=0;const Je="__ngContext__";function nt(n,t){xs(t)?(n[Je]=t[20],function Ie(n){Se.set(n[20],n)}(t)):n[Je]=t}function Ze(n){return n instanceof Function?n():n}var Tn=(()=>((Tn=Tn||{})[Tn.Important=1]="Important",Tn[Tn.DashCase=2]="DashCase",Tn))();function si(n,t){return undefined(n,t)}function ar(n){const t=n[3];return oo(t)?t[3]:t}function Mr(n){return as(n[13])}function Ss(n){return as(n[4])}function as(n){for(;null!==n&&!oo(n);)n=n[4];return n}function Ys(n,t,e,i,r){if(null!=i){let s,a=!1;oo(i)?s=i:xs(i)&&(a=!0,i=i[0]);const l=Oi(i);0===n&&null!==e?null==r?Df(t,e,l):ko(t,e,l,r||null,!0):1===n&&null!==e?ko(t,e,l,r||null,!0):2===n?function FA(n,t,e){const i=Ef(n,t);i&&function l_(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,l,a):3===n&&t.destroyNode(l),null!=s&&function Lz(n,t,e,i,r){const s=e[7];s!==Oi(e)&&Ys(t,n,i,s,r);for(let l=10;l<e.length;l++){const h=e[l];Bg(h[1],h,n,t,i,s)}}(t,n,s,e,r)}}function bu(n,t,e){return n.createElement(t,e)}function Pg(n,t){const e=n[9],i=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,ll(r,-1)),e.splice(i,1)}function Fg(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&Pg(r,i),t>0&&(n[e-1][4]=i[4]);const s=Er(n,10+t);!function uc(n,t){Bg(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function s_(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Bg(n,t,e,3,null,null),function Ts(n){let t=n[13];if(!t)return Lg(n[1],n);for(;t;){let e=null;if(xs(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)xs(t)&&Lg(t[1],t),t=t[3];null===t&&(t=n),xs(t)&&Lg(t[1],t),e=t&&t[4]}t=e}}(t)}}function Lg(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function Mx(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof dd)){const s=e[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const l=r[s[a]],h=s[a+1];try{h.call(l)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function Sx(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const a=e[s+1],l="function"==typeof a?a(t):Oi(t[a]),h=i[r=e[s+2]],m=e[s+3];"boolean"==typeof m?l.removeEventListener(e[s],h,m):m>=0?i[r=m]():i[r=-m].unsubscribe(),s+=2}else{const a=i[r=e[s+1]];e[s].call(a)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&oo(t[3])){e!==t[3]&&Pg(e,t);const i=t[19];null!==i&&i.detachView(n)}!function Ye(n){Se.delete(n[20])}(t)}}function o_(n,t,e){return function a_(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Dr.None||r===Dr.Emulated)return null}return Rn(i,e)}(n,t.parent,e)}function ko(n,t,e,i,r){n.insertBefore(t,e,i,r)}function Df(n,t,e){n.appendChild(t,e)}function Pd(n,t,e,i,r){null!==i?ko(n,t,e,i,r):Df(n,t,e)}function Ef(n,t){return n.parentNode(t)}function Sf(n,t,e){return wu(n,t,e)}let wu=function Ng(n,t,e){return 40&n.type?Rn(n,e):null};function u_(n,t,e,i){const r=o_(n,i,t),s=t[11],l=Sf(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let h=0;h<e.length;h++)Pd(s,r,e[h],l,!1);else Pd(s,r,e,l,!1)}function d_(n,t){if(null!==t){const e=t.type;if(3&e)return Rn(t,n);if(4&e)return Ax(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return d_(n,i);{const r=n[t.index];return oo(r)?Ax(-1,r):Oi(r)}}if(32&e)return si(t,n)()||Oi(n[t.index]);{const i=PA(n,t);return null!==i?Array.isArray(i)?i[0]:d_(ar(n[16]),i):d_(n,t.next)}}return null}function PA(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Ax(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return d_(i,r)}return t[7]}function kx(n,t,e,i,r,s,a){for(;null!=e;){const l=i[e.index],h=e.type;if(a&&0===t&&(l&&nt(Oi(l),i),e.flags|=4),64!=(64&e.flags))if(8&h)kx(n,t,e.child,i,r,s,!1),Ys(t,n,r,l,s);else if(32&h){const m=si(e,i);let v;for(;v=m();)Ys(t,n,r,v,s);Ys(t,n,r,l,s)}else 16&h?LA(n,t,i,e,r,s):Ys(t,n,r,l,s);e=a?e.projectionNext:e.next}}function Bg(n,t,e,i,r,s){kx(e,i,n.firstChild,t,r,s,!1)}function LA(n,t,e,i,r,s){const a=e[16],h=a[6].projection[i.projection];if(Array.isArray(h))for(let m=0;m<h.length;m++)Ys(t,n,r,h[m],s);else kx(n,t,h,a[3],r,s,!0)}function NA(n,t,e){n.setAttribute(t,"style",e)}function Ix(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function BA(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const VA="ng-template";function Bz(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==BA(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function HA(n){return 4===n.type&&n.value!==VA}function Vz(n,t,e){return t===(4!==n.type||e?n.value:VA)}function Hz(n,t,e){let i=4;const r=n.attrs||[],s=function jz(n){for(let t=0;t<n.length;t++)if(sg(n[t]))return t;return n.length}(r);let a=!1;for(let l=0;l<t.length;l++){const h=t[l];if("number"!=typeof h){if(!a)if(4&i){if(i=2|1&i,""!==h&&!Vz(n,h,e)||""===h&&1===t.length){if(ka(i))return!1;a=!0}}else{const m=8&i?h:t[++l];if(8&i&&null!==n.attrs){if(!Bz(n.attrs,m,e)){if(ka(i))return!1;a=!0}continue}const C=zz(8&i?"class":h,r,HA(n),e);if(-1===C){if(ka(i))return!1;a=!0;continue}if(""!==m){let D;D=C>s?"":r[C+1].toLowerCase();const T=8&i?D:null;if(T&&-1!==BA(T,m,0)||2&i&&m!==D){if(ka(i))return!1;a=!0}}}}else{if(!a&&!ka(i)&&!ka(h))return!1;if(a&&ka(h))continue;a=!1,i=h|1&i}}return ka(i)||a}function ka(n){return 0==(1&n)}function zz(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const a=t[r];if(a===n)return r;if(3===a||6===a)s=!0;else{if(1===a||2===a){let l=t[++r];for(;"string"==typeof l;)l=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=s?1:2}return-1}return function Uz(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function zA(n,t,e=!1){for(let i=0;i<t.length;i++)if(Hz(n,t[i],e))return!0;return!1}function Gz(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function $A(n,t){return n?":not("+t.trim()+")":t}function Wz(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&i){const l=n[++e];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!ka(a)&&(t+=$A(s,r),r=""),i=a,s=s||!ka(i);e++}return""!==r&&(t+=$A(s,r)),t}const kn={};function Ae(n){jA(Yn(),rt(),ss()+n,!1)}function jA(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&Qh(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Jh(t,s,0,e)}xa(e)}function qA(n,t=null,e=null,i){const r=KA(n,t,e,i);return r.resolveInjectorInitializers(),r}function KA(n,t=null,e=null,i,r=new Set){const s=[e||Wn,_x(n)];return i=i||("object"==typeof n?void 0:oi(n)),new kg(s,t||yu(),i||null,r)}let lr=(()=>{class n{static create(e,i){if(Array.isArray(e))return qA({name:""},i,e,"");{const r=e.name??"";return qA({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=xd,n.NULL=new Zy,n.\u0275prov=Pe({token:n,providedIn:"any",factory:()=>le(Ky)}),n.__NG_ELEMENT_ID__=-1,n})();function O(n,t=Jt.Default){const e=rt();return null===e?le(n,t):Lr(Cn(),e,an(n),t)}function Fd(){throw new Error("invalid")}function f_(n,t){return n<<17|t<<2}function Ia(n){return n>>17&32767}function Lx(n){return 2|n}function dc(n){return(131068&n)>>2}function Nx(n,t){return-131069&n|t<<2}function Bx(n){return 1|n}function h1(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const a=n.data[s];Zh(r),a.contentQueries(2,t[s],s)}}}function m_(n,t,e,i,r,s,a,l,h,m,v){const C=t.blueprint.slice();return C[0]=r,C[2]=76|i,(null!==v||n&&1024&n[2])&&(C[2]|=1024),ry(C),C[3]=C[15]=n,C[8]=e,C[10]=a||n&&n[10],C[11]=l||n&&n[11],C[12]=h||n&&n[12]||null,C[9]=m||n&&n[9]||null,C[6]=s,C[20]=function De(){return Oe++}(),C[21]=v,C[16]=2==t.type?n[16]:C,C}function Tf(n,t,e,i,r){let s=n.data[t];if(null===s)s=function Wx(n,t,e,i,r){const s=ay(),a=Uo(),h=n.data[t]=function A5(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=h),null!==s&&(a?null==s.child&&null!==h.parent&&(s.child=h):null===s.next&&(s.next=h)),h}(n,t,e,i,r),function AC(){return Zt.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const a=function sd(){const n=Zt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return jo(s,!0),s}function Af(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function qx(n,t,e){Yo(t);try{const i=n.viewQuery;null!==i&&tD(1,i,e);const r=n.template;null!==r&&f1(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&h1(n,t),n.staticViewQueries&&tD(2,n.viewQuery,e);const s=n.components;null!==s&&function S5(n,t){for(let e=0;e<t.length;e++)G5(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,ou()}}function v_(n,t,e,i){const r=t[2];if(128!=(128&r)){Yo(t);try{ry(t),function ly(n){return Zt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&f1(n,t,e,2,i);const a=3==(3&r);if(a){const m=n.preOrderCheckHooks;null!==m&&Qh(t,m,null)}else{const m=n.preOrderHooks;null!==m&&Jh(t,m,0,null),ig(t,0)}if(function j5(n){for(let t=Mr(n);null!==t;t=Ss(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(512&r[2])&&ll(s,1),r[2]|=512}}}(t),function $5(n){for(let t=Mr(n);null!==t;t=Ss(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];iu(i)&&v_(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&h1(n,t),a){const m=n.contentCheckHooks;null!==m&&Qh(t,m)}else{const m=n.contentHooks;null!==m&&Jh(t,m,1),ig(t,1)}!function D5(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)xa(~r);else{const s=r,a=e[++i],l=e[++i];eg(a,s),l(2,t[s])}}}finally{xa(-1)}}(n,t);const l=n.components;null!==l&&function E5(n,t){for(let e=0;e<t.length;e++)U5(n,t[e])}(t,l);const h=n.viewQuery;if(null!==h&&tD(2,h,i),a){const m=n.viewCheckHooks;null!==m&&Qh(t,m)}else{const m=n.viewHooks;null!==m&&Jh(t,m,2),ig(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,ll(t[3],-1))}finally{ou()}}}function f1(n,t,e,i,r){const s=ss(),a=2&i;try{xa(-1),a&&t.length>22&&jA(n,t,22,!1),e(i,r)}finally{xa(s)}}function p1(n,t,e){if(zh(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}}function Kx(n,t,e){!sy()||(function P5(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||lu(e,t),nt(i,t);const a=e.initialInputs;for(let l=r;l<s;l++){const h=n.data[l],m=wo(h);m&&V5(t,e,h);const v=md(t,n,l,e);nt(v,t),null!==a&&H5(0,l-r,v,h,0,a),m&&(Ln(e.index,t)[8]=v)}}(n,t,e,Rn(e,t)),128==(128&e.flags)&&function F5(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function ru(){return Zt.lFrame.currentDirectiveIndex}();try{xa(s);for(let l=i;l<r;l++){const h=n.data[l],m=t[l];js(l),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&w1(h,m)}}finally{xa(-1),js(a)}}(n,t,e))}function Yx(n,t,e=Rn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],l=-1===a?e(t,n):n[a];n[r++]=l}}}function g1(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Zx(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Zx(n,t,e,i,r,s,a,l,h,m){const v=22+i,C=v+r,D=function M5(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:kn);return e}(v,C),T="function"==typeof m?m():m;return D[1]={type:n,blueprint:D,template:e,queries:null,viewQuery:l,declTNode:t,data:D.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:h,consts:T,incompleteFirstPass:!1}}function m1(n,t,e,i){const r=S1(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&M1(n).push(i,r.length-1))}function v1(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function y1(n,t){const i=t.directiveEnd,r=n.data,s=t.attrs,a=[];let l=null,h=null;for(let m=t.directiveStart;m<i;m++){const v=r[m],C=v.inputs,D=null===s||HA(t)?null:z5(C,s);a.push(D),l=v1(C,m,l),h=v1(v.outputs,m,h)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=16),l.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=l,t.outputs=h}function Ro(n,t,e,i,r,s,a,l){const h=Rn(t,e);let v,m=t.inputs;!l&&null!=m&&(v=m[i])?(nD(n,e,v,i,r),$h(t)&&_1(e,t.index)):3&t.type&&(i=function k5(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,t.value||"",i):r,s.setProperty(h,i,r))}function _1(n,t){const e=Ln(t,n);16&e[2]||(e[2]|=32)}function Xx(n,t,e,i){let r=!1;if(sy()){const s=function L5(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const a=i[s];zA(e,a.selectors,!1)&&(r||(r=[]),Yl(lu(e,t),n,a.type),wo(a)?(C1(n,e),r.unshift(a)):r.push(a))}return r}(n,t,e),a=null===i?null:{"":-1};if(null!==s){r=!0,x1(e,n.data.length,s.length);for(let v=0;v<s.length;v++){const C=s[v];C.providersResolver&&C.providersResolver(C)}let l=!1,h=!1,m=Af(n,t,s.length,null);for(let v=0;v<s.length;v++){const C=s[v];e.mergedAttrs=hd(e.mergedAttrs,C.hostAttrs),D1(n,e,t,m,C),B5(m,C,a),null!==C.contentQueries&&(e.flags|=8),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(e.flags|=128);const D=C.type.prototype;!l&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),l=!0),!h&&(D.ngOnChanges||D.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),h=!0),m++}y1(n,e)}a&&function N5(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new Ke(-301,!1);i.push(t[r],s)}}}(e,i,a)}return e.mergedAttrs=hd(e.mergedAttrs,e.attrs),r}function b1(n,t,e,i,r,s){const a=s.hostBindings;if(a){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const h=~t.index;(function O5(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(l)!=h&&l.push(h),l.push(i,r,a)}}function w1(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function C1(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function B5(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;wo(t)&&(e[""]=n)}}function x1(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function D1(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=Ul(r.type)),a=new dd(s,wo(r),O);n.blueprint[i]=a,e[i]=a,b1(n,t,0,i,Af(n,e,r.hostVars,kn),r)}function V5(n,t,e){const i=Rn(t,n),r=g1(e),s=n[10],a=y_(n,m_(n,r,null,e.onPush?32:16,i,t,s,s.createRenderer(i,e),null,null,null));n[t.index]=a}function wl(n,t,e,i,r,s){const a=Rn(n,t);!function Qx(n,t,e,i,r,s,a){if(null==s)n.removeAttribute(t,r,e);else{const l=null==a?mn(s):a(s,i||"",r);n.setAttribute(t,r,l,e)}}(t[11],a,s,n.value,e,i,r)}function H5(n,t,e,i,r,s){const a=s[t];if(null!==a){const l=i.setInput;for(let h=0;h<a.length;){const m=a[h++],v=a[h++],C=a[h++];null!==l?i.setInput(e,C,m,v):e[v]=C}}}function z5(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function E1(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function U5(n,t){const e=Ln(t,n);if(iu(e)){const i=e[1];48&e[2]?v_(i,e,i.template,e[8]):e[5]>0&&Jx(e)}}function Jx(n){for(let i=Mr(n);null!==i;i=Ss(i))for(let r=10;r<i.length;r++){const s=i[r];if(iu(s))if(512&s[2]){const a=s[1];v_(a,s,a.template,s[8])}else s[5]>0&&Jx(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Ln(e[i],n);iu(r)&&r[5]>0&&Jx(r)}}function G5(n,t){const e=Ln(t,n),i=e[1];(function W5(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),qx(i,e,e[8])}function y_(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function eD(n){for(;n;){n[2]|=32;const t=ar(n);if(mC(n)&&!t)return n;n=t}return null}function __(n,t,e,i=!0){const r=t[10];r.begin&&r.begin();try{v_(n,t,n.template,e)}catch(a){throw i&&A1(t,a),a}finally{r.end&&r.end()}}function tD(n,t,e){Zh(0),t(n,e)}function S1(n){return n[7]||(n[7]=[])}function M1(n){return n.cleanup||(n.cleanup=[])}function T1(n,t,e){return(null===n||wo(n))&&(e=function CC(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function A1(n,t){const e=n[9],i=e?e.get(X,null):null;i&&i.handleError(t)}function nD(n,t,e,i,r){for(let s=0;s<e.length;){const a=e[s++],l=e[s++],h=t[a],m=n.data[a];null!==m.setInput?m.setInput(h,r,i,l):h[l]=r}}function hc(n,t,e){const i=Wh(t,n);!function bl(n,t,e){n.setValue(t,e)}(n[11],i,e)}function b_(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const l=t[a];"number"==typeof l?s=l:1==s?r=jc(r,l):2==s&&(i=jc(i,l+": "+t[++a]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function w_(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(Oi(s)),oo(s))for(let l=10;l<s.length;l++){const h=s[l],m=h[1].firstChild;null!==m&&w_(h[1],h,m,i)}const a=e.type;if(8&a)w_(n,t,e.child,i);else if(32&a){const l=si(e,t);let h;for(;h=l();)i.push(h)}else if(16&a){const l=PA(t,e);if(Array.isArray(l))i.push(...l);else{const h=ar(t[16]);w_(h[1],h,l,i,!0)}}e=r?e.projectionNext:e.next}return i}class Vg{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return w_(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(oo(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Fg(t,i),Er(e,i))}this._attachedToViewContainer=!1}s_(this._lView[1],this._lView)}onDestroy(t){m1(this._lView[1],this._lView,null,t)}markForCheck(){eD(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){__(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ls(n,t){Bg(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ke(902,!1);this._appRef=t}}class q5 extends Vg{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;__(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class iD extends lc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=gi(t);return new Hg(e,this.ngModule)}}function k1(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class Y5{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){const r=this.injector.get(t,p,i);return r!==p||e===p?r:this.parentInjector.get(t,e,i)}}class Hg extends n_{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function qz(n){return n.map(Wz).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return k1(this.componentDef.inputs)}get outputs(){return k1(this.componentDef.outputs)}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof ea?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new Y5(t,s):t,l=a.get(Mo,null);if(null===l)throw new Ke(407,!1);const h=a.get(u,null),m=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",C=i?function T5(n,t,e){return n.selectRootElement(t,e===Dr.ShadowDom)}(m,i,this.componentDef.encapsulation):bu(m,v,function K5(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(v)),D=this.componentDef.onPush?288:272,T=Zx(0,null,null,1,0,null,null,null,null,null),k=m_(null,T,null,D,null,null,l,m,h,a,null);let P,N;Yo(k);try{const V=function Q5(n,t,e,i,r,s){const a=e[1];e[22]=n;const h=Tf(a,22,2,"#host",null),m=h.mergedAttrs=t.hostAttrs;null!==m&&(b_(h,m,!0),null!==n&&(ql(r,n,m),null!==h.classes&&Ix(r,n,h.classes),null!==h.styles&&NA(r,n,h.styles)));const v=i.createRenderer(n,t),C=m_(e,g1(t),null,t.onPush?32:16,e[22],h,i,v,s||null,null,null);return a.firstCreatePass&&(Yl(lu(h,e),a,t.type),C1(a,h),x1(h,e.length,1)),y_(e,C),e[22]=C}(C,this.componentDef,k,l,m);if(C)if(i)ql(m,C,["ng-version",f.full]);else{const{attrs:q,classes:te}=function Kz(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!ka(r))break;r=s}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);q&&ql(m,C,q),te&&te.length>0&&Ix(m,C,te.join(" "))}if(N=nu(T,22),void 0!==e){const q=N.projection=[];for(let te=0;te<this.ngContentSelectors.length;te++){const $=e[te];q.push(null!=$?Array.from($):null)}}P=function J5(n,t,e,i){const r=e[1],s=function R5(n,t,e){const i=Cn();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),D1(n,i,t,Af(n,t,1,null),e),y1(n,i));const r=md(t,n,i.directiveStart,i);nt(r,t);const s=Rn(i,t);return s&&nt(s,t),r}(r,e,t);if(n[8]=e[8]=s,null!==i)for(const l of i)l(s,t);if(t.contentQueries){const l=Cn();t.contentQueries(1,s,l.directiveStart)}const a=Cn();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(xa(a.index),b1(e[1],a,0,a.directiveStart,a.directiveEnd,t),w1(t,s)),s}(V,this.componentDef,k,[e$]),qx(T,k,null)}finally{ou()}return new X5(this.componentType,P,vl(N,k),k,N)}}class X5 extends class xx{}{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new q5(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const s=this._rootLView;nD(s[1],s,r,t,e),_1(s,this._tNode.index)}}get injector(){return new Gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function e$(){const n=Cn();ud(rt()[1],n)}function Ve(n){let t=function I1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(wo(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ke(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const a=n;a.inputs=rD(n.inputs),a.declaredInputs=rD(n.declaredInputs),a.outputs=rD(n.outputs);const l=r.hostBindings;l&&r$(n,l);const h=r.viewQuery,m=r.contentQueries;if(h&&n$(n,h),m&&i$(n,m),jp(n.inputs,r.inputs),jp(n.declaredInputs,r.declaredInputs),jp(n.outputs,r.outputs),wo(r)&&r.data.animation){const v=n.data;v.animation=(v.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let a=0;a<s.length;a++){const l=s[a];l&&l.ngInherit&&l(n),l===Ve&&(e=!1)}}t=Object.getPrototypeOf(t)}!function t$(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=hd(r.hostAttrs,e=hd(e,r.hostAttrs))}}(i)}function rD(n){return n===qc?{}:n===Wn?[]:n}function n$(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function i$(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function r$(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let C_=null;function Ld(){if(!C_){const n=Ri.Symbol;if(n&&n.iterator)C_=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(C_=i)}}}return C_}function zg(n){return!!sD(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ld()in n)}function sD(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Cl(n,t,e){return n[t]=e}function As(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function ii(n,t,e,i){const r=rt();return As(r,qo(),t)&&(Yn(),wl(Hi(),r,n,t,e,i)),ii}function If(n,t,e,i){return As(n,qo(),e)?t+mn(e)+i:kn}function Rf(n,t,e,i,r,s){const l=function Nd(n,t,e,i){const r=As(n,t,e);return As(n,t+1,i)||r}(n,function Wo(){return Zt.lFrame.bindingIndex}(),e,r);return Ko(2),l?t+mn(e)+i+mn(r)+s:kn}function Et(n,t,e,i,r,s,a,l){const h=rt(),m=Yn(),v=n+22,C=m.firstCreatePass?function h$(n,t,e,i,r,s,a,l,h){const m=t.consts,v=Tf(t,n,4,a||null,al(m,l));Xx(t,e,v,al(m,h)),ud(t,v);const C=v.tViews=Zx(2,v,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,m);return null!==t.queries&&(t.queries.template(t,v),C.queries=t.queries.embeddedTView(v)),v}(v,m,h,t,e,i,r,s,a):m.data[v];jo(C,!1);const D=h[11].createComment("");u_(m,h,D,C),nt(D,h),y_(h,h[v]=E1(D,h,D,C)),jh(C)&&Kx(m,h,C),null!=a&&Yx(h,C,l)}function jg(n){return $n(function ao(){return Zt.lFrame.contextLView}(),22+n)}function Xe(n,t,e){const i=rt();return As(i,qo(),t)&&Ro(Yn(),Hi(),i,n,t,i[11],e,!1),Xe}function oD(n,t,e,i,r){const a=r?"class":"style";nD(n,e,t.inputs[a],a,i)}function de(n,t,e,i){const r=rt(),s=Yn(),a=22+n,l=r[11],h=r[a]=bu(l,t,function ld(){return Zt.lFrame.currentNamespace}()),m=s.firstCreatePass?function p$(n,t,e,i,r,s,a){const l=t.consts,m=Tf(t,n,2,r,al(l,s));return Xx(t,e,m,al(l,a)),null!==m.attrs&&b_(m,m.attrs,!1),null!==m.mergedAttrs&&b_(m,m.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,m),m}(a,s,r,0,t,e,i):s.data[a];jo(m,!0);const v=m.mergedAttrs;null!==v&&ql(l,h,v);const C=m.classes;null!==C&&Ix(l,h,C);const D=m.styles;return null!==D&&NA(l,h,D),64!=(64&m.flags)&&u_(s,r,h,m),0===function EC(){return Zt.lFrame.elementDepthCount}()&&nt(h,r),function SC(){Zt.lFrame.elementDepthCount++}(),jh(m)&&(Kx(s,r,m),p1(s,m,r)),null!==i&&Yx(r,m),de}function pe(){let n=Cn();Uo()?Go():(n=n.parent,jo(n,!1));const t=n;!function MC(){Zt.lFrame.elementDepthCount--}();const e=Yn();return e.firstCreatePass&&(ud(e,n),zh(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function LC(n){return 0!=(16&n.flags)}(t)&&oD(e,t,rt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function NC(n){return 0!=(32&n.flags)}(t)&&oD(e,t,rt(),t.stylesWithoutHost,!1),pe}function cn(n,t,e,i){return de(n,t,e,i),pe(),cn}function Ji(n,t,e){const i=rt(),r=Yn(),s=n+22,a=r.firstCreatePass?function g$(n,t,e,i,r){const s=t.consts,a=al(s,i),l=Tf(t,n,8,"ng-container",a);return null!==a&&b_(l,a,!0),Xx(t,e,l,al(s,r)),null!==t.queries&&t.queries.elementStart(t,l),l}(s,r,i,t,e):r.data[s];jo(a,!0);const l=i[s]=i[11].createComment("");return u_(r,i,l,a),nt(l,i),jh(a)&&(Kx(r,i,a),p1(r,a,i)),null!=e&&Yx(i,a),Ji}function er(){let n=Cn();const t=Yn();return Uo()?Go():(n=n.parent,jo(n,!1)),t.firstCreatePass&&(ud(t,n),zh(n)&&t.queries.elementEnd(n)),er}function xl(n,t,e){return Ji(n,t,e),er(),xl}function Ra(){return rt()}function Ug(n){return!!n&&"function"==typeof n.then}function z1(n){return!!n&&"function"==typeof n.subscribe}const aD=z1;function zt(n,t,e,i){const r=rt(),s=Yn(),a=Cn();return $1(s,r,r[11],a,n,t,0,i),zt}function D_(n,t){const e=Cn(),i=rt(),r=Yn();return $1(r,i,T1(Yh(r.data),e,i),e,n,t),D_}function $1(n,t,e,i,r,s,a,l){const h=jh(i),v=n.firstCreatePass&&M1(n),C=t[8],D=S1(t);let T=!0;if(3&i.type||l){const N=Rn(i,t),V=l?l(N):N,q=D.length,te=l?fe=>l(Oi(fe[i.index])):i.index;let $=null;if(!l&&h&&($=function m$(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const a=r[s];if(a===e&&r[s+1]===i){const l=t[7],h=r[s+2];return l.length>h?l[h]:null}"string"==typeof a&&(s+=2)}return null}(n,t,r,i.index)),null!==$)($.__ngLastListenerFn__||$).__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,T=!1;else{s=U1(i,t,C,s,!1);const fe=e.listen(V,r,s);D.push(s,fe),v&&v.push(r,te,q,q+1)}}else s=U1(i,t,C,s,!1);const k=i.outputs;let P;if(T&&null!==k&&(P=k[r])){const N=P.length;if(N)for(let V=0;V<N;V+=2){const _e=t[P[V]][P[V+1]].subscribe(s),Qe=D.length;D.push(s,_e),v&&v.push(r,i.index,Qe,-(Qe+1))}}}function j1(n,t,e,i){try{return!1!==e(i)}catch(r){return A1(n,r),!1}}function U1(n,t,e,i,r){return function s(a){if(a===Function)return i;eD(2&n.flags?Ln(n.index,t):t);let h=j1(t,0,i,a),m=s.__ngNextListenerFn__;for(;m;)h=j1(t,0,m,a)&&h,m=m.__ngNextListenerFn__;return r&&!1===h&&(a.preventDefault(),a.returnValue=!1),h}}function Nn(n=1){return function ng(n){return(Zt.lFrame.contextLView=function IC(n,t){for(;n>0;)t=t[15],n--;return t}(n,Zt.lFrame.contextLView))[8]}(n)}function v$(n,t){let e=null;const i=function $z(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?zA(n,s,!0):Gz(i,s))return r}else e=r}return e}function ia(n){const t=rt()[16][6];if(!t.projection){const i=t.projection=Sa(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const a=n?v$(s,n):0;null!==a&&(r[a]?r[a].projectionNext=s:i[a]=s,r[a]=s),s=s.next}}}function cr(n,t=0,e){const i=rt(),r=Yn(),s=Tf(r,22+n,16,null,e||null);null===s.projection&&(s.projection=t),Go(),64!=(64&s.flags)&&function Fz(n,t,e){LA(t[11],0,t,e,o_(n,e,t),Sf(e.parent||t[6],e,t))}(r,i,s)}function ek(n,t,e,i,r){const s=n[e+1],a=null===t;let l=i?Ia(s):dc(s),h=!1;for(;0!==l&&(!1===h||a);){const v=n[l+1];b$(n[l],t)&&(h=!0,n[l+1]=i?Bx(v):Lx(v)),l=i?Ia(v):dc(v)}h&&(n[e+1]=i?Lx(s):Bx(s))}function b$(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&sr(n,t)>=0}const Kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tk(n){return n.substring(Kr.key,Kr.keyEnd)}function nk(n,t){const e=Kr.textEnd;return e===t?-1:(t=Kr.keyEnd=function D$(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Kr.key=t,e),Vf(n,t,e))}function Vf(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Du(n,t,e){return Oa(n,t,e,!1),Du}function wi(n,t){return Oa(n,t,null,!0),wi}function El(n,t){for(let e=function C$(n){return function rk(n){Kr.key=0,Kr.keyEnd=0,Kr.value=0,Kr.valueEnd=0,Kr.textEnd=n.length}(n),nk(n,Vf(n,0,Kr.textEnd))}(t);e>=0;e=nk(t,e))_i(n,tk(t),!0)}function Oa(n,t,e,i){const r=rt(),s=Yn(),a=Ko(2);s.firstUpdatePass&&lk(s,n,a,i),t!==kn&&As(r,a,t)&&uk(s,s.data[ss()],r,r[11],n,r[a+1]=function F$(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=oi(Es(n)))),n}(t,e),i,a)}function ak(n,t){return t>=n.expandoStartIndex}function lk(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[ss()],a=ak(n,e);hk(s,i)&&null===t&&!a&&(t=!1),t=function A$(n,t,e,i){const r=Yh(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Gg(e=cD(null,n,t,e,i),t.attrs,i),s=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==r)if(e=cD(r,n,t,e,i),null===s){let h=function k$(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==dc(i))return n[Ia(i)]}(n,t,i);void 0!==h&&Array.isArray(h)&&(h=cD(null,n,t,h[1],i),h=Gg(h,t.attrs,i),function I$(n,t,e,i){n[Ia(e?t.classBindings:t.styleBindings)]=i}(n,t,i,h))}else s=function R$(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Gg(i,n[s].hostAttrs,e);return Gg(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function y$(n,t,e,i,r,s){let a=s?t.classBindings:t.styleBindings,l=Ia(a),h=dc(a);n[i]=e;let v,m=!1;if(Array.isArray(e)){const C=e;v=C[1],(null===v||sr(C,v)>0)&&(m=!0)}else v=e;if(r)if(0!==h){const D=Ia(n[l+1]);n[i+1]=f_(D,l),0!==D&&(n[D+1]=Nx(n[D+1],i)),n[l+1]=function p5(n,t){return 131071&n|t<<17}(n[l+1],i)}else n[i+1]=f_(l,0),0!==l&&(n[l+1]=Nx(n[l+1],i)),l=i;else n[i+1]=f_(h,0),0===l?l=i:n[h+1]=Nx(n[h+1],i),h=i;m&&(n[i+1]=Lx(n[i+1])),ek(n,v,i,!0),ek(n,v,i,!1),function _$(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&sr(s,t)>=0&&(e[i+1]=Bx(e[i+1]))}(t,v,n,i,s),a=f_(l,h),s?t.classBindings=a:t.styleBindings=a}(r,s,t,e,a,i)}}function cD(n,t,e,i,r){let s=null;const a=e.directiveEnd;let l=e.directiveStylingLast;for(-1===l?l=e.directiveStart:l++;l<a&&(s=t[l],i=Gg(i,s.hostAttrs,r),s!==n);)l++;return null!==n&&(e.directiveStylingLast=l),i}function Gg(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),_i(n,a,!!e||t[++s]))}return void 0===n?null:n}function uk(n,t,e,i,r,s,a,l){if(!(3&t.type))return;const h=n.data,m=h[l+1];E_(function r1(n){return 1==(1&n)}(m)?dk(h,t,e,r,dc(m),a):void 0)||(E_(s)||function n1(n){return 2==(2&n)}(m)&&(s=dk(h,null,e,r,l,a)),function Nz(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:Tn.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Tn.Important),n.setStyle(e,i,r,s))}}(i,a,Wh(ss(),e),r,s))}function dk(n,t,e,i,r,s){const a=null===t;let l;for(;r>0;){const h=n[r],m=Array.isArray(h),v=m?h[1]:h,C=null===v;let D=e[r+1];D===kn&&(D=C?Wn:void 0);let T=C?hu(D,i):v===i?D:void 0;if(m&&!E_(T)&&(T=hu(h,i)),E_(T)&&(l=T,a))return l;const k=n[r+1];r=a?Ia(k):dc(k)}if(null!==t){let h=s?t.residualClasses:t.residualStyles;null!=h&&(l=hu(h,i))}return l}function E_(n){return void 0!==n}function hk(n,t){return 0!=(n.flags&(t?16:32))}function Le(n,t=""){const e=rt(),i=Yn(),r=n+22,s=i.firstCreatePass?Tf(i,r,1,t,null):i.data[r],a=e[r]=function _l(n,t){return n.createText(t)}(e[11],t);u_(i,e,a,s),jo(s,!1)}function zi(n){return Tr("",n,""),zi}function Tr(n,t,e){const i=rt(),r=If(i,n,t,e);return r!==kn&&hc(i,ss(),r),Tr}function S_(n,t,e,i,r){const s=rt(),a=Rf(s,n,t,e,i,r);return a!==kn&&hc(s,ss(),a),S_}function bk(n,t,e){!function Pa(n,t,e,i){const r=Yn(),s=Ko(2);r.firstUpdatePass&&lk(r,null,s,i);const a=rt();if(e!==kn&&As(a,s,e)){const l=r.data[ss()];if(hk(l,i)&&!ak(r,s)){let h=i?l.classesWithoutHost:l.stylesWithoutHost;null!==h&&(e=jc(h,e||"")),oD(r,l,a,e,i)}else!function P$(n,t,e,i,r,s,a,l){r===kn&&(r=Wn);let h=0,m=0,v=0<r.length?r[0]:null,C=0<s.length?s[0]:null;for(;null!==v||null!==C;){const D=h<r.length?r[h+1]:void 0,T=m<s.length?s[m+1]:void 0;let P,k=null;v===C?(h+=2,m+=2,D!==T&&(k=C,P=T)):null===C||null!==v&&v<C?(h+=2,k=v):(m+=2,k=C,P=T),null!==k&&uk(n,t,e,i,k,P,a,l),v=h<r.length?r[h]:null,C=m<s.length?s[m]:null}}(r,l,a,a[11],a[s+1],a[s+1]=function O$(n,t,e){if(null==e||""===e)return Wn;const i=[],r=Es(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}(_i,El,If(rt(),n,t,e),!0)}function Bd(n,t,e){const i=rt();return As(i,qo(),t)&&Ro(Yn(),Hi(),i,n,t,i[11],e,!0),Bd}function M_(n,t,e){const i=rt();if(As(i,qo(),t)){const s=Yn(),a=Hi();Ro(s,a,i,n,t,T1(Yh(s.data),a,i),e,!0)}return M_}const Vd=void 0;var e3=["en",[["a","p"],["AM","PM"],Vd],[["AM","PM"],Vd,Vd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vd,"{1} 'at' {0}",Vd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function J$(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Hf={};function Xs(n){const t=function t3(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=Ik(t);if(e)return e;const i=t.split("-")[0];if(e=Ik(i),e)return e;if("en"===i)return e3;throw new Ke(701,!1)}function Ik(n){return n in Hf||(Hf[n]=Ri.ng&&Ri.ng.common&&Ri.ng.common.locales&&Ri.ng.common.locales[n]),Hf[n]}var It=(()=>((It=It||{})[It.LocaleId=0]="LocaleId",It[It.DayPeriodsFormat=1]="DayPeriodsFormat",It[It.DayPeriodsStandalone=2]="DayPeriodsStandalone",It[It.DaysFormat=3]="DaysFormat",It[It.DaysStandalone=4]="DaysStandalone",It[It.MonthsFormat=5]="MonthsFormat",It[It.MonthsStandalone=6]="MonthsStandalone",It[It.Eras=7]="Eras",It[It.FirstDayOfWeek=8]="FirstDayOfWeek",It[It.WeekendRange=9]="WeekendRange",It[It.DateFormat=10]="DateFormat",It[It.TimeFormat=11]="TimeFormat",It[It.DateTimeFormat=12]="DateTimeFormat",It[It.NumberSymbols=13]="NumberSymbols",It[It.NumberFormats=14]="NumberFormats",It[It.CurrencyCode=15]="CurrencyCode",It[It.CurrencySymbol=16]="CurrencySymbol",It[It.CurrencyName=17]="CurrencyName",It[It.Currencies=18]="Currencies",It[It.Directionality=19]="Directionality",It[It.PluralCase=20]="PluralCase",It[It.ExtraData=21]="ExtraData",It))();const zf="en-US";let Rk=zf;function hD(n,t,e,i,r){if(n=an(n),Array.isArray(n))for(let s=0;s<n.length;s++)hD(n[s],t,e,i,r);else{const s=Yn(),a=rt();let l=gl(n)?n:an(n.provide),h=Ig(n);const m=Cn(),v=1048575&m.providerIndexes,C=m.directiveStart,D=m.providerIndexes>>20;if(gl(n)||!n.multi){const T=new dd(h,r,O),k=pD(l,t,r?v:v+D,C);-1===k?(Yl(lu(m,a),s,l),fD(s,n,t.length),t.push(l),m.directiveStart++,m.directiveEnd++,r&&(m.providerIndexes+=1048576),e.push(T),a.push(T)):(e[k]=T,a[k]=T)}else{const T=pD(l,t,v+D,C),k=pD(l,t,v,v+D),P=T>=0&&e[T],N=k>=0&&e[k];if(r&&!N||!r&&!P){Yl(lu(m,a),s,l);const V=function J3(n,t,e,i,r){const s=new dd(n,e,O);return s.multi=[],s.index=t,s.componentProviders=0,iI(s,r,i&&!e),s}(r?Q3:X3,e.length,r,i,h);!r&&N&&(e[k].providerFactory=V),fD(s,n,t.length,0),t.push(l),m.directiveStart++,m.directiveEnd++,r&&(m.providerIndexes+=1048576),e.push(V),a.push(V)}else fD(s,n,T>-1?T:k,iI(e[r?k:T],h,!r&&i));!r&&i&&N&&e[k].componentProviders++}}}function fD(n,t,e,i){const r=gl(t),s=function Ks(n){return!!n.useClass}(t);if(r||s){const h=(s?an(t.useClass):t).prototype.ngOnDestroy;if(h){const m=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const v=m.indexOf(e);-1===v?m.push(e,[i,h]):m[v+1].push(i,h)}else m.push(e,h)}}}function iI(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function pD(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function X3(n,t,e,i){return gD(this.multi,[])}function Q3(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=md(e,e[1],this.providerFactory.index,i);s=l.slice(0,a),gD(r,s);for(let h=a;h<l.length;h++)s.push(l[h])}else s=[],gD(r,s);return s}function gD(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function yn(n,t=[]){return e=>{e.providersResolver=(i,r)=>function Z3(n,t,e){const i=Yn();if(i.firstCreatePass){const r=wo(n);hD(e,i.data,i.blueprint,r,!0),hD(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Hd{}class rI{}class sI extends Hd{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new iD(this);const i=Vs(t);this._bootstrapComponents=Ze(i.bootstrap),this._r3Injector=KA(t,e,[{provide:Hd,useValue:this},{provide:lc,useValue:this.componentFactoryResolver}],oi(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class mD extends rI{constructor(t){super(),this.moduleType=t}create(t){return new sI(this.moduleType,t)}}class tj extends Hd{constructor(t,e,i){super(),this.componentFactoryResolver=new iD(this),this.instance=null;const r=new kg([...t,{provide:Hd,useValue:this},{provide:lc,useValue:this.componentFactoryResolver}],e||yu(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function R_(n,t,e=null){return new tj(n,t,e).injector}let nj=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=Xy(0,e.type),r=i.length>0?R_([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Pe({token:n,providedIn:"environment",factory:()=>new n(le(ea))}),n})();function oI(n){n.getStandaloneInjector=t=>t.get(nj).getOrCreateStandaloneInjector(n)}function yD(n,t,e){const i=rs()+n,r=rt();return r[i]===kn?Cl(r,i,e?t.call(e):t()):function $g(n,t){return n[t]}(r,i)}function fI(n,t,e,i,r,s){const a=t+e;return As(n,a,r)?Cl(n,a+1,s?i.call(s,r):i(r)):function Xg(n,t){const e=n[t];return e===kn?void 0:e}(n,a+1)}function fc(n,t){const e=Yn();let i;const r=n+22;e.firstCreatePass?(i=function bj(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=Ul(i.type)),a=so(O);try{const l=nf(!1),h=s();return nf(l),function f$(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,rt(),r,h),h}finally{so(a)}}function pc(n,t,e){const i=n+22,r=rt(),s=$n(r,i);return function Qg(n,t){return n[1].data[t].pure}(r,i)?fI(r,rs(),t,s.transform,e,s):s.transform(e)}function _D(n){return t=>{setTimeout(n,void 0,t)}}const gn=class Ej extends Ue{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),a=i;if(t&&"object"==typeof t){const h=t;r=h.next?.bind(h),s=h.error?.bind(h),a=h.complete?.bind(h)}this.__isAsync&&(s=_D(s),r&&(r=_D(r)),a&&(a=_D(a)));const l=super.subscribe({next:r,error:s,complete:a});return t instanceof ne&&t.add(l),l}};function Sj(){return this._results[Ld()]()}class Jg{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ld(),i=Jg.prototype;i[e]||(i[e]=Sj)}get changes(){return this._changes||(this._changes=new gn)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=Ws(t);(this._changesDetected=!function UC(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Aj,n})();const Mj=Vr,Tj=class extends Mj{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,r=m_(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[19];return null!==a&&(r[19]=a.createEmbeddedView(i)),qx(i,r,t),new Vg(r)}};function Aj(){return O_(Cn(),rt())}function O_(n,t){return 4&n.type?new Tj(t,n,vl(n,t)):null}let Yr=(()=>{class n{}return n.__NG_ELEMENT_ID__=kj,n})();function kj(){return bI(Cn(),rt())}const Ij=Yr,yI=class extends Ij{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return vl(this._hostTNode,this._hostLView)}get injector(){return new Gs(this._hostTNode,this._hostLView)}get parentInjector(){const t=rf(this._hostTNode,this._hostLView);if(hy(t)){const e=Kl(t,this._hostLView),i=Da(t);return new Gs(e[1].data[i+8],e)}return new Gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=_I(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=t.createEmbeddedView(e||{},s);return this.insert(a,r),a}createComponent(t,e,i,r,s){const a=t&&!function Jl(n){return"function"==typeof n}(t);let l;if(a)l=e;else{const C=e||{};l=C.index,i=C.injector,r=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}const h=a?t:new Hg(gi(t)),m=i||this.parentInjector;if(!s&&null==h.ngModule){const D=(a?m:this.parentInjector).get(ea,null);D&&(s=D)}const v=h.create(m,r,void 0,s);return this.insert(v.hostView,l),v}insert(t,e){const i=t._lView,r=i[1];if(function DC(n){return oo(n[3])}(i)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const C=i[3],D=new yI(C,C[6],C[3]);D.detach(D.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;!function xf(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],yd(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function ta(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(a,t);const l=t[19];null!==l&&l.insertView(n),t[2]|=64}(r,i,a,s);const l=Ax(s,a),h=i[11],m=Ef(h,a[7]);return null!==m&&function Ms(n,t,e,i,r,s){i[0]=r,i[6]=t,Bg(n,i,e,1,r,s)}(r,a[6],h,i,m,l),t.attachToViewContainerRef(),yd(bD(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=_I(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Fg(this._lContainer,e);i&&(Er(bD(this._lContainer),e),s_(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Fg(this._lContainer,e);return i&&null!=Er(bD(this._lContainer),e)?new Vg(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function _I(n){return n[8]}function bD(n){return n[8]||(n[8]=[])}function bI(n,t){let e;const i=t[n.index];if(oo(i))e=i;else{let r;if(8&n.type)r=Oi(i);else{const s=t[11];r=s.createComment("");const a=Rn(n,t);ko(s,Ef(s,a),r,function Io(n,t){return n.nextSibling(t)}(s,a),!1)}t[n.index]=e=E1(i,t,r,n),y_(t,e)}return new yI(e,n,t)}class wD{constructor(t){this.queryList=t,this.matches=null}clone(){return new wD(this.queryList)}setDirty(){this.queryList.setDirty()}}class CD{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const a=e.getByIndex(s);r.push(this.queries[a.indexInDeclarationView].clone())}return new CD(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==EI(t,e).matches&&this.queries[e].setDirty()}}class wI{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class xD{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new xD(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class DD{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new DD(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,Pj(e,s)),this.matchTNodeWithReadOption(t,e,Ea(e,t,s,!1,!1))}else i===Vr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ea(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===St||r===Yr||r===Vr&&4&e.type)this.addMatch(e.index,-2);else{const s=Ea(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Pj(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Lj(n,t,e,i){return-1===e?function Fj(n,t){return 11&n.type?vl(n,t):4&n.type?O_(n,t):null}(t,n):-2===e?function Nj(n,t,e){return e===St?vl(t,n):e===Vr?O_(t,n):e===Yr?bI(t,n):void 0}(n,t,i):md(n,n[1],e,t)}function CI(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,a=e.matches,l=[];for(let h=0;h<a.length;h+=2){const m=a[h];l.push(m<0?null:Lj(t,s[m],a[h+1],e.metadata.read))}r.matches=l}return r.matches}function ED(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const a=CI(n,t,r,e);for(let l=0;l<s.length;l+=2){const h=s[l];if(h>0)i.push(a[l/2]);else{const m=s[l+1],v=t[-h];for(let C=10;C<v.length;C++){const D=v[C];D[17]===D[3]&&ED(D[1],D,m,i)}if(null!==v[9]){const C=v[9];for(let D=0;D<C.length;D++){const T=C[D];ED(T[1],T,m,i)}}}}}return i}function Gt(n){const t=rt(),e=Yn(),i=tg();Zh(i+1);const r=EI(e,i);if(n.dirty&&function Pt(n){return 4==(4&n[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?ED(e,t,i,[]):CI(e,t,r,i);n.reset(s,cc),n.notifyOnChanges()}return!0}return!1}function mi(n,t,e){const i=Yn();i.firstCreatePass&&(DI(i,new wI(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),xI(i,rt(),t)}function $i(n,t,e,i){const r=Yn();if(r.firstCreatePass){const s=Cn();DI(r,new wI(t,e,i),s.index),function Vj(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}xI(r,rt(),e)}function Wt(){return function Bj(n,t){return n[19].queries[t].queryList}(rt(),tg())}function xI(n,t,e){const i=new Jg(4==(4&e));m1(n,t,i,i.destroy),null===t[19]&&(t[19]=new CD),t[19].queries.push(new wD(i))}function DI(n,t,e){null===n.queries&&(n.queries=new xD),n.queries.track(new DD(t,e))}function EI(n,t){return n.queries.getByIndex(t)}function F_(...n){}const L_=new ke("Application Initializer");let N_=(()=>{class n{constructor(e){this.appInits=e,this.resolve=F_,this.reject=F_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Ug(s))e.push(s);else if(aD(s)){const a=new Promise((l,h)=>{s.subscribe({complete:l,error:h})});e.push(a)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(le(L_,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uf=new ke("AppId",{providedIn:"root",factory:function UI(){return`${kD()}${kD()}${kD()}`}});function kD(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const GI=new ke("Platform Initializer"),Fa=new ke("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ID=new ke("appBootstrapListener"),cs=new ke("AnimationModuleType");let oU=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Sl=new ke("LocaleId",{providedIn:"root",factory:()=>bi(Sl,Jt.Optional|Jt.SkipSelf)||function aU(){return typeof $localize<"u"&&$localize.locale||zf}()}),lU=new ke("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class cU{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let RD=(()=>{class n{compileModuleSync(e){return new mD(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Ze(Vs(e).declarations).reduce((a,l)=>{const h=gi(l);return h&&a.push(new Hg(h)),a},[]);return new cU(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hU=(()=>Promise.resolve(0))();function OD(n){typeof Zone>"u"?hU.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Kt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gn(!1),this.onMicrotaskEmpty=new gn(!1),this.onStable=new gn(!1),this.onError=new gn(!1),typeof Zone>"u")throw new Ke(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function fU(){let n=Ri.requestAnimationFrame,t=Ri.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function mU(n){const t=()=>{!function gU(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ri,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,FD(n),n.isCheckStableRunning=!0,PD(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),FD(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,a,l)=>{try{return KI(n),e.invokeTask(r,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),YI(n)}},onInvoke:(e,i,r,s,a,l,h)=>{try{return KI(n),e.invoke(r,s,a,l,h)}finally{n.shouldCoalesceRunChangeDetection&&t(),YI(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,FD(n),PD(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Kt.isInAngularZone())throw new Ke(909,!1)}static assertNotInAngularZone(){if(Kt.isInAngularZone())throw new Ke(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+r,t,pU,F_,F_);try{return s.runTask(a,e,i)}finally{s.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const pU={};function PD(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function FD(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function KI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function YI(n){n._nesting--,PD(n)}class vU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gn,this.onMicrotaskEmpty=new gn,this.onStable=new gn,this.onError=new gn}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const ZI=new ke(""),B_=new ke("");let BD,LD=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,BD||(function yU(n){BD=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Kt.assertNotInAngularZone(),OD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())OD(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(le(Kt),le(ND),le(B_))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),ND=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return BD?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Eu=null;const XI=new ke("AllowMultipleToken"),VD=new ke("PlatformDestroyListeners");class QI{constructor(t,e){this.name=t,this.token=e}}function eR(n,t,e=[]){const i=`Platform: ${t}`,r=new ke(i);return(s=[])=>{let a=HD();if(!a||a.injector.get(XI,!1)){const l=[...e,...s,{provide:r,useValue:!0}];n?n(l):function wU(n){if(Eu&&!Eu.get(XI,!1))throw new Ke(400,!1);Eu=n;const t=n.get(nR);(function JI(n){const t=n.get(GI,null);t&&t.forEach(e=>e())})(n)}(function tR(n=[],t){return lr.create({name:t,providers:[{provide:Ag,useValue:"platform"},{provide:VD,useValue:new Set([()=>Eu=null])},...n]})}(l,i))}return function xU(n){const t=HD();if(!t)throw new Ke(401,!1);return t}()}}function HD(){return Eu?.get(nR)??null}let nR=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function rR(n,t){let e;return e="noop"===n?new vU:("zone.js"===n?void 0:n)||new Kt(t),e}(i?.ngZone,function iR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:Kt,useValue:r}];return r.run(()=>{const a=lr.create({providers:s,parent:this.injector,name:e.moduleType.name}),l=e.create(a),h=l.injector.get(X,null);if(!h)throw new Ke(402,!1);return r.runOutsideAngular(()=>{const m=r.onError.subscribe({next:v=>{h.handleError(v)}});l.onDestroy(()=>{V_(this._modules,l),m.unsubscribe()})}),function sR(n,t,e){try{const i=e();return Ug(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(h,r,()=>{const m=l.injector.get(N_);return m.runInitializers(),m.donePromise.then(()=>(function Ok(n){ws(n,"Expected localeId to be defined"),"string"==typeof n&&(Rk=n.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Sl,zf)||zf),this._moduleDoBootstrap(l),l))})})}bootstrapModule(e,i=[]){const r=oR({},i);return function _U(n,t,e){const i=new mD(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Gf);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Ke(403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(VD,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(le(lr))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function oR(n,t){return Array.isArray(t)?t.reduce(oR,n):{...n,...t}}let Gf=(()=>{class n{constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new it(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new it(l=>{let h;this._zone.runOutsideAngular(()=>{h=this._zone.onStable.subscribe(()=>{Kt.assertNotInAngularZone(),OD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{Kt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{h.unsubscribe(),m.unsubscribe()}});this.isStable=rr(s,a.pipe(Wv()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof n_;if(!this._injector.get(N_).done)throw!r&&function _o(n){const t=gi(n)||gr(n)||ns(n);return null!==t&&t.standalone}(e),new Ke(405,false);let a;a=r?e:this._injector.get(lc).resolveComponentFactory(e),this.componentTypes.push(a.componentType);const l=function bU(n){return n.isBoundToModule}(a)?void 0:this._injector.get(Hd),m=a.create(lr.NULL,[],i||a.selector,l),v=m.location.nativeElement,C=m.injector.get(ZI,null);return C?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),V_(this.components,m),C?.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Ke(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;V_(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ID,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>V_(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Ke(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(le(Kt),le(ea),le(X))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function V_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let lR=!0,Hr=(()=>{class n{}return n.__NG_ELEMENT_ID__=SU,n})();function SU(n){return function MU(n,t,e){if($h(n)&&!e){const i=Ln(n.index,t);return new Vg(i,i)}return 47&n.type?new Vg(t[16],t):null}(Cn(),rt(),16==(16&n))}class fR{constructor(){}supports(t){return zg(t)}create(t){return new OU(t)}}const RU=(n,t)=>t;class OU{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||RU}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const a=!i||e&&e.currentIndex<gR(i,r,s)?e:i,l=gR(a,r,s),h=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)r++;else{s||(s=[]);const m=l-r,v=h-r;if(m!=v){for(let D=0;D<m;D++){const T=D<s.length?s[D]:s[D]=0,k=T+D;v<=k&&k<m&&(s[D]=T+1)}s[a.previousIndex]=v-m}}l!==h&&t(a,l,h)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!zg(t))throw new Ke(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)s=t[l],a=this._trackByFn(l,s),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,s,a,l)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,a,l),i=!0),e=e._next}else r=0,function c$(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Ld()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,l=>{a=this._trackByFn(r,l),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,l,a,r)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,a,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new PU(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new pR),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pR),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class PU{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FU{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class pR{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new FU,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gR(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class mR{constructor(){}supports(t){return t instanceof Map||sD(t)}create(){return new LU}}class LU{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||sD(t)))throw new Ke(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,a=r._next;return s&&(s._next=a),a&&(a._prev=s),r._next=null,r._prev=null,r}const i=new NU(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class NU{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vR(){return new Ml([new fR])}let Ml=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||vR()),deps:[[n,new fl,new qs]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Ke(901,!1)}}return n.\u0275prov=Pe({token:n,providedIn:"root",factory:vR}),n})();function yR(){return new $d([new mR])}let $d=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||yR()),deps:[[n,new fl,new qs]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new Ke(901,!1)}}return n.\u0275prov=Pe({token:n,providedIn:"root",factory:yR}),n})();const HU=eR(null,"core",[]);let zU=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(le(Gf))},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({}),n})();function mc(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let $_=null;function Tl(){return $_}const un=new ke("DocumentToken");let GD=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:function(){return function GU(){return le(_R)}()},providedIn:"platform"}),n})();const WU=new ke("Location Initialized");let _R=(()=>{class n extends GD{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tl().getBaseHref(this._doc)}onPopState(e){const i=Tl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Tl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){bR()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){bR()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(le(un))},n.\u0275prov=Pe({token:n,factory:function(){return function qU(){return new _R(le(un))}()},providedIn:"platform"}),n})();function bR(){return!!window.history.pushState}function WD(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function wR(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function vc(n){return n&&"?"!==n[0]?"?"+n:n}let jd=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:function(){return bi(xR)},providedIn:"root"}),n})();const CR=new ke("appBaseHref");let xR=(()=>{class n extends jd{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??bi(un).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return WD(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+vc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const a=this.prepareExternalUrl(r+vc(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){const a=this.prepareExternalUrl(r+vc(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(le(GD),le(CR,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KU=(()=>{class n extends jd{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=WD(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let a=this.prepareExternalUrl(r+vc(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){let a=this.prepareExternalUrl(r+vc(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(le(GD),le(CR,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),tm=(()=>{class n{constructor(e){this._subject=new gn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=wR(DR(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+vc(i))}normalize(e){return n.stripTrailingSlash(function ZU(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,DR(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+vc(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+vc(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=vc,n.joinWithSlash=WD,n.stripTrailingSlash=wR,n.\u0275fac=function(e){return new(e||n)(le(jd))},n.\u0275prov=Pe({token:n,factory:function(){return function YU(){return new tm(le(jd))}()},providedIn:"root"}),n})();function DR(n){return n.replace(/\/index.html$/,"")}const ER={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var uo=(()=>((uo=uo||{})[uo.Decimal=0]="Decimal",uo[uo.Percent=1]="Percent",uo[uo.Currency=2]="Currency",uo[uo.Scientific=3]="Scientific",uo))(),sn=(()=>((sn=sn||{})[sn.Decimal=0]="Decimal",sn[sn.Group=1]="Group",sn[sn.List=2]="List",sn[sn.PercentSign=3]="PercentSign",sn[sn.PlusSign=4]="PlusSign",sn[sn.MinusSign=5]="MinusSign",sn[sn.Exponential=6]="Exponential",sn[sn.SuperscriptingExponent=7]="SuperscriptingExponent",sn[sn.PerMille=8]="PerMille",sn[sn.Infinity=9]="Infinity",sn[sn.NaN=10]="NaN",sn[sn.TimeSeparator=11]="TimeSeparator",sn[sn.CurrencyDecimal=12]="CurrencyDecimal",sn[sn.CurrencyGroup=13]="CurrencyGroup",sn))();function ra(n,t){const e=Xs(n),i=e[It.NumberSymbols][t];if(typeof i>"u"){if(t===sn.CurrencyDecimal)return e[It.NumberSymbols][sn.Decimal];if(t===sn.CurrencyGroup)return e[It.NumberSymbols][sn.Group]}return i}const CG=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function SG(n,t,e,i,r){const a=function JD(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],s=i[1],a=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],l=a[0],h=a[1]||"";e.posPre=l.substring(0,l.indexOf("#"));for(let v=0;v<h.length;v++){const C=h.charAt(v);"0"===C?e.minFrac=e.maxFrac=v+1:"#"===C?e.maxFrac=v+1:e.posSuf+=C}const m=l.split(",");if(e.gSize=m[1]?m[1].length:0,e.lgSize=m[2]||m[1]?(m[2]||m[1]).length:0,s){const v=r.length-e.posPre.length-e.posSuf.length,C=s.indexOf("#");e.negPre=s.substring(0,C).replace(/'/g,""),e.negSuf=s.slice(C+v).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function qD(n,t){return Xs(n)[It.NumberFormats][t]}(t,uo.Currency),ra(t,sn.MinusSign));return a.minFrac=function lG(n){let t;const e=ER[n];return e&&(t=e[2]),"number"==typeof t?t:2}(i),a.maxFrac=a.minFrac,function QD(n,t,e,i,r,s,a=!1){let l="",h=!1;if(isFinite(n)){let m=function kG(n){let i,r,s,a,l,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;"0"===t.charAt(s);s++);if(s===(l=t.length))i=[0],r=1;else{for(l--;"0"===t.charAt(l);)l--;for(r-=s,i=[],a=0;s<=l;s++,a++)i[a]=Number(t.charAt(s))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);a&&(m=function AG(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(m));let v=t.minInt,C=t.minFrac,D=t.maxFrac;if(s){const q=s.match(CG);if(null===q)throw new Error(`${s} is not a valid digit info`);const te=q[1],$=q[3],fe=q[5];null!=te&&(v=eE(te)),null!=$&&(C=eE($)),null!=fe?D=eE(fe):null!=$&&C>D&&(D=C)}!function IG(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(t,r),e);let a=s+n.integerLen,l=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let C=a;C<i.length;C++)i[C]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=s+1),i[0]=0;for(let C=1;C<a;C++)i[C]=0}if(l>=5)if(a-1<0){for(let C=0;C>a;C--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,s);r++)i.push(0);let h=0!==s;const m=t+n.integerLen,v=i.reduceRight(function(C,D,T,k){return k[T]=(D+=C)<10?D:D-10,h&&(0===k[T]&&T>=m?k.pop():h=!1),D>=10?1:0},0);v&&(i.unshift(v),n.integerLen++)}(m,C,D);let T=m.digits,k=m.integerLen;const P=m.exponent;let N=[];for(h=T.every(q=>!q);k<v;k++)T.unshift(0);for(;k<0;k++)T.unshift(0);k>0?N=T.splice(k,T.length):(N=T,T=[0]);const V=[];for(T.length>=t.lgSize&&V.unshift(T.splice(-t.lgSize,T.length).join(""));T.length>t.gSize;)V.unshift(T.splice(-t.gSize,T.length).join(""));T.length&&V.unshift(T.join("")),l=V.join(ra(e,i)),N.length&&(l+=ra(e,r)+N.join("")),P&&(l+=ra(e,sn.Exponential)+"+"+P)}else l=ra(e,sn.Infinity);return l=n<0&&!h?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf,l}(n,a,t,sn.CurrencyGroup,sn.CurrencyDecimal,r).replace("\xa4",e).replace("\xa4","").trim()}function eE(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}let rm=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(zg(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${oi(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(O(Ml),O($d),O(St),O(c))},n.\u0275dir=Ee({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class FG{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ud=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new FG(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,a),FR(l,r)}});for(let r=0,s=i.length;r<s;r++){const l=i.get(r).context;l.index=r,l.count=s,l.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{FR(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(Vr),O(Ml))},n.\u0275dir=Ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function FR(n,t){n.context.$implicit=t.item}let _c=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new NG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){LR("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){LR("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(Vr))},n.\u0275dir=Ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class NG{constructor(){this.$implicit=null,this.ngIf=null}}function LR(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${oi(t)}'.`)}class nE{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let sm=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),iE=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new nE(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(Vr),O(sm,9))},n.\u0275dir=Ee({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),NR=(()=>{class n{constructor(e,i,r){r._addDefault(new nE(e,i))}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(Vr),O(sm,9))},n.\u0275dir=Ee({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Q_=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),a=-1===r.indexOf("-")?void 0:Tn.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(O(St),O($d),O(c))},n.\u0275dir=Ee({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function Ba(n,t){return new Ke(2100,!1)}class HG{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class zG{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const $G=new zG,jG=new HG;let VR=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Ug(e))return $G;if(z1(e))return jG;throw Ba()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(O(Hr,16))},n.\u0275pipe=ms({name:"async",type:n,pure:!1,standalone:!0}),n})(),rE=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",s,a){if(!function sE(n){return!(null==n||""===n||n!=n)}(e))return null;a=a||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let l=i||this._defaultCurrencyCode;"code"!==r&&(l="symbol"===r||"symbol-narrow"===r?function oG(n,t,e="en"){const i=function nG(n){return Xs(n)[It.Currencies]}(e)[n]||ER[n]||[],r=i[1];return"narrow"===t&&"string"==typeof r?r:i[0]||n}(l,"symbol"===r?"wide":"narrow",a):r);try{return SG(function oE(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),a,l,i,s)}catch(h){throw Ba()}}}return n.\u0275fac=function(e){return new(e||n)(O(Sl,16),O(lU,16))},n.\u0275pipe=ms({name:"currency",type:n,pure:!0,standalone:!0}),n})();let Va=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({}),n})();const zR="browser";function Gd(n){return n===zR}function Wf(n){return"server"===n}let c4=(()=>{class n{}return n.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>new u4(le(un),window)}),n})();class u4{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function d4(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=$R(this.window.history)||$R(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $R(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class cE extends class k4 extends class UU{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function jU(n){$_||($_=n)}(new cE)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function I4(){return am=am||document.querySelector("base"),am?am.getAttribute("href"):null}();return null==e?null:function R4(n){eb=eb||document.createElement("a"),eb.setAttribute("href",n);const t=eb.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){am=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function OG(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let eb,am=null;const WR=new ke("TRANSITION_ID"),P4=[{provide:L_,useFactory:function O4(n,t,e){return()=>{e.get(N_).donePromise.then(()=>{const i=Tl(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[WR,un,lr],multi:!0}];let L4=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();const tb=new ke("EventManagerPlugins");let nb=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(le(tb),le(Kt))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();class qR{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=Tl().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let KR=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),lm=(()=>{class n extends KR{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(YR),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(YR))}}return n.\u0275fac=function(e){return new(e||n)(le(un))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();function YR(n){Tl().remove(n)}const uE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dE=/%COMP%/g;function ib(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?ib(n,r,e):(r=r.replace(dE,n),e.push(r))}return e}function QR(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let rb=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new hE(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Dr.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new $4(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Dr.ShadowDom:return new j4(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=ib(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(le(nb),le(lm),le(Uf))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();class hE{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(uE[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(eO(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(eO(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=uE[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=uE[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Tn.DashCase|Tn.Important)?t.style.setProperty(e,i,r&Tn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Tn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,QR(i)):this.eventManager.addEventListener(t,e,QR(i))}}function eO(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class $4 extends hE{constructor(t,e,i,r){super(t),this.component=i;const s=ib(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function V4(n){return"_ngcontent-%COMP%".replace(dE,n)}(r+"-"+i.id),this.hostAttr=function H4(n){return"_nghost-%COMP%".replace(dE,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class j4 extends hE{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ib(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const l=document.createElement("style");l.textContent=s[a],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let U4=(()=>{class n extends qR{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(le(un))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();const tO=["alt","control","meta","shift"],G4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},W4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let q4=(()=>{class n extends qR{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tl().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),tO.forEach(m=>{const v=i.indexOf(m);v>-1&&(i.splice(v,1),a+=m+".")}),a+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=a,h}static matchEventFullKeyCode(e,i){let r=G4[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),tO.forEach(a=>{a!==r&&(0,W4[a])(e)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(le(un))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();const X4=eR(HU,"browser",[{provide:Fa,useValue:zR},{provide:GI,useValue:function K4(){cE.makeCurrent()},multi:!0},{provide:un,useFactory:function Z4(){return function Xo(n){_g=n}(document),document},deps:[]}]),rO=new ke(""),sO=[{provide:B_,useClass:class F4{addToWindow(t){Ri.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Ri.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ri.getAllAngularRootElements=()=>t.getAllRootElements(),Ri.frameworkStabilizers||(Ri.frameworkStabilizers=[]),Ri.frameworkStabilizers.push(i=>{const r=Ri.getAllAngularTestabilities();let s=r.length,a=!1;const l=function(h){a=a||h,s--,0==s&&i(a)};r.forEach(function(h){h.whenStable(l)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Tl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:ZI,useClass:LD,deps:[Kt,ND,B_]},{provide:LD,useClass:LD,deps:[Kt,ND,B_]}],oO=[{provide:Ag,useValue:"root"},{provide:X,useFactory:function Y4(){return new X},deps:[]},{provide:tb,useClass:U4,multi:!0,deps:[un,Kt,Fa]},{provide:tb,useClass:q4,multi:!0,deps:[un]},{provide:rb,useClass:rb,deps:[nb,lm,Uf]},{provide:Mo,useExisting:rb},{provide:KR,useExisting:lm},{provide:lm,useClass:lm,deps:[un]},{provide:nb,useClass:nb,deps:[tb,Kt]},{provide:class h4{},useClass:L4,deps:[]},[]];let aO=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Uf,useValue:e.appId},{provide:WR,useExisting:Uf},P4]}}}return n.\u0275fac=function(e){return new(e||n)(le(rO,12))},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[...oO,...sO],imports:[Va,zU]}),n})(),lO=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(le(un))},n.\u0275prov=Pe({token:n,factory:function(e){let i=null;return i=e?new e:function J4(){return new lO(le(un))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let sb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:function(e){let i=null;return i=e?new(e||n):le(dO),i},providedIn:"root"}),n})(),dO=(()=>{class n extends sb{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case li.NONE:return i;case li.HTML:return Jo(i,"HTML")?Es(i):jy(this._doc,String(i)).toString();case li.STYLE:return Jo(i,"Style")?Es(i):i;case li.SCRIPT:if(Jo(i,"Script"))return Es(i);throw new Error("unsafe value used in a script context");case li.URL:return Jo(i,"URL")?Es(i):yf(String(i));case li.RESOURCE_URL:if(Jo(i,"ResourceURL"))return Es(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function mf(n){return new Fy(n)}(e)}bypassSecurityTrustStyle(e){return function vf(n){return new ix(n)}(e)}bypassSecurityTrustScript(e){return function Eg(n){return new Ly(n)}(e)}bypassSecurityTrustUrl(e){return function rx(n){return new vu(n)}(e)}bypassSecurityTrustResourceUrl(e){return function sx(n){return new Dg(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(le(un))},n.\u0275prov=Pe({token:n,factory:function(e){let i=null;return i=e?new e:function oW(n){return new dO(n.get(un))}(le(lr)),i},providedIn:"root"}),n})();function Lt(...n){return ui(n,ei(n))}class Ei extends Ue{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const ob=ee(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:aW}=Array,{getPrototypeOf:lW,prototype:cW,keys:uW}=Object;function hO(n){if(1===n.length){const t=n[0];if(aW(t))return{args:t,keys:null};if(function dW(n){return n&&"object"==typeof n&&lW(n)===cW}(t)){const e=uW(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:hW}=Array;function gE(n){return vt(t=>function fW(n,t){return hW(t)?n(...t):n(t)}(n,t))}function fO(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function qf(...n){const t=ei(n),e=kh(n),{args:i,keys:r}=hO(n);if(0===i.length)return ui([],t);const s=new it(function pW(n,t,e=Te){return i=>{pO(t,()=>{const{length:r}=n,s=new Array(r);let a=r,l=r;for(let h=0;h<r;h++)pO(t,()=>{const m=ui(n[h],t);let v=!1;m.subscribe(In(i,C=>{s[h]=C,v||(v=!0,l--),l||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>fO(r,a):Te));return e?s.pipe(gE(e)):s}function pO(n,t,e){n?Ho(e,n,t):t()}function ab(...n){return function gW(){return tl(1)}()(ui(n,ei(n)))}function cm(n){return new it(t=>{xr(n()).subscribe(t)})}function Kf(n,t){const e=j(n)?n:()=>n,i=r=>r.error(e());return new it(t?r=>t.schedule(i,0,r):i)}function mE(){return fn((n,t)=>{let e=null;n._refCount++;const i=In(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class vE extends it{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Pi(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ne;const e=this.getSubject();t.add(this.source.subscribe(In(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ne.EMPTY)}return t}refCount(){return mE()(this)}}function Oo(n,t){return fn((e,i)=>{let r=null,s=0,a=!1;const l=()=>a&&!r&&i.complete();e.subscribe(In(i,h=>{r?.unsubscribe();let m=0;const v=s++;xr(n(h,v)).subscribe(r=In(i,C=>i.next(t?t(h,C,v,m++):C),()=>{r=null,l()}))},()=>{a=!0,l()}))})}function vr(n){return n<=0?()=>Ns:fn((t,e)=>{let i=0;t.subscribe(In(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Ha(...n){const t=ei(n);return fn((e,i)=>{(t?ab(n,e,t):ab(n,e)).subscribe(i)})}function yr(n,t){return fn((e,i)=>{let r=0;e.subscribe(In(i,s=>n.call(t,s,r++)&&i.next(s)))})}function lb(n){return fn((t,e)=>{let i=!1;t.subscribe(In(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function gO(n=mW){return fn((t,e)=>{let i=!1;t.subscribe(In(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function mW(){return new ob}function Mu(n,t){const e=arguments.length>=2;return i=>i.pipe(n?yr((r,s)=>n(r,s,i)):Te,vr(1),e?lb(t):gO(()=>new ob))}function Tu(n,t){return j(t)?Pr(n,t,1):Pr(n,1)}function Un(n,t,e){const i=j(n)||t||e?{next:n,error:t,complete:e}:n;return i?fn((r,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let l=!0;r.subscribe(In(s,h=>{var m;null===(m=i.next)||void 0===m||m.call(i,h),s.next(h)},()=>{var h;l=!1,null===(h=i.complete)||void 0===h||h.call(i),s.complete()},h=>{var m;l=!1,null===(m=i.error)||void 0===m||m.call(i,h),s.error(h)},()=>{var h,m;l&&(null===(h=i.unsubscribe)||void 0===h||h.call(i)),null===(m=i.finalize)||void 0===m||m.call(i)}))}):Te}function za(n){return fn((t,e)=>{let s,i=null,r=!1;i=t.subscribe(In(e,void 0,void 0,a=>{s=xr(n(a,za(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function vW(n,t,e,i,r){return(s,a)=>{let l=e,h=t,m=0;s.subscribe(In(a,v=>{const C=m++;h=l?n(h,v,C):(l=!0,v),i&&a.next(h)},r&&(()=>{l&&a.next(h),a.complete()})))}}function mO(n,t){return fn(vW(n,t,arguments.length>=2,!0))}function yE(n){return n<=0?()=>Ns:fn((t,e)=>{let i=[];t.subscribe(In(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function vO(n,t){const e=arguments.length>=2;return i=>i.pipe(n?yr((r,s)=>n(r,s,i)):Te,yE(1),e?lb(t):gO(()=>new ob))}function yO(n,t=!1){return fn((e,i)=>{let r=0;e.subscribe(In(i,s=>{const a=n(s,r++);(a||t)&&i.next(s),!a&&i.complete()}))})}function cb(n){return fn((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const qn="primary",um=Symbol("RouteTitle");class _W{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Yf(n){return new _W(n)}function bW(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],l=n[s];if(a.startsWith(":"))r[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Al(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!_O(n[r],t[r]))return!1;return!0}function _O(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function bO(n){return Array.prototype.concat.apply([],n)}function wO(n){return n.length>0?n[n.length-1]:null}function ys(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Au(n){return aD(n)?n:Ug(n)?ui(Promise.resolve(n)):Lt(n)}const xW={exact:function DO(n,t,e){if(!qd(n.segments,t.segments)||!ub(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!DO(n.children[i],t.children[i],e))return!1;return!0},subset:EO},CO={exact:function DW(n,t){return Al(n,t)},subset:function EW(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>_O(n[e],t[e]))},ignored:()=>!0};function xO(n,t,e){return xW[e.paths](n.root,t.root,e.matrixParams)&&CO[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function EO(n,t,e){return SO(n,t,t.segments,e)}function SO(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!qd(r,e)||t.hasChildren()||!ub(r,e,i))}if(n.segments.length===e.length){if(!qd(n.segments,e)||!ub(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!EO(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(qd(n.segments,r)&&ub(n.segments,r,i)&&n.children[qn])&&SO(n.children[qn],t,s,i)}}function ub(n,t,e){return t.every((i,r)=>CO[e](n[r].parameters,i.parameters))}class Wd{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yf(this.queryParams)),this._queryParamMap}toString(){return TW.serialize(this)}}class Zn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ys(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return db(this)}}class dm{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Yf(this.parameters)),this._parameterMap}toString(){return kO(this)}}function qd(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let MO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:function(){return new bE},providedIn:"root"}),n})();class bE{parse(t){const e=new NW(t);return new Wd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${hm(t.root,!0)}`,i=function IW(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${hb(e)}=${hb(r)}`).join("&"):`${hb(e)}=${hb(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function AW(n){return encodeURI(n)}(t.fragment)}`:""}`}}const TW=new bE;function db(n){return n.segments.map(t=>kO(t)).join("/")}function hm(n,t){if(!n.hasChildren())return db(n);if(t){const e=n.children[qn]?hm(n.children[qn],!1):"",i=[];return ys(n.children,(r,s)=>{s!==qn&&i.push(`${s}:${hm(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function MW(n,t){let e=[];return ys(n.children,(i,r)=>{r===qn&&(e=e.concat(t(i,r)))}),ys(n.children,(i,r)=>{r!==qn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===qn?[hm(n.children[qn],!1)]:[`${r}:${hm(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qn]?`${db(n)}/${e[0]}`:`${db(n)}/(${e.join("//")})`}}function TO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hb(n){return TO(n).replace(/%3B/gi,";")}function wE(n){return TO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fb(n){return decodeURIComponent(n)}function AO(n){return fb(n.replace(/\+/g,"%20"))}function kO(n){return`${wE(n.path)}${function kW(n){return Object.keys(n).map(t=>`;${wE(t)}=${wE(n[t])}`).join("")}(n.parameters)}`}const RW=/^[^\/()?;=#]+/;function pb(n){const t=n.match(RW);return t?t[0]:""}const OW=/^[^=?&#]+/,FW=/^[^&#]+/;class NW{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zn([],{}):new Zn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[qn]=new Zn(t,e)),i}parseSegment(){const t=pb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Ke(4009,!1);return this.capture(t),new dm(fb(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=pb(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=pb(this.remaining);r&&(i=r,this.capture(i))}t[fb(e)]=fb(i)}parseQueryParam(t){const e=function PW(n){const t=n.match(OW);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function LW(n){const t=n.match(FW);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=AO(e),s=AO(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=pb(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Ke(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=qn);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[qn]:new Zn([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Ke(4011,!1)}}function CE(n){return n.segments.length>0?new Zn([],{[qn]:n}):n}function gb(n){const t={};for(const i of Object.keys(n.children)){const s=gb(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function BW(n){if(1===n.numberOfChildren&&n.children[qn]){const t=n.children[qn];return new Zn(n.segments.concat(t.segments),t.children)}return n}(new Zn(n.segments,t))}function Kd(n){return n instanceof Wd}function zW(n,t,e,i,r){if(0===e.length)return Zf(t.root,t.root,t.root,i,r);const s=function OO(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new RO(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return ys(s.outlets,(h,m)=>{l[m]="string"==typeof h?h.split("/"):h}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((l,h)=>{0==h&&"."===l||(0==h&&""===l?e=!0:".."===l?t++:""!=l&&r.push(l))}),r):[...r,s]},[]);return new RO(e,t,i)}(e);return s.toRoot()?Zf(t.root,t.root,new Zn([],{}),i,r):function a(h){const m=function jW(n,t,e,i){if(n.isAbsolute)return new Xf(t.root,!0,0);if(-1===i)return new Xf(e,e===t.root,0);return function PO(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Ke(4005,!1);r=i.segments.length}return new Xf(i,!1,r-s)}(e,i+(fm(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,h),v=m.processChildren?gm(m.segmentGroup,m.index,s.commands):DE(m.segmentGroup,m.index,s.commands);return Zf(t.root,m.segmentGroup,v,i,r)}(n.snapshot?._lastPathIndex)}function fm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function pm(n){return"object"==typeof n&&null!=n&&n.outlets}function Zf(n,t,e,i,r){let a,s={};i&&ys(i,(h,m)=>{s[m]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),a=n===t?e:IO(n,t,e);const l=CE(gb(a));return new Wd(l,s,r)}function IO(n,t,e){const i={};return ys(n.children,(r,s)=>{i[s]=r===t?e:IO(r,t,e)}),new Zn(n.segments,i)}class RO{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&fm(i[0]))throw new Ke(4003,!1);const r=i.find(pm);if(r&&r!==wO(i))throw new Ke(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xf{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function DE(n,t,e){if(n||(n=new Zn([],{})),0===n.segments.length&&n.hasChildren())return gm(n,t,e);const i=function GW(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const a=n.segments[r],l=e[i];if(pm(l))break;const h=`${l}`,m=i<e.length-1?e[i+1]:null;if(r>0&&void 0===h)break;if(h&&m&&"object"==typeof m&&void 0===m.outlets){if(!LO(h,m,a))return s;i+=2}else{if(!LO(h,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Zn(n.segments.slice(0,i.pathIndex),{});return s.children[qn]=new Zn(n.segments.slice(i.pathIndex),n.children),gm(s,0,r)}return i.match&&0===r.length?new Zn(n.segments,{}):i.match&&!n.hasChildren()?EE(n,t,e):i.match?gm(n,0,r):EE(n,t,e)}function gm(n,t,e){if(0===e.length)return new Zn(n.segments,{});{const i=function UW(n){return pm(n[0])?n[0].outlets:{[qn]:n}}(e),r={};return ys(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=DE(n.children[a],t,s))}),ys(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new Zn(n.segments,r)}}function EE(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(pm(s)){const h=WW(s.outlets);return new Zn(i,h)}if(0===r&&fm(e[0])){i.push(new dm(n.segments[t].path,FO(e[0]))),r++;continue}const a=pm(s)?s.outlets[qn]:`${s}`,l=r<e.length-1?e[r+1]:null;a&&l&&fm(l)?(i.push(new dm(a,FO(l))),r+=2):(i.push(new dm(a,{})),r++)}return new Zn(i,{})}function WW(n){const t={};return ys(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=EE(new Zn([],{}),0,e))}),t}function FO(n){const t={};return ys(n,(e,i)=>t[i]=`${e}`),t}function LO(n,t,e){return n==e.path&&Al(t,e.parameters)}class bc{constructor(t,e){this.id=t,this.url=e}}class SE extends bc{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yd extends bc{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mb extends bc{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class NO extends bc{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qW extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KW extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YW extends bc{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ZW extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XW extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QW{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class JW{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class e8{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t8{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n8{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i8{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BO{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class VO{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ME(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ME(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=TE(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return TE(t,this._root).map(e=>e.value)}}function ME(n,t){if(n===t.value)return t;for(const e of t.children){const i=ME(n,e);if(i)return i}return null}function TE(n,t){if(n===t.value)return[t];for(const e of t.children){const i=TE(n,e);if(i.length)return i.unshift(t),i}return[]}class wc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Qf(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class HO extends VO{constructor(t,e){super(t),this.snapshot=e,AE(this,t)}toString(){return this.snapshot.toString()}}function zO(n,t){const e=function s8(n,t){const a=new vb([],{},{},"",{},qn,t,null,n.root,-1,{});return new jO("",new wc(a,[]))}(n,t),i=new Ei([new dm("",{})]),r=new Ei({}),s=new Ei({}),a=new Ei({}),l=new Ei(""),h=new ku(i,r,a,l,s,qn,t,e.root);return h.snapshot=e.root,new HO(new wc(h,[]),e)}class ku{constructor(t,e,i,r,s,a,l,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=l,this.title=this.data?.pipe(vt(m=>m[um]))??Lt(void 0),this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(vt(t=>Yf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(vt(t=>Yf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $O(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function o8(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class vb{constructor(t,e,i,r,s,a,l,h,m,v,C,D){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=l,this.title=this.data?.[um],this.routeConfig=h,this._urlSegment=m,this._lastPathIndex=v,this._correctedLastPathIndex=D??v,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jO extends VO{constructor(t,e){super(e),this.url=t,AE(this,e)}toString(){return UO(this._root)}}function AE(n,t){t.value._routerState=n,t.children.forEach(e=>AE(n,e))}function UO(n){const t=n.children.length>0?` { ${n.children.map(UO).join(", ")} } `:"";return`${n.value}${t}`}function kE(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Al(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Al(t.params,e.params)||n.params.next(e.params),function wW(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Al(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Al(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function IE(n,t){const e=Al(n.params,t.params)&&function SW(n,t){return qd(n,t)&&n.every((e,i)=>Al(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||IE(n.parent,t.parent))}function mm(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function l8(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return mm(n,i,r);return mm(n,i)})}(n,t,e);return new wc(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>mm(n,l)),a}}const i=function c8(n){return new ku(new Ei(n.url),new Ei(n.params),new Ei(n.queryParams),new Ei(n.fragment),new Ei(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>mm(n,s));return new wc(i,r)}}const RE="ngNavigationCancelingError";function GO(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Kd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=WO(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function WO(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[RE]=!0,i.cancellationCode=t,e&&(i.url=e),i}function qO(n){return KO(n)&&Kd(n.url)}function KO(n){return n&&n[RE]}class u8{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new vm,this.attachRef=null}}let vm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new u8,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yb=!1;let _b=(()=>{class n{constructor(e,i,r,s,a){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new gn,this.deactivateEvents=new gn,this.attachEvents=new gn,this.detachEvents=new gn,this.name=r||qn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ke(4012,yb);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ke(4012,yb);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ke(4012,yb);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Ke(4013,yb);this._activatedRoute=e;const r=this.location,a=e._futureSnapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,h=new d8(e,l,r.injector);if(i&&function h8(n){return!!n.resolveComponentFactory}(i)){const m=i.resolveComponentFactory(a);this.activated=r.createComponent(m,r.length,h)}else this.activated=r.createComponent(a,{index:r.length,injector:h,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(O(vm),O(Yr),Ds("name"),O(Hr),O(ea))},n.\u0275dir=Ee({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class d8{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ku?this.route:t===vm?this.childContexts:this.parent.get(t,e)}}let OE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pn({type:n,selectors:[["ng-component"]],standalone:!0,features:[oI],decls:1,vars:0,template:function(e,i){1&e&&cn(0,"router-outlet")},dependencies:[_b],encapsulation:2}),n})();function YO(n,t){return n.providers&&!n._injector&&(n._injector=R_(n.providers,t,`Route: ${n.path}`)),n._injector??t}function FE(n){const t=n.children&&n.children.map(FE),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==qn&&(e.component=OE),e}function oa(n){return n.outlet||qn}function ZO(n,t){const e=n.filter(i=>oa(i)===t);return e.push(...n.filter(i=>oa(i)!==t)),e}function ym(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class v8{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),kE(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Qf(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),ys(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Qf(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Qf(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Qf(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new i8(s.value.snapshot))}),t.children.length&&this.forwardEvent(new t8(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(kE(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),kE(l.route.value),this.activateChildRoutes(t,null,a.children)}else{const l=ym(r.snapshot),h=l?.get(lc)??null;a.attachRef=null,a.route=r,a.resolver=h,a.injector=l,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class XO{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class bb{constructor(t,e){this.component=t,this.route=e}}function y8(n,t,e){const i=n._root;return _m(i,t?t._root:null,e,[i.value])}function Jf(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function lC(n){return null!==Wr(n)}(n)?t.get(n):n:i}function _m(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Qf(t);return n.children.forEach(a=>{(function b8(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=t?t.value:null,l=e?e.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const h=function w8(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!qd(n.url,t.url);case"pathParamsOrQueryParamsChange":return!qd(n.url,t.url)||!Al(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!IE(n,t)||!Al(n.queryParams,t.queryParams);default:return!IE(n,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new XO(i)):(s.data=a.data,s._resolvedData=a._resolvedData),_m(n,t,s.component?l?l.children:null:e,i,r),h&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new bb(l.outlet.component,a))}else a&&bm(t,l,r),r.canActivateChecks.push(new XO(i)),_m(n,null,s.component?l?l.children:null:e,i,r)})(a,s[a.value.outlet],e,i.concat([a.value]),r),delete s[a.value.outlet]}),ys(s,(a,l)=>bm(a,e.getContext(l),r)),r}function bm(n,t,e){const i=Qf(n),r=n.value;ys(i,(s,a)=>{bm(s,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new bb(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function wm(n){return"function"==typeof n}function LE(n){return n instanceof ob||"EmptyError"===n?.name}const wb=Symbol("INITIAL_VALUE");function ep(){return Oo(n=>qf(n.map(t=>t.pipe(vr(1),Ha(wb)))).pipe(vt(t=>{for(const e of t)if(!0!==e){if(e===wb)return wb;if(!1===e||e instanceof Wd)return e}return!0}),yr(t=>t!==wb),vr(1)))}function QO(n){return function ft(...n){return Mt(n)}(Un(t=>{if(Kd(t))throw GO(0,t)}),vt(t=>!0===t))}const NE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JO(n,t,e,i,r){const s=BE(n,t,e);return s.matched?function B8(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Lt(r.map(a=>{const l=Jf(a,n);return Au(function M8(n){return n&&wm(n.canMatch)}(l)?l.canMatch(t,e):n.runInContext(()=>l(t,e)))})).pipe(ep(),QO()):Lt(!0)}(i=YO(t,i),t,e).pipe(vt(a=>!0===a?s:{...NE})):Lt(s)}function BE(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...NE}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||bW)(e,n,t);if(!r)return{...NE};const s={};ys(r.posParams,(l,h)=>{s[h]=l.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function Cb(n,t,e,i,r="corrected"){if(e.length>0&&function z8(n,t,e){return e.some(i=>xb(n,t,i)&&oa(i)!==qn)}(n,e,i)){const a=new Zn(t,function H8(n,t,e,i){const r={};r[qn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&oa(s)!==qn){const a=new Zn([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[oa(s)]=a}return r}(n,t,i,new Zn(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function $8(n,t,e){return e.some(i=>xb(n,t,i))}(n,e,i)){const a=new Zn(n.segments,function V8(n,t,e,i,r,s){const a={};for(const l of i)if(xb(n,e,l)&&!r[oa(l)]){const h=new Zn([],{});h._sourceSegment=n,h._segmentIndexShift="legacy"===s?n.segments.length:t.length,a[oa(l)]=h}return{...r,...a}}(n,t,e,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const s=new Zn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function xb(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function eP(n,t,e,i){return!!(oa(n)===i||i!==qn&&xb(t,e,n))&&("**"===n.path||BE(t,n,e).matched)}function tP(n,t,e){return 0===t.length&&!n.children[e]}const Db=!1;class Eb{constructor(t){this.segmentGroup=t||null}}class nP{constructor(t){this.urlTree=t}}function Cm(n){return Kf(new Eb(n))}function iP(n){return Kf(new nP(n))}class W8{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=Cb(this.urlTree.root,[],[],this.config).segmentGroup,e=new Zn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,qn).pipe(vt(s=>this.createUrlTree(gb(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(za(s=>{if(s instanceof nP)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Eb?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,qn).pipe(vt(r=>this.createUrlTree(gb(r),t.queryParams,t.fragment))).pipe(za(r=>{throw r instanceof Eb?this.noMatchError(r):r}))}noMatchError(t){return new Ke(4002,Db)}createUrlTree(t,e,i){const r=CE(t);return new Wd(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(vt(s=>new Zn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return ui(r).pipe(Tu(s=>{const a=i.children[s],l=ZO(e,s);return this.expandSegmentGroup(t,l,a,s).pipe(vt(h=>({segment:h,outlet:s})))}),mO((s,a)=>(s[a.outlet]=a.segment,s),{}),vO())}expandSegment(t,e,i,r,s,a){return ui(i).pipe(Tu(l=>this.expandSegmentAgainstRoute(t,e,i,l,r,s,a).pipe(za(m=>{if(m instanceof Eb)return Lt(null);throw m}))),Mu(l=>!!l),za((l,h)=>{if(LE(l))return tP(e,r,s)?Lt(new Zn([],{})):Cm(e);throw l}))}expandSegmentAgainstRoute(t,e,i,r,s,a,l){return eP(r,e,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,a):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a):Cm(e):Cm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?iP(s):this.lineralizeSegments(i,s).pipe(Pr(a=>{const l=new Zn(a,{});return this.expandSegment(t,l,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){const{matched:l,consumedSegments:h,remainingSegments:m,positionalParamSegments:v}=BE(e,r,s);if(!l)return Cm(e);const C=this.applyRedirectCommands(h,r.redirectTo,v);return r.redirectTo.startsWith("/")?iP(C):this.lineralizeSegments(r,C).pipe(Pr(D=>this.expandSegment(t,e,i,D.concat(m),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=YO(i,t),i.loadChildren?(i._loadedRoutes?Lt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(vt(l=>(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,new Zn(r,{})))):Lt(new Zn(r,{}))):JO(e,i,r,t).pipe(Oo(({matched:a,consumedSegments:l,remainingSegments:h})=>a?this.getChildConfig(t=i._injector??t,i,r).pipe(Pr(v=>{const C=v.injector??t,D=v.routes,{segmentGroup:T,slicedSegments:k}=Cb(e,l,h,D),P=new Zn(T.segments,T.children);if(0===k.length&&P.hasChildren())return this.expandChildren(C,D,P).pipe(vt(te=>new Zn(l,te)));if(0===D.length&&0===k.length)return Lt(new Zn(l,{}));const N=oa(i)===s;return this.expandSegment(C,P,D,k,N?qn:s,!0).pipe(vt(q=>new Zn(l.concat(q.segments),q.children)))})):Cm(e)))}getChildConfig(t,e,i){return e.children?Lt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Lt({routes:e._loadedRoutes,injector:e._loadedInjector}):function N8(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Lt(!0):Lt(r.map(a=>{const l=Jf(a,n);return Au(function x8(n){return n&&wm(n.canLoad)}(l)?l.canLoad(t,e):n.runInContext(()=>l(t,e)))})).pipe(ep(),QO())}(t,e,i).pipe(Pr(r=>r?this.configLoader.loadChildren(t,e).pipe(Un(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function U8(n){return Kf(WO(Db,3))}())):Lt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Lt(i);if(r.numberOfChildren>1||!r.children[qn])return Kf(new Ke(4e3,Db));r=r.children[qn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Wd(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ys(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const l=r.substring(1);i[s]=e[l]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let a={};return ys(e.children,(l,h)=>{a[h]=this.createSegmentGroup(t,l,i,r)}),new Zn(s,a)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Ke(4001,Db);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class K8{}class X8{constructor(t,e,i,r,s,a,l,h){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=l,this.urlSerializer=h}recognize(){const t=Cb(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,qn).pipe(vt(e=>{if(null===e)return null;const i=new vb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new wc(i,e),s=new jO(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=$O(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return ui(Object.keys(i.children)).pipe(Tu(r=>{const s=i.children[r],a=ZO(e,r);return this.processSegmentGroup(t,a,s,r)}),mO((r,s)=>r&&s?(r.push(...s),r):null),yO(r=>null!==r),lb(null),vO(),vt(r=>{if(null===r)return null;const s=rP(r);return function Q8(n){n.sort((t,e)=>t.value.outlet===qn?-1:e.value.outlet===qn?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return ui(e).pipe(Tu(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,r,s)),Mu(a=>!!a),za(a=>{if(LE(a))return tP(i,r,s)?Lt([]):Lt(null);throw a}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!eP(e,i,r,s))return Lt(null);let a;if("**"===e.path){const l=r.length>0?wO(r).parameters:{},h=oP(i)+r.length;a=Lt({snapshot:new vb(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lP(e),oa(e),e.component??e._loadedComponent??null,e,sP(i),h,cP(e),h),consumedSegments:[],remainingSegments:[]})}else a=JO(i,e,r,t).pipe(vt(({matched:l,consumedSegments:h,remainingSegments:m,parameters:v})=>{if(!l)return null;const C=oP(i)+h.length;return{snapshot:new vb(h,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lP(e),oa(e),e.component??e._loadedComponent??null,e,sP(i),C,cP(e),C),consumedSegments:h,remainingSegments:m}}));return a.pipe(Oo(l=>{if(null===l)return Lt(null);const{snapshot:h,consumedSegments:m,remainingSegments:v}=l;t=e._injector??t;const C=e._loadedInjector??t,D=function J8(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:T,slicedSegments:k}=Cb(i,m,v,D.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);if(0===k.length&&T.hasChildren())return this.processChildren(C,D,T).pipe(vt(N=>null===N?null:[new wc(h,N)]));if(0===D.length&&0===k.length)return Lt([new wc(h,[])]);const P=oa(e)===s;return this.processSegment(C,D,T,k,P?qn:s).pipe(vt(N=>null===N?null:[new wc(h,N)]))}))}}function e6(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function rP(n){const t=[],e=new Set;for(const i of n){if(!e6(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=rP(i.children);t.push(new wc(i.value,r))}return t.filter(i=>!e.has(i))}function sP(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function oP(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function lP(n){return n.data||{}}function cP(n){return n.resolve||{}}function uP(n){return"string"==typeof n.title||null===n.title}function VE(n){return Oo(t=>{const e=n(t);return e?ui(e).pipe(vt(()=>t)):Lt(t)})}let dP=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===qn);return i}getResolvedTitleForRoute(e){return e.data[um]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:function(){return bi(hP)},providedIn:"root"}),n})(),hP=(()=>{class n extends dP{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(le(lO))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class l6{}class u6 extends class c6{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Mb=new ke("",{providedIn:"root",factory:()=>({})}),HE=new ke("ROUTES");let zE=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Lt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Au(e.loadComponent()).pipe(Un(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),cb(()=>{this.componentLoaders.delete(e)})),r=new vE(i,()=>new Ue).pipe(mE());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Lt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(vt(l=>{this.onLoadEndListener&&this.onLoadEndListener(i);let h,m,v=!1;Array.isArray(l)?m=l:(h=l.create(e).injector,m=bO(h.get(HE,[],Jt.Self|Jt.Optional)));return{routes:m.map(FE),injector:h}}),cb(()=>{this.childrenLoaders.delete(i)})),a=new vE(s,()=>new Ue).pipe(mE());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return Au(e()).pipe(Pr(i=>i instanceof rI||Array.isArray(i)?Lt(i):ui(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(le(lr),le(RD))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class h6{}class f6{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function p6(n){throw n}function g6(n,t,e){return t.parse("/")}const m6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function pP(){const n=bi(MO),t=bi(vm),e=bi(tm),i=bi(lr),r=bi(RD),s=bi(HE,{optional:!0})??[],a=bi(Mb,{optional:!0})??{},l=bi(hP),h=bi(dP,{optional:!0}),m=bi(h6,{optional:!0}),v=bi(l6,{optional:!0}),C=new us(null,n,t,e,i,r,bO(s));return m&&(C.urlHandlingStrategy=m),v&&(C.routeReuseStrategy=v),C.titleStrategy=h??l,function y6(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,C),C}let us=(()=>{class n{constructor(e,i,r,s,a,l,h){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ue,this.errorHandler=p6,this.malformedUriErrorHandler=g6,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Lt(void 0),this.urlHandlingStrategy=new f6,this.routeReuseStrategy=new u6,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=a.get(zE),this.configLoader.onLoadEndListener=D=>this.triggerEvent(new JW(D)),this.configLoader.onLoadStartListener=D=>this.triggerEvent(new QW(D)),this.ngModule=a.get(Hd),this.console=a.get(oU);const C=a.get(Kt);this.isNgZoneEnabled=C instanceof Kt&&Kt.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=function CW(){return new Wd(new Zn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zO(this.currentUrlTree,this.rootComponentType),this.transitions=new Ei({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(yr(r=>0!==r.id),vt(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Oo(r=>{let s=!1,a=!1;return Lt(r).pipe(Un(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Oo(l=>{const h=this.browserUrlTree.toString(),m=!this.navigated||l.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||m)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return gP(l.source)&&(this.browserUrlTree=l.extractedUrl),Lt(l).pipe(Oo(C=>{const D=this.transitions.getValue();return i.next(new SE(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),D!==this.transitions.getValue()?Ns:Promise.resolve(C)}),function q8(n,t,e,i){return Oo(r=>function G8(n,t,e,i,r){return new W8(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(vt(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Un(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},r.urlAfterRedirects=C.urlAfterRedirects}),function n6(n,t,e,i,r,s){return Pr(a=>function Z8(n,t,e,i,r,s,a="emptyOnly",l="legacy"){return new X8(n,t,e,i,r,a,l,s).recognize().pipe(Oo(h=>null===h?function Y8(n){return new it(t=>t.error(n))}(new K8):Lt(h)))}(n,t,e,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r,s).pipe(vt(l=>({...a,targetSnapshot:l}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Un(C=>{if(r.targetSnapshot=C.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!C.extras.skipLocationChange){const T=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);this.setBrowserUrl(T,C)}this.browserUrlTree=C.urlAfterRedirects}const D=new qW(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);i.next(D)}));if(m&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:T,source:k,restoredState:P,extras:N}=l,V=new SE(D,this.serializeUrl(T),k,P);i.next(V);const q=zO(T,this.rootComponentType).snapshot;return Lt(r={...l,targetSnapshot:q,urlAfterRedirects:T,extras:{...N,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=l.rawUrl,l.resolve(null),Ns}),Un(l=>{const h=new KW(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(h)}),vt(l=>r={...l,guards:y8(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function A8(n,t){return Pr(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?Lt({...e,guardsResult:!0}):function k8(n,t,e,i){return ui(n).pipe(Pr(r=>function L8(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Lt(s.map(l=>{const h=ym(t)??r,m=Jf(l,h);return Au(function S8(n){return n&&wm(n.canDeactivate)}(m)?m.canDeactivate(n,t,e,i):h.runInContext(()=>m(n,t,e,i))).pipe(Mu())})).pipe(ep()):Lt(!0)}(r.component,r.route,e,t,i)),Mu(r=>!0!==r,!0))}(a,i,r,n).pipe(Pr(l=>l&&function C8(n){return"boolean"==typeof n}(l)?function I8(n,t,e,i){return ui(t).pipe(Tu(r=>ab(function O8(n,t){return null!==n&&t&&t(new e8(n)),Lt(!0)}(r.route.parent,i),function R8(n,t){return null!==n&&t&&t(new n8(n)),Lt(!0)}(r.route,i),function F8(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function _8(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>cm(()=>Lt(a.guards.map(h=>{const m=ym(a.node)??e,v=Jf(h,m);return Au(function E8(n){return n&&wm(n.canActivateChild)}(v)?v.canActivateChild(i,n):m.runInContext(()=>v(i,n))).pipe(Mu())})).pipe(ep())));return Lt(s).pipe(ep())}(n,r.path,e),function P8(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Lt(!0);const r=i.map(s=>cm(()=>{const a=ym(t)??e,l=Jf(s,a);return Au(function D8(n){return n&&wm(n.canActivate)}(l)?l.canActivate(t,n):a.runInContext(()=>l(t,n))).pipe(Mu())}));return Lt(r).pipe(ep())}(n,r.route,e))),Mu(r=>!0!==r,!0))}(i,s,n,t):Lt(l)),vt(l=>({...e,guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),Un(l=>{if(r.guardsResult=l.guardsResult,Kd(l.guardsResult))throw GO(0,l.guardsResult);const h=new YW(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(h)}),yr(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),VE(l=>{if(l.guards.canActivateChecks.length)return Lt(l).pipe(Un(h=>{const m=new ZW(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}),Oo(h=>{let m=!1;return Lt(h).pipe(function i6(n,t){return Pr(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Lt(e);let s=0;return ui(r).pipe(Tu(a=>function r6(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!uP(r)&&(s[um]=r.title),function s6(n,t,e,i){const r=function o6(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Lt({});const s={};return ui(r).pipe(Pr(a=>function a6(n,t,e,i){const r=ym(t)??i,s=Jf(n,r);return Au(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[a],t,e,i).pipe(Mu(),Un(l=>{s[a]=l}))),yE(1),function yW(n){return vt(()=>n)}(s),za(a=>LE(a)?Ns:Kf(a)))}(s,n,t,i).pipe(vt(a=>(n._resolvedData=a,n.data=$O(n,e).resolve,r&&uP(r)&&(n.data[um]=r.title),null)))}(a.route,i,n,t)),Un(()=>s++),yE(1),Pr(a=>s===r.length?Lt(e):Ns))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Un({next:()=>m=!0,complete:()=>{m||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),Un(h=>{const m=new XW(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}))}),VE(l=>{const h=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe(Un(C=>{m.component=C}),vt(()=>{})));for(const C of m.children)v.push(...h(C));return v};return qf(h(l.targetSnapshot.root)).pipe(lb(),vr(1))}),VE(()=>this.afterPreactivation()),vt(l=>{const h=function a8(n,t,e){const i=mm(n,t._root,e?e._root:void 0);return new HO(i,t)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:h}}),Un(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((n,t,e)=>vt(i=>(new v8(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),Un({next(){s=!0},complete(){s=!0}}),cb(()=>{s||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),za(l=>{if(a=!0,KO(l)){qO(l)||(this.navigated=!0,this.restoreHistory(r,!0));const h=new mb(r.id,this.serializeUrl(r.extractedUrl),l.message,l.cancellationCode);if(i.next(h),qO(l)){const m=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gP(r.source)};this.scheduleNavigation(m,"imperative",null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const h=new NO(r.id,this.serializeUrl(r.extractedUrl),l,r.targetSnapshot??void 0);i.next(h);try{r.resolve(this.errorHandler(l))}catch(m){r.reject(m)}}return Ns}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(FE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:h}=i,m=r||this.routerState.root,v=h?this.currentUrlTree.fragment:a;let C=null;switch(l){case"merge":C={...this.currentUrlTree.queryParams,...s};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=s||null}return null!==C&&(C=this.removeEmptyProps(C)),zW(m,this.currentUrlTree,e,C,v??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Kd(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function _6(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new Ke(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...m6}:!1===i?{...v6}:i,Kd(e))return xO(this.currentUrlTree,e,r);const s=this.parseUrl(e);return xO(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Yd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let l,h,m;a?(l=a.resolve,h=a.reject,m=a.promise):m=new Promise((D,T)=>{l=D,h=T});const v=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),C=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):C=0,this.setTransition({id:v,targetPageId:C,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:l,reject:h,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(D=>Promise.reject(D))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new mb(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){Fd()},n.\u0275prov=Pe({token:n,factory:function(){return pP()},providedIn:"root"}),n})();function gP(n){return"imperative"!==n}let $E=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ue,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=mc(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=mc(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=mc(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(O(us),O(ku),Ds("tabindex"),O(c),O(St))},n.\u0275dir=Ee({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&zt("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Zi]}),n})(),Ab=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ue,this.subscription=e.events.subscribe(s=>{s instanceof Yd&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=mc(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=mc(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=mc(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,a){return!!(0!==e||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(O(us),O(ku),O(jd))},n.\u0275dir=Ee({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&zt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&ii("target",i.target)("href",i.href,Sr)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Zi]}),n})(),mP=(()=>{class n{constructor(e,i,r,s,a,l){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=a,this.linkWithHref=l,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new gn,this.routerEventsSubscription=e.events.subscribe(h=>{h instanceof Yd&&this.update()})}ngAfterContentInit(){Lt(this.links.changes,this.linksWithHrefs.changes,Lt(null)).pipe(tl()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ui(e).pipe(tl()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function b6(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(O(us),O(St),O(c),O(Hr),O($E,8),O(Ab,8))},n.\u0275dir=Ee({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&($i(r,$E,5),$i(r,Ab,5)),2&e){let s;Gt(s=Wt())&&(i.links=s),Gt(s=Wt())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Zi]}),n})();class vP{}let w6=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(yr(e=>e instanceof Yd),Tu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=R_(s.providers,e,`Route: ${s.path}`));const a=s._injector??e,l=s._loadedInjector??a;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(a,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(l,s.children??s._loadedRoutes))}return ui(r).pipe(tl())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Lt(null);const s=r.pipe(Pr(a=>null===a?Lt(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));return i.loadComponent&&!i._loadedComponent?ui([s,this.loader.loadComponent(i)]).pipe(tl()):s})}}return n.\u0275fac=function(e){return new(e||n)(le(us),le(RD),le(ea),le(vP),le(zE))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jE=new ke("");let yP=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof SE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Yd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof BO&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new BO(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Fd()},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();function tp(n,t){return{\u0275kind:n,\u0275providers:t}}function UE(n){return[{provide:HE,multi:!0,useValue:n}]}function bP(){const n=bi(lr);return t=>{const e=n.get(Gf);if(t!==e.components[0])return;const i=n.get(us),r=n.get(wP);1===n.get(GE)&&i.initialNavigation(),n.get(CP,null,Jt.Optional)?.setUpPreloading(),n.get(jE,null,Jt.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const wP=new ke("",{factory:()=>new Ue}),GE=new ke("",{providedIn:"root",factory:()=>1});const CP=new ke("");function E6(n){return tp(0,[{provide:CP,useExisting:w6},{provide:vP,useExisting:n}])}const xP=new ke("ROUTER_FORROOT_GUARD"),S6=[tm,{provide:MO,useClass:bE},{provide:us,useFactory:pP},vm,{provide:ku,useFactory:function _P(n){return n.routerState.root},deps:[us]},zE];function M6(){return new QI("Router",us)}let DP=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[S6,[],UE(e),{provide:xP,useFactory:I6,deps:[[us,new qs,new fl]]},{provide:Mb,useValue:i||{}},i?.useHash?{provide:jd,useClass:KU}:{provide:jd,useClass:xR},{provide:jE,useFactory:()=>{const n=bi(us),t=bi(c4),e=bi(Mb);return e.scrollOffset&&t.setOffset(e.scrollOffset),new yP(n,t,e)}},i?.preloadingStrategy?E6(i.preloadingStrategy).\u0275providers:[],{provide:QI,multi:!0,useFactory:M6},i?.initialNavigation?R6(i):[],[{provide:EP,useFactory:bP},{provide:ID,multi:!0,useExisting:EP}]]}}static forChild(e){return{ngModule:n,providers:[UE(e)]}}}return n.\u0275fac=function(e){return new(e||n)(le(xP,8))},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[OE]}),n})();function I6(n){return"guarded"}function R6(n){return["disabled"===n.initialNavigation?tp(3,[{provide:L_,multi:!0,useFactory:()=>{const t=bi(us);return()=>{t.setUpLocationChangeListener()}}},{provide:GE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?tp(2,[{provide:GE,useValue:0},{provide:L_,multi:!0,deps:[lr],useFactory:t=>{const e=t.get(WU,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(s=>{const a=t.get(us),l=t.get(wP);(function r(s){t.get(us).events.pipe(yr(l=>l instanceof Yd||l instanceof mb||l instanceof NO),vt(l=>l instanceof Yd||l instanceof mb&&(0===l.code||1===l.code)&&null),yr(l=>null!==l),vr(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),a.afterPreactivation=()=>(s(!0),i||l.closed?Lt(void 0):l),a.initialNavigation()}))}}]).\u0275providers:[]]}const EP=new ke(""),WE="initial-configuration",SP="simulation",qE="network",TP="parameters",AP="blockchain";function IP(...n){const t=kh(n),{args:e,keys:i}=hO(n),r=new it(s=>{const{length:a}=e;if(!a)return void s.complete();const l=new Array(a);let h=a,m=a;for(let v=0;v<a;v++){let C=!1;xr(e[v]).subscribe(In(s,D=>{C||(C=!0,m--),l[v]=D},()=>h--,void 0,()=>{(!h||!C)&&(m||s.next(i?fO(i,l):l),s.complete())}))}});return t?r.pipe(gE(t)):r}let RP=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(O(c),O(St))},n.\u0275dir=Ee({type:n}),n})(),Zd=(()=>{class n extends RP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,features:[Ve]}),n})();const aa=new ke("NgValueAccessor"),F6={provide:aa,useExisting:ai(()=>np),multi:!0},N6=new ke("CompositionEventMode");let np=(()=>{class n extends RP{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function L6(){const n=Tl()?Tl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(O(c),O(St),O(N6,8))},n.\u0275dir=Ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&zt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[yn([F6]),Ve]}),n})();function Iu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function PP(n){return null!=n&&"number"==typeof n.length}const Is=new ke("NgValidators"),Ru=new ke("NgAsyncValidators"),V6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vi{static min(t){return function FP(n){return t=>{if(Iu(t.value)||Iu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function LP(n){return t=>{if(Iu(t.value)||Iu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function NP(n){return Iu(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function BP(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function VP(n){return Iu(n.value)||V6.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function HP(n){return t=>Iu(t.value)||!PP(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function zP(n){return t=>PP(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function $P(n){if(!n)return Rb;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Iu(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return KP(t)}static composeAsync(t){return YP(t)}}function Rb(n){return null}function jP(n){return null!=n}function UP(n){return Ug(n)?ui(n):n}function GP(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function WP(n,t){return t.map(e=>e(n))}function qP(n){return n.map(t=>function H6(n){return!n.validate}(t)?t:e=>t.validate(e))}function KP(n){if(!n)return null;const t=n.filter(jP);return 0==t.length?null:function(e){return GP(WP(e,t))}}function KE(n){return null!=n?KP(qP(n)):null}function YP(n){if(!n)return null;const t=n.filter(jP);return 0==t.length?null:function(e){return IP(WP(e,t).map(UP)).pipe(vt(GP))}}function YE(n){return null!=n?YP(qP(n)):null}function ZP(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function XP(n){return n._rawValidators}function QP(n){return n._rawAsyncValidators}function ZE(n){return n?Array.isArray(n)?n:[n]:[]}function Ob(n,t){return Array.isArray(n)?n.includes(t):n===t}function JP(n,t){const e=ZE(t);return ZE(n).forEach(r=>{Ob(e,r)||e.push(r)}),e}function eF(n,t){return ZE(t).filter(e=>!Ob(n,e))}class tF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=KE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=YE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Js extends tF{get formDirective(){return null}get path(){return null}}class kl extends tF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nF{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ip=(()=>{class n extends nF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(O(kl,2))},n.\u0275dir=Ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&wi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ve]}),n})(),Pb=(()=>{class n extends nF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(O(Js,10))},n.\u0275dir=Ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&wi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ve]}),n})();const xm="VALID",Lb="INVALID",rp="PENDING",Dm="DISABLED";function eS(n){return(Nb(n)?n.validators:n)||null}function rF(n){return Array.isArray(n)?KE(n):n||null}function tS(n,t){return(Nb(t)?t.asyncValidators:n)||null}function sF(n){return Array.isArray(n)?YE(n):n||null}function Nb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function oF(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new Ke(1e3,"");if(!i[e])throw new Ke(1001,"")}function aF(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new Ke(1002,"")})}class Bb{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=rF(this._rawValidators),this._composedAsyncValidatorFn=sF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===xm}get invalid(){return this.status===Lb}get pending(){return this.status==rp}get disabled(){return this.status===Dm}get enabled(){return this.status!==Dm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=rF(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=sF(t)}addValidators(t){this.setValidators(JP(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(JP(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(eF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(eF(t,this._rawAsyncValidators))}hasValidator(t){return Ob(this._rawValidators,t)}hasAsyncValidator(t){return Ob(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=rp,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Dm,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=xm,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xm||this.status===rp)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dm:xm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=rp,this._hasOwnPendingAsyncValidator=!0;const e=UP(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new gn,this.statusChanges=new gn}_calculateStatus(){return this._allControlsDisabled()?Dm:this.errors?Lb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rp)?rp:this._anyControlsHaveStatus(Lb)?Lb:xm}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Nb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Em extends Bb{constructor(t,e,i){super(eS(e),tS(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){aF(this,0,t),Object.keys(t).forEach(i=>{oF(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class lF extends Em{}function Vb(n,t){return[...t.path,n]}function Sm(n,t){nS(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function K6(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&cF(n,t)})}(n,t),function Z6(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Y6(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&cF(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function q6(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Hb(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),$b(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zb(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function nS(n,t){const e=XP(n);null!==t.validator?n.setValidators(ZP(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=QP(n);null!==t.asyncValidator?n.setAsyncValidators(ZP(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();zb(t._rawValidators,r),zb(t._rawAsyncValidators,r)}function $b(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=XP(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=QP(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return zb(t._rawValidators,i),zb(t._rawAsyncValidators,i),e}function cF(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function uF(n,t){nS(n,t)}function iS(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function hF(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function rS(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===np?e=s:function J6(n){return Object.getPrototypeOf(n.constructor)===Zd}(s)?i=s:r=s}),r||i||e||null}const t9={provide:Js,useExisting:ai(()=>Tm)},Mm=(()=>Promise.resolve())();let Tm=(()=>{class n extends Js{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new gn,this.form=new Em({},KE(e),YE(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Mm.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Sm(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Mm.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Mm.then(()=>{const i=this._findContainer(e.path),r=new Em({});uF(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Mm.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Mm.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,hF(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(O(Is,10),O(Ru,10))},n.\u0275dir=Ee({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&zt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yn([t9]),Ve]}),n})();function fF(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function pF(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const kr=class extends Bb{constructor(t=null,e,i){super(eS(e),tS(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nb(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=pF(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){fF(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){fF(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){pF(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let gF=(()=>{class n extends Js{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Vb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,features:[Ve]}),n})();const r9={provide:kl,useExisting:ai(()=>sS)},vF=(()=>Promise.resolve())();let sS=(()=>{class n extends kl{constructor(e,i,r,s,a){super(),this._changeDetectorRef=a,this.control=new kr,this._registered=!1,this.update=new gn,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=rS(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),iS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sm(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){vF.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&mc(i);vF.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Vb(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(O(Js,9),O(Is,10),O(Ru,10),O(aa,10),O(Hr,8))},n.\u0275dir=Ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yn([r9]),Ve,Zi]}),n})();const o9={provide:aa,useExisting:ai(()=>Am),multi:!0};let Am=(()=>{class n extends Zd{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&zt("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[yn([o9]),Ve]}),n})(),yF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({}),n})();const oS=new ke("NgModelWithFormControlWarning"),u9={provide:kl,useExisting:ai(()=>aS)};let aS=(()=>{class n extends kl{constructor(e,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new gn,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=rS(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&Hb(i,this,!1),Sm(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}iS(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Hb(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(O(Is,10),O(Ru,10),O(aa,10),O(oS,8))},n.\u0275dir=Ee({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[yn([u9]),Ve,Zi]}),n})();const d9={provide:Js,useExisting:ai(()=>Ou)};let Ou=(()=>{class n extends Js{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new gn,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($b(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Sm(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Hb(e.control||null,e,!1),function e9(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,hF(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Hb(i||null,e),(n=>n instanceof kr)(r)&&(Sm(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);uF(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function X6(n,t){return $b(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nS(this.form,this),this._oldForm&&$b(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(O(Is,10),O(Ru,10))},n.\u0275dir=Ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&zt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yn([d9]),Ve,Zi]}),n})();const h9={provide:Js,useExisting:ai(()=>km)};let km=(()=>{class n extends gF{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){wF(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(O(Js,13),O(Is,10),O(Ru,10))},n.\u0275dir=Ee({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[yn([h9]),Ve]}),n})();const f9={provide:Js,useExisting:ai(()=>Im)};let Im=(()=>{class n extends Js{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Vb(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){wF(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(O(Js,13),O(Is,10),O(Ru,10))},n.\u0275dir=Ee({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[yn([f9]),Ve]}),n})();function wF(n){return!(n instanceof km||n instanceof Ou||n instanceof Im)}const p9={provide:kl,useExisting:ai(()=>Rm)};let Rm=(()=>{class n extends kl{constructor(e,i,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new gn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=rS(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),iS(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Vb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(O(Js,13),O(Is,10),O(Ru,10),O(aa,10),O(oS,8))},n.\u0275dir=Ee({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[yn([p9]),Ve,Zi]}),n})(),OF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[yF]}),n})(),A9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[OF]}),n})(),PF=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:oS,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[OF]}),n})();class FF extends Bb{constructor(t,e,i){super(eS(e),tS(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){aF(this,0,t),t.forEach((i,r)=>{oF(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function LF(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let dS=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return LF(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Em(r,s)}record(e,i=null){const r=this._reduceControls(e);return new lF(r,i)}control(e,i,r){let s={};return this.useNonNullable?(LF(i)?s=i:(s.validators=i,s.asyncValidators=r),new kr(e,{...s,nonNullable:!0})):new kr(e,i,r)}array(e,i,r){const s=e.map(a=>this._createControl(a));return new FF(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof kr||e instanceof Bb?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:PF}),n})();class Om{constructor(t,e,i){this.name=t,this.electricityPrice=e,this.enumName=i}}function jb(){return VF[Math.floor(Math.random()*VF.length)]}function NF(n){let t=Il.find(e=>e.enumName===n);return t?t.electricityPrice:1}function BF(n){let t=Il.find(e=>e.enumName===n);return t?t.name:1}const VF=["ROMANIA","POLAND","SPAIN","GERMANY","GREAT_BRITAIN"],Il=[new Om("Romania",1,"ROMANIA"),new Om("Poland",2,"POLAND"),new Om("Spain",3,"SPAIN"),new Om("Germany",4,"GERMANY"),new Om("Great Britain",5,"GREAT_BRITAIN")];function En(n){return null!=n&&"false"!=`${n}`}function eo(n,t=0){return HF(n)?Number(n):t}function HF(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Ub(n){return Array.isArray(n)?n:[n]}function jr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Cc(n){return n instanceof St?n.nativeElement:n}const k9=["addListener","removeListener"],I9=["addEventListener","removeEventListener"],R9=["on","off"];function Qd(n,t,e,i){if(j(e)&&(i=e,e=void 0),i)return Qd(n,t,e).pipe(gE(i));const[r,s]=function F9(n){return j(n.addEventListener)&&j(n.removeEventListener)}(n)?I9.map(a=>l=>n[a](t,l,e)):function O9(n){return j(n.addListener)&&j(n.removeListener)}(n)?k9.map(zF(n,t)):function P9(n){return j(n.on)&&j(n.off)}(n)?R9.map(zF(n,t)):[];if(!r&&Xa(n))return Pr(a=>Qd(a,t,e))(xr(n));if(!r)throw new TypeError("Invalid event target");return new it(a=>{const l=(...h)=>a.next(1<h.length?h:h[0]);return r(l),()=>s(l)})}function zF(n,t){return e=>i=>n[e](t,i)}class L9 extends ne{constructor(t,e){super()}schedule(t,e=0){return this}}const Gb={setInterval(n,t,...e){const{delegate:i}=Gb;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Gb;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class hS extends L9{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return Gb.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Gb.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ie(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Pm={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Pm;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new ne(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Pm;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Pm;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},$F={now:()=>($F.delegate||Date).now(),delegate:void 0};class Fm{constructor(t,e=Fm.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Fm.now=$F.now;class fS extends Fm{constructor(t,e=Fm.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}new class B9 extends fS{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class N9 extends hS{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Pm.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Pm.cancelAnimationFrame(e),t._scheduled=void 0)}});let pS,H9=1;const Wb={};function jF(n){return n in Wb&&(delete Wb[n],!0)}const z9={setImmediate(n){const t=H9++;return Wb[t]=!0,pS||(pS=Promise.resolve()),pS.then(()=>jF(t)&&n()),t},clearImmediate(n){jF(n)}},{setImmediate:$9,clearImmediate:j9}=z9,qb={setImmediate(...n){const{delegate:t}=qb;return(t?.setImmediate||$9)(...n)},clearImmediate(n){const{delegate:t}=qb;return(t?.clearImmediate||j9)(n)},delegate:void 0},Kb=(new class G9 extends fS{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class U9 extends hS{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=qb.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(qb.clearImmediate(e),t._scheduled=void 0)}}),new fS(hS)),q9=Kb;function gS(n=0,t,e=q9){let i=-1;return null!=t&&(Ah(t)?e=t:i=t),new it(r=>{let s=function Y9(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function UF(n,t=Kb){return function K9(n){return fn((t,e)=>{let i=!1,r=null,s=null,a=!1;const l=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const m=r;r=null,e.next(m)}a&&e.complete()},h=()=>{s=null,a&&e.complete()};t.subscribe(In(e,m=>{i=!0,r=m,s||xr(n(m)).subscribe(s=In(e,l,h))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>gS(n,t))}let mS;try{mS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{mS=!1}let sp,_r=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Gd(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!mS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(le(Fa))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GF=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function WF(){if(sp)return sp;if("object"!=typeof document||!document)return sp=new Set(GF),sp;let n=document.createElement("input");return sp=new Set(GF.filter(t=>(n.setAttribute("type",t),n.type===t))),sp}let Lm,eh,vS;function Jd(n){return function Z9(){if(null==Lm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Lm=!0}))}finally{Lm=Lm||!1}return Lm}()?n:!!n.capture}function X9(){if(null==eh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return eh=!1,eh;if("scrollBehavior"in document.documentElement.style)eh=!0;else{const n=Element.prototype.scrollTo;eh=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return eh}function yS(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function th(n){return n.composedPath?n.composedPath()[0]:n.target}function _S(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const eq=new ke("cdk-dir-doc",{providedIn:"root",factory:function tq(){return bi(un)}}),nq=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ho=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new gn,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function iq(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?nq.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(le(eq,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),op=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({}),n})(),qF=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ue,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new it(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(UF(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Lt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(yr(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Cc(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Qd(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(le(Kt),le(_r),le(un,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nh=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Ue,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(UF(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(le(_r),le(Kt),le(un,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({}),n})(),bS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[op,Zb,op,Zb]}),n})();class wS{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ap extends wS{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class Xb extends wS{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class oq extends wS{constructor(t){super(),this.element=t instanceof St?t.nativeElement:t}}class Qb{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ap?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Xb?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof oq?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class aq extends Qb{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const l=a.element,h=this._document.createComment("dom-portal");l.parentNode.insertBefore(h,l),this.outletElement.appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(l,h)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||lr.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Nm=(()=>{class n extends Qb{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new gn,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(O(lc),O(Yr),O(un))},n.\u0275dir=Ee({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ve]}),n})(),lp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({}),n})();function Hn(n){return fn((t,e)=>{xr(n).subscribe(In(e,()=>e.complete(),ot)),!e.closed&&t.subscribe(e)})}function Rl(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const XF=X9();class _q{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=jr(-this._previousScrollPosition.left),t.style.top=jr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),XF&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),XF&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class bq{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class QF{enable(){}disable(){}attach(){}}function DS(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function JF(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class wq{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();DS(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Cq=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new QF,this.close=a=>new bq(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new _q(this._viewportRuler,this._document),this.reposition=a=>new wq(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(le(qF),le(nh),le(Kt),le(un))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class n0{constructor(t){if(this.scrollStrategy=new QF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class xq{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let eL=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(le(un))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dq=(()=>{class n extends eL{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(le(un),le(Kt,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eq=(()=>{class n extends eL{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=th(s)},this._clickListener=s=>{const a=th(s),l="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let m=h.length-1;m>-1;m--){const v=h[m];if(v._outsidePointerEvents.observers.length<1||!v.hasAttached())continue;if(v.overlayElement.contains(a)||v.overlayElement.contains(l))break;const C=v._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>C.next(s)):C.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(le(un),le(_r),le(Kt,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r0=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||_S()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),_S()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(le(un),le(_r))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Vm{constructor(t,e,i,r,s,a,l,h,m,v=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=l,this._location=h,this._outsideClickDispatcher=m,this._animationsDisabled=v,this._backdropElement=null,this._backdropClick=new Ue,this._attachments=new Ue,this._detachments=new Ue,this._locationChanges=ne.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._backdropTransitionendHandler=C=>{this._disposeBackdrop(C.target)},this._keydownEvents=new Ue,this._outsidePointerEvents=new Ue,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(vr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=jr(this._config.width),t.height=jr(this._config.height),t.minWidth=jr(this._config.minWidth),t.minHeight=jr(this._config.minHeight),t.maxWidth=jr(this._config.maxWidth),t.maxHeight=jr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Ub(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Hn(rr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const tL="cdk-overlay-connected-position-bounding-box",Sq=/([A-Za-z%]+)$/;class Mq{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ue,this._resizeSubscription=ne.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(tL),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let l of this._preferredPositions){let h=this._getOriginPoint(t,r,l),m=this._getOverlayPoint(h,e,l),v=this._getOverlayFit(m,e,i,l);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,h);this._canFitWithFlexibleDimensions(v,m,i)?s.push({position:l,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,l)}):(!a||a.overlayFit.visibleArea<v.visibleArea)&&(a={overlayFit:v,overlayPoint:m,originPoint:h,position:l,overlayRect:e})}if(s.length){let l=null,h=-1;for(const m of s){const v=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);v>h&&(h=v,l=m)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ih(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(tL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;r="start"==i.originX?a:l}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=iL(e);let{x:a,y:l}=t,h=this._getOffset(r,"x"),m=this._getOffset(r,"y");h&&(a+=h),m&&(l+=m);let D=0-l,T=l+s.height-i.height,k=this._subtractOverflows(s.width,0-a,a+s.width-i.width),P=this._subtractOverflows(s.height,D,T),N=k*P;return{visibleArea:N,isCompletelyWithinViewport:s.width*s.height===N,fitsInViewportVertically:P===s.height,fitsInViewportHorizontally:k==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,a=nL(this._overlayRef.getConfig().minHeight),l=nL(this._overlayRef.getConfig().minWidth),m=t.fitsInViewportHorizontally||null!=l&&l<=s;return(t.fitsInViewportVertically||null!=a&&a<=r)&&m}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=iL(e),s=this._viewportRect,a=Math.max(t.x+r.width-s.width,0),l=Math.max(t.y+r.height-s.height,0),h=Math.max(s.top-i.top-t.y,0),m=Math.max(s.left-i.left-t.x,0);let v=0,C=0;return v=r.width<=s.width?m||-a:t.x<this._viewportMargin?s.left-i.left-t.x:0,C=r.height<=s.height?h||-l:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:v,y:C},{x:t.x+v,y:t.y+C}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new xq(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,a,l,v,C,D;if("top"===e.overlayY)a=t.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)l=i.height-t.y+2*this._viewportMargin,s=i.height-l+this._viewportMargin;else{const T=Math.min(i.bottom-t.y+i.top,t.y),k=this._lastBoundingBoxSize.height;s=2*T,a=t.y-T,s>k&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-k/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)D=i.width-t.x+this._viewportMargin,v=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)C=t.x,v=i.right-t.x;else{const T=Math.min(i.right-t.x+i.left,t.x),k=this._lastBoundingBoxSize.width;v=2*T,C=t.x-T,v>k&&!this._isInitialRender&&!this._growAfterOpen&&(C=t.x-k/2)}return{top:a,left:C,bottom:l,right:D,width:v,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=jr(i.height),r.top=jr(i.top),r.bottom=jr(i.bottom),r.width=jr(i.width),r.left=jr(i.left),r.right=jr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=jr(s)),a&&(r.maxWidth=jr(a))}this._lastBoundingBoxSize=i,ih(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ih(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ih(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const v=this._viewportRuler.getViewportScrollPosition();ih(i,this._getExactOverlayY(e,t,v)),ih(i,this._getExactOverlayX(e,t,v))}else i.position="static";let l="",h=this._getOffset(e,"x"),m=this._getOffset(e,"y");h&&(l+=`translateX(${h}px) `),m&&(l+=`translateY(${m}px)`),i.transform=l.trim(),a.maxHeight&&(r?i.maxHeight=jr(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=jr(a.maxWidth):s&&(i.maxWidth="")),ih(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=jr(s.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=jr(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:JF(t,i),isOriginOutsideView:DS(t,i),isOverlayClipped:JF(e,i),isOverlayOutsideView:DS(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ub(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof St)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function ih(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function nL(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Sq);return e&&"px"!==e?null:parseFloat(t)}return n||null}function iL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const rL="cdk-global-overlay-wrapper";class Tq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(rL),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:l}=i,h=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),m=!("100%"!==s&&"100vh"!==s||l&&"100%"!==l&&"100vh"!==l),v=this._xPosition,C=this._xOffset,D="rtl"===this._overlayRef.getConfig().direction;let T="",k="",P="";h?P="flex-start":"center"===v?(P="center",D?k=C:T=C):D?"left"===v||"end"===v?(P="flex-end",T=C):("right"===v||"start"===v)&&(P="flex-start",k=C):"left"===v||"start"===v?(P="flex-start",T=C):("right"===v||"end"===v)&&(P="flex-end",k=C),t.position=this._cssPosition,t.marginLeft=h?"0":T,t.marginTop=m?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=h?"0":k,e.justifyContent=P,e.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(rL),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Aq=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Tq}flexibleConnectedTo(e){return new Mq(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(le(nh),le(un),le(_r),le(r0))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kq=0,la=(()=>{class n{constructor(e,i,r,s,a,l,h,m,v,C,D,T){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=h,this._document=m,this._directionality=v,this._location=C,this._outsideClickDispatcher=D,this._animationsModuleType=T}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new n0(e);return a.direction=a.direction||this._directionality.value,new Vm(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+kq++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Gf)),new aq(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(le(Cq),le(r0),le(lc),le(Aq),le(Dq),le(lr),le(Kt),le(un),le(ho),le(tm),le(Eq),le(cs,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();const Iq=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],sL=new ke("cdk-connected-overlay-scroll-strategy");let oL=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(O(St))},n.\u0275dir=Ee({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),aL=(()=>{class n{constructor(e,i,r,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ne.EMPTY,this._attachSubscription=ne.EMPTY,this._detachSubscription=ne.EMPTY,this._positionSubscription=ne.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new gn,this.positionChange=new gn,this.attach=new gn,this.detach=new gn,this.overlayKeydown=new gn,this.overlayOutsideClick=new gn,this._templatePortal=new Xb(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=En(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=En(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=En(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=En(e)}get push(){return this._push}set push(e){this._push=En(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Iq);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Rl(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new n0({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof oL?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(yO(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(O(la),O(Vr),O(Yr),O(sL),O(ho,8))},n.\u0275dir=Ee({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Zi]}),n})();const Oq={provide:sL,deps:[la],useFactory:function Rq(n){return()=>n.scrollStrategies.reposition()}};let Hm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[la,Oq],imports:[op,lp,bS,bS]}),n})();function ES(n,t=Kb){return fn((e,i)=>{let r=null,s=null,a=null;const l=()=>{if(r){r.unsubscribe(),r=null;const m=s;s=null,i.next(m)}};function h(){const m=a+n,v=t.now();if(v<m)return r=this.schedule(void 0,m-v),void i.add(r);l()}e.subscribe(In(i,m=>{s=m,a=t.now(),r||(r=t.schedule(h,n),i.add(r))},()=>{l(),i.complete()},void 0,()=>{s=r=null}))})}function SS(n){return yr((t,e)=>n<=e)}function lL(n,t=Te){return n=n??Pq,fn((e,i)=>{let r,s=!0;e.subscribe(In(i,a=>{const l=t(a);(s||!n(r,l))&&(s=!1,r=l,i.next(a))}))})}function Pq(n,t){return n===t}let cL=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fq=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Cc(e);return new it(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Ue,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(le(cL))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uL=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new gn,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=En(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=eo(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(ES(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(O(Fq),O(St),O(Kt))},n.\u0275dir=Ee({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),MS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[cL]}),n})();const dL=new Set;let up,Lq=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Bq}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Nq(n){if(!dL.has(n))try{up||(up=document.createElement("style"),up.setAttribute("type","text/css"),document.head.appendChild(up)),up.sheet&&(up.sheet.insertRule(`@media ${n} {body{ }}`,0),dL.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(le(_r))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bq(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let s0=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Ue}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return hL(Ub(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=qf(hL(Ub(e)).map(a=>this._registerQuery(a).observable));return s=ab(s.pipe(vr(1)),s.pipe(SS(1),ES(0))),s.pipe(vt(a=>{const l={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:m})=>{l.matches=l.matches||h,l.breakpoints[m]=h}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new it(a=>{const l=h=>this._zone.run(()=>a.next(h));return i.addListener(l),()=>{i.removeListener(l)}}).pipe(Ha(i),vt(({matches:a})=>({query:e,matches:a})),Hn(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(le(Lq),le(Kt))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hL(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function o0(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const gL="cdk-describedby-message",a0="cdk-describedby-host";let TS=0,mL=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+TS++,this._document=e,this._id=bi(Uf)+"-"+TS++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=AS(i,r);"string"!=typeof i?(vL(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=AS(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const a=this._messageRegistry.get(s);a&&0===a.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${a0}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(a0);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");vL(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(AS(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=o0(e,"aria-describedby").filter(r=>0!=r.indexOf(gL));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function Vq(n,t,e){const i=o0(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(a0,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function Hq(n,t,e){const r=o0(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(a0)}_isElementDescribedByMessage(e,i){const r=o0(e,"aria-describedby"),s=this._messageRegistry.get(i),a=s&&s.messageElement.id;return!!a&&-1!=r.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(le(un),le(_r))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AS(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function vL(n,t){n.id||(n.id=`${gL}-${t}-${TS++}`)}class yL{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ue,this._typeaheadSubscription=ne.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Ue,this.change=new Ue,t instanceof Jg&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Un(e=>this._pressedLetters.push(e)),ES(t),yr(()=>this._pressedLetters.length>0),vt(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Rl(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Jg?this._items.toArray():this._items}}class zq extends yL{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class $q extends yL{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let l0=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Uq(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function jq(n){try{return n.frameElement}catch{return null}}(function Qq(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===bL(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=bL(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Zq(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Xq(n){return!function Wq(n){return function Kq(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Gq(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function qq(n){return function Yq(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||_L(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(le(_r))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _L(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function bL(n){if(!_L(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Jq{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(vr(1)).subscribe(t)}}let kS=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Jq(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(le(l0),le(Kt),le(un))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wL(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function CL(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const e7=new ke("cdk-input-modality-detector-options"),t7={ignoreKeys:[18,17,224,91,16]},dp=Jd({passive:!0,capture:!0});let n7=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Ei(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=th(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(wL(a)?"keyboard":"mouse"),this._mostRecentTarget=th(a))},this._onTouchstart=a=>{CL(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=th(a))},this._options={...t7,...s},this.modalityDetected=this._modality.pipe(SS(1)),this.modalityChanged=this.modalityDetected.pipe(lL()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,dp),r.addEventListener("mousedown",this._onMousedown,dp),r.addEventListener("touchstart",this._onTouchstart,dp)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dp),document.removeEventListener("mousedown",this._onMousedown,dp),document.removeEventListener("touchstart",this._onTouchstart,dp))}}return n.\u0275fac=function(e){return new(e||n)(le(_r),le(Kt),le(un),le(e7,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const r7=new ke("liveAnnouncerElement",{providedIn:"root",factory:function s7(){return null}}),o7=new ke("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let IS=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(le(r7,8),le(Kt),le(un),le(o7,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const a7=new ke("cdk-focus-monitor-default-options"),c0=Jd({passive:!0,capture:!0});let Ol=(()=>{class n{constructor(e,i,r,s,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ue,this._rootNodeFocusAndBlurListener=l=>{for(let m=th(l);m;m=m.parentElement)"focus"===l.type?this._onFocus(l,m):this._onBlur(l,m)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const r=Cc(e);if(!this._platform.isBrowser||1!==r.nodeType)return Lt(null);const s=function J9(n){if(function Q9(){if(null==vS){const n=typeof document<"u"?document.head:null;vS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return vS}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const l={checkChildren:i,subject:new Ue,rootNode:s};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){const i=Cc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Cc(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([l,h])=>this._originChanged(l,i,h)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=th(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,c0),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,c0)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Hn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,c0),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,c0),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(le(Kt),le(_r),le(n7),le(un,8),le(a7,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DL="cdk-high-contrast-black-on-white",EL="cdk-high-contrast-white-on-black",RS="cdk-high-contrast-active";let SL=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=bi(s0).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(RS,DL,EL),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(RS,DL):2===i&&e.add(RS,EL)}}}return n.\u0275fac=function(e){return new(e||n)(le(_r),le(un))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OS=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(le(SL))},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[MS]}),n})();function l7(n,t){if(1&n&&cn(0,"mat-pseudo-checkbox",4),2&n){const e=Nn();Xe("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function c7(n,t){if(1&n&&(de(0,"span",5),Le(1),pe()),2&n){const e=Nn();Ae(1),Tr("(",e.group.label,")")}}const u7=["*"];let d7=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),h7=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const p7=new ke("mat-sanity-checks",{providedIn:"root",factory:function f7(){return!0}});let Ci=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!_S()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(le(SL),le(p7,8),le(un))},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[op,op]}),n})();function rh(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=En(t)}}}function u0(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function d0(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=En(t)}}}function PS(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?eo(e):this.defaultTabIndex}}}function AL(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}function kL(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new it(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}let FS=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class m7{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const IL={enterDuration:225,exitDuration:150},LS=Jd({passive:!0}),RL=["mousedown","touchstart"],OL=["mouseup","mouseleave","touchend","touchcancel"];class PL{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Cc(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...IL,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function y7(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),l=t-r.left,h=e-r.top,m=s.enterDuration,v=document.createElement("div");v.classList.add("mat-ripple-element"),v.style.left=l-a+"px",v.style.top=h-a+"px",v.style.height=2*a+"px",v.style.width=2*a+"px",null!=i.color&&(v.style.backgroundColor=i.color),v.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(v);const C=window.getComputedStyle(v),T=C.transitionDuration,k="none"===C.transitionProperty||"0s"===T||"0s, 0s"===T,P=new m7(this,v,i,k);v.style.transform="scale3d(1, 1, 1)",P.state=0,i.persistent||(this._mostRecentTransientRipple=P);let N=null;return!k&&(m||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const V=()=>this._finishRippleTransition(P),q=()=>this._destroyRipple(P);v.addEventListener("transitionend",V),v.addEventListener("transitioncancel",q),N={onTransitionEnd:V,onTransitionCancel:q}}),this._activeRipples.set(P,N),(k||!m)&&this._finishRippleTransition(P),P}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...IL,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Cc(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(RL))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(OL),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=wL(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!CL(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,LS)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(RL.forEach(t=>{this._triggerElement.removeEventListener(t,this,LS)}),this._pointerUpEventsRegistered&&OL.forEach(t=>{this._triggerElement.removeEventListener(t,this,LS)}))}}const NS=new ke("mat-ripple-global-options");let $m=(()=>{class n{constructor(e,i,r,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new PL(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Kt),O(_r),O(NS,8),O(cs,8))},n.\u0275dir=Ee({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&wi("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),h0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Ci,Ci]}),n})(),_7=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(O(cs,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&wi("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),b7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Ci]}),n})();const FL=new ke("MAT_OPTION_PARENT_COMPONENT"),LL=new ke("MatOptgroup");let w7=0;class C7{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let x7=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+w7++,this.onSelectionChange=new gn,this._stateChanges=new Ue}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=En(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Rl(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new C7(this,e))}}return n.\u0275fac=function(e){Fd()},n.\u0275dir=Ee({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),sh=(()=>{class n extends x7{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Hr),O(FL,8),O(LL,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&zt("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(Bd("id",i.id),ii("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),wi("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[Ve],ngContentSelectors:u7,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(ia(),Et(0,l7,1,2,"mat-pseudo-checkbox",0),de(1,"span",1),cr(2),pe(),Et(3,c7,2,1,"span",2),cn(4,"div",3)),2&e&&(Xe("ngIf",i.multiple),Ae(3),Xe("ngIf",i.group&&i.group._inert),Ae(1),Xe("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[$m,_c,_7],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function NL(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[s]&&s++;return s}return 0}let BL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[h0,Va,Ci,b7]}),n})();const E7=["mat-button",""],S7=["*"],T7=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],A7=u0(rh(d0(class{constructor(n){this._elementRef=n}})));let xc=(()=>{class n extends A7{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of T7)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Ol),O(cs,8))},n.\u0275cmp=pn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&mi($m,5),2&e){let r;Gt(r=Wt())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(ii("disabled",i.disabled||null),wi("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ve],attrs:E7,ngContentSelectors:S7,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(ia(),de(0,"span",0),cr(1),pe(),cn(2,"span",1)(3,"span",2)),2&e&&(Ae(2),wi("mat-button-ripple-round",i.isRoundButton||i.isIconButton),Xe("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[$m],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),BS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[h0,Ci,Ci]}),n})();class VL{}const Dc="*";function Po(n,t){return{type:7,name:n,definitions:t,options:{}}}function Ir(n,t=null){return{type:4,styles:t,timings:n}}function HL(n,t=null){return{type:3,steps:n,options:t}}function zL(n,t=null){return{type:2,steps:n,options:t}}function _n(n){return{type:6,styles:n,offset:null}}function ji(n,t,e){return{type:0,name:n,styles:t,options:e}}function jm(n){return{type:5,steps:n}}function dr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function f0(n=null){return{type:9,options:n}}function p0(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function $L(n){Promise.resolve().then(n)}class Um{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$L(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class jL{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?$L(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function I7(n,t){if(1&n){const e=Ra();de(0,"div",2)(1,"button",3),zt("click",function(){return $s(e),ti(Nn().action())}),Le(2),pe()()}if(2&n){const e=Nn();Ae(2),zi(e.data.action)}}function R7(n,t){}const UL=new ke("MatSnackBarData");class g0{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const O7=Math.pow(2,31)-1;class HS{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Ue,this._afterOpened=new Ue,this._onAction=new Ue,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,O7))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let P7=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(O(HS),O(UL))},n.\u0275cmp=pn({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(de(0,"span",0),Le(1),pe(),Et(2,I7,3,1,"div",1)),2&e&&(Ae(1),zi(i.data.message),Ae(1),Xe("ngIf",i.hasAction))},dependencies:[_c,xc],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const F7={snackBarState:Po("state",[ji("void, hidden",_n({transform:"scale(0.8)",opacity:0})),ji("visible",_n({transform:"scale(1)",opacity:1})),dr("* => visible",Ir("150ms cubic-bezier(0, 0, 0.2, 1)")),dr("* => void, * => hidden",Ir("75ms cubic-bezier(0.4, 0.0, 1, 1)",_n({opacity:0})))])};let L7=(()=>{class n extends Qb{constructor(e,i,r,s,a){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=a,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ue,this._onExit=new Ue,this._onEnter=new Ue,this._animationState="void",this.attachDomPortal=l=>{this._assertNotAttached();const h=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),h},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(vr(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(O(Kt),O(St),O(Hr),O(_r),O(g0))},n.\u0275dir=Ee({type:n,viewQuery:function(e,i){if(1&e&&mi(Nm,7),2&e){let r;Gt(r=Wt())&&(i._portalOutlet=r.first)}},features:[Ve]}),n})(),N7=(()=>{class n extends L7{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275cmp=pn({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&D_("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&M_("@state",i._animationState)},features:[Ve],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(de(0,"div",0),Et(1,R7,0,0,"ng-template",1),pe(),cn(2,"div")),2&e&&(Ae(2),ii("aria-live",i._live)("role",i._role))},dependencies:[Nm],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[F7.snackBarState]}}),n})(),GL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Hm,lp,Va,BS,Ci,Ci]}),n})();const WL=new ke("mat-snack-bar-default-options",{providedIn:"root",factory:function B7(){return new g0}});let V7=(()=>{class n{constructor(e,i,r,s,a,l){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=l,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=lr.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:g0,useValue:i}]}),a=new ap(this.snackBarContainerComponent,i.viewContainerRef,s),l=e.attach(a);return l.instance.snackBarConfig=i,l.instance}_attach(e,i){const r={...new g0,...this._defaultConfig,...i},s=this._createOverlay(r),a=this._attachSnackBarContainer(s,r),l=new HS(a,s);if(e instanceof Vr){const h=new Xb(e,null,{$implicit:r.data,snackBarRef:l});l.instance=a.attachTemplatePortal(h)}else{const h=this._createInjector(r,l),m=new ap(e,void 0,h),v=a.attachComponentPortal(m);l.instance=v.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Hn(s.detachments())).subscribe(h=>{s.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(l,r),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new n0;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,l=!a&&"center"!==e.horizontalPosition;return a?r.left("0"):l?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return lr.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:HS,useValue:i},{provide:UL,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(le(la),le(IS),le(lr),le(s0),le(n,12),le(WL))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),H7=(()=>{class n extends V7{constructor(e,i,r,s,a,l){super(e,i,r,s,a,l),this.simpleSnackBarComponent=P7,this.snackBarContainerComponent=N7,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(le(la),le(IS),le(lr),le(s0),le(n,12),le(WL))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:GL}),n})(),hp=(()=>{class n{constructor(){this.fullNodes=5,this.lightNodes=5,this.minerNodes=5,this.listeningNodes=5,this.initialMinersData=[],this.price=1,this.reward=5,this.frequency=1,this.addNewMiner$=new Ei(1)}getFullNodes(){return this.fullNodes}setFullNodes(e){this.fullNodes=e}getLightNodes(){return this.lightNodes}setLightNodes(e){this.lightNodes=e}getMinerNodes(){return this.minerNodes}setMinerNodes(e){this.minerNodes=e}getInitialMinersData(){return this.initialMinersData}setInitialMinersData(e){this.initialMinersData=e}getListeningNodes(){return this.listeningNodes}setListeningNodes(e){this.listeningNodes=e}getAllNodes(){return this.fullNodes+this.lightNodes+this.minerNodes+this.listeningNodes}setElectricityPrice(e){this.price=e}getElectricityPrice(){return this.price}emitAddNewMinerFrequency(e){this.addNewMiner$.next(e)}getAddNewMinerFrequency(){return this.addNewMiner$.asObservable()}setReward(e){this.reward=e}getReward(){return this.reward}setFrequency(e){this.frequency=e}getFrequency(){return this.frequency}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qL(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const zS="inline",m0=["row","column","row-reverse","column-reverse"];function KL(n){let[t,e,i]=YL(n);return function $7(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function YL(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return m0.find(r=>r===t)||(t=m0[0]),e===zS&&(e=i!==zS?i:"",i=zS),[t,z7(e),!!i]}function Gm(n){let[t]=YL(n);return t.indexOf("row")>-1}function z7(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function Ec(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const U7={provide:ID,useFactory:function j7(n,t){return()=>{if(Gd(t)){const e=Array.from(n.querySelectorAll(`[class*=${ZL}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${ZL}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[un,Fa],multi:!0},ZL="flex-layout-";let $S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[U7]}),n})();class oh{constructor(t=!1,e="all",i="",r="",s=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new oh(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let G7=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const s=this.stylesheet.get(e);s?s.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let s="";if(r){const a=r.get(i);("number"==typeof a||"string"==typeof a)&&(s=a+"")}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jS={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},$a=new ke("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>jS}),fp=new ke("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),US=new ke("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function XL(n,t){return n=n?.clone()??new oh,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class br{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Ui=(()=>{class n{constructor(e,i,r,s){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(e,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:qL(i),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:qL(e);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||Wf(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return Gd(this._platformId)?e.style.getPropertyValue(i):function W7(n,t){return QL(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let s="";return e&&((s=this.lookupInlineStyle(e,i))||(Gd(this._platformId)?r||(s=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,i)))),s?s.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const s=e[r],a=Array.isArray(s)?s:[s];a.sort();for(let l of a)l=l?l+"":"",Gd(this._platformId)||!this._serverModuleLoaded?Gd(this._platformId)?i.style.setProperty(r,l):q7(i,r,l):this._serverStylesheet.addStyleToElement(i,r,l)})}}return n.\u0275fac=function(e){return new(e||n)(le(G7),le(fp),le(Fa),le($a))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function q7(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=QL(n);i[t]=e??"",function K7(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function QL(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const s=i[r].trim();if(s.length>0){const a=s.indexOf(":");if(-1===a)throw new Error(`Invalid CSS style: ${s}`);t[s.substr(0,a).trim()]=s.substr(a+1).trim()}}}return t}function Wm(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function Y7(n,t){return(n.priority||0)-(t.priority||0)}let GS=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new Ei(new oh(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(yr(a=>!i||e.indexOf(a.mediaQuery)>-1));return rr(new it(a=>{const l=this.registerQuery(e);if(l.length){const h=l.pop();l.forEach(m=>{a.next(m)}),this.source.next(h)}a.complete()}),r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function Z7(n,t){const e=n.filter(i=>!JL[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(s=>JL[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const a=h=>{this._zone.run(()=>this.source.next(new oh(h.matches,s)))};let l=this.registry.get(s);l||(l=this.buildMQL(s),l.addListener(a),this.pendingRemoveListenerFns.push(()=>l.removeListener(a)),this.registry.set(s,l)),l.matches&&r.push(new oh(!0,s))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function Q7(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function X7(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,Gd(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(le(Kt),le(Fa),le(un))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JL={},J7=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],eN="(orientation: portrait) and (max-width: 599.98px)",tN="(orientation: landscape) and (max-width: 959.98px)",nN="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",iN="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",rN="(orientation: portrait) and (min-width: 840px)",sN="(orientation: landscape) and (min-width: 1280px)",Sc={HANDSET:`${eN}, ${tN}`,TABLET:`${nN} , ${iN}`,WEB:`${rN}, ${sN} `,HANDSET_PORTRAIT:`${eN}`,TABLET_PORTRAIT:`${nN} `,WEB_PORTRAIT:`${rN}`,HANDSET_LANDSCAPE:`${tN}`,TABLET_LANDSCAPE:`${iN}`,WEB_LANDSCAPE:`${sN}`},eK=[{alias:"handset",priority:2e3,mediaQuery:Sc.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Sc.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Sc.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Sc.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Sc.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Sc.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Sc.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Sc.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Sc.WEB_PORTRAIT,overlapping:!0}],tK=/(\.|-|_)/g;function nK(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const oK=new ke("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=bi(US),t=bi($a),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function sK(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?Ec(e[i.alias],i):e[i.alias]=i}),function rK(n){return n.forEach(t=>{t.suffix||(t.suffix=function iK(n){return n.replace(tK,"|").split("|").map(nK).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:J7).concat(t.addOrientationBps?eK:[]),e)}});let WS=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(Y7)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(le(oK))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pp="print",aK={alias:pp,mediaQuery:pp,priority:1e3};let lK=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new cK,this.deactivations=[]}withPrintQuery(e){return[...e,pp]}isPrintEvent(e){return e.mediaQuery.startsWith(pp)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Wm)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),XL(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new oh(!0,pp))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const s=this.formerActivations&&this.formerActivations.includes(r),a=!this.formerActivations&&e.activatedBreakpoints.includes(r);(s||a)&&(this.deactivations.push(r),this.deactivations.sort(Wm))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(le(WS),le($a),le(un))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cK{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(aK),t.sort(Wm),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function uK(n){return n?.mediaQuery.startsWith(pp)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let tr=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Ue,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=XL(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(Wm),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(Wm),this.updateStyles())}}init(e,i,r,s,a=[]){oN(this.updateMap,e,i,r),oN(this.clearMap,e,i,s),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,a)}getValue(e,i,r){const s=this.elementMap.get(e);if(s){const a=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(a)return a.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(e,i,r,s){let a=this.elementMap.get(e);if(a){const h=(a.get(s)??new Map).set(i,r);a.set(s,h),this.elementMap.set(e,a)}else a=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(e,a);const l=this.getValue(e,i);void 0!==l&&this.updateElement(e,i,l)}trackValue(e,i){return this.subject.asObservable().pipe(yr(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(e);s&&s.forEach((a,l)=>{this.updateElement(i,l,a),r.delete(l)}),r.forEach(a=>{if(s=this.getActivatedValues(e,a),s){const l=s.get(a);this.updateElement(i,a,l)}else this.clearElement(i,a)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const s=this.updateMap.get(e);if(s){const a=s.get(i);a&&(a(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((s,a)=>r.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(e,i,s.get(i)):s.forEach((a,l)=>this.updateElement(e,l,a)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(i)){const l=rr(...r).subscribe(()=>{const h=this.getValue(e,i);this.updateElement(e,i,h)});s.set(i,l)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const l=e.get(this.activatedBreakpoints[s].alias);if(l&&(void 0===i||l.has(i)&&null!=l.get(i)))return l}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe(Un(this.hook.interceptEvents(this)),yr(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(le(GS),le(WS),le(lK))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oN(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let hr=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Ue,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,s=r.shouldCache;let a=this.styleCache.get(e);(!a||!s)&&(a=r.buildStyles(e,i),s&&this.styleCache.set(e,a)),this.mru={...a},this.applyStyleToElement(a),r.sideEffect(e,a,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,s]=this.styler.getFlowDirection(e);if(!s&&i){const a=KL(r);this.styler.applyStyleToElements(a,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(br),O(Ui),O(tr))},n.\u0275dir=Ee({type:n,features:[Zi]}),n})();function aN(n,t="1",e="1"){let i=[t,e,n],r=n.indexOf("calc");if(r>0){i[2]=lN(n.substring(r).trim());let s=n.substr(0,r).trim().split(" ");2==s.length&&(i[0]=s[0],i[1]=s[1])}else if(0==r)i[2]=lN(n.trim());else{let s=n.split(" ");i=3===s.length?s:[t,e,n]}return i}function lN(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function v0(n,t){if(void 0===t)return n;const e=i=>{const r=+i.slice(0,-"x".length);return n.endsWith("x")&&!isNaN(r)?`${r*t.value}${t.unit}`:n};return n.includes(" ")?n.split(" ").map(e).join(" "):e(n)}EventTarget;let fK=(()=>{class n extends br{buildStyles(e,{display:i}){const r=KL(e);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pK=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let gK=(()=>{class n extends hr{constructor(e,i,r,s,a){super(e,r,i,s),this._config=a,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=uN.get(r)??new Map,uN.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Ui),O(fK),O(tr),O($a))},n.\u0275dir=Ee({type:n,features:[Ve]}),n})(),ja=(()=>{class n extends gK{constructor(){super(...arguments),this.inputs=pK}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[Ve]}),n})();const uN=new Map,dN={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let mK=(()=>{class n extends br{constructor(e,i){super(),this._styler=e,this._config=i}buildStyles(e,i){return e.endsWith(y0)?function DK(n,t){const[e,i]=n.split(" "),s=m=>`-${m}`;let a="0px",l=s(i??e),h="0px";return"rtl"===t?h=s(e):a=s(e),{margin:`0px ${a} ${l} ${h}`}}(e=v0(e=e.slice(0,e.indexOf(y0)),this._config.multiplier),i.directionality):{}}sideEffect(e,i,r){const s=r.items;if(e.endsWith(y0)){const a=function xK(n,t){const[e,i]=n.split(" ");let s="0px",l="0px";return"rtl"===t?l=e:s=e,{padding:`0px ${s} ${i??e} ${l}`}}(e=v0(e=e.slice(0,e.indexOf(y0)),this._config.multiplier),r.directionality);this._styler.applyStyleToElements(a,r.items)}else{e=v0(e,this._config.multiplier),e=this.addFallbackUnit(e);const a=s.pop(),l=function EK(n,t){const e=hN(t.directionality,t.layout),i={...dN};return i[e]=n,i}(e,r);this._styler.applyStyleToElements(l,s),this._styler.applyStyleToElements(dN,[a])}}addFallbackUnit(e){return isNaN(+e)?e:`${e}${this._config.defaultUnit}`}}return n.\u0275fac=function(e){return new(e||n)(le(Ui),le($a))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vK=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let yK=(()=>{class n extends hr{constructor(e,i,r,s,a,l){super(e,a,s,l),this.zone=i,this.directionality=r,this.styleUtils=s,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new Ue;const h=[this.directionality.change,this.observerSubject.asObservable()];this.init(h),this.marshal.trackValue(this.nativeElement,"layout").pipe(Hn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,i=[];for(let r=e.length;r--;)i[r]=e[r];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const r=e.value.split(" ");this.layout=r[0],m0.find(s=>s===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const i=this.childrenNodes.filter(r=>1===r.nodeType&&this.willDisplay(r)).sort((r,s)=>{const a=+this.styler.lookupStyle(r,"order"),l=+this.styler.lookupStyle(s,"order");return isNaN(a)||isNaN(l)||a===l?0:a>l?1:-1});if(i.length>0){const r=this.directionality.value,s=this.layout;"row"===s&&"rtl"===r?this.styleCache=_K:"row"===s&&"rtl"!==r?this.styleCache=wK:"column"===s&&"rtl"===r?this.styleCache=bK:"column"===s&&"rtl"!==r&&(this.styleCache=CK),this.addStyles(e,{directionality:r,items:i,layout:s})}}clearStyles(){const e=Object.keys(this.mru).length>0,i=e?"padding":hN(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(e){const i=this.marshal.getValue(e,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(e=>{e.some(r=>r.addedNodes&&r.addedNodes.length>0||r.removedNodes&&r.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Kt),O(ho),O(Ui),O(mK),O(tr))},n.\u0275dir=Ee({type:n,features:[Ve]}),n})(),Pu=(()=>{class n extends yK{constructor(){super(...arguments),this.inputs=vK}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[Ve]}),n})();const _K=new Map,bK=new Map,wK=new Map,CK=new Map,y0=" grid";function hN(n,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let SK=(()=>{class n extends br{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[r,s,...a]=e.split(" "),l=a.join(" ");const h=i.direction.indexOf("column")>-1?"column":"row",m=Gm(h)?"max-width":"max-height",v=Gm(h)?"min-width":"min-height",C=String(l).indexOf("calc")>-1,D=C||"auto"===l,T=String(l).indexOf("%")>-1&&!C,k=String(l).indexOf("px")>-1||String(l).indexOf("rem")>-1||String(l).indexOf("em")>-1||String(l).indexOf("vw")>-1||String(l).indexOf("vh")>-1;let P=C||k;r="0"==r?0:r,s="0"==s?0:s;const N=!r&&!s;let V={};const q={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(l||""){case"":const te=!1!==this.layoutConfig.useColumnBasisZero;l="row"===h?"0%":te?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,l="auto";break;case"grow":l="100%";break;case"noshrink":s=0,l="auto";break;case"auto":break;case"none":r=0,s=0,l="auto";break;default:!P&&!T&&!isNaN(l)&&(l+="%"),"0%"===l&&(P=!0),"0px"===l&&(l="0%"),V=Ec(q,C?{"flex-grow":r,"flex-shrink":s,"flex-basis":P?l:"100%"}:{flex:`${r} ${s} ${P?l:"100%"}`})}return V.flex||V["flex-grow"]||(V=Ec(q,C?{"flex-grow":r,"flex-shrink":s,"flex-basis":l}:{flex:`${r} ${s} ${l}`})),"0%"!==l&&"0px"!==l&&"0.000000001px"!==l&&"auto"!==l&&(V[v]=N||P&&r?l:null,V[m]=N||!D&&s?l:null),V[v]||V[m]?i.hasWrap&&(V[C?"flex-basis":"flex"]=V[m]?C?V[m]:`${r} ${s} ${V[m]}`:C?V[v]:`${r} ${s} ${V[v]}`):V=Ec(q,C?{"flex-grow":r,"flex-shrink":s,"flex-basis":l}:{flex:`${r} ${s} ${l}`}),Ec(V,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(le($a))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MK=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let TK=(()=>{class n extends hr{constructor(e,i,r,s,a){super(e,s,i,a),this.layoutConfig=r,this.marshal=a,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Hn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Hn(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const r=e.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,s=r.startsWith("row"),a=this.wrap;s&&a?this.styleCache=IK:s&&!a?this.styleCache=AK:!s&&a?this.styleCache=RK:!s&&!a&&(this.styleCache=kK);const h=aN(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(h.join(" "),{direction:r,hasWrap:a})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=aN(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Ui),O($a),O(SK),O(tr))},n.\u0275dir=Ee({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[Ve]}),n})(),qS=(()=>{class n extends TK{constructor(){super(...arguments),this.inputs=MK}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[Ve]}),n})();const AK=new Map,kK=new Map,IK=new Map,RK=new Map;let tY=(()=>{class n extends br{buildStyles(e,i){const r={},[s,a]=e.split(" ");switch(s){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return Ec(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===a?Gm(i.layout)?null:"100%":null,"max-height":"stretch"===a&&Gm(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nY=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let iY=(()=>{class n extends hr{constructor(e,i,r,s){super(e,r,i,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Hn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=lY:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=uY:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=cY:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=dY:"column-reverse"===i&&!r&&(this.styleCache=aY):this.styleCache=sY:this.styleCache=oY:this.styleCache=rY,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),m0.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Ui),O(tY),O(tr))},n.\u0275dir=Ee({type:n,features:[Ve]}),n})(),Ua=(()=>{class n extends iY{constructor(){super(...arguments),this.inputs=nY}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[Ve]}),n})();const rY=new Map,sY=new Map,oY=new Map,aY=new Map,lY=new Map,cY=new Map,uY=new Map,dY=new Map;let KS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[$S,op]}),n})();const hY=["connectionContainer"],fY=["inputContainer"],pY=["label"];function gY(n,t){1&n&&(Ji(0),de(1,"div",14),cn(2,"div",15)(3,"div",16)(4,"div",17),pe(),de(5,"div",18),cn(6,"div",15)(7,"div",16)(8,"div",17),pe(),er())}function mY(n,t){if(1&n){const e=Ra();de(0,"div",19),zt("cdkObserveContent",function(){return $s(e),ti(Nn().updateOutlineGap())}),cr(1,1),pe()}2&n&&Xe("cdkObserveContentDisabled","outline"!=Nn().appearance)}function vY(n,t){if(1&n&&(Ji(0),cr(1,2),de(2,"span"),Le(3),pe(),er()),2&n){const e=Nn(2);Ae(3),zi(e._control.placeholder)}}function yY(n,t){1&n&&cr(0,3,["*ngSwitchCase","true"])}function _Y(n,t){1&n&&(de(0,"span",23),Le(1," *"),pe())}function bY(n,t){if(1&n){const e=Ra();de(0,"label",20,21),zt("cdkObserveContent",function(){return $s(e),ti(Nn().updateOutlineGap())}),Et(2,vY,4,1,"ng-container",12),Et(3,yY,1,0,"ng-content",12),Et(4,_Y,2,0,"span",22),pe()}if(2&n){const e=Nn();wi("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Xe("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),ii("for",e._control.id)("aria-owns",e._control.id),Ae(2),Xe("ngSwitchCase",!1),Ae(1),Xe("ngSwitchCase",!0),Ae(1),Xe("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function wY(n,t){1&n&&(de(0,"div",24),cr(1,4),pe())}function CY(n,t){if(1&n&&(de(0,"div",25),cn(1,"span",26),pe()),2&n){const e=Nn();Ae(1),wi("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function xY(n,t){1&n&&(de(0,"div"),cr(1,5),pe()),2&n&&Xe("@transitionMessages",Nn()._subscriptAnimationState)}function DY(n,t){if(1&n&&(de(0,"div",30),Le(1),pe()),2&n){const e=Nn(2);Xe("id",e._hintLabelId),Ae(1),zi(e.hintLabel)}}function EY(n,t){if(1&n&&(de(0,"div",27),Et(1,DY,2,2,"div",28),cr(2,6),cn(3,"div",29),cr(4,7),pe()),2&n){const e=Nn();Xe("@transitionMessages",e._subscriptAnimationState),Ae(1),Xe("ngIf",e.hintLabel)}}const SY=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],MY=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let TY=0;const fN=new ke("MatError");let YS=(()=>{class n{constructor(e,i){this.id="mat-error-"+TY++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(Ds("aria-live"),O(St))},n.\u0275dir=Ee({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&ii("id",i.id)},inputs:{id:"id"},features:[yn([{provide:fN,useExisting:n}])]}),n})();const AY={transitionMessages:Po("transitionMessages",[ji("enter",_n({opacity:1,transform:"translateY(0%)"})),dr("void => enter",[_n({opacity:0,transform:"translateY(-5px)"}),Ir("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let _0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n}),n})();const kY=new ke("MatHint");let ah=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n,selectors:[["mat-label"]]}),n})(),IY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n,selectors:[["mat-placeholder"]]}),n})();const RY=new ke("MatPrefix"),OY=new ke("MatSuffix");let pN=0;const FY=u0(class{constructor(n){this._elementRef=n}},"primary"),LY=new ke("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ZS=new ke("MatFormField");let gp=(()=>{class n extends FY{constructor(e,i,r,s,a,l,h){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=a,this._ngZone=l,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ue,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+pN++,this._labelId="mat-form-field-label-"+pN++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==h,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=En(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Ha(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Hn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Hn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),rr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ha(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ha(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Hn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Qd(this._label.nativeElement,"transitionend").pipe(vr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const v=i.querySelectorAll(`${r}, ${s}`);for(let C=0;C<v.length;C++)v[C].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,l=0;const h=i.querySelectorAll(r),m=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const v=i.getBoundingClientRect();if(0===v.width&&0===v.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const C=this._getStartEnd(v),D=e.children,T=this._getStartEnd(D[0].getBoundingClientRect());let k=0;for(let P=0;P<D.length;P++)k+=D[P].offsetWidth;a=Math.abs(T-C)-5,l=k>0?.75*k+10:0}for(let v=0;v<h.length;v++)h[v].style.width=`${a}px`;for(let v=0;v<m.length;v++)m[v].style.width=`${l}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Hr),O(ho,8),O(LY,8),O(_r),O(Kt),O(cs,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&($i(r,_0,5),$i(r,_0,7),$i(r,ah,5),$i(r,ah,7),$i(r,IY,5),$i(r,fN,5),$i(r,kY,5),$i(r,RY,5),$i(r,OY,5)),2&e){let s;Gt(s=Wt())&&(i._controlNonStatic=s.first),Gt(s=Wt())&&(i._controlStatic=s.first),Gt(s=Wt())&&(i._labelChildNonStatic=s.first),Gt(s=Wt())&&(i._labelChildStatic=s.first),Gt(s=Wt())&&(i._placeholderChild=s.first),Gt(s=Wt())&&(i._errorChildren=s),Gt(s=Wt())&&(i._hintChildren=s),Gt(s=Wt())&&(i._prefixChildren=s),Gt(s=Wt())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(mi(hY,7),mi(fY,5),mi(pY,5)),2&e){let r;Gt(r=Wt())&&(i._connectionContainerRef=r.first),Gt(r=Wt())&&(i._inputContainerRef=r.first),Gt(r=Wt())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&wi("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[yn([{provide:ZS,useExisting:n}]),Ve],ngContentSelectors:MY,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(ia(SY),de(0,"div",0)(1,"div",1,2),zt("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),Et(3,gY,9,0,"ng-container",3),Et(4,mY,2,1,"div",4),de(5,"div",5,6),cr(7),de(8,"span",7),Et(9,bY,5,16,"label",8),pe()(),Et(10,wY,2,0,"div",9),pe(),Et(11,CY,2,4,"div",10),de(12,"div",11),Et(13,xY,2,1,"div",12),Et(14,EY,5,2,"div",13),pe()()),2&e&&(Ae(3),Xe("ngIf","outline"==i.appearance),Ae(1),Xe("ngIf",i._prefixChildren.length),Ae(5),Xe("ngIf",i._hasFloatingLabel()),Ae(1),Xe("ngIf",i._suffixChildren.length),Ae(1),Xe("ngIf","outline"!=i.appearance),Ae(1),Xe("ngSwitch",i._getDisplayedMessages()),Ae(1),Xe("ngSwitchCase","error"),Ae(1),Xe("ngSwitchCase","hint"))},dependencies:[_c,sm,iE,uL],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[AY.transitionMessages]},changeDetection:0}),n})(),b0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Va,Ci,MS,Ci]}),n})();class NY{}class Fu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Fu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Fu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Fu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(l=>-1===s.indexOf(l)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class BY{encodeKey(t){return mN(t)}encodeValue(t){return mN(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const HY=/%(\d[a-f0-9])/gi,zY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mN(n){return encodeURIComponent(n).replace(HY,(t,e)=>zY[e]??t)}function w0(n){return`${n}`}class Lu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new BY,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function VY(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,l]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],h=e.get(a)||[];h.push(l),e.set(a,h)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(w0):[w0(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Lu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(w0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(w0(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class $Y{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function vN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function yN(n){return typeof Blob<"u"&&n instanceof Blob}function _N(n){return typeof FormData<"u"&&n instanceof FormData}class qm{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function jY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Fu),this.context||(this.context=new $Y),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+a}}else this.params=new Lu,this.urlWithParams=e}serializeBody(){return null===this.body?null:vN(this.body)||yN(this.body)||_N(this.body)||function UY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_N(this.body)?null:yN(this.body)?this.body.type||null:vN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,m=t.params||this.params;const v=t.context??this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((C,D)=>C.set(D,t.setHeaders[D]),h)),t.setParams&&(m=Object.keys(t.setParams).reduce((C,D)=>C.set(D,t.setParams[D]),m)),new qm(e,i,s,{params:m,headers:h,context:v,reportProgress:l,responseType:r,withCredentials:a})}}var _s=(()=>((_s=_s||{})[_s.Sent=0]="Sent",_s[_s.UploadProgress=1]="UploadProgress",_s[_s.ResponseHeader=2]="ResponseHeader",_s[_s.DownloadProgress=3]="DownloadProgress",_s[_s.Response=4]="Response",_s[_s.User=5]="User",_s))();class XS extends class GY{constructor(t,e=200,i="OK"){this.headers=t.headers||new Fu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=_s.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new XS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function QS(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let wN=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof qm)s=e;else{let h,m;h=r.headers instanceof Fu?r.headers:new Fu(r.headers),r.params&&(m=r.params instanceof Lu?r.params:new Lu({fromObject:r.params})),s=new qm(e,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=Lt(s).pipe(Tu(h=>this.handler.handle(h)));if(e instanceof qm||"events"===r.observe)return a;const l=a.pipe(yr(h=>h instanceof XS));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(vt(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return l.pipe(vt(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return l.pipe(vt(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return l.pipe(vt(h=>h.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Lu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,QS(r,i))}post(e,i,r={}){return this.request("POST",e,QS(r,i))}put(e,i,r={}){return this.request("PUT",e,QS(r,i))}}return n.\u0275fac=function(e){return new(e||n)(le(NY))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();const qY=["*"];let C0;function Km(n){return function KY(){if(void 0===C0&&(C0=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(C0=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return C0}()?.createHTML(n)||n}function CN(n){return Error(`Unable to find icon with the name "${n}"`)}function xN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function DN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class lh{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let x0=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new lh(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const a=this._sanitizer.sanitize(li.HTML,r);if(!a)throw DN(r);const l=Km(a);return this._addSvgIconConfig(e,i,new lh("",l,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new lh(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(li.HTML,i);if(!s)throw DN(i);const a=Km(s);return this._addSvgIconSetConfig(e,new lh("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(li.RESOURCE_URL,e);if(!i)throw xN(e);const r=this._cachedIconsByUrl.get(i);return r?Lt(D0(r)):this._loadSvgIconFromConfig(new lh(e,null)).pipe(Un(s=>this._cachedIconsByUrl.set(i,s)),vt(s=>D0(s)))}getNamedSvgIcon(e,i=""){const r=EN(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):Kf(CN(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Lt(D0(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(vt(i=>D0(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Lt(r):IP(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(za(l=>{const m=`Loading icon set URL: ${this._sanitizer.sanitize(li.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(m)),Lt(null)})))).pipe(vt(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw CN(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,e,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Un(i=>e.svgText=i),vt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Lt(null):this._fetchIcon(e).pipe(Un(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const l=this._svgElementFromString(Km("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Km("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:a,value:l}=r[s];"id"!==a&&i.setAttribute(a,l)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function YY(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(li.RESOURCE_URL,i);if(!a)throw xN(i);const l=this._inProgressUrlFetches.get(a);if(l)return l;const h=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(vt(m=>Km(m)),cb(()=>this._inProgressUrlFetches.delete(a)),Wv());return this._inProgressUrlFetches.set(a,h),h}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(EN(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return XY(s)?new lh(s.url,null,s.options):new lh(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(le(wN,8),le(sb),le(un,8),le(X))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function D0(n){return n.cloneNode(!0)}function EN(n,t){return n+":"+t}function XY(n){return!(!n.url||!n.options)}const QY=u0(class{constructor(n){this._elementRef=n}}),JY=new ke("MAT_ICON_DEFAULT_OPTIONS"),eZ=new ke("mat-icon-location",{providedIn:"root",factory:function tZ(){const n=bi(un),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),SN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],nZ=SN.map(n=>`[${n}]`).join(", "),iZ=/^url\(['"]?#(.*?)['"]?\)$/;let Ym=(()=>{class n extends QY{constructor(e,i,r,s,a,l){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ne.EMPTY,l&&(l.color&&(this.color=this.defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=En(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(nZ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)SN.forEach(a=>{const l=i[s],h=l.getAttribute(a),m=h?h.match(iZ):null;if(m){let v=r.get(l);v||(v=[],r.set(l,v)),v.push({name:a,value:m[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(vr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(x0),Ds("aria-hidden"),O(eZ),O(X),O(JY,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(ii("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),wi("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ve],ngContentSelectors:qY,decls:1,vars:0,template:function(e,i){1&e&&(ia(),cr(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),rZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Ci,Ci]}),n})();const MN=Jd({passive:!0});let sZ=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ns;const i=Cc(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Ue,a="cdk-text-field-autofilled",l=h=>{"cdk-text-field-autofill-start"!==h.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===h.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",l,MN),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",l,MN)}}),s}stopMonitoring(e){const i=Cc(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(le(_r),le(Kt))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({}),n})();const oZ=new ke("MAT_INPUT_VALUE_ACCESSOR"),aZ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let lZ=0;const cZ=AL(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Ue}});let JS=(()=>{class n extends cZ{constructor(e,i,r,s,a,l,h,m,v,C){super(l,s,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=m,this._formField=C,this._uid="mat-input-"+lZ++,this.focused=!1,this.stateChanges=new Ue,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(k=>WF().has(k)),this._iOSKeyupListener=k=>{const P=k.target;!P.value&&0===P.selectionStart&&0===P.selectionEnd&&(P.setSelectionRange(1,1),P.setSelectionRange(0,0))};const D=this._elementRef.nativeElement,T=D.nodeName.toLowerCase();this._inputValueAccessor=h||D,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&v.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===T,this._isTextarea="textarea"===T,this._isInFormField=!!C,this._isNativeSelect&&(this.controlType=D.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=En(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(vi.required)??!1}set required(e){this._required=En(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&WF().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=En(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){aZ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(_r),O(kl,10),O(Tm,8),O(Ou,8),O(FS),O(oZ,10),O(sZ),O(Kt),O(ZS,8))},n.\u0275dir=Ee({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&zt("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(Bd("disabled",i.disabled)("required",i.required),ii("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),wi("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[yn([{provide:_0,useExisting:n}]),Ve,Zi]}),n})(),uZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[FS],imports:[TN,b0,Ci,TN,b0]}),n})();function eM(n){return n&&"function"==typeof n.connect&&!(n instanceof vE)}class AN{applyChanges(t,e,i,r,s){t.forEachOperation((a,l,h)=>{let m,v;if(null==a.previousIndex){const C=i(a,l,h);m=e.createEmbeddedView(C.templateRef,C.context,C.index),v=1}else null==h?(e.remove(l),v=3):(m=e.get(l),e.move(m,h),v=2);s&&s({context:m?.context,operation:v,record:a})})}detach(){}}class IN{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ue,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}const Zm=new ke("_ViewRepeater"),hZ=["trigger"],fZ=["panel"];function pZ(n,t){if(1&n&&(de(0,"span",8),Le(1),pe()),2&n){const e=Nn();Ae(1),zi(e.placeholder)}}function gZ(n,t){if(1&n&&(de(0,"span",12),Le(1),pe()),2&n){const e=Nn(2);Ae(1),zi(e.triggerValue)}}function mZ(n,t){1&n&&cr(0,0,["*ngSwitchCase","true"])}function vZ(n,t){1&n&&(de(0,"span",9),Et(1,gZ,2,1,"span",10),Et(2,mZ,1,0,"ng-content",11),pe()),2&n&&(Xe("ngSwitch",!!Nn().customTrigger),Ae(2),Xe("ngSwitchCase",!0))}function yZ(n,t){if(1&n){const e=Ra();de(0,"div",13)(1,"div",14,15),zt("@transformPanel.done",function(r){return $s(e),ti(Nn()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return $s(e),ti(Nn()._handleKeydown(r))}),cr(3,1),pe()()}if(2&n){const e=Nn();Xe("@transformPanelWrap",void 0),Ae(1),bk("mat-select-panel ",e._getPanelTheme(),""),Du("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),Xe("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),ii("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const _Z=[[["mat-select-trigger"]],"*"],bZ=["mat-select-trigger","*"],RN={transformPanelWrap:Po("transformPanelWrap",[dr("* => void",p0("@transformPanel",[f0()],{optional:!0}))]),transformPanel:Po("transformPanel",[ji("void",_n({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ji("showing",_n({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ji("showing-multiple",_n({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),dr("void => *",Ir("120ms cubic-bezier(0, 0, 0.2, 1)")),dr("* => void",Ir("100ms 25ms linear",_n({opacity:0})))])};let ON=0;const FN=new ke("mat-select-scroll-strategy"),DZ=new ke("MAT_SELECT_CONFIG"),EZ={provide:FN,deps:[la],useFactory:function xZ(n){return()=>n.scrollStrategies.reposition()}};class SZ{constructor(t,e){this.source=t,this.value=e}}const MZ=d0(PS(rh(AL(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Ue}})))),TZ=new ke("MatSelectTrigger");let AZ=(()=>{class n extends MZ{constructor(e,i,r,s,a,l,h,m,v,C,D,T,k,P){super(a,s,h,m,C),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=l,this._parentFormField=v,this._liveAnnouncer=k,this._defaultOptions=P,this._panelOpen=!1,this._compareWith=(N,V)=>N===V,this._uid="mat-select-"+ON++,this._triggerAriaLabelledBy=null,this._destroy=new Ue,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ON++,this._panelDoneAnimatingStream=new Ue,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=cm(()=>{const N=this.options;return N?N.changes.pipe(Ha(N),Oo(()=>rr(...N.map(V=>V.onSelectionChange)))):this._ngZone.onStable.pipe(vr(1),Oo(()=>this.optionSelectionChanges))}),this.openedChange=new gn,this._openedStream=this.openedChange.pipe(yr(N=>N),vt(()=>{})),this._closedStream=this.openedChange.pipe(yr(N=>!N),vt(()=>{})),this.selectionChange=new gn,this.valueChange=new gn,this.ngControl&&(this.ngControl.valueAccessor=this),null!=P?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=P.typeaheadDebounceInterval),this._scrollStrategyFactory=T,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(D)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(vi.required)??!1}set required(e){this._required=En(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=En(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=En(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=eo(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new IN(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(lL(),Hn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Hn(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ha(null),Hn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&s&&!Rl(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const l=this.selected;a.onKeydown(e);const h=this.selected;h&&l!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,a=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||Rl(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const l=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(l?h.select():h.deselect())})}else{const l=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==l&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(vr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new zq(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Hn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Hn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=rr(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Hn(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),rr(...this.options.map(i=>i._stateChanges)).pipe(Hn(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(O(nh),O(Hr),O(Kt),O(FS),O(St),O(ho,8),O(Tm,8),O(Ou,8),O(ZS,8),O(kl,10),Ds("tabindex"),O(FN),O(IS),O(DZ,8))},n.\u0275dir=Ee({type:n,viewQuery:function(e,i){if(1&e&&(mi(hZ,5),mi(fZ,5),mi(aL,5)),2&e){let r;Gt(r=Wt())&&(i.trigger=r.first),Gt(r=Wt())&&(i.panel=r.first),Gt(r=Wt())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Ve,Zi]}),n})(),vp=(()=>{class n extends AZ{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Hn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(vr(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=NL(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function D7(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new SZ(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let m=this._selectionModel.selected[0]||this.options.first;a=m&&m.group?32:16}r||(a*=-1);const l=0-(e.left+a-(r?s:0)),h=e.right+a-i.width+(r?0:s);l>0?a+=l+8:h>0&&(a-=h+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),a=(s-this._triggerRect.height)/2,l=Math.floor(256/s);let h;return this.disableOptionCentering?0:(h=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-l))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*h-a))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,a=r.height-this._triggerRect.bottom-8,l=Math.abs(this._offsetY),m=Math.min(this._getItemCount()*i,256)-l-this._triggerRect.height;m>a?this._adjustPanelUp(m,a):l>s?this._adjustPanelDown(l,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),a=i*e-r;let l;l=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),l+=NL(l,this.options,this.optionGroups);const h=r/2;this._scrollTop=this._calculateOverlayScroll(l,h,a),this._offsetY=this._calculateOverlayOffsetY(l,h,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275cmp=pn({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&($i(r,TZ,5),$i(r,sh,5),$i(r,LL,5)),2&e){let s;Gt(s=Wt())&&(i.customTrigger=s.first),Gt(s=Wt())&&(i.options=s),Gt(s=Wt())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&zt("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(ii("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),wi("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[yn([{provide:_0,useExisting:n},{provide:FL,useExisting:n}]),Ve],ngContentSelectors:bZ,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(ia(_Z),de(0,"div",0,1),zt("click",function(){return i.toggle()}),de(3,"div",2),Et(4,pZ,2,1,"span",3),Et(5,vZ,3,2,"span",4),pe(),de(6,"div",5),cn(7,"div",6),pe()(),Et(8,yZ,4,14,"ng-template",7),zt("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=jg(1);ii("aria-owns",i.panelOpen?i.id+"-panel":null),Ae(3),Xe("ngSwitch",i.empty),ii("id",i._valueId),Ae(1),Xe("ngSwitchCase",!0),Ae(1),Xe("ngSwitchCase",!1),Ae(3),Xe("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[rm,sm,iE,NR,aL,oL],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[RN.transformPanelWrap,RN.transformPanel]},changeDetection:0}),n})(),LN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[EZ],imports:[Va,Hm,BL,Ci,Zb,b0,BL,Ci]}),n})();function kZ(n,t){1&n&&(de(0,"mat-error"),Le(1,"Number must be greater than 0"),pe())}function IZ(n,t){1&n&&(de(0,"mat-error"),Le(1,"Number must be greater than 0"),pe())}function RZ(n,t){1&n&&(de(0,"mat-error"),Le(1,"Number must be greater than 0"),pe())}function OZ(n,t){1&n&&(de(0,"mat-error"),Le(1,"Number must be greater than 0"),pe())}function PZ(n,t){if(1&n&&(de(0,"mat-option",15),Le(1),pe()),2&n){const e=t.$implicit;Xe("value",e.enumName),Ae(1),S_("",e.name," - electricity price multiplier : ",e.electricityPrice,"")}}function FZ(n,t){if(1&n&&(Ji(0),de(1,"div",10)(2,"mat-form-field"),cn(3,"input",11),pe(),de(4,"mat-form-field"),cn(5,"input",12),pe(),de(6,"mat-form-field")(7,"mat-select",13),Et(8,PZ,2,3,"mat-option",14),pe()()(),er()),2&n){const e=t.index,i=Nn();Ae(1),Xe("formGroupName",e),Ae(7),Xe("ngForOf",i.COUNTRIES)}}let LZ=(()=>{class n{constructor(e,i,r,s,a){this.activatedRoute=e,this.router=i,this.formBuilder=r,this.snackBar=s,this.parametersService=a,this.nodesType1FC=new kr(n.INIT_NODES_COUNT,[vi.required,vi.min(1)]),this.nodesType2FC=new kr(n.INIT_NODES_COUNT,[vi.required,vi.min(1)]),this.nodesType3FC=new kr(n.INIT_NODES_COUNT,[vi.required,vi.min(1)]),this.nodesType4FC=new kr(n.INIT_NODES_COUNT,[vi.required,vi.min(1)]),this.minersFormArray=this.formBuilder.array([]),this.form=this.formBuilder.group({nodesType1FC:this.nodesType1FC,nodesType2FC:this.nodesType2FC,nodesType3FC:this.nodesType3FC,nodesType4FC:this.nodesType4FC,miners:this.minersFormArray}),this.COUNTRIES=Il,this.minerNodesBeforeChange=this.parametersService.getMinerNodes(),this.numberOfNodes=4*n.INIT_NODES_COUNT}get miners(){return this.form.controls.miners}ngOnInit(){this.numberOfNodes=this.parametersService.getAllNodes();for(let e=0;e<5;e++)this.miners.push(this.getDefaultMinerFormGroup());this.nodesType3FC.valueChanges.pipe(Un(e=>{this.nodesType3FC.invalid&&(this.miners.clear(),this.minerNodesBeforeChange=0)})).subscribe(),this.form.markAllAsTouched()}formValidation(){return this.form.valid}onClick(){this.snackBar.open("Przechodzenie do symulacji","",{duration:500}),this.setNodes(),this.router.navigate([SP],{relativeTo:this.activatedRoute.parent})}setNodes(){this.parametersService.setFullNodes(this.nodesType1FC.value),this.parametersService.setLightNodes(this.nodesType2FC.value),this.parametersService.setMinerNodes(this.nodesType3FC.value),this.parametersService.setListeningNodes(this.nodesType4FC.value),this.parametersService.setInitialMinersData(this.miners.value)}setNumberOfNodes(){this.numberOfNodes=this.nodesType1FC.value+this.nodesType2FC.value+this.nodesType3FC.value+this.nodesType4FC.value}setMinersNumber(){const e=this.minerNodesBeforeChange,i=this.nodesType3FC.value;if(this.setNumberOfNodes(),e<i)for(let r=e;r<i;r++)this.miners.push(this.getDefaultMinerFormGroup());else for(let r=e;r>i;r--)this.miners.removeAt(this.miners.length-1);this.minerNodesBeforeChange=i,this.form.markAllAsTouched()}getDefaultMinerFormGroup(){return this.formBuilder.group({power:new kr(1,[vi.required,vi.min(1),vi.max(10)]),country:new kr("POLAND",[vi.required]),money:new kr(500,[vi.required,vi.min(0),vi.max(1e5)])})}}return n.INIT_NODES_COUNT=5,n.\u0275fac=function(e){return new(e||n)(O(ku),O(us),O(dS),O(H7),O(hp))},n.\u0275cmp=pn({type:n,selectors:[["app-initial-configuration"]],decls:31,vars:8,consts:[["fxLayout","column","fxLayoutAlign","space-evenly center","fxLayoutGap","20px"],["fxLayout","column","fxLayoutGap","20px",2,"width","200px","margin","20px",3,"formGroup"],["type","number","formControlName","nodesType1FC","matInput","",3,"change"],[4,"ngIf"],["type","number","formControlName","nodesType2FC","matInput","",3,"change"],["type","number","formControlName","nodesType4FC","matInput","",3,"change"],["type","number","formControlName","nodesType3FC","matInput","",3,"change"],["formArrayName","miners"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxLayout","row","fxLayoutGap","10px",3,"formGroupName"],["matInput","","type","number","formControlName","power","placeholder","Computing power (from 1 to 10)"],["matInput","","type","number","formControlName","money","placeholder","Initial budget $"],["formControlName","country","placeholder","Country"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(de(0,"div",0)(1,"h2"),Le(2,"Set the initial number of nodes in the simulation"),pe(),de(3,"div",1)(4,"mat-form-field")(5,"mat-label"),Le(6,"Number of full nodes:"),pe(),de(7,"input",2),zt("change",function(){return i.setNumberOfNodes()}),pe(),Et(8,kZ,2,0,"mat-error",3),pe(),de(9,"mat-form-field")(10,"mat-label"),Le(11,"Number of light nodes:"),pe(),de(12,"input",4),zt("change",function(){return i.setNumberOfNodes()}),pe(),Et(13,IZ,2,0,"mat-error",3),pe(),de(14,"mat-form-field")(15,"mat-label"),Le(16,"Number of listening nodes:"),pe(),de(17,"input",5),zt("change",function(){return i.setNumberOfNodes()}),pe(),Et(18,RZ,2,0,"mat-error",3),pe(),de(19,"mat-form-field")(20,"mat-label"),Le(21,"Number of miner nodes:"),pe(),de(22,"input",6),zt("change",function(){return i.setMinersNumber()}),pe(),Et(23,OZ,2,0,"mat-error",3),pe(),Ji(24,7),Et(25,FZ,9,2,"ng-container",8),er(),pe(),de(26,"button",9),zt("click",function(){return i.onClick()}),de(27,"span"),Le(28),pe(),de(29,"mat-icon"),Le(30,"done"),pe()()()),2&e&&(Ae(3),Xe("formGroup",i.form),Ae(5),Xe("ngIf",i.nodesType1FC.errors),Ae(5),Xe("ngIf",i.nodesType2FC.errors),Ae(5),Xe("ngIf",i.nodesType4FC.errors),Ae(5),Xe("ngIf",i.nodesType3FC.errors),Ae(2),Xe("ngForOf",i.miners.controls),Ae(1),Xe("disabled",!i.formValidation()),Ae(2),Tr("Start the simulation with ",i.numberOfNodes," nodes "))},dependencies:[Ud,_c,ja,Pu,Ua,YS,gp,ah,Ym,xc,JS,np,Am,ip,Pb,Ou,Rm,km,Im,vp,sh]}),n})();class Qm{constructor(t,e){this.name=t,this.path=e}}function NZ(n,t){}class S0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let NN=(()=>{class n extends Qb{constructor(e,i,r,s,a,l,h,m){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=h,this._focusMonitor=m,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=v=>{this._portalOutlet.hasAttached();const C=this._portalOutlet.attachDomPortal(v);return this._contentAttached(),C},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=yS(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=yS();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=yS())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(kS),O(un,8),O(S0),O(l0),O(Kt),O(Vm),O(Ol))},n.\u0275cmp=pn({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&mi(Nm,7),2&e){let r;Gt(r=Wt())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&ii("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[Ve],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&Et(0,NZ,0,0,"ng-template",0)},dependencies:[Nm],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class tM{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Ue,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Rl(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const BN=new ke("DialogScrollStrategy"),BZ=new ke("DialogData"),VZ=new ke("DefaultDialogConfig"),zZ={provide:BN,deps:[la],useFactory:function HZ(n){return()=>n.scrollStrategies.block()}};let $Z=0,VN=(()=>{class n{constructor(e,i,r,s,a,l){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ue,this._afterOpenedAtThisLevel=new Ue,this._ariaHiddenElements=new Map,this.afterAllClosed=cm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ha(void 0))),this._scrollStrategy=l}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new S0,...i}).id=i.id||"cdk-dialog-"+$Z++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),a=this._overlay.create(s),l=new tM(a,i),h=this._attachContainer(a,l,i);return l.containerInstance=h,this._attachDialogContent(e,l,h,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){nM(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){nM(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),nM(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new n0({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,a=[{provide:S0,useValue:r},{provide:tM,useValue:i},{provide:Vm,useValue:e}];let l;r.container?"function"==typeof r.container?l=r.container:(l=r.container.type,a.push(...r.container.providers(r))):l=NN;const h=new ap(l,r.viewContainerRef,lr.create({parent:s||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(h).instance}_attachDialogContent(e,i,r,s){if(e instanceof Vr){const a=this._createInjector(s,i,r,void 0);let l={$implicit:s.data,dialogRef:i};s.templateContext&&(l={...l,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new Xb(e,null,l,a))}else{const a=this._createInjector(s,i,r,this._injector),l=r.attachComponentPortal(new ap(e,s.viewContainerRef,a,s.componentFactoryResolver));i.componentInstance=l.instance}}_createInjector(e,i,r,s){const a=e.injector||e.viewContainerRef?.injector,l=[{provide:BZ,useValue:e.data},{provide:tM,useValue:i}];return e.providers&&("function"==typeof e.providers?l.push(...e.providers(i,e,r)):l.push(...e.providers)),e.direction&&(!a||!a.get(ho,null,Jt.Optional))&&l.push({provide:ho,useValue:{value:e.direction,change:Lt()}}),lr.create({parent:a||s,providers:l})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(le(la),le(lr),le(VZ,8),le(n,12),le(r0),le(BN))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();function nM(n,t){let e=n.length;for(;e--;)t(n[e])}let jZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[VN,zZ],imports:[Hm,lp,OS,lp]}),n})();function UZ(n,t){}const yp={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},GZ={dialogContainer:Po("dialogContainer",[ji("void, exit",_n({opacity:0,transform:"scale(0.7)"})),ji("enter",_n({transform:"none"})),dr("* => enter",HL([Ir("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",_n({transform:"none",opacity:1})),p0("@*",f0(),{optional:!0})]),yp),dr("* => void, * => exit",HL([Ir("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",_n({opacity:0})),p0("@*",f0(),{optional:!0})]),yp)])};class M0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=yp.params.enterAnimationDuration,this.exitAnimationDuration=yp.params.exitAnimationDuration}}let WZ=(()=>{class n extends NN{constructor(e,i,r,s,a,l,h,m){super(e,i,r,s,a,l,h,m),this._animationStateChanged=new gn}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(kS),O(un,8),O(M0),O(l0),O(Kt),O(Vm),O(Ol))},n.\u0275cmp=pn({type:n,selectors:[["ng-component"]],features:[Ve],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),qZ=(()=>{class n extends WZ{constructor(e,i,r,s,a,l,h,m,v){super(e,i,r,s,a,l,h,v),this._changeDetectorRef=m,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||yp.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||yp.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(kS),O(un,8),O(M0),O(l0),O(Kt),O(Vm),O(Hr),O(Ol))},n.\u0275cmp=pn({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&D_("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(Bd("id",i._config.id),ii("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),M_("@dialogContainer",i._getAnimationState()))},features:[Ve],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&Et(0,UZ,0,0,"ng-template",0)},dependencies:[Nm],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[GZ.dialogContainer]}}),n})();class Jm{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Ue,this._beforeClosed=new Ue,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(yr(r=>"opened"===r.state),vr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(yr(r=>"closed"===r.state),vr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),rr(this.backdropClick(),this.keydownEvents().pipe(yr(r=>27===r.keyCode&&!this.disableClose&&!Rl(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),HN(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(yr(e=>"closing"===e.state),vr(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function HN(n,t,e){return n._closeInteractionType=t,n.close(e)}const iM=new ke("MatDialogData"),KZ=new ke("mat-dialog-default-options"),zN=new ke("mat-dialog-scroll-strategy"),ZZ={provide:zN,deps:[la],useFactory:function YZ(n){return()=>n.scrollStrategies.block()}};let XZ=0,QZ=(()=>{class n{constructor(e,i,r,s,a,l,h,m,v,C){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=h,this._dialogContainerType=m,this._dialogDataToken=v,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ue,this._afterOpenedAtThisLevel=new Ue,this._idPrefix="mat-dialog-",this.afterAllClosed=cm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ha(void 0))),this._scrollStrategy=l,this._dialog=i.get(VN)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new M0,...i}).id=i.id||`${this._idPrefix}${XZ++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:M0,useValue:i},{provide:S0,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,l,h)=>(r=new this._dialogRefConstructor(a,i,h),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){Fd()},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),ev=(()=>{class n extends QZ{constructor(e,i,r,s,a,l,h,m){super(e,i,s,l,h,a,Jm,qZ,iM,m)}}return n.\u0275fac=function(e){return new(e||n)(le(la),le(lr),le(tm,8),le(KZ,8),le(zN),le(n,12),le(r0),le(cs,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),JZ=0,rM=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=$N(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){HN(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(O(Jm,8),O(St),O(ev))},n.\u0275dir=Ee({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&zt("click",function(s){return i._onButtonClick(s)}),2&e&&ii("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Zi]}),n})(),eX=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+JZ++}ngOnInit(){this._dialogRef||(this._dialogRef=$N(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(O(Jm,8),O(St),O(ev))},n.\u0275dir=Ee({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&Bd("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),tX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),nX=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&wi("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function $N(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let iX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[ev,ZZ],imports:[jZ,Hm,lp,Ci,Ci]}),n})(),rX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pn({type:n,selectors:[["app-init-config-dialog"]],decls:12,vars:1,consts:[["mat-dialog-title",""],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(e,i){1&e&&(de(0,"h2",0),Le(1," Are you sure you want to return to the initial nodes configuration of the simulation?"),pe(),de(2,"mat-dialog-content")(3,"b"),Le(4,"This will end the currently running simulation!"),pe(),cn(5,"br")(6,"br"),pe(),de(7,"mat-dialog-actions",1)(8,"button",2),Le(9,"Cancel"),pe(),de(10,"button",3),Le(11,"Initial nodes configuration"),pe()()),2&e&&(Ae(10),Xe("mat-dialog-close",!0))},dependencies:[ja,Ua,xc,rM,eX,tX,nX]}),n})();class T0{constructor(t,e,i=null,r=[],s=0,a=!1){this._children=[],this._weight=1,this._fullNodeLastBlock=!1,this._id=t,this._minedBy=e,this._parent=i,this._children=r,this._weight=this._parent?this._parent.weight+1:s,this._fullNodeLastBlock=a}get id(){return this._id}set id(t){this._id=t}get minedBy(){return this._minedBy}get weight(){return this._weight}set weight(t){this._weight=t}get parent(){return this._parent}set parent(t){this._parent=t}get children(){return this._children}set children(t){this._children=t}get fullNodeLastBlock(){return this._fullNodeLastBlock}set fullNodeLastBlock(t){this._fullNodeLastBlock=t}}var Gi=(()=>{return(n=Gi||(Gi={}))[n.Miner=0]="Miner",n[n.Full=1]="Full",n[n.Spv=2]="Spv",n[n.Listening=3]="Listening",Gi;var n})(),_p=(()=>{return(n=_p||(_p={}))[n.LongestChain=0]="LongestChain",n[n.GHOST=1]="GHOST",_p;var n})();class ca{}ca.STEP_INTERVAL=1e3,ca.DAY_INTERVAL=10*ca.STEP_INTERVAL,ca.HOUR_INTERVAL=ca.DAY_INTERVAL/24,ca.MONTH_INTERVAL=300*ca.STEP_INTERVAL;class ch{constructor(t,e,i,r){this.id=t,this.nodeType=e,this.country=i,this.money=r,this.blockChainLength=1,this.mined=0,this.neighbours=[],this.alive=!0,this.computingPower=0,this.blockChain=new T0(-1,-1),this.blockChainMap=new Map,this.blockChainSize=0,this.nodeType==Gi.Full&&(this.blockChainMap=new Map,this.blockChain=new T0(-1,-1),this.blockChainMap.set(-1,this.blockChain))}connect(t){this.isConnected(t)||this.neighbours.push(t)}detachMiner(t){this.neighbours=this.neighbours.filter(e=>e!==t)}isConnected(t){return this.neighbours.includes(t)}settlePayment(t){return t*=NF(this.country),this.nodeType!=Gi.Miner||(this.money<t?(this.alive=!1,!1):(this.money-=t,!0))}receiveReward(t){this.money+=t}getLast(){if(this.nodeType!=Gi.Full)return this.nodeType==Gi.Miner?this.lastMined:this.lastBlock;{let t=this.findLastBlock(_p.LongestChain);if(t)return t.fullNodeLastBlock=!0,t}}getParent(){return this.lastBlock}mineBlock(t){this.lastMined=t}addBlock(t){if(!t)return;const e=new T0(t.id,t.minedBy,t.parent,[],t.weight,t.fullNodeLastBlock);this.nodeType==Gi.Full&&this.blockChain?this.blockChainMap.has(e.id)||(e.parent&&this.blockChainMap.has(e.parent.id)?this.blockChainMap.get(e.parent.id)?.children?.push(e):this.blockChain.children?.push(e),this.blockChainMap.set(e.id,e),this.blockChainSize++):this.nodeType==Gi.Miner?(e.fullNodeLastBlock||!this.lastBlock)&&(this.lastBlock=e):this.lastBlock=e}findLastBlock(t){if(this.nodeType==Gi.Full&&this.blockChain){if(t==_p.LongestChain){let e=this.longestPath(this.blockChain)[0];return null==e||null==e?void 0:this.blockChainMap.get(e)}t==_p.GHOST&&(this.updateWeights(),this.ghostPath(this.blockChain,0,0,0,0,-1))}}longestPath(t){if(!t)return[];let e=[];for(let s of t.children)e.push(this.longestPath(s));let i=[],r=0;for(let s of e)s.length>r&&(r=s?.length,i=s);return i.push(t.id),i}ghostPath(t,e,i,r,s,a){t||(s<i?(s=i,r=e,a=t):s==i&&r==e&&(r=e));for(let l of t.children)this.ghostPath(l,e+t.weight,i+1,r,s,a)}updateWeights(){let t=new Set,e=new Array;for(t.add(-1),e.push(-1);e.length>0;){const i=e.shift();if(!i)break;let r=this.blockChainMap.get(i);if(!r)break;r.weight=1+(r.parent?r.parent.weight+r.children?.length:r.children?.length);for(let s of r.children)t.has(s.id)||(t.add(s.id),e.push(s.id))}}}class ua{constructor(t){this.nodes=t}static generateGraph(t,e,i,r,s,a=.1){let l=new Map,h=0;const m=t+i+r,v=m*(m-1)/2;let C=0,D=-1,T=new ch(h,Gi.Full,jb(),0);l.set(h,T),h+=1;for(let V=1;V<t;V++){let q=new ch(h,Gi.Full,jb(),0);D=ua.genrateRandomNumber(h-1);let te=l.get(D);q.connect(D),te?.connect(h),C+=1,l.set(h,q),h+=1}for(let V=0;V<r;V++){let q=new ch(h,Gi.Listening,jb(),0);D=ua.genrateRandomNumber(h-1);let te=l.get(D);q.connect(D),te?.connect(h),C+=1,l.set(h,q),h+=1}for(let V=0;V<i;V++){let q=new ch(h,Gi.Spv,jb(),0);D=ua.genrateRandomNumber(h-1);let te=l.get(D);q.connect(D),te?.connect(h),C+=1,l.set(h,q),h+=1}const k=h-1;let P=0,N=v*a-C;for(;P<N;){let V=ua.genrateRandomNumber(k),q=ua.genrateRandomNumber(k);V!=q&&(l.get(V)?.isConnected(q)||(l.get(V)?.connect(q),l.get(q)?.connect(V),P+=1))}for(let V=0;V<e;V++){D=ua.genrateRandomNumber(k);let q=new ch(h,Gi.Miner,s[V].country,s[V].money);q.computingPower=s[V].power;let te=l.get(D);q.connect(D),te?.connect(h),l.set(h,q),h+=1}return new ua(l)}static genrateRandomNumber(t){return Math.floor(Math.random()*(t+1))}}const{isArray:aX}=Array;function tv(n=0,t=Kb){return n<0&&(n=0),gS(n,n,t)}class uh{constructor(t,e){this.eventType=t,this.eventData=e}}var Fo=(()=>{return(n=Fo||(Fo={}))[n.INITIALIZATION=0]="INITIALIZATION",n[n.BLOCK_MINED=1]="BLOCK_MINED",n[n.BLOCK_RECEIVED=2]="BLOCK_RECEIVED",n[n.UPDATE_LAST_BLOCK=3]="UPDATE_LAST_BLOCK",Fo;var n})();class bp{constructor(){this.senderId=0,this.receiverId=0}}function UN(n,t){return Math.floor(Math.random()*(t-n+1)+n)}class uX{constructor(t,e,i,r,s){this.romania=t,this.poland=e,this.spain=i,this.germany=r,this.greatBritain=s}pushData(t){this.romania.push(t.romania),this.poland.push(t.poland),this.spain.push(t.spain),this.germany.push(t.germany),this.greatBritain.push(t.greatBritain)}}class dX{constructor(t,e,i,r,s){this.romania=t,this.poland=e,this.spain=i,this.germany=r,this.greatBritain=s}getInitialData(){return[[this.romania],[this.poland],[this.spain],[this.germany],[this.greatBritain]]}}let sM=(()=>{class n{constructor(){this.dataEmitter$=new Ei({total:[],country:null,monthNumber:1}),this.requestEmitter$=new Ei(1),this.totalData=[],this.countryData=null,this.monthNumber=1}emitData(){this.dataEmitter$.next({total:this.totalData,country:this.countryData,monthNumber:this.monthNumber})}getData(){return this.dataEmitter$.asObservable()}emitRequest(e){this.requestEmitter$.next(e)}getRequest(){return this.requestEmitter$.asObservable()}addData(e,i,r){if(this.totalData.push(e),this.monthNumber=r,null===this.countryData){const s=i.getInitialData();this.countryData=new uX(s[0],s[1],s[2],s[3],s[4])}else this.countryData.pushData(i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GN=(()=>{class n{constructor(){this.event=new Ei(new uh(Fo.INITIALIZATION,new bp))}getSimulationEvent(){return this.event.asObservable()}emitSimulationEvent(e){this.event.next(e)}emitBlockMined(){let e=new bp,i=new uh(Fo.BLOCK_MINED,e);this.emitSimulationEvent(i)}emitBlockchainUpdate(){let e=new bp,i=new uh(Fo.UPDATE_LAST_BLOCK,e);this.emitSimulationEvent(i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WN=(()=>{class n{constructor(){this.step=new Ei(""),this.stepSemaphore=!1}getStep(){return this.step.asObservable()}emitStep(){this.stepSemaphore&&(this.blockSemaphore(),this.step.next(""))}unblockSemaphore(){this.stepSemaphore=!0}blockSemaphore(){this.stepSemaphore=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qN=(()=>{class n{constructor(e){this.parametersService=e,this.payment$=new Ei(this.parametersService.getElectricityPrice())}getPayment(){return this.payment$.asObservable()}emitPayment(){this.payment$.next(this.parametersService.getElectricityPrice())}}return n.\u0275fac=function(e){return new(e||n)(le(hp))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KN=(()=>{class n{constructor(){this.addMiner$=new Ei(-1)}getAddMiner(){return this.addMiner$.asObservable()}emitStart(e){this.addMiner$.next(e)}emitStop(){this.addMiner$.next(-1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YN=(()=>{class n{constructor(){this.updateTimer$=new Ei(null)}emitUpdateTime(){this.updateTimer$.next(null)}getUpdateTime(){return this.updateTimer$.asObservable()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZN=(()=>{class n{constructor(e,i,r,s,a){this.eventService=e,this.stepService=i,this.paymentService=r,this.addMinerService=s,this.timerService=a}startSimulation(e){this.interval?.unsubscribe(),this.interval=tv(ca.STEP_INTERVAL/e).pipe(Un(()=>{this.stepService.emitStep(),this.timerService.emitUpdateTime()})).subscribe(),this.interval2?.unsubscribe(),this.interval2=tv(ca.DAY_INTERVAL/e).pipe(Un(()=>{this.eventService.emitBlockMined()})).subscribe(),this.interval3?.unsubscribe(),this.interval3=tv(ca.MONTH_INTERVAL/e).pipe(Un(()=>{this.paymentService.emitPayment()})).subscribe(),this.interval4?.unsubscribe(),this.interval4=tv(ca.DAY_INTERVAL/e).pipe(Un(()=>{this.eventService.emitBlockchainUpdate()})).subscribe(),this.addMinerService.emitStart(e)}stopSimulation(){this.interval?.unsubscribe(),this.interval2?.unsubscribe(),this.interval3?.unsubscribe(),this.addMinerService.emitStop()}}return n.\u0275fac=function(e){return new(e||n)(le(GN),le(WN),le(qN),le(KN),le(YN))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XN=(()=>{class n{constructor(){this.TIME_TO_LIVE=7,this.$activeEdges=new Ei([{edge:"",ttl:0}]),this.activeEdges=[]}addEdge(e,i){this.activeEdges.push({edge:`${e}_${i}`,ttl:this.TIME_TO_LIVE}),this.emitEdges()}emitEdges(){this.$activeEdges.next(this.activeEdges)}depleteTTL(){this.activeEdges=this.activeEdges.filter(e=>e.ttl>=1),this.activeEdges.forEach(e=>{e.ttl-=1})}getEdges(){return this.$activeEdges.asObservable()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nv=(()=>{class n{constructor(e){this.edgeService=e,this.graph=new Ei({graph:new ua(new Map),activeEdges:[{edge:"",ttl:0}]}),this.activeEdges=[],this.edgeService.getEdges().subscribe(i=>{this.activeEdges=i,this.emitGraph(this.graph.getValue().graph)})}getGraph(){return this.graph.asObservable()}emitGraph(e){this.graph.next({graph:e,activeEdges:this.activeEdges})}}return n.\u0275fac=function(e){return new(e||n)(le(XN))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QN=(()=>{class n{constructor(){this.$minerListChange=new Ei("")}get(){return this.$minerListChange.asObservable()}emit(){this.$minerListChange.next("")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hX=(()=>{class n{constructor(){this.$idEmitter=new Ei(1)}get(){return this.$idEmitter.asObservable()}emit(){this.$idEmitter.next(this.$idEmitter.value+1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oM=(()=>{class n{constructor(){this.minersToDelete=new Ei(new Array(""))}getMinersToDelete(){return this.minersToDelete.asObservable()}emitMinersToDelete(e){this.minersToDelete.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JN=(()=>{class n{constructor(e,i,r,s,a,l,h,m,v,C,D,T){this.parametersService=e,this.buttonsService=i,this.visualisationService=r,this.stepService=s,this.eventService=a,this.paymentService=l,this.minerService=h,this.blockchainService=m,this.addMinerService=v,this.edgeService=C,this.minersDeletingService=D,this.chartDataService=T,this.graph=new ua(new Map),this.nextId=0,this.minersToDelete=[],this.deadMiners=[],this.nextMinerID=this.parametersService.getAllNodes()}initializeSimulation(){(function cX(...n){const t=kh(n),e=function lX(n){return 1===n.length&&aX(n[0])?n[0]:n}(n);return e.length?new it(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let a=0;!i.closed&&a<e.length;a++)xr(e[a]).subscribe(In(i,l=>{if(r[a].push(l),r.every(h=>h.length)){const h=r.map(m=>m.shift());i.next(t?t(...h):h),r.some((m,v)=>!m.length&&s[v])&&i.complete()}},()=>{s[a]=!0,!r[a].length&&i.complete()}));return()=>{r=s=null}}):Ns})([this.stepService.getStep(),this.eventService.getSimulationEvent()]).pipe(Un(([e,i])=>{if(i instanceof uh){switch(i.eventType){case Fo.INITIALIZATION:this.handleInitialization();break;case Fo.BLOCK_MINED:this.handleBlockMined(i.eventData);break;case Fo.BLOCK_RECEIVED:this.handleBlockReceived(i.eventData);break;case Fo.UPDATE_LAST_BLOCK:this.handleBlockchainUpdate(i.eventData)}this.visualisationService.emitGraph(this.graph),this.minerService.emit()}this.stepService.unblockSemaphore()})).subscribe(),this.paymentService.getPayment().pipe(Un(e=>{this.graph.nodes.forEach(i=>{i.settlePayment(e)||(this.deadMiners.push(i),this.minersToDelete.push(""+i.id),i.neighbours.forEach(r=>{this.graph.nodes.get(r)?.detachMiner(i.id)}),this.graph.nodes.delete(i.id),this.minerService.emit())}),this.minersDeletingService.emitMinersToDelete(this.minersToDelete),this.minersToDelete=[]})).subscribe(),this.blockchainService.get().subscribe(e=>{this.nextId=e}),this.addMinerService.getAddMiner().pipe(Un(e=>{e>0?this.startAddingMiners(e):this.stopAddingMiners(),this.edgeService.depleteTTL()})).subscribe(),this.chartDataService.getRequest().pipe(Un(e=>{const i=this.collectMinerData();this.chartDataService.addData(i.total,i.country,e),this.chartDataService.emitData()})).subscribe()}startAddingMiners(e){this.addMinerFrequencySubscription=this.parametersService.getAddNewMinerFrequency().pipe(Un(i=>{i>0?this.addMinerSubscription=tv(ca.MONTH_INTERVAL/(i*e)).pipe(Un(()=>{this.addNewMiner(),this.visualisationService.emitGraph(this.graph)})).subscribe():this.addMinerSubscription?.unsubscribe()})).subscribe()}stopAddingMiners(){this.addMinerFrequencySubscription?.unsubscribe(),this.addMinerSubscription?.unsubscribe()}addNewMiner(){let e=this.nextMinerID;this.nextMinerID+=1;const i=this.getRandomNonMiner(),r=new ch(e,Gi.Miner,i.country,20);r.computingPower=UN(1,10),r.connect(i.id),i.connect(r.id),this.graph.nodes.set(e,r)}addNewMinerWithParams(e,i,r){let s=this.nextMinerID;this.nextMinerID+=1;const a=this.getRandomNonMiner(),l=new ch(s,Gi.Miner,e,i);l.computingPower=r,l.connect(a.id),a.connect(l.id),this.graph.nodes.set(s,l)}handleInitialization(){this.graph=ua.generateGraph(this.parametersService.getFullNodes(),this.parametersService.getMinerNodes(),this.parametersService.getLightNodes(),this.parametersService.getListeningNodes(),this.parametersService.getInitialMinersData())}handleBlockMined(e){let i=[];this.graph.nodes.forEach((h,m)=>{if(h.nodeType==Gi.Miner)for(let v=0;v<h.computingPower;v++)i.push(m)});let r=UN(0,i.length-1),s=i[r],a=this.graph.nodes.get(s);if(void 0===a)return;let l=new T0(this.nextId,a.id,a.getParent());a.mineBlock(l),this.blockchainService.emit(),a.mined++,a.blockChainLength++,a.receiveReward(this.parametersService.getReward()),a.neighbours.forEach(h=>{let m=new bp;m.senderId=s,m.receiverId=h,this.edgeService.addEdge(m.senderId,m.receiverId),this.edgeService.addEdge(m.receiverId,m.senderId),this.eventService.emitSimulationEvent(new uh(Fo.BLOCK_RECEIVED,m))}),this.edgeService.depleteTTL()}handleBlockReceived(e){let i=this.graph?.nodes.get(e.senderId),r=this.graph?.nodes.get(e.receiverId);if(!i||!r)return;const s=i.getLast();r.getLast()?.id!=s?.id&&(r.addBlock(s),r.neighbours.forEach(l=>{if(l===e.senderId)return;let h=new bp;h.senderId=e.receiverId,h.receiverId=l,this.edgeService.addEdge(h.senderId,h.receiverId),this.edgeService.addEdge(h.receiverId,h.senderId),this.eventService.emitSimulationEvent(new uh(Fo.BLOCK_RECEIVED,h))}),this.edgeService.depleteTTL())}handleBlockchainUpdate(e){let i=Array.from(this.graph.nodes.values()).filter(r=>r.nodeType==Gi.Full).reduce((r,s)=>r.blockChainSize>s.blockChainSize?r:s);i.neighbours.forEach(r=>{let s=new bp;s.senderId=i.id,s.receiverId=r,this.eventService.emitSimulationEvent(new uh(Fo.BLOCK_RECEIVED,s))})}getMiners(){return Array.from(this.graph.nodes.values()).filter((e,i)=>e.nodeType==Gi.Miner||e.money>0)}getRandomNonMiner(){const e=this.getNonMiners();return e[Math.floor(Math.random()*e.length)]}getNonMiners(){return Array.from(this.graph.nodes.values()).filter((e,i)=>e.nodeType!=Gi.Miner)}collectMinerData(){const e=this.getMiners(),i=e.length;let r={romania:0,poland:0,spain:0,germany:0,greatBritain:0};e.forEach(a=>{switch(a.country){case Il[0].enumName:r.romania++;break;case Il[1].enumName:r.poland++;break;case Il[2].enumName:r.spain++;break;case Il[3].enumName:r.germany++;break;case Il[4].enumName:r.greatBritain++;break;default:console.log("NO SUCH COUNTRY")}});const s=new dX(r.romania.toString(),r.poland.toString(),r.spain.toString(),r.germany.toString(),r.greatBritain.toString());return{total:i.toString(),country:s}}}return n.\u0275fac=function(e){return new(e||n)(le(hp),le(ZN),le(nv),le(WN),le(GN),le(qN),le(QN),le(hX),le(KN),le(XN),le(oM),le(sM))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fX=["*"],pX=["tabListContainer"],gX=["tabList"],mX=["tabListInner"],vX=["nextPaginator"],yX=["previousPaginator"],CX=["mat-tab-nav-bar",""],xX=new ke("MatInkBarPositioner",{providedIn:"root",factory:function DX(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let e2=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=s}alignToElement(e){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe(vr(1)).subscribe(()=>{const i=this._inkBarPositioner(e),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Kt),O(xX),O(cs,8))},n.\u0275dir=Ee({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&wi("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const t2=Jd({passive:!0});let MX=(()=>{class n{constructor(e,i,r,s,a,l,h){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=s,this._ngZone=a,this._platform=l,this._animationMode=h,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Ue,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Ue,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new gn,this.indexFocused=new gn,a.runOutsideAngular(()=>{Qd(e.nativeElement,"mouseleave").pipe(Hn(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=En(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=eo(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){Qd(this._previousPaginator.nativeElement,"touchstart",t2).pipe(Hn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Qd(this._nextPaginator.nativeElement,"touchstart",t2).pipe(Hn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Lt("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new $q(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(vr(1)).subscribe(r),rr(e,i,this._items.changes,this._itemsResized()).pipe(Hn(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Hn(this._destroyed)).subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?Ns:this._items.changes.pipe(Ha(this._items),Oo(e=>new it(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(s=>i.next(s));return e.forEach(s=>r.observe(s.elementRef.nativeElement)),()=>{r.disconnect()}}))),SS(1),yr(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Rl(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:a}=i.elementRef.nativeElement;let l,h;"ltr"==this._getLayoutDirection()?(l=s,h=l+a):(h=this._tabListInner.nativeElement.offsetWidth-s,l=h-a);const m=this.scrollDistance,v=this.scrollDistance+r;l<m?this.scrollDistance-=m-l+60:h>v&&(this.scrollDistance+=h-v+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),gS(650,100).pipe(Hn(rr(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(e);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Hr),O(nh),O(ho,8),O(Kt),O(_r),O(cs,8))},n.\u0275dir=Ee({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),TX=0,r2=(()=>{class n extends MX{constructor(e,i,r,s,a,l,h){super(e,s,a,i,r,l,h),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement.classList;i.remove(`mat-background-${this.backgroundColor}`),e&&i.add(`mat-background-${e}`),this._backgroundColor=e}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=En(e)}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe(Ha(null),Hn(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const e=this._items.toArray();for(let i=0;i<e.length;i++)if(e[i].active)return this.selectedIndex=i,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=e[i].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(ho,8),O(Kt),O(Hr),O(nh),O(_r),O(cs,8))},n.\u0275dir=Ee({type:n,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color",tabPanel:"tabPanel"},features:[Ve]}),n})(),s2=(()=>{class n extends r2{constructor(e,i,r,s,a,l,h){super(e,i,r,s,a,l,h)}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(ho,8),O(Kt),O(Hr),O(nh),O(_r),O(cs,8))},n.\u0275cmp=pn({type:n,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(e,i,r){if(1&e&&$i(r,o2,5),2&e){let s;Gt(s=Wt())&&(i._items=s)}},viewQuery:function(e,i){if(1&e&&(mi(e2,7),mi(pX,7),mi(gX,7),mi(mX,7),mi(vX,5),mi(yX,5)),2&e){let r;Gt(r=Wt())&&(i._inkBar=r.first),Gt(r=Wt())&&(i._tabListContainer=r.first),Gt(r=Wt())&&(i._tabList=r.first),Gt(r=Wt())&&(i._tabListInner=r.first),Gt(r=Wt())&&(i._nextPaginator=r.first),Gt(r=Wt())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:11,hostBindings:function(e,i){2&e&&(ii("role",i._getRole()),wi("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())("mat-primary","warn"!==i.color&&"accent"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[Ve],attrs:CX,ngContentSelectors:fX,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(ia(),de(0,"button",0,1),zt("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(s){return i._handlePaginatorPress("before",s)})("touchend",function(){return i._stopInterval()}),cn(2,"div",2),pe(),de(3,"div",3,4),zt("keydown",function(s){return i._handleKeydown(s)}),de(5,"div",5,6),zt("cdkObserveContent",function(){return i._onContentChanges()}),de(7,"div",7,8),cr(9),pe(),cn(10,"mat-ink-bar"),pe()(),de(11,"button",9,10),zt("mousedown",function(s){return i._handlePaginatorPress("after",s)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),cn(13,"div",2),pe()),2&e&&(wi("mat-tab-header-pagination-disabled",i._disableScrollBefore),Xe("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),Ae(5),wi("_mat-animation-noopable","NoopAnimations"===i._animationMode),Ae(6),wi("mat-tab-header-pagination-disabled",i._disableScrollAfter),Xe("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},dependencies:[$m,uL,e2],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}.mat-tab-link::before{margin:5px}@media(max-width: 599px){.mat-tab-link{min-width:72px}}"],encapsulation:2}),n})();const AX=PS(d0(rh(class{})));let kX=(()=>{class n extends AX{constructor(e,i,r,s,a,l){super(),this._tabNavBar=e,this.elementRef=i,this._focusMonitor=a,this._isActive=!1,this.id="mat-tab-link-"+TX++,this.rippleConfig=r||{},this.tabIndex=parseInt(s)||0,"NoopAnimations"===l&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get active(){return this._isActive}set active(e){const i=En(e);i!==this._isActive&&(this._isActive=i,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(e){this._tabNavBar.tabPanel&&32===e.keyCode&&this.elementRef.nativeElement.click()}_getAriaControls(){return this._tabNavBar.tabPanel?this._tabNavBar.tabPanel?.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive&&!this.disabled?0:-1:this.tabIndex}}return n.\u0275fac=function(e){return new(e||n)(O(r2),O(St),O(NS,8),Ds("tabindex"),O(Ol),O(cs,8))},n.\u0275dir=Ee({type:n,inputs:{active:"active",id:"id"},features:[Ve]}),n})(),o2=(()=>{class n extends kX{constructor(e,i,r,s,a,l,h,m){super(e,i,a,l,h,m),this._tabLinkRipple=new PL(this,r,i,s),this._tabLinkRipple.setupTriggerEvents(i.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this._tabLinkRipple._removeTriggerEvents()}}return n.\u0275fac=function(e){return new(e||n)(O(s2),O(St),O(Kt),O(_r),O(NS,8),Ds("tabindex"),O(Ol),O(cs,8))},n.\u0275dir=Ee({type:n,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:11,hostBindings:function(e,i){1&e&&zt("focus",function(){return i._handleFocus()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(ii("aria-controls",i._getAriaControls())("aria-current",i._getAriaCurrent())("aria-disabled",i.disabled)("aria-selected",i._getAriaSelected())("id",i.id)("tabIndex",i._getTabIndex())("role",i._getRole()),wi("mat-tab-disabled",i.disabled)("mat-tab-label-active",i.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[Ve]}),n})(),IX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Va,Ci,lp,h0,MS,OS,Ci]}),n})();const RX=["sliderWrapper"],da=Jd({passive:!1}),NX={provide:aa,useExisting:ai(()=>aM),multi:!0};class BX{}const VX=PS(u0(rh(class{constructor(n){this._elementRef=n}}),"accent"));let aM=(()=>{class n extends VX{constructor(e,i,r,s,a,l,h,m){super(e),this._focusMonitor=i,this._changeDetectorRef=r,this._dir=s,this._ngZone=l,this._animationMode=m,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new gn,this.input=new gn,this.valueChange=new gn,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=ne.EMPTY,this._pointerDown=v=>{this.disabled||this._isSliding||!iv(v)&&0!==v.button||this._ngZone.run(()=>{this._touchId=iv(v)?function HX(n,t){for(let e=0;e<n.touches.length;e++){const i=n.touches[e].target;if(t===i||t.contains(i))return n.touches[e].identifier}}(v,this._elementRef.nativeElement):void 0;const C=l2(v,this._touchId);if(C){const D=this.value;this._isSliding="pointer",this._lastPointerEvent=v,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(v),this._focusHostElement(),this._updateValueFromPosition(C),this._valueOnSlideStart=D,v.cancelable&&v.preventDefault(),D!=this.value&&this._emitInputEvent()}})},this._pointerMove=v=>{if("pointer"===this._isSliding){const C=l2(v,this._touchId);if(C){v.cancelable&&v.preventDefault();const D=this.value;this._lastPointerEvent=v,this._updateValueFromPosition(C),D!=this.value&&this._emitInputEvent()}}},this._pointerUp=v=>{"pointer"===this._isSliding&&(!iv(v)||"number"!=typeof this._touchId||lM(v.changedTouches,this._touchId))&&(v.cancelable&&v.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=h,this.tabIndex=parseInt(a)||0,l.runOutsideAngular(()=>{const v=e.nativeElement;v.addEventListener("mousedown",this._pointerDown,da),v.addEventListener("touchstart",this._pointerDown,da)})}get invert(){return this._invert}set invert(e){this._invert=En(e)}get max(){return this._max}set max(e){this._max=eo(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=eo(e,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=eo(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=En(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?eo(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let i=eo(e,0);this._roundToDecimal&&i!==this.min&&i!==this.max&&(i=parseFloat(i.toFixed(this._roundToDecimal))),this._value=i,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=En(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const i=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${i})`}}_getTrackFillStyles(){const e=this.percent,r=this.vertical?`1, ${e}, 1`:`${e}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${r})`,display:0===e?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let e=100*this._tickIntervalPercent,l={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const h=this._shouldInvertAxis();let m;m=this.vertical?h?"Bottom":"Top":h?"Right":"Left",l[`padding${m}`]=`${this._getThumbGap()}px`}return l}_getThumbContainerStyles(){const e=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,da),e.removeEventListener("touchstart",this._pointerDown,da),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||Rl(e)||this._isSliding&&"keyboard"!==this._isSliding)return;const i=this.value;switch(e.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}i!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",e.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(e){const i=this._document,r=iv(e),a=r?"touchend":"mouseup";i.addEventListener(r?"touchmove":"mousemove",this._pointerMove,da),i.addEventListener(a,this._pointerUp,da),r&&i.addEventListener("touchcancel",this._pointerUp,da);const l=this._getWindow();typeof l<"u"&&l&&l.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,da),e.removeEventListener("mouseup",this._pointerUp,da),e.removeEventListener("touchmove",this._pointerMove,da),e.removeEventListener("touchend",this._pointerUp,da),e.removeEventListener("touchcancel",this._pointerUp,da);const i=this._getWindow();typeof i<"u"&&i&&i.removeEventListener("blur",this._windowBlur)}_increment(e){const i=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(i+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let a=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(a=1-a),0===a)this.value=this.min;else if(1===a)this.value=this.max;else{const l=this._calculateValue(a),h=Math.round((l-this.min)/this.step)*this.step+this.min;this.value=this._clamp(h,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let e;if("auto"==this.tickInterval){let i=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;e=Math.ceil(30/(i*this.step/(this.max-this.min)))*this.step/i}else e=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=a2(e)?e:0}_createChangeEvent(e=this.value){let i=new BX;return i.source=this,i.value=e,i}_calculatePercentage(e){const i=((e||0)-this.min)/(this.max-this.min);return a2(i)?i:0}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,i=0,r=1){return Math.max(i,Math.min(e,r))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(O(St),O(Ol),O(Hr),O(ho,8),Ds("tabindex"),O(Kt),O(un),O(cs,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-slider"]],viewQuery:function(e,i){if(1&e&&mi(RX,5),2&e){let r;Gt(r=Wt())&&(i._sliderWrapper=r.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(e,i){1&e&&zt("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)})("keyup",function(){return i._onKeyup()})("mouseenter",function(){return i._onMouseenter()})("selectstart",function(s){return s.preventDefault()}),2&e&&(Bd("tabIndex",i.tabIndex),ii("aria-disabled",i.disabled)("aria-valuemax",i.max)("aria-valuemin",i.min)("aria-valuenow",i.value)("aria-valuetext",i.valueText??i.displayValue)("aria-orientation",i.vertical?"vertical":"horizontal"),wi("mat-slider-disabled",i.disabled)("mat-slider-has-ticks",i.tickInterval)("mat-slider-horizontal",!i.vertical)("mat-slider-axis-inverted",i._shouldInvertAxis())("mat-slider-invert-mouse-coords",i._shouldInvertMouseCoords())("mat-slider-sliding",i._isSliding)("mat-slider-thumb-label-showing",i.thumbLabel)("mat-slider-vertical",i.vertical)("mat-slider-min-value",i._isMinValue())("mat-slider-hide-last-tick",i.disabled||i._isMinValue()&&i._getThumbGap()&&i._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[yn([NX]),Ve],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,i){1&e&&(de(0,"div",0,1)(2,"div",2),cn(3,"div",3)(4,"div",4),pe(),de(5,"div",5),cn(6,"div",6),pe(),de(7,"div",7),cn(8,"div",8)(9,"div",9),de(10,"div",10)(11,"span",11),Le(12),pe()()()()),2&e&&(Ae(3),Xe("ngStyle",i._getTrackBackgroundStyles()),Ae(1),Xe("ngStyle",i._getTrackFillStyles()),Ae(1),Xe("ngStyle",i._getTicksContainerStyles()),Ae(1),Xe("ngStyle",i._getTicksStyles()),Ae(1),Xe("ngStyle",i._getThumbContainerStyles()),Ae(5),zi(i.displayValue))},dependencies:[Q_],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid rgba(0,0,0,0);border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}'],encapsulation:2,changeDetection:0}),n})();function a2(n){return!isNaN(n)&&isFinite(n)}function iv(n){return"t"===n.type[0]}function l2(n,t){let e;return e=iv(n)?"number"==typeof t?lM(n.touches,t)||lM(n.changedTouches,t):n.touches[0]||n.changedTouches[0]:n,e?{x:e.clientX,y:e.clientY}:void 0}function lM(n,t){for(let e=0;e<n.length;e++)if(n[e].identifier===t)return n[e]}let zX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Va,Ci,Ci]}),n})(),$X=(()=>{class n{constructor(e){this.buttonsService=e,this.disabled=!1,this.value=1}ngOnInit(){}startSimulation(){this.disabled=!0,this.buttonsService.startSimulation(this.value)}stopSimulation(){this.buttonsService.stopSimulation(),this.disabled=!1}getButtonTitle(){return this.disabled?"Stop":"Start"}}return n.\u0275fac=function(e){return new(e||n)(O(ZN))},n.\u0275cmp=pn({type:n,selectors:[["app-buttons"]],decls:4,vars:8,consts:[["fxLayout","row","fxLayoutAlign","end start","fxLayoutGap","10px",1,"buttons"],["fxFlex","200px",3,"disabled","max","min","step","thumbLabel","ngModel","ngModelChange"],["mat-fab","",3,"color","click"]],template:function(e,i){1&e&&(de(0,"div",0)(1,"mat-slider",1),zt("ngModelChange",function(s){return i.value=s}),pe(),de(2,"button",2),zt("click",function(){return i.disabled?i.stopSimulation():i.startSimulation()}),Le(3),pe()()),2&e&&(Ae(1),Xe("disabled",i.disabled)("max",10)("min",1)("step",1)("thumbLabel",!0)("ngModel",i.value),Ae(1),Xe("color",i.disabled?"accent":"primary"),Ae(1),Tr(" ",i.getButtonTitle()," "))},dependencies:[ja,Pu,Ua,qS,xc,ip,sS,aM]}),n})(),jX=(()=>{class n{transform(e){const i=Math.floor(e/10),r=Math.floor(i/360),s=Math.floor((i-360*r)/30),a=i%30;return r>0?r.toString()+" years "+s.toString()+" months "+a.toString()+" days":s>0?s.toString()+" months "+a.toString()+" days":a.toString()+" days"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=ms({name:"simulationTimer",type:n,pure:!0}),n})(),UX=(()=>{class n{constructor(e,i){this.timerService=e,this.chartDataService=i,this.stepCounter=0,this.monthCounter=0}ngOnInit(){this.timerService.getUpdateTime().pipe(Un(()=>this.updateSimulationTimer())).subscribe()}updateSimulationTimer(){this.stepCounter++;const e=Math.floor(Math.floor(this.stepCounter/10)/30);this.monthCounter!==e&&(this.monthCounter=e,this.chartDataService.emitRequest(this.monthCounter))}}return n.\u0275fac=function(e){return new(e||n)(O(YN),O(sM))},n.\u0275cmp=pn({type:n,selectors:[["app-simulation-timer"]],decls:3,vars:3,template:function(e,i){1&e&&(de(0,"h2"),Le(1),fc(2,"simulationTimer"),pe()),2&e&&(Ae(1),Tr(" Simulation time: ",pc(2,1,i.stepCounter),"\n"))},dependencies:[jX]}),n})();function GX(n,t){if(1&n&&(de(0,"a",5,6),Le(2),pe()),2&n){const e=t.$implicit;Xe("active",jg(1).isActive)("routerLink",e.path),Ae(2),Tr(" ",e.name," ")}}let WX=(()=>{class n{constructor(e,i,r){this.parametersService=e,this.simulationService=i,this.dialog=r,this.nodesCount=10,this.tabs=[new Qm("Network",qE),new Qm("Miners","miners"),new Qm("Parameters",TP),new Qm("Blockchain",AP),new Qm("Charts","charts")]}ngOnInit(){this.nodesCount=this.parametersService.getAllNodes(),this.simulationService.initializeSimulation()}goBackToInitConfig(){this.dialog.open(rX).afterClosed().subscribe(i=>{i&&(location.href=WE)})}}return n.\u0275fac=function(e){return new(e||n)(O(hp),O(JN),O(ev))},n.\u0275cmp=pn({type:n,selectors:[["app-simulation"]],decls:13,vars:1,consts:[["fxLayout","column","fxLayoutAlign","space-between","fxLayoutGap","1vh",1,"container"],["fxLayout","row","fxLayoutAlign","space-between"],["mat-raised-button","","color","primary",3,"click"],["mat-tab-nav-bar",""],["fxFlex","","mat-tab-link","","routerLinkActive","",3,"active","routerLink",4,"ngFor","ngForOf"],["fxFlex","","mat-tab-link","","routerLinkActive","",3,"active","routerLink"],["rla","routerLinkActive"]],template:function(e,i){1&e&&(de(0,"div",0)(1,"div",1)(2,"button",2),zt("click",function(){return i.goBackToInitConfig()}),de(3,"span"),Le(4,"Initial nodes configuration "),pe(),de(5,"mat-icon"),Le(6,"undo"),pe()(),cn(7,"app-simulation-timer")(8,"app-buttons"),pe(),de(9,"div")(10,"nav",3),Et(11,GX,3,3,"a",4),pe()()(),cn(12,"router-outlet")),2&e&&(Ae(11),Xe("ngForOf",i.tabs))},dependencies:[Ud,_b,Ab,mP,s2,o2,ja,Pu,Ua,qS,Ym,xc,$X,UX],styles:[".container[_ngcontent-%COMP%]{margin:1vh 1vw}"]}),n})();var rv=B(6864),qX=B(3811),KX=B(8061),YX=B(9208),c2="tippy-content",d2="tippy-arrow",h2="tippy-svg-arrow",Nu={passive:!0,capture:!0},f2=function(){return document.body};function cM(n,t,e){return Array.isArray(n)?n[t]??(Array.isArray(e)?e[t]:e):n}function uM(n,t){var e={}.toString.call(n);return 0===e.indexOf("[object")&&e.indexOf(t+"]")>-1}function p2(n,t){return"function"==typeof n?n.apply(void 0,t):n}function g2(n,t){return 0===t?n:function(i){clearTimeout(e),e=setTimeout(function(){n(i)},t)};var e}function Bu(n){return[].concat(n)}function m2(n,t){-1===n.indexOf(t)&&n.push(t)}function wp(n){return[].slice.call(n)}function y2(n){return Object.keys(n).reduce(function(t,e){return void 0!==n[e]&&(t[e]=n[e]),t},{})}function dh(){return document.createElement("div")}function k0(n){return["Element","Fragment"].some(function(t){return uM(n,t)})}function fM(n,t){n.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function sv(n,t){n.forEach(function(e){e&&e.setAttribute("data-state",t)})}function pM(n,t,e){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){n[i](r,e)})}function w2(n,t){for(var e=t;e;){var i;if(n.contains(e))return!0;e=null==e.getRootNode||null==(i=e.getRootNode())?void 0:i.host}return!1}var Pl={isTouch:!1},C2=0;function iQ(){Pl.isTouch||(Pl.isTouch=!0,window.performance&&document.addEventListener("mousemove",x2))}function x2(){var n=performance.now();n-C2<20&&(Pl.isTouch=!1,document.removeEventListener("mousemove",x2)),C2=n}function rQ(){var n=document.activeElement;(function _2(n){return!(!n||!n._tippy||n._tippy.reference!==n)})(n)&&n.blur&&!n._tippy.state.isVisible&&n.blur()}var aQ=!!(typeof window<"u"&&typeof document<"u")&&!!window.msCrypto,fo=Object.assign({appendTo:f2,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),dQ=Object.keys(fo);function T2(n){var e=(n.plugins||[]).reduce(function(i,r){var l,s=r.name;return s&&(i[s]=void 0!==n[s]?n[s]:null!=(l=fo[s])?l:r.defaultValue),i},{});return Object.assign({},n,e)}function A2(n,t){var e=Object.assign({},t,{content:p2(t.content,[n])},t.ignoreAttributes?{}:function fQ(n,t){return(t?Object.keys(T2(Object.assign({},fo,{plugins:t}))):dQ).reduce(function(r,s){var a=(n.getAttribute("data-tippy-"+s)||"").trim();if(!a)return r;if("content"===s)r[s]=a;else try{r[s]=JSON.parse(a)}catch{r[s]=a}return r},{})}(n,t.plugins));return e.aria=Object.assign({},fo.aria,e.aria),e.aria={expanded:"auto"===e.aria.expanded?t.interactive:e.aria.expanded,content:"auto"===e.aria.content?t.interactive?null:"describedby":e.aria.content},e}function gM(n,t){n.innerHTML=t}function k2(n){var t=dh();return!0===n?t.className=d2:(t.className=h2,k0(n)?t.appendChild(n):gM(t,n)),t}function I2(n,t){k0(t.content)?(gM(n,""),n.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?gM(n,t.content):n.textContent=t.content)}function I0(n){var t=n.firstElementChild,e=wp(t.children);return{box:t,content:e.find(function(i){return i.classList.contains(c2)}),arrow:e.find(function(i){return i.classList.contains(d2)||i.classList.contains(h2)}),backdrop:e.find(function(i){return i.classList.contains("tippy-backdrop")})}}function R2(n){var t=dh(),e=dh();e.className="tippy-box",e.setAttribute("data-state","hidden"),e.setAttribute("tabindex","-1");var i=dh();function r(s,a){var l=I0(t),h=l.box,m=l.content,v=l.arrow;a.theme?h.setAttribute("data-theme",a.theme):h.removeAttribute("data-theme"),"string"==typeof a.animation?h.setAttribute("data-animation",a.animation):h.removeAttribute("data-animation"),a.inertia?h.setAttribute("data-inertia",""):h.removeAttribute("data-inertia"),h.style.maxWidth="number"==typeof a.maxWidth?a.maxWidth+"px":a.maxWidth,a.role?h.setAttribute("role",a.role):h.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&I2(m,n.props),a.arrow?v?s.arrow!==a.arrow&&(h.removeChild(v),h.appendChild(k2(a.arrow))):h.appendChild(k2(a.arrow)):v&&h.removeChild(v)}return i.className=c2,i.setAttribute("data-state","hidden"),I2(i,n.props),t.appendChild(e),e.appendChild(i),r(n.props,n.props),{popper:t,onUpdate:r}}R2.$$tippy=!0;var gQ=1,R0=[],O0=[];function mQ(n,t){var i,r,s,v,C,D,P,e=A2(n,Object.assign({},fo,T2(y2(t)))),a=!1,l=!1,h=!1,m=!1,T=[],k=g2(Mz,e.interactiveDebounce),N=gQ++,q=function JX(n){return n.filter(function(t,e){return n.indexOf(t)===e})}(e.plugins),$={id:N,reference:n,popper:dh(),popperInstance:null,props:e,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:q,clearDelayTimeouts:function Oce(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(s)},setProps:function Pce(je){if(!$.state.isDestroyed){kt("onBeforeUpdate",[$,je]),Ez();var jt=$.props,bn=A2(n,Object.assign({},jt,y2(je),{ignoreAttributes:!0}));$.props=bn,Pp(),jt.interactiveDebounce!==bn.interactiveDebounce&&(Qr(),k=g2(Mz,bn.interactiveDebounce)),jt.triggerTarget&&!bn.triggerTarget?Bu(jt.triggerTarget).forEach(function(Ai){Ai.removeAttribute("aria-expanded")}):bn.triggerTarget&&n.removeAttribute("aria-expanded"),xi(),Ct(),Qe&&Qe(jt,bn),$.popperInstance&&(Iz(),WT().forEach(function(Ai){requestAnimationFrame(Ai._tippy.popperInstance.forceUpdate)})),kt("onAfterUpdate",[$,je])}},setContent:function Fce(je){$.setProps({content:je})},show:function Lce(){var je=$.state.isVisible,jt=$.state.isDestroyed,bn=!$.state.isEnabled,Ai=Pl.isTouch&&!$.props.touch,pi=cM($.props.duration,0,fo.duration);if(!(je||jt||bn||Ai||Gn().hasAttribute("disabled")||(kt("onShow",[$],!1),!1===$.props.onShow($)))){if($.state.isVisible=!0,Yt()&&(_e.style.visibility="visible"),Ct(),Ka(),$.state.isMounted||(_e.style.transition="none"),Yt()){var no=zn();fM([no.box,no.content],0)}D=function(){var Sh;if($.state.isVisible&&!m){if(m=!0,_e.style.transition=$.props.moveTransition,Yt()&&$.props.animation){var qT=zn(),Yw=qT.box,Lp=qT.content;fM([Yw,Lp],pi),sv([Yw,Lp],"visible")}tn(),xi(),m2(O0,$),null==(Sh=$.popperInstance)||Sh.forceUpdate(),kt("onMount",[$]),$.props.animation&&Yt()&&function Lc(je,jt){to(je,jt)}(pi,function(){$.state.isShown=!0,kt("onShown",[$])})}},function kce(){var jt,je=$.props.appendTo,bn=Gn();(jt=$.props.interactive&&je===f2||"parent"===je?bn.parentNode:p2(je,[bn])).contains(_e)||jt.appendChild(_e),$.state.isMounted=!0,Iz()}()}},hide:function Nce(){var je=!$.state.isVisible,jt=$.state.isDestroyed,bn=!$.state.isEnabled,Ai=cM($.props.duration,1,fo.duration);if(!(je||jt||bn)&&(kt("onHide",[$],!1),!1!==$.props.onHide($))){if($.state.isVisible=!1,$.state.isShown=!1,m=!1,a=!1,Yt()&&(_e.style.visibility="hidden"),Qr(),Ya(),Ct(!0),Yt()){var pi=zn(),no=pi.box,ma=pi.content;$.props.animation&&(fM([no,ma],Ai),sv([no,ma],"hidden"))}tn(),xi(),$.props.animation?Yt()&&function hs(je,jt){to(je,function(){!$.state.isVisible&&_e.parentNode&&_e.parentNode.contains(_e)&&jt()})}(Ai,$.unmount):$.unmount()}},hideWithInteractivity:function Bce(je){Ti().addEventListener("mousemove",k),m2(R0,k),k(je)},enable:function Ice(){$.state.isEnabled=!0},disable:function Rce(){$.hide(),$.state.isEnabled=!1},unmount:function Vce(){$.state.isVisible&&$.hide(),$.state.isMounted&&(Rz(),WT().forEach(function(je){je._tippy.unmount()}),_e.parentNode&&_e.parentNode.removeChild(_e),O0=O0.filter(function(je){return je!==$}),$.state.isMounted=!1,kt("onHidden",[$]))},destroy:function Hce(){$.state.isDestroyed||($.clearDelayTimeouts(),$.unmount(),Ez(),delete n._tippy,$.state.isDestroyed=!0,kt("onDestroy",[$]))}};if(!e.render)return $;var fe=e.render($),_e=fe.popper,Qe=fe.onUpdate;_e.setAttribute("data-tippy-root",""),_e.id="tippy-"+$.id,$.popper=_e,n._tippy=$,_e._tippy=$;var dt=q.map(function(je){return je.fn($)}),Rt=n.hasAttribute("aria-expanded");return Pp(),xi(),Ct(),kt("onCreate",[$]),e.showOnCreate&&Oz(),_e.addEventListener("mouseenter",function(){$.props.interactive&&$.state.isVisible&&$.clearDelayTimeouts()}),_e.addEventListener("mouseleave",function(){$.props.interactive&&$.props.trigger.indexOf("mouseenter")>=0&&Ti().addEventListener("mousemove",k)}),$;function $t(){var je=$.props.touch;return Array.isArray(je)?je:[je,0]}function rn(){return"hold"===$t()[0]}function Yt(){var je;return!(null==(je=$.props.render)||!je.$$tippy)}function Gn(){return P||n}function Ti(){var je=Gn().parentNode;return je?function b2(n){var t,i=Bu(n)[0];return null!=i&&null!=(t=i.ownerDocument)&&t.body?i.ownerDocument:document}(je):document}function zn(){return I0(_e)}function pt(je){return $.state.isMounted&&!$.state.isVisible||Pl.isTouch||v&&"focus"===v.type?0:cM($.props.delay,je?0:1,fo.delay)}function Ct(je){void 0===je&&(je=!1),_e.style.pointerEvents=$.props.interactive&&!je?"":"none",_e.style.zIndex=""+$.props.zIndex}function kt(je,jt,bn){var Ai;void 0===bn&&(bn=!0),dt.forEach(function(pi){pi[je]&&pi[je].apply(pi,jt)}),bn&&(Ai=$.props)[je].apply(Ai,jt)}function tn(){var je=$.props.aria;if(je.content){var jt="aria-"+je.content,bn=_e.id;Bu($.props.triggerTarget||n).forEach(function(pi){var no=pi.getAttribute(jt);if($.state.isVisible)pi.setAttribute(jt,no?no+" "+bn:bn);else{var ma=no&&no.replace(bn,"").trim();ma?pi.setAttribute(jt,ma):pi.removeAttribute(jt)}})}}function xi(){!Rt&&$.props.aria.expanded&&Bu($.props.triggerTarget||n).forEach(function(jt){$.props.interactive?jt.setAttribute("aria-expanded",$.state.isVisible&&jt===Gn()?"true":"false"):jt.removeAttribute("aria-expanded")})}function Qr(){Ti().removeEventListener("mousemove",k),R0=R0.filter(function(je){return je!==k})}function Ki(je){if(!Pl.isTouch||!h&&"mousedown"!==je.type){var jt=je.composedPath&&je.composedPath()[0]||je.target;if(!$.props.interactive||!w2(_e,jt)){if(Bu($.props.triggerTarget||n).some(function(bn){return w2(bn,jt)})){if(Pl.isTouch||$.state.isVisible&&$.props.trigger.indexOf("click")>=0)return}else kt("onClickOutside",[$,je]);!0===$.props.hideOnClick&&($.clearDelayTimeouts(),$.hide(),l=!0,setTimeout(function(){l=!1}),$.state.isMounted||Ya())}}}function bs(){h=!0}function yi(){h=!1}function Ka(){var je=Ti();je.addEventListener("mousedown",Ki,!0),je.addEventListener("touchend",Ki,Nu),je.addEventListener("touchstart",yi,Nu),je.addEventListener("touchmove",bs,Nu)}function Ya(){var je=Ti();je.removeEventListener("mousedown",Ki,!0),je.removeEventListener("touchend",Ki,Nu),je.removeEventListener("touchstart",yi,Nu),je.removeEventListener("touchmove",bs,Nu)}function to(je,jt){var bn=zn().box;function Ai(pi){pi.target===bn&&(pM(bn,"remove",Ai),jt())}if(0===je)return jt();pM(bn,"remove",C),pM(bn,"add",Ai),C=Ai}function Za(je,jt,bn){void 0===bn&&(bn=!1),Bu($.props.triggerTarget||n).forEach(function(pi){pi.addEventListener(je,jt,bn),T.push({node:pi,eventType:je,handler:jt,options:bn})})}function Pp(){rn()&&(Za("touchstart",Sz,{passive:!0}),Za("touchend",Tz,{passive:!0})),function QX(n){return n.split(/\s+/).filter(Boolean)}($.props.trigger).forEach(function(je){if("manual"!==je)switch(Za(je,Sz),je){case"mouseenter":Za("mouseleave",Tz);break;case"focus":Za(aQ?"focusout":"blur",Az);break;case"focusin":Za("focusout",Az)}})}function Ez(){T.forEach(function(je){je.node.removeEventListener(je.eventType,je.handler,je.options)}),T=[]}function Sz(je){var jt,bn=!1;if($.state.isEnabled&&!kz(je)&&!l){var Ai="focus"===(null==(jt=v)?void 0:jt.type);v=je,P=je.currentTarget,xi(),!$.state.isVisible&&function hM(n){return uM(n,"MouseEvent")}(je)&&R0.forEach(function(pi){return pi(je)}),"click"===je.type&&($.props.trigger.indexOf("mouseenter")<0||a)&&!1!==$.props.hideOnClick&&$.state.isVisible?bn=!0:Oz(je),"click"===je.type&&(a=!bn),bn&&!Ai&&Kw(je)}}function Mz(je){var jt=je.target,bn=Gn().contains(jt)||_e.contains(jt);"mousemove"===je.type&&bn||function nQ(n,t){var e=t.clientX,i=t.clientY;return n.every(function(r){var s=r.popperRect,a=r.popperState,h=r.props.interactiveBorder,m=function v2(n){return n.split("-")[0]}(a.placement),v=a.modifiersData.offset;return!v||s.top-i+("bottom"===m?v.top.y:0)>h||i-s.bottom-("top"===m?v.bottom.y:0)>h||s.left-e+("right"===m?v.left.x:0)>h||e-s.right-("left"===m?v.right.x:0)>h})}(WT().concat(_e).map(function(pi){var no,Fp=null==(no=pi._tippy.popperInstance)?void 0:no.state;return Fp?{popperRect:pi.getBoundingClientRect(),popperState:Fp,props:e}:null}).filter(Boolean),je)&&(Qr(),Kw(je))}function Tz(je){if(!(kz(je)||$.props.trigger.indexOf("click")>=0&&a)){if($.props.interactive)return void $.hideWithInteractivity(je);Kw(je)}}function Az(je){$.props.trigger.indexOf("focusin")<0&&je.target!==Gn()||$.props.interactive&&je.relatedTarget&&_e.contains(je.relatedTarget)||Kw(je)}function kz(je){return!!Pl.isTouch&&rn()!==je.type.indexOf("touch")>=0}function Iz(){Rz();var je=$.props,jt=je.popperOptions,bn=je.placement,Ai=je.offset,pi=je.getReferenceClientRect,no=je.moveTransition,ma=Yt()?I0(_e).arrow:null,Fp=pi?{getBoundingClientRect:pi,contextElement:pi.contextElement||Gn()}:n,Sh=[{name:"offset",options:{offset:Ai}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!no}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Yw){var Lp=Yw.state;if(Yt()){var KT=zn().box;["placement","reference-hidden","escaped"].forEach(function(Zw){"placement"===Zw?KT.setAttribute("data-placement",Lp.placement):Lp.attributes.popper["data-popper-"+Zw]?KT.setAttribute("data-"+Zw,""):KT.removeAttribute("data-"+Zw)}),Lp.attributes.popper={}}}}];Yt()&&ma&&Sh.push({name:"arrow",options:{element:ma,padding:3}}),Sh.push.apply(Sh,jt?.modifiers||[]),$.popperInstance=(0,KX.fi)(Fp,_e,Object.assign({},jt,{placement:bn,onFirstUpdate:D,modifiers:Sh}))}function Rz(){$.popperInstance&&($.popperInstance.destroy(),$.popperInstance=null)}function WT(){return wp(_e.querySelectorAll("[data-tippy-root]"))}function Oz(je){$.clearDelayTimeouts(),je&&kt("onTrigger",[$,je]),Ka();var jt=pt(!0),bn=$t(),pi=bn[1];Pl.isTouch&&"hold"===bn[0]&&pi&&(jt=pi),jt?i=setTimeout(function(){$.show()},jt):$.show()}function Kw(je){if($.clearDelayTimeouts(),kt("onUntrigger",[$,je]),$.state.isVisible){if(!($.props.trigger.indexOf("mouseenter")>=0&&$.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(je.type)>=0&&a)){var jt=pt(!1);jt?r=setTimeout(function(){$.state.isVisible&&$.hide()},jt):s=requestAnimationFrame(function(){$.hide()})}}else Ya()}}function Vu(n,t){void 0===t&&(t={});var e=fo.plugins.concat(t.plugins||[]);!function sQ(){document.addEventListener("touchstart",iQ,Nu),window.addEventListener("blur",rQ)}();var i=Object.assign({},t,{plugins:e}),l=function tQ(n){return k0(n)?[n]:function eQ(n){return uM(n,"NodeList")}(n)?wp(n):Array.isArray(n)?n:wp(document.querySelectorAll(n))}(n).reduce(function(h,m){var v=m&&mQ(m,i);return v&&h.push(v),h},[]);return k0(n)?l[0]:l}Vu.defaultProps=fo,Vu.setDefaultProps=function(t){Object.keys(t).forEach(function(i){fo[i]=t[i]})},Vu.currentInput=Pl,Object.assign({},YX.Z,{effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow)}}),Vu.setDefaultProps({render:R2});const F2=Vu,DQ=["cy"];rv.use(qX);let EQ=(()=>{class n{constructor(e,i){this.visualisationService=e,this.minersToDeleteService=i,this.id2tip={},this.minersToDelete=[],this.activeEdges=[],this.cy=rv({}),this.visualisationSub1=this.visualisationService.getGraph().pipe(Un(r=>{this.graph=r.graph,this.activeEdges=r.activeEdges})).subscribe(),this.cy.destroyed()||this.cy.destroy()}ngOnInit(){this.cy=rv({container:document.getElementById("cy"),style:[{selector:"node",style:{width:"20px",height:"20px","font-size":"5px","background-color":function(e){switch(e.data("value.type")){case 0:return"red";case 1:return"green";case 2:return"blue";default:return"orange"}},label:function(e){return e.id()}}},{selector:"edge",style:{width:1}},{selector:":parent",style:{"background-opacity":.333}}]}),this.createNodes(this.graph),this.createEdges(),this.visualisationSub2&&this.visualisationSub2.unsubscribe(),this.visualisationSub2=this.visualisationService.getGraph().pipe(Un(e=>{this.updateNodes(e.graph),this.cy.remove("edge"),this.cy.forceRender(),this.createEdges(),this.makeTooltips(),this.cy.layout({name:"cose",animate:!1,randomize:!1,refresh:0,padding:50}).run(),this.cy.nodes().lock(),this.cy.nodes().on("click ",i=>{this.id2tip[i.target.id()].show()})})).subscribe()}createNodes(e){e.nodes.forEach(i=>{this.cy.add(i.nodeType===Gi.Miner?{data:{id:""+i.id,value:{mined:i.mined,money:i.money,type:i.nodeType,country:i.country,computingPower:i.computingPower,neighbours:i.neighbours}}}:{data:{id:""+i.id,value:{type:i.nodeType,neighbours:i.neighbours}}})})}createEdges(){this.cy.nodes().forEach(e=>{e.data("value.neighbours").forEach(i=>{const r=`${i}_${e.id()}`,s=`${e.id()}_${i}`;this.cy.getElementById(r).length>0||(this.cy.add({data:{id:e.id()+"_"+i,source:""+e.id(),target:""+i}}),this.activeEdges.forEach(a=>{a.edge===s&&a.ttl>0&&this.cy.getElementById(s).style({"line-color":"red"})}))})})}updateNodes(e){this.minersToDeleteSub&&this.minersToDeleteSub.unsubscribe(),this.minersToDeleteSub=this.minersToDeleteService.getMinersToDelete().subscribe(i=>{this.minersToDelete=i}),this.minersToDelete.forEach(i=>{this.cy.getElementById(i).remove()}),e.nodes.forEach(i=>{i.nodeType===Gi.Miner?this.cy.getElementById(""+i.id).id()==""+i.id?this.cy.getElementById(""+i.id).data("value",{computingPower:i.computingPower,country:i.country,mined:i.mined,money:i.money,type:i.nodeType,neighbours:i.neighbours}):(this.cy.getElementById(""+i.id).removeData(),this.cy.add({data:{id:""+i.id,value:{mined:i.mined,money:i.money,type:i.nodeType,country:i.country,computingPower:i.computingPower,neighbours:i.neighbours}}})):this.cy.getElementById(""+i.id).data("value",{type:i.nodeType,neighbours:i.neighbours})})}makeTooltips(){this.cy.nodes().forEach(e=>{let i=e.popperRef();this.id2tip[e.id()]=F2(document.createElement("div"),{getReferenceClientRect:i.getBoundingClientRect,trigger:"manual",placement:"bottom",content:()=>{let r=document.createElement("div");return r.setAttribute("style","font-size:1em; padding-top: 2vh"),e.data("value.type")===Gi.Miner&&(r.innerHTML=`Mined: ${e._private.data.value.mined}, Money: ${e._private.data.value.money}$, Power: ${e._private.data.value.computingPower}, Country: ${BF(e._private.data.value.country)}`),r}})})}ngOnDestroy(){this.visualisationSub1.unsubscribe(),this.visualisationSub2.unsubscribe(),this.minersToDeleteSub.unsubscribe(),null!==document.getElementById("cy")&&document.getElementById("cy").remove(),this.cy.destroy()}}return n.\u0275fac=function(e){return new(e||n)(O(nv),O(oM))},n.\u0275cmp=pn({type:n,selectors:[["app-network"]],viewQuery:function(e,i){if(1&e&&mi(DQ,5),2&e){let r;Gt(r=Wt())&&(i.el=r.first)}},decls:12,vars:0,consts:[["fxLayout","row","fxLayoutAlign","start center",2,"padding-left","1vw"],[1,"miner"],[1,"full"],[1,"listening"],[1,"light"],[1,"line"],["id","cy"]],template:function(e,i){1&e&&(de(0,"div",0),Le(1," Miner node: "),cn(2,"span",1),Le(3," Full node: "),cn(4,"span",2),Le(5," Listening node: "),cn(6,"span",3),Le(7," Light node: "),cn(8,"span",4),Le(9," Active edge: "),cn(10,"span",5),pe(),cn(11,"div",6))},dependencies:[ja,Ua],styles:["#cy[_ngcontent-%COMP%]{width:100%;height:70%;position:relative;top:0;left:0}.miner[_ngcontent-%COMP%]{height:25px;width:25px;background-color:red;border-radius:50%;display:inline-block;margin-left:.5vw;margin-right:1vw}.full[_ngcontent-%COMP%]{height:25px;width:25px;background-color:green;border-radius:50%;display:inline-block;margin-left:.5vw;margin-right:1vw}.listening[_ngcontent-%COMP%]{height:25px;width:25px;background-color:#00f;border-radius:50%;display:inline-block;margin-left:.5vw;margin-right:1vw}.light[_ngcontent-%COMP%]{height:25px;width:25px;background-color:orange;border-radius:50%;display:inline-block;margin-left:.5vw;margin-right:1vw}.line[_ngcontent-%COMP%]{height:3px;width:50px;background-color:red;display:inline-block;margin-left:.5vw;margin-right:1vw}"]}),n})();const MQ=[[["caption"]],[["colgroup"],["col"]]],TQ=["caption","colgroup, col"];function vM(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=En(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Cp=new ke("CDK_TABLE");let xp=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(O(Vr))},n.\u0275dir=Ee({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Dp=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(O(Vr))},n.\u0275dir=Ee({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),F0=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(O(Vr))},n.\u0275dir=Ee({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class RQ{}const OQ=vM(RQ);let Mc=(()=>{class n extends OQ{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=En(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(O(Cp,8))},n.\u0275dir=Ee({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&($i(r,xp,5),$i(r,Dp,5),$i(r,F0,5)),2&e){let s;Gt(s=Wt())&&(i.cell=s.first),Gt(s=Wt())&&(i.headerCell=s.first),Gt(s=Wt())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[yn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Ve]}),n})();class yM{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let _M=(()=>{class n extends yM{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(O(Mc),O(St))},n.\u0275dir=Ee({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Ve]}),n})(),bM=(()=>{class n extends yM{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(O(Mc),O(St))},n.\u0275dir=Ee({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Ve]}),n})();class N2{constructor(){this.tasks=[],this.endTasks=[]}}const wM=new ke("_COALESCED_STYLE_SCHEDULER");let B2=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Ue}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new N2,this._getScheduleObservable().pipe(Hn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new N2;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?ui(Promise.resolve(void 0)):this._ngZone.onStable.pipe(vr(1))}}return n.\u0275fac=function(e){return new(e||n)(le(Kt))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),CM=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof av?e.headerCell.template:this instanceof lv?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(O(Vr),O(Ml))},n.\u0275dir=Ee({type:n,features:[Zi]}),n})();class PQ extends CM{}const FQ=vM(PQ);let av=(()=>{class n extends FQ{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(O(Vr),O(Ml),O(Cp,8))},n.\u0275dir=Ee({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Ve,Zi]}),n})();class LQ extends CM{}const NQ=vM(LQ);let lv=(()=>{class n extends NQ{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(O(Vr),O(Ml),O(Cp,8))},n.\u0275dir=Ee({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Ve,Zi]}),n})(),L0=(()=>{class n extends CM{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(O(Vr),O(Ml),O(Cp,8))},n.\u0275dir=Ee({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Ve]}),n})(),Tc=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(O(Yr))},n.\u0275dir=Ee({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),xM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pn({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&xl(0,0)},dependencies:[Tc],encapsulation:2}),n})(),EM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pn({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&xl(0,0)},dependencies:[Tc],encapsulation:2}),n})(),N0=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(O(Vr))},n.\u0275dir=Ee({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const V2=["top","bottom","left","right"];class BQ{constructor(t,e,i,r,s=!0,a=!0,l){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=a,this._positionListener=l,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(D=>D)&&!i.some(D=>D))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],a=s.children.length,l=this._getCellWidths(s,r),h=this._getStickyStartColumnPositions(l,e),m=this._getStickyEndColumnPositions(l,i),v=e.lastIndexOf(!0),C=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const D="rtl"===this.direction,T=D?"right":"left",k=D?"left":"right";for(const P of t)for(let N=0;N<a;N++){const V=P.children[N];e[N]&&this._addStickyStyle(V,T,h[N],N===v),i[N]&&this._addStickyStyle(V,k,m[N],N===C)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===v?[]:l.slice(0,v+1).map((P,N)=>e[N]?P:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===C?[]:l.slice(C).map((P,N)=>i[N+C]?P:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,a=[],l=[],h=[];for(let v=0,C=0;v<r.length;v++){if(!s[v])continue;a[v]=C;const D=r[v];h[v]=this._isNativeHtmlTable?Array.from(D.children):[D];const T=D.getBoundingClientRect().height;C+=T,l[v]=T}const m=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let v=0;v<r.length;v++){if(!s[v])continue;const C=a[v],D=v===m;for(const T of h[v])this._addStickyStyle(T,i,C,D)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:l,offsets:a,elements:h}):this._positionListener?.stickyFooterRowsUpdated({sizes:l,offsets:a,elements:h})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);V2.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of V2)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const SM=new ke("CDK_SPL");let B0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(St))},n.\u0275dir=Ee({type:n,selectors:[["","rowOutlet",""]]}),n})(),V0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(St))},n.\u0275dir=Ee({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),H0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(St))},n.\u0275dir=Ee({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),z0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(O(Yr),O(St))},n.\u0275dir=Ee({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),$0=(()=>{class n{constructor(e,i,r,s,a,l,h,m,v,C,D,T){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=a,this._platform=h,this._viewRepeater=m,this._coalescedStyleScheduler=v,this._viewportRuler=C,this._stickyPositioningListener=D,this._ngZone=T,this._onDestroy=new Ue,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new gn,this.viewChange=new Ei({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=l,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=En(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=En(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Hn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),eM(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&Kt.isInAngularZone()?this._ngZone.onStable.pipe(vr(1),Hn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,a)=>{this._addStickyColumnStyles([s],this._headerRowDefs[a])}),this._rowDefs.forEach(s=>{const a=[];for(let l=0;l<i.length;l++)this._renderRows[l].rowDef===s&&a.push(i[l]);this._addStickyColumnStyles(a,s)}),r.forEach((s,a)=>{this._addStickyColumnStyles([s],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const a=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let l=0;l<a.length;l++){let h=a[l];const m=this._cachedRenderRowsMap.get(h.data);m.has(h.rowDef)?m.get(h.rowDef).push(h):m.set(h.rowDef,[h]),e.push(h)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(a=>{const l=r&&r.has(a)?r.get(a):[];if(l.length){const h=l.shift();return h.dataIndex=i,h}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),j0(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=j0(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=j0(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=j0(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,l)=>a||!!l.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],eM(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;eM(this.dataSource)?e=this.dataSource.connect(this):function SQ(n){return!!n&&(n instanceof it||j(n.lift)&&j(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Lt(this.dataSource)),this._renderChangeSubscription=e.pipe(Hn(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(l=>this._columnDefsByName.get(l)),s=r.map(l=>l.sticky),a=r.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const a=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),a}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Tc.mostRecentCellOutlet&&Tc.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const a=e.get(i).context;a.count=r,a.first=0===i,a.last=i===r-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const a of r.outlets)s.appendChild(a.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new BQ(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Lt()).pipe(Hn(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),a=s.rootNodes[0];1===s.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(O(Ml),O(Hr),O(St),Ds("role"),O(ho,8),O(un),O(_r),O(Zm),O(wM),O(nh),O(SM,12),O(Kt,8))},n.\u0275cmp=pn({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&($i(r,N0,5),$i(r,Mc,5),$i(r,L0,5),$i(r,av,5),$i(r,lv,5)),2&e){let s;Gt(s=Wt())&&(i._noDataRow=s.first),Gt(s=Wt())&&(i._contentColumnDefs=s),Gt(s=Wt())&&(i._contentRowDefs=s),Gt(s=Wt())&&(i._contentHeaderRowDefs=s),Gt(s=Wt())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(mi(B0,7),mi(V0,7),mi(H0,7),mi(z0,7)),2&e){let r;Gt(r=Wt())&&(i._rowOutlet=r.first),Gt(r=Wt())&&(i._headerRowOutlet=r.first),Gt(r=Wt())&&(i._footerRowOutlet=r.first),Gt(r=Wt())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&wi("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[yn([{provide:Cp,useExisting:n},{provide:Zm,useClass:AN},{provide:wM,useClass:B2},{provide:SM,useValue:null}])],ngContentSelectors:TQ,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(ia(MQ),cr(0),cr(1,1),xl(2,0)(3,1)(4,2)(5,3))},dependencies:[B0,V0,H0,z0],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function j0(n,t){return n.concat(Array.from(t))}let HQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[bS]}),n})();const zQ=[[["caption"]],[["colgroup"],["col"]]],$Q=["caption","colgroup, col"];let z2=(()=>{class n extends $0{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275cmp=pn({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&wi("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[yn([{provide:Zm,useClass:AN},{provide:$0,useExisting:n},{provide:Cp,useExisting:n},{provide:wM,useClass:B2},{provide:SM,useValue:null}]),Ve],ngContentSelectors:$Q,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(ia(zQ),cr(0),cr(1,1),xl(2,0)(3,1)(4,2)(5,3))},dependencies:[B0,V0,H0,z0],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),MM=(()=>{class n extends xp{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","matCellDef",""]],features:[yn([{provide:xp,useExisting:n}]),Ve]}),n})(),TM=(()=>{class n extends Dp{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","matHeaderCellDef",""]],features:[yn([{provide:Dp,useExisting:n}]),Ve]}),n})(),AM=(()=>{class n extends Mc{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[yn([{provide:Mc,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Ve]}),n})(),kM=(()=>{class n extends _M{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[Ve]}),n})(),IM=(()=>{class n extends bM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[Ve]}),n})(),$2=(()=>{class n extends av{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[yn([{provide:av,useExisting:n}]),Ve]}),n})(),j2=(()=>{class n extends L0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[yn([{provide:L0,useExisting:n}]),Ve]}),n})(),U2=(()=>{class n extends xM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275cmp=pn({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[yn([{provide:xM,useExisting:n}]),Ve],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&xl(0,0)},dependencies:[Tc],encapsulation:2}),n})(),G2=(()=>{class n extends EM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275cmp=pn({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[yn([{provide:EM,useExisting:n}]),Ve],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&xl(0,0)},dependencies:[Tc],encapsulation:2}),n})(),QQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[HQ,Ci,Ci]}),n})();class W2 extends class eJ extends class dZ{}{constructor(t=[]){super(),this._renderData=new Ei([]),this._filter=new Ei(""),this._internalPageChanges=new Ue,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(HF(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((a,l)=>{let h=this.sortingDataAccessor(a,r),m=this.sortingDataAccessor(l,r);const v=typeof h,C=typeof m;v!==C&&("number"===v&&(h+=""),"number"===C&&(m+=""));let D=0;return null!=h&&null!=m?h>m?D=1:h<m&&(D=-1):null!=h?D=1:null!=m&&(D=-1),D*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((a,l)=>a+e[l]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Ei(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?rr(this._sort.sortChange,this._sort.initialized):Lt(null),e=this._paginator?rr(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Lt(null),r=qf([this._data,this._filter]).pipe(vt(([l])=>this._filterData(l))),s=qf([r,t]).pipe(vt(([l])=>this._orderData(l))),a=qf([s,e]).pipe(vt(([l])=>this._pageData(l)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=a.subscribe(l=>this._renderData.next(l))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}{}function tJ(n,t){1&n&&(de(0,"mat-error"),Le(1,"Number must be greater then 1"),pe())}function nJ(n,t){1&n&&(de(0,"mat-error"),Le(1,"Number must be greater then 0 and less then 10"),pe())}function iJ(n,t){if(1&n&&(de(0,"mat-option",10),Le(1),pe()),2&n){const e=t.$implicit;Xe("value",e.enumName),Ae(1),zi(e.name)}}let rJ=(()=>{class n{constructor(e,i,r,s){this.dialogRef=e,this.formBuilder=i,this.visualizationService=r,this.data=s,this.minerMoneyFC=new kr(this.data.miner.money,[vi.required,vi.min(1)]),this.minerPowerFC=new kr(this.data.miner.computingPower,[vi.required,vi.min(1),vi.max(10)]),this.minerCountryFC=new kr(this.data.miner.country,[vi.required]),this.form=this.formBuilder.group({minerMoneyFC:this.minerMoneyFC,minerPowerFC:this.minerPowerFC,minerCountryFC:this.minerCountryFC}),this.graph=new ua(new Map),this.COUNTRIES=Il,this.minerToEdit=s.miner}ngOnInit(){this.visualizationService.getGraph().subscribe(e=>{this.graph=e.graph})}formValidation(){return this.form.valid}minerEdited(){this.graph.nodes.get(this.minerToEdit.id).money=this.minerMoneyFC.value,this.graph.nodes.get(this.minerToEdit.id).computingPower=this.minerPowerFC.value,this.graph.nodes.get(this.minerToEdit.id).country=this.minerCountryFC.value,this.dialogRef.close(this.graph)}}return n.\u0275fac=function(e){return new(e||n)(O(Jm),O(dS),O(nv),O(iM))},n.\u0275cmp=pn({type:n,selectors:[["app-edit-miner"]],decls:28,vars:5,consts:[["fxLayout","column","fxLayoutAlign","space-evenly center","fxLayoutGap","20px"],["fxLayout","column","fxLayoutGap","20px",2,"width","200px","margin","20px",3,"formGroup"],["type","number","formControlName","minerMoneyFC","matInput",""],[4,"ngIf"],["type","number","formControlName","minerPowerFC","matInput",""],["formControlName","minerCountryFC"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-dialog-close",""],[3,"value"]],template:function(e,i){1&e&&(de(0,"div",0)(1,"h2"),Le(2,"Edit parameters of the selected miner"),pe(),de(3,"div",1)(4,"mat-form-field")(5,"mat-label"),Le(6,"Amount of miner's money $:"),pe(),cn(7,"input",2),Et(8,tJ,2,0,"mat-error",3),pe(),de(9,"mat-form-field")(10,"mat-label"),Le(11,"Miner computing power:"),pe(),cn(12,"input",4),Et(13,nJ,2,0,"mat-error",3),pe(),de(14,"mat-form-field")(15,"mat-label"),Le(16,"Country:"),pe(),de(17,"mat-select",5),Et(18,iJ,2,2,"mat-option",6),pe()()(),de(19,"div",7)(20,"button",8),zt("click",function(){return i.minerEdited()}),Le(21," Done "),de(22,"mat-icon"),Le(23,"done"),pe()(),de(24,"button",9),Le(25," Cancel "),de(26,"mat-icon"),Le(27,"close"),pe()()()()),2&e&&(Ae(3),Xe("formGroup",i.form),Ae(5),Xe("ngIf",i.minerMoneyFC.errors),Ae(5),Xe("ngIf",i.minerPowerFC.errors),Ae(5),Xe("ngForOf",i.COUNTRIES),Ae(2),Xe("disabled",!i.formValidation()))},dependencies:[Ud,_c,ja,Pu,Ua,YS,gp,ah,Ym,xc,JS,np,Am,ip,Pb,Ou,Rm,rM,vp,sh]}),n})();function sJ(n,t){1&n&&(de(0,"mat-error"),Le(1,"Number must be greater than 0"),pe())}function oJ(n,t){if(1&n&&(de(0,"mat-option",14),Le(1),pe()),2&n){const e=t.$implicit;Xe("value",e.enumName),Ae(1),S_("",e.name," - electricity price multiplier: ",e.electricityPrice," / month")}}function aJ(n,t){if(1&n&&(Ji(0),de(1,"div",9)(2,"mat-form-field"),cn(3,"input",10),pe(),de(4,"mat-form-field"),cn(5,"input",11),pe(),de(6,"mat-form-field")(7,"mat-select",12),Et(8,oJ,2,3,"mat-option",13),pe()()(),er()),2&n){const e=t.index,i=Nn();Ae(1),Xe("formGroupName",e),Ae(7),Xe("ngForOf",i.COUNTRIES)}}let lJ=(()=>{class n{constructor(e,i,r){this.formBuilder=e,this.dialogRef=i,this.data=r,this.numberOfMinersFC=new kr(1,[vi.required,vi.min(1)]),this.minersFormArray=this.formBuilder.array([]),this.form=this.formBuilder.group({numberOfMinersFC:this.numberOfMinersFC,miners:this.minersFormArray}),this.minerNodesBeforeChange=1,this.COUNTRIES=Il}get miners(){return this.form.controls.miners}ngOnInit(){this.miners.push(this.getDefaultMinerFormGroup()),this.numberOfMinersFC.valueChanges.pipe(Un(e=>{this.numberOfMinersFC.invalid&&(this.miners.clear(),this.minerNodesBeforeChange=0)})).subscribe(),this.form.markAllAsTouched()}formValidation(){return this.form.valid}setMinersNumber(){const e=this.minerNodesBeforeChange,i=this.numberOfMinersFC.value;if(e<i)for(let r=e;r<i;r++)this.miners.push(this.getDefaultMinerFormGroup());else for(let r=e;r>i;r--)this.miners.removeAt(this.miners.length-1);this.minerNodesBeforeChange=i,this.form.markAllAsTouched()}getDefaultMinerFormGroup(){return this.formBuilder.group({power:new kr(1,[vi.required,vi.min(1),vi.max(10)]),country:new kr("POLAND",[vi.required]),money:new kr(500,[vi.required,vi.min(0),vi.max(1e5)])})}onClick(){this.dialogRef.close(this.miners.value)}}return n.\u0275fac=function(e){return new(e||n)(O(dS),O(Jm),O(iM))},n.\u0275cmp=pn({type:n,selectors:[["app-add-miner"]],decls:19,vars:5,consts:[["fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","20px"],["fxLayout","column","fxLayoutGap","20px",2,"width","200px","margin","20px",3,"formGroup"],["type","number","formControlName","numberOfMinersFC","matInput","",3,"change"],[4,"ngIf"],["formArrayName","miners"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-dialog-close",""],["fxLayout","row","fxLayoutGap","10px",3,"formGroupName"],["matInput","","type","number","formControlName","power","placeholder","Computing power (from 1 to 10)"],["matInput","","type","number","formControlName","money","placeholder","Initial budget"],["formControlName","country","placeholder","Country"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(de(0,"div",0)(1,"div",1)(2,"mat-form-field")(3,"mat-label"),Le(4,"Number of miner nodes:"),pe(),de(5,"input",2),zt("change",function(){return i.setMinersNumber()}),pe(),Et(6,sJ,2,0,"mat-error",3),pe(),Ji(7,4),Et(8,aJ,9,2,"ng-container",5),er(),pe(),de(9,"div",6)(10,"button",7),zt("click",function(){return i.onClick()}),de(11,"span"),Le(12),pe(),de(13,"mat-icon"),Le(14,"add"),pe()(),de(15,"button",8),Le(16," Cancel "),de(17,"mat-icon"),Le(18,"close"),pe()()()()),2&e&&(Ae(1),Xe("formGroup",i.form),Ae(5),Xe("ngIf",i.numberOfMinersFC.errors),Ae(2),Xe("ngForOf",i.miners.controls),Ae(2),Xe("disabled",!i.formValidation()),Ae(2),Tr("Add ",i.numberOfMinersFC.value," new miner/s "))},dependencies:[Ud,_c,ja,Pu,Ua,YS,gp,ah,Ym,xc,JS,np,Am,ip,Pb,Ou,Rm,km,Im,rM,vp,sh]}),n})();const cJ=["tooltip"],q2="tooltip-panel",K2=Jd({passive:!0}),Y2=new ke("mat-tooltip-scroll-strategy"),fJ={provide:Y2,deps:[la],useFactory:function hJ(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},pJ=new ke("mat-tooltip-default-options",{providedIn:"root",factory:function gJ(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let mJ=(()=>{class n{constructor(e,i,r,s,a,l,h,m,v,C,D,T){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=a,this._platform=l,this._ariaDescriber=h,this._focusMonitor=m,this._dir=C,this._defaultOptions=D,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ue,this._scrollStrategy=v,this._document=T,D&&(D.position&&(this.position=D.position),D.touchGestures&&(this.touchGestures=D.touchGestures)),C.change.pipe(Hn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=En(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=eo(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=eo(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Hn(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,K2)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay();this._detach(),this._portal=this._portal||new ap(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Hn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Hn(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${q2}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Hn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Hn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Hn(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Rl(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(vr(1),Hn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",a!==this._currentPosition){const l=this._overlayRef;if(l){const h=`${this._cssClassPrefix}-${q2}-`;l.removePanelClass(h+this._currentPosition),l.addPanelClass(h+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,K2)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){Fd()},n.\u0275dir=Ee({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),Z2=(()=>{class n extends mJ{constructor(e,i,r,s,a,l,h,m,v,C,D,T){super(e,i,r,s,a,l,h,m,v,C,D,T),this._tooltipComponent=yJ}}return n.\u0275fac=function(e){return new(e||n)(O(la),O(St),O(qF),O(Yr),O(Kt),O(_r),O(mL),O(Ol),O(Y2),O(ho,8),O(pJ,8),O(un))},n.\u0275dir=Ee({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[Ve]}),n})(),vJ=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Ue,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(O(Hr),O(cs,8))},n.\u0275dir=Ee({type:n}),n})(),yJ=(()=>{class n extends vJ{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(O(Hr),O(s0),O(cs,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&mi(cJ,7),2&e){let r;Gt(r=Wt())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&zt("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&Du("zoom",i.isVisible()?1:null)},features:[Ve],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(de(0,"div",0,1),zt("animationend",function(s){return i._handleAnimationEnd(s)}),fc(2,"async"),Le(3),pe()),2&e){let r;wi("mat-tooltip-handset",null==(r=pc(2,4,i._isHandset))?null:r.matches),Xe("ngClass",i.tooltipClass),Ae(3),zi(i.message)}},dependencies:[rm,VR],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),X2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[fJ],imports:[OS,Va,Hm,Ci,Ci,Zb]}),n})();function _J(n,t){if(1&n&&(de(0,"mat-option",19),Le(1),pe()),2&n){const e=t.$implicit;Xe("value",e),Ae(1),Tr(" ",e," ")}}function bJ(n,t){if(1&n){const e=Ra();de(0,"mat-form-field",16)(1,"mat-select",17),zt("selectionChange",function(r){return $s(e),ti(Nn(2)._changePageSize(r.value))}),Et(2,_J,2,2,"mat-option",18),pe()()}if(2&n){const e=Nn(2);Xe("appearance",e._formFieldAppearance)("color",e.color),Ae(1),Xe("value",e.pageSize)("disabled",e.disabled)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering)("aria-label",e._intl.itemsPerPageLabel),Ae(1),Xe("ngForOf",e._displayedPageSizeOptions)}}function wJ(n,t){if(1&n&&(de(0,"div",20),Le(1),pe()),2&n){const e=Nn(2);Ae(1),zi(e.pageSize)}}function CJ(n,t){if(1&n&&(de(0,"div",12)(1,"div",13),Le(2),pe(),Et(3,bJ,3,8,"mat-form-field",14),Et(4,wJ,2,1,"div",15),pe()),2&n){const e=Nn();Ae(2),Tr(" ",e._intl.itemsPerPageLabel," "),Ae(1),Xe("ngIf",e._displayedPageSizeOptions.length>1),Ae(1),Xe("ngIf",e._displayedPageSizeOptions.length<=1)}}function xJ(n,t){if(1&n){const e=Ra();de(0,"button",21),zt("click",function(){return $s(e),ti(Nn().firstPage())}),Zo(),de(1,"svg",7),cn(2,"path",22),pe()()}if(2&n){const e=Nn();Xe("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),ii("aria-label",e._intl.firstPageLabel)}}function DJ(n,t){if(1&n){const e=Ra();Zo(),Xh(),de(0,"button",23),zt("click",function(){return $s(e),ti(Nn().lastPage())}),Zo(),de(1,"svg",7),cn(2,"path",24),pe()()}if(2&n){const e=Nn();Xe("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),ii("aria-label",e._intl.lastPageLabel)}}let U0=(()=>{class n{constructor(){this.changes=new Ue,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SJ={provide:U0,deps:[[new qs,new fl,U0]],useFactory:function EJ(n){return n||new U0}},TJ=new ke("MAT_PAGINATOR_DEFAULT_OPTIONS"),AJ=rh(kL(class{}));let kJ=(()=>{class n extends AJ{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new gn,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:a,hidePageSize:l,showFirstLastButtons:h}=r;null!=s&&(this._pageSize=s),null!=a&&(this._pageSizeOptions=a),null!=l&&(this._hidePageSize=l),null!=h&&(this._showFirstLastButtons=h)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(eo(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=eo(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(eo(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>eo(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=En(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=En(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){Fd()},n.\u0275dir=Ee({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[Ve]}),n})(),IJ=(()=>{class n extends kJ{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(O(U0),O(Hr),O(TJ,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[Ve],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(de(0,"div",0)(1,"div",1),Et(2,CJ,5,3,"div",2),de(3,"div",3)(4,"div",4),Le(5),pe(),Et(6,xJ,3,5,"button",5),de(7,"button",6),zt("click",function(){return i.previousPage()}),Zo(),de(8,"svg",7),cn(9,"path",8),pe()(),Xh(),de(10,"button",9),zt("click",function(){return i.nextPage()}),Zo(),de(11,"svg",7),cn(12,"path",10),pe()(),Et(13,DJ,3,5,"button",11),pe()()()),2&e&&(Ae(2),Xe("ngIf",!i.hidePageSize),Ae(3),Tr(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),Ae(1),Xe("ngIf",i.showFirstLastButtons),Ae(1),Xe("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),ii("aria-label",i._intl.previousPageLabel),Ae(3),Xe("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),ii("aria-label",i._intl.nextPageLabel),Ae(3),Xe("ngIf",i.showFirstLastButtons))},dependencies:[Ud,_c,xc,gp,vp,sh,Z2],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{display:inline-block;width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),RJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[SJ],imports:[Va,BS,LN,X2,Ci]}),n})();const OJ=["mat-sort-header",""];function PJ(n,t){if(1&n){const e=Ra();de(0,"div",3),zt("@arrowPosition.start",function(){return $s(e),ti(Nn()._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){return $s(e),ti(Nn()._disableViewStateAnimation=!1)}),cn(1,"div",4),de(2,"div",5),cn(3,"div",6)(4,"div",7)(5,"div",8),pe()()}if(2&n){const e=Nn();Xe("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),Ae(2),Xe("@indicator",e._getArrowDirectionState()),Ae(1),Xe("@leftPointer",e._getArrowDirectionState()),Ae(1),Xe("@rightPointer",e._getArrowDirectionState())}}const FJ=["*"],Q2=new ke("MAT_SORT_DEFAULT_OPTIONS"),LJ=kL(rh(class{}));let J2=(()=>{class n extends LJ{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new Ue,this.start="asc",this._direction="",this.sortChange=new gn}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=En(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function NJ(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(O(Q2,8))},n.\u0275dir=Ee({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[Ve,Zi]}),n})();const Hu=h7.ENTERING+" "+d7.STANDARD_CURVE,Ep={indicator:Po("indicator",[ji("active-asc, asc",_n({transform:"translateY(0px)"})),ji("active-desc, desc",_n({transform:"translateY(10px)"})),dr("active-asc <=> active-desc",Ir(Hu))]),leftPointer:Po("leftPointer",[ji("active-asc, asc",_n({transform:"rotate(-45deg)"})),ji("active-desc, desc",_n({transform:"rotate(45deg)"})),dr("active-asc <=> active-desc",Ir(Hu))]),rightPointer:Po("rightPointer",[ji("active-asc, asc",_n({transform:"rotate(45deg)"})),ji("active-desc, desc",_n({transform:"rotate(-45deg)"})),dr("active-asc <=> active-desc",Ir(Hu))]),arrowOpacity:Po("arrowOpacity",[ji("desc-to-active, asc-to-active, active",_n({opacity:1})),ji("desc-to-hint, asc-to-hint, hint",_n({opacity:.54})),ji("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",_n({opacity:0})),dr("* => asc, * => desc, * => active, * => hint, * => void",Ir("0ms")),dr("* <=> *",Ir(Hu))]),arrowPosition:Po("arrowPosition",[dr("* => desc-to-hint, * => desc-to-active",Ir(Hu,jm([_n({transform:"translateY(-25%)"}),_n({transform:"translateY(0)"})]))),dr("* => hint-to-desc, * => active-to-desc",Ir(Hu,jm([_n({transform:"translateY(0)"}),_n({transform:"translateY(25%)"})]))),dr("* => asc-to-hint, * => asc-to-active",Ir(Hu,jm([_n({transform:"translateY(25%)"}),_n({transform:"translateY(0)"})]))),dr("* => hint-to-asc, * => active-to-asc",Ir(Hu,jm([_n({transform:"translateY(0)"}),_n({transform:"translateY(-25%)"})]))),ji("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",_n({transform:"translateY(0)"})),ji("hint-to-desc, active-to-desc, desc",_n({transform:"translateY(-25%)"})),ji("hint-to-asc, active-to-asc, asc",_n({transform:"translateY(25%)"}))]),allowChildren:Po("allowChildren",[dr("* <=> *",[p0("@*",f0(),{optional:!0})])])};let G0=(()=>{class n{constructor(){this.changes=new Ue}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VJ={provide:G0,deps:[[new qs,new fl,G0]],useFactory:function BJ(n){return n||new G0}},HJ=rh(class{});let zJ=(()=>{class n extends HJ{constructor(e,i,r,s,a,l,h,m){super(),this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=s,this._focusMonitor=a,this._elementRef=l,this._ariaDescriber=h,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",m?.arrowPosition&&(this.arrowPosition=m?.arrowPosition),this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=En(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=rr(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(O(G0),O(Hr),O(J2,8),O("MAT_SORT_HEADER_COLUMN_DEF",8),O(Ol),O(St),O(mL,8),O(Q2,8))},n.\u0275cmp=pn({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&zt("click",function(){return i._handleClick()})("keydown",function(s){return i._handleKeydown(s)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(ii("aria-sort",i._getAriaSortAttribute()),wi("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[Ve],attrs:OJ,ngContentSelectors:FJ,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(ia(),de(0,"div",0)(1,"div",1),cr(2),pe(),Et(3,PJ,6,6,"div",2),pe()),2&e&&(wi("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"===i.arrowPosition),ii("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),Ae(3),Xe("ngIf",i._renderArrow()))},dependencies:[_c],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Ep.indicator,Ep.leftPointer,Ep.rightPointer,Ep.arrowOpacity,Ep.arrowPosition,Ep.allowChildren]},changeDetection:0}),n})(),$J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:[VJ],imports:[Va,Ci]}),n})();const jJ=["activeMinersPaginator"],UJ=["deadMinersPaginator"],GJ=["activeMinersSort"],WJ=["deadMinersSort"];function qJ(n,t){1&n&&(de(0,"mat-header-cell",21),Le(1,"ID"),pe())}function KJ(n,t){if(1&n&&(de(0,"mat-cell"),Le(1),pe()),2&n){const e=t.$implicit;Ae(1),zi(e.id)}}function YJ(n,t){1&n&&(de(0,"mat-header-cell",21),Le(1,"Money"),pe())}function ZJ(n,t){if(1&n&&(de(0,"mat-cell"),Le(1),fc(2,"currency"),pe()),2&n){const e=t.$implicit;Ae(1),zi(pc(2,1,e.money))}}function XJ(n,t){1&n&&(de(0,"mat-header-cell",21),Le(1,"Computing power"),pe())}function QJ(n,t){if(1&n&&(de(0,"mat-cell"),Le(1),pe()),2&n){const e=t.$implicit;Ae(1),zi(e.computingPower)}}function JJ(n,t){1&n&&(de(0,"mat-header-cell",21),Le(1,"Blocks mined"),pe())}function eee(n,t){if(1&n&&(de(0,"mat-cell"),Le(1),pe()),2&n){const e=t.$implicit;Ae(1),zi(e.mined)}}function tee(n,t){1&n&&(de(0,"mat-header-cell",21),Le(1,"Country"),pe())}function nee(n,t){if(1&n&&(de(0,"mat-cell"),Le(1),pe()),2&n){const e=t.$implicit,i=Nn();Ae(1),zi(i.getCountryName(e.country))}}function iee(n,t){1&n&&(de(0,"mat-header-cell",21),Le(1,"Electricity price (per month)"),pe())}function ree(n,t){if(1&n&&(de(0,"mat-cell"),Le(1),fc(2,"currency"),pe()),2&n){const e=t.$implicit,i=Nn();Ae(1),zi(pc(2,1,i.calculateElectricity(e.country)))}}function see(n,t){1&n&&(de(0,"mat-header-cell"),Le(1,"Actions"),pe())}function oee(n,t){if(1&n){const e=Ra();de(0,"mat-cell")(1,"button",22),zt("click",function(){const s=$s(e).$implicit;return ti(Nn().edit(s))}),de(2,"mat-icon"),Le(3,"edit"),pe()()()}}function aee(n,t){1&n&&cn(0,"mat-header-row")}function lee(n,t){1&n&&cn(0,"mat-row")}function cee(n,t){1&n&&(de(0,"mat-header-cell",21),Le(1,"ID"),pe())}function uee(n,t){if(1&n&&(de(0,"mat-cell"),Le(1),pe()),2&n){const e=t.$implicit;Ae(1),zi(e.id)}}function dee(n,t){1&n&&(de(0,"mat-header-cell",21),Le(1,"Money"),pe())}function hee(n,t){if(1&n&&(de(0,"mat-cell"),Le(1),fc(2,"currency"),pe()),2&n){const e=t.$implicit;Ae(1),zi(pc(2,1,e.money))}}function fee(n,t){1&n&&(de(0,"mat-header-cell",21),Le(1,"Computing power"),pe())}function pee(n,t){if(1&n&&(de(0,"mat-cell"),Le(1),pe()),2&n){const e=t.$implicit;Ae(1),zi(e.computingPower)}}function gee(n,t){1&n&&(de(0,"mat-header-cell",21),Le(1,"Blocks mined"),pe())}function mee(n,t){if(1&n&&(de(0,"mat-cell"),Le(1),pe()),2&n){const e=t.$implicit;Ae(1),zi(e.mined)}}function vee(n,t){1&n&&(de(0,"mat-header-cell",21),Le(1,"Country"),pe())}function yee(n,t){if(1&n&&(de(0,"mat-cell"),Le(1),pe()),2&n){const e=t.$implicit,i=Nn();Ae(1),zi(i.getCountryName(e.country))}}function _ee(n,t){1&n&&(de(0,"mat-header-cell",21),Le(1,"Electricity price (per month) "),pe())}function bee(n,t){if(1&n&&(de(0,"mat-cell"),Le(1),fc(2,"currency"),pe()),2&n){const e=t.$implicit,i=Nn();Ae(1),zi(pc(2,1,i.calculateElectricity(e.country)))}}function wee(n,t){1&n&&cn(0,"mat-header-row")}function Cee(n,t){1&n&&cn(0,"mat-row")}const eB=function(){return[5,10,20]};let xee=(()=>{class n{constructor(e,i,r,s,a,l){this.simulationService=e,this.minerService=i,this.parametersService=r,this.minersDeletingService=s,this.dialog=a,this.visualizationService=l,this.minerList=new W2,this.deadMinerList=new W2,this.displayedColumns=["id","money","power","mined","country","electricity","edit"],this.displayedColumnsWithoutEdit=["id","money","power","mined","country","electricity"],this.minerList.data=this.simulationService.getMiners(),this.deadMinerList.data=this.simulationService.deadMiners}ngOnDestroy(){this.minerDataSub.unsubscribe(),this.deadMinerDataSub.unsubscribe()}ngAfterViewInit(){this.minerList.paginator=this.activeMinersPaginator,this.minerList.sort=this.activeMinersSort,this.deadMinerList.paginator=this.deadMinersPaginator,this.deadMinerList.sort=this.deadMinersSort,this.getData(),this.getDeadMinersData()}calculateElectricity(e){return NF(e)*this.parametersService.getElectricityPrice()}getCountryName(e){return BF(e)}getData(){this.minerDataSub&&this.minerDataSub.unsubscribe(),this.minerDataSub=this.minerService.get().pipe(Un(()=>{this.minerList.data=this.simulationService.getMiners(),this.deadMinerList.data=this.simulationService.deadMiners}),za(e=>(console.log(e.error.error),Lt({})))).subscribe()}getDeadMinersData(){this.deadMinerDataSub&&this.deadMinerDataSub.unsubscribe(),this.deadMinerDataSub=this.minersDeletingService.getMinersToDelete().pipe(Un(()=>{this.deadMinerList.data=this.simulationService.deadMiners}),za(e=>(console.log(e.error.error),Lt({})))).subscribe()}edit(e){this.dialog.open(rJ,{width:"700px",data:{miner:e}}).afterClosed().subscribe(r=>{r&&this.visualizationService.emitGraph(r)})}addMiner(){this.dialog.open(lJ,{width:"700px"}).afterClosed().subscribe(i=>{if(i){for(var r=0;r<i.length;r++)this.simulationService.addNewMinerWithParams(i[r].country,i[r].money,i[r].power);this.getData(),this.getDeadMinersData()}})}}return n.\u0275fac=function(e){return new(e||n)(O(JN),O(QN),O(hp),O(oM),O(ev),O(nv))},n.\u0275cmp=pn({type:n,selectors:[["app-miners"]],viewQuery:function(e,i){if(1&e&&(mi(jJ,5),mi(UJ,5),mi(GJ,5),mi(WJ,5)),2&e){let r;Gt(r=Wt())&&(i.activeMinersPaginator=r.first),Gt(r=Wt())&&(i.deadMinersPaginator=r.first),Gt(r=Wt())&&(i.activeMinersSort=r.first),Gt(r=Wt())&&(i.deadMinersSort=r.first)}},decls:64,vars:10,consts:[[1,"container"],[1,"activeHeader"],["mat-raised-button","","color","accent",2,"margin-left","30px",3,"click"],["matSort","",3,"dataSource"],["activeMinersSort","matSort"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","money"],["matColumnDef","power"],["matColumnDef","mined"],["matColumnDef","country"],["matColumnDef","electricity"],["matColumnDef","edit"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["activeMinersPaginator",""],["deadMinersSort","matSort"],["deadMinersPaginator",""],["mat-sort-header",""],["mat-icon-button","","matTooltip","Edytuj","matTooltipPosition","right",3,"click"]],template:function(e,i){1&e&&(de(0,"div",0)(1,"div",1)(2,"span"),Le(3,"Active miners"),pe(),de(4,"button",2),zt("click",function(){return i.addMiner()}),de(5,"span"),Le(6,"Add miner"),pe(),de(7,"mat-icon"),Le(8,"add"),pe()()(),de(9,"mat-table",3,4),Ji(11,5),Et(12,qJ,2,0,"mat-header-cell",6),Et(13,KJ,2,1,"mat-cell",7),er(),Ji(14,8),Et(15,YJ,2,0,"mat-header-cell",6),Et(16,ZJ,3,3,"mat-cell",7),er(),Ji(17,9),Et(18,XJ,2,0,"mat-header-cell",6),Et(19,QJ,2,1,"mat-cell",7),er(),Ji(20,10),Et(21,JJ,2,0,"mat-header-cell",6),Et(22,eee,2,1,"mat-cell",7),er(),Ji(23,11),Et(24,tee,2,0,"mat-header-cell",6),Et(25,nee,2,1,"mat-cell",7),er(),Ji(26,12),Et(27,iee,2,0,"mat-header-cell",6),Et(28,ree,3,3,"mat-cell",7),er(),Ji(29,13),Et(30,see,2,0,"mat-header-cell",14),Et(31,oee,4,0,"mat-cell",7),er(),Et(32,aee,1,0,"mat-header-row",15),Et(33,lee,1,0,"mat-row",16),pe(),cn(34,"mat-paginator",17,18),de(36,"span"),Le(37,"Removed miners"),pe(),cn(38,"br")(39,"br"),de(40,"mat-table",3,19),Ji(42,5),Et(43,cee,2,0,"mat-header-cell",6),Et(44,uee,2,1,"mat-cell",7),er(),Ji(45,8),Et(46,dee,2,0,"mat-header-cell",6),Et(47,hee,3,3,"mat-cell",7),er(),Ji(48,9),Et(49,fee,2,0,"mat-header-cell",6),Et(50,pee,2,1,"mat-cell",7),er(),Ji(51,10),Et(52,gee,2,0,"mat-header-cell",6),Et(53,mee,2,1,"mat-cell",7),er(),Ji(54,11),Et(55,vee,2,0,"mat-header-cell",6),Et(56,yee,2,1,"mat-cell",7),er(),Ji(57,12),Et(58,_ee,2,0,"mat-header-cell",6),Et(59,bee,3,3,"mat-cell",7),er(),Et(60,wee,1,0,"mat-header-row",15),Et(61,Cee,1,0,"mat-row",16),pe(),cn(62,"mat-paginator",17,20),pe()),2&e&&(Ae(9),Xe("dataSource",i.minerList),Ae(23),Xe("matHeaderRowDef",i.displayedColumns),Ae(1),Xe("matRowDefColumns",i.displayedColumns),Ae(1),Xe("pageSizeOptions",yD(8,eB)),Ae(6),Xe("dataSource",i.deadMinerList),Ae(20),Xe("matHeaderRowDef",i.displayedColumnsWithoutEdit),Ae(1),Xe("matRowDefColumns",i.displayedColumnsWithoutEdit),Ae(1),Xe("pageSizeOptions",yD(9,eB)))},dependencies:[z2,TM,$2,AM,MM,j2,kM,IM,U2,G2,Ym,xc,IJ,J2,zJ,Z2,rE],styles:[".container[_ngcontent-%COMP%]{margin:1vh 1vw;font-size:x-large}.activeHeader[_ngcontent-%COMP%]{position:relative;display:inline-block}"]}),n})();const Dee=["*",[["mat-card-footer"]]],Eee=["*","mat-card-footer"];let See=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),Mee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ee({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Tee=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(O(cs,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&wi("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:Eee,decls:2,vars:0,template:function(e,i){1&e&&(ia(Dee),cr(0),cr(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),Aee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Ci,Ci]}),n})(),kee=(()=>{class n{constructor(e){this.parametersService=e,this.electricityPrice=1,this.frequency=1,this.reward=5}ngOnInit(){this.setSliders()}setSliders(){this.electricityPrice=this.parametersService.getElectricityPrice(),this.reward=this.parametersService.getReward(),this.frequency=this.parametersService.getFrequency()}onElectricityPriceChange(e){this.parametersService.setElectricityPrice(e.value),this.electricityPrice=e.value}onFrequencyChange(e){this.parametersService.emitAddNewMinerFrequency(e.value),this.parametersService.setFrequency(e.value),this.frequency=e.value}onRewardChange(e){this.parametersService.setReward(e.value),this.reward=e.value}}return n.\u0275fac=function(e){return new(e||n)(O(hp))},n.\u0275cmp=pn({type:n,selectors:[["app-parameters"]],decls:31,vars:13,consts:[[1,"container"],["fxLayout","column","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxLayout","column","fxLayoutAlign","space-around start"],["thumbLabel","",3,"value","max","change"],["thumbLabel","",3,"value","min","max","change"],["thumbLabel","",3,"value","change"]],template:function(e,i){1&e&&(de(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-title"),Le(4,"Set electricity price"),pe(),de(5,"div",2)(6,"mat-card-subtitle"),Le(7,"Current electricity price: "),de(8,"mat-label"),Le(9),fc(10,"currency"),pe()(),de(11,"mat-slider",3),zt("change",function(s){return i.onElectricityPriceChange(s)}),pe()()(),de(12,"mat-card")(13,"mat-card-title"),Le(14,"Set frequency of adding a new miner"),pe(),de(15,"div",2)(16,"mat-card-subtitle"),Le(17,"Current frequency of adding a new miner to the network: "),de(18,"mat-label"),Le(19),pe()(),de(20,"mat-slider",4),zt("change",function(s){return i.onFrequencyChange(s)}),pe()()(),de(21,"mat-card")(22,"mat-card-title"),Le(23,"Set reward for mining a block"),pe(),de(24,"div",2)(25,"mat-card-subtitle"),Le(26,"Current reward: "),de(27,"mat-label"),Le(28),fc(29,"currency"),pe()(),de(30,"mat-slider",5),zt("change",function(s){return i.onRewardChange(s)}),pe()()()()()),2&e&&(Ae(9),Tr("",pc(10,9,i.electricityPrice)," / month"),Ae(2),Xe("value",i.electricityPrice)("max",10),Ae(8),Tr("",i.frequency," / month"),Ae(1),Xe("value",i.frequency)("min",0)("max",10),Ae(8),Tr("",pc(29,11,i.reward)," "),Ae(2),Xe("value",i.reward))},dependencies:[ja,Pu,Ua,ah,aM,Tee,See,Mee,rE],styles:[".container[_ngcontent-%COMP%]{margin:1vh 1vw}mat-slider[_ngcontent-%COMP%]{width:50vw}mat-card[_ngcontent-%COMP%]{background-color:#ded7ea}mat-label[_ngcontent-%COMP%]{font-weight:700}"]}),n})();const Iee=["button"],Ree=["*"],tB=new ke("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),nB=new ke("MatButtonToggleGroup"),Oee={provide:aa,useExisting:ai(()=>sB),multi:!0};let iB=0;class rB{constructor(t,e){this.source=t,this.value=e}}let sB=(()=>{class n{constructor(e,i){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+iB++,this.valueChange=new gn,this.change=new gn,this.appearance=i&&i.appearance?i.appearance:"standard"}get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(e){this._vertical=En(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(i=>i.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=En(e),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=En(e),this._markButtonsForCheck()}ngOnInit(){this._selectionModel=new IN(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(e){const i=new rB(e,this.value);this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(e,i,r=!1,s=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(e):this._selectionModel.deselect(e):s=!0,s?Promise.resolve().then(()=>this._updateModelValue(e,r)):this._updateModelValue(e,r)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=e.value&&i===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===e);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(e,i){i&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(O(Hr),O(tB,8))},n.\u0275dir=Ee({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,i,r){if(1&e&&$i(r,oB,5),2&e){let s;Gt(s=Wt())&&(i._buttonToggles=s)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,i){2&e&&(ii("aria-disabled",i.disabled),wi("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[yn([Oee,{provide:nB,useExisting:n}])]}),n})();const Pee=d0(class{});let oB=(()=>{class n extends Pee{constructor(e,i,r,s,a,l){super(),this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=s,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new gn;const h=Number(a);this.tabIndex=h||0===h?h:null,this.buttonToggleGroup=e,this.appearance=l&&l.appearance?l.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const i=En(e);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=En(e)}ngOnInit(){const e=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+iB++,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector()||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new rB(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return n.\u0275fac=function(e){return new(e||n)(O(nB,8),O(Hr),O(St),O(Ol),Ds("tabindex"),O(tB,8))},n.\u0275cmp=pn({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(e,i){if(1&e&&mi(Iee,5),2&e){let r;Gt(r=Wt())&&(i._buttonElement=r.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,i){1&e&&zt("focus",function(){return i.focus()}),2&e&&(ii("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),wi("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[Ve],ngContentSelectors:Ree,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,i){if(1&e&&(ia(),de(0,"button",0,1),zt("click",function(){return i._onButtonClick()}),de(2,"span",2),cr(3),pe()(),cn(4,"span",3)(5,"span",4)),2&e){const r=jg(1);Xe("id",i.buttonId)("disabled",i.disabled||null),ii("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),Ae(5),Xe("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[$m],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),n})(),Fee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[Ci,h0,Ci]}),n})();const Lee=["cy"];function Nee(n,t){if(1&n&&(de(0,"mat-option",10),Le(1),pe()),2&n){const e=t.$implicit;Xe("value",e.id),Ae(1),Tr(" ",e.id," ")}}let Bee=(()=>{class n{constructor(e){this.visualisationService=e,this.cy=rv({}),this.id2tip={},this.toggleButtonValue="default",this.fullNodes=[],this.selectedNodeId="default"}onValChange(e){this.toggleButtonValue=e,this.cleanHighlighting(),this.changeProtocol()}onNodeChange(e){this.selectedNodeId=e,this.cleanHighlighting(),this.refresh()}ngOnInit(){this.refresh()}refresh(){this.cy=rv({container:document.getElementById("cy"),style:[{selector:"node",style:{width:"100px",height:"100px",shape:"round-rectangle","background-color":"#7fcdcd",label:e=>-1==e.data("block").id?"root":"block "+e.data("block").id}},{selector:"edge",style:{width:3,"curve-style":"bezier"}},{selector:".highlighted",style:{"line-color":"#ff80df","border-width":"3px","border-color":"#ff80df"}}]}),this.visualisationSub&&this.visualisationSub.unsubscribe(),this.visualisationSub=this.visualisationService.getGraph().pipe(Un(e=>{let i=e.graph;this.cy.remove("node"),this.cy.remove("edge"),this.fullNodes=Array.from(i.nodes.values()).filter((r,s)=>r.nodeType==Gi.Full),this.node="default"===this.selectedNodeId?this.fullNodes[0]:this.fullNodes.find(r=>r.id.toString()==this.selectedNodeId),this.createBlockchainGraph(),this.makeTooltips(),this.cy.nodes().on("click",r=>{this.id2tip[r.target.id()].show()}),this.cy.layout({name:"breadthfirst",directed:!0}).run()})).subscribe()}changeProtocol(){let e;if(this.cleanHighlighting(),"default"!=this.toggleButtonValue){const r=this.cy.elements().dijkstra({root:"#-1"});if("longestChain"==this.toggleButtonValue){const s=this.cy.nodes().leaves();let a=0,l="";for(let h=0;h<s.length;h++){let m=r.distanceTo(this.cy.$("#"+s[h].id()));m>a&&(a=m,l="#"+s[h].id())}e=r.pathTo(this.cy.$(l)),this.highlightPath(e)}else{this.cy.$("#-1").data("block").weight=0,this.cy.elements().bfs({root:"#-1",visit:function(a,l,h,m,v){h&&(a.data("block").weight=1+h.data("block").weight)}});const s=this.cy.nodes().max(function(a){return a.data("block").weight});e=r.pathTo(s.ele),this.highlightPath(e)}}}highlightPath(e){for(let i=0;i<e.length;i++)e[i].addClass("highlighted")}cleanHighlighting(){this.cy.nodes().forEach(e=>{e.removeClass("highlighted")}),this.cy.edges().forEach(e=>{e.removeClass("highlighted")})}createBlockchainGraph(){let e=new Set,i=new Array;e.add(-1),i.push(-1);let r=0;for(this.cy.add({group:"nodes",data:{id:"-1",block:this.node?.blockChain}});i.length>0;){const s=i.shift();if(!s)break;let a=this.node?.blockChainMap.get(s);if(!a)break;for(let l of a.children)e.has(l.id)||(e.add(l.id),i.push(l.id),this.cy.add({group:"nodes",data:{id:l.id.toString(),block:l}}),this.cy.add({group:"edges",data:{id:"edge_"+r.toString(),source:a.id.toString(),target:l.id.toString()}}),r++)}}makeTooltips(){this.cy.nodes().forEach(e=>{let i=e.popperRef();this.id2tip[e.id()]=F2(document.createElement("div"),{getReferenceClientRect:i.getBoundingClientRect,trigger:"manual",placement:"bottom",content:()=>{let r=document.createElement("div");return r.setAttribute("style","font-size:1em; padding-top: 2vh"),r.innerHTML="-1"===e._private.data.id?"Root":`Mined by: ${e._private.data.block._minedBy}`,r}})})}ngOnDestroy(){this.visualisationSub.unsubscribe(),null!==document.getElementById("cy")&&document.getElementById("cy").remove(),this.cy.destroy()}}return n.\u0275fac=function(e){return new(e||n)(O(nv))},n.\u0275cmp=pn({type:n,selectors:[["app-blockchain"]],viewQuery:function(e,i){if(1&e&&mi(Lee,5),2&e){let r;Gt(r=Wt())&&(i.el=r.first)}},decls:15,vars:3,consts:[["fxLayout","row","fxLayoutAlign","start center",1,"container",2,"padding-left","1vw"],[1,"toggle-group",3,"value","change"],["group","matButtonToggleGroup"],["value","default"],["value","longestChain"],["value","GHOST"],[1,"node-select"],[3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","cy"],[3,"value"]],template:function(e,i){if(1&e){const r=Ra();de(0,"div",0)(1,"mat-button-toggle-group",1,2),zt("change",function(){$s(r);const a=jg(2);return ti(i.onValChange(a.value))}),de(3,"mat-button-toggle",3),Le(4,"Default"),pe(),de(5,"mat-button-toggle",4),Le(6,"Longest Chain"),pe(),de(7,"mat-button-toggle",5),Le(8,"GHOST"),pe()(),de(9,"mat-form-field",6)(10,"mat-select",7),zt("selectionChange",function(a){return i.onNodeChange(a.value)}),de(11,"mat-option",3),Le(12,"Default"),pe(),Et(13,Nee,2,2,"mat-option",8),pe()()(),cn(14,"div",9)}2&e&&(Ae(1),Xe("value",i.toggleButtonValue),Ae(9),Xe("value",i.selectedNodeId),Ae(3),Xe("ngForOf",i.fullNodes))},dependencies:[Ud,ja,Ua,gp,sB,oB,vp,sh],styles:[".container[_ngcontent-%COMP%]{margin:1vh 1vw}#cy[_ngcontent-%COMP%]{width:100%;height:70%;position:relative;top:0;left:0}.toggle-group[_ngcontent-%COMP%]{margin:1vh}.node-select[_ngcontent-%COMP%]{margin:1vh;width:100px}"]}),n})();function Ac(){}const Vee=(()=>{let n=0;return()=>n++})();function fi(n){return null===n||typeof n>"u"}function Wi(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function ri(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function wr(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function Lo(n,t){return wr(n)?n:t}function Bn(n,t){return typeof n>"u"?t:n}const aB=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Bi(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function Mi(n,t,e,i){let r,s,a;if(Wi(n))if(s=n.length,i)for(r=s-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<s;r++)t.call(e,n[r],r);else if(ri(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)t.call(e,n[a[r]],a[r])}function W0(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function q0(n){if(Wi(n))return n.map(q0);if(ri(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=q0(n[e[r]]);return t}return n}function lB(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function zee(n,t,e,i){if(!lB(n))return;const r=t[n],s=e[n];ri(r)&&ri(s)?cv(r,s,i):t[n]=q0(s)}function cv(n,t,e){const i=Wi(t)?t:[t],r=i.length;if(!ri(n))return n;const s=(e=e||{}).merger||zee;let a;for(let l=0;l<r;++l){if(a=i[l],!ri(a))continue;const h=Object.keys(a);for(let m=0,v=h.length;m<v;++m)s(h[m],n,a,e)}return n}function uv(n,t){return cv(n,t,{merger:$ee})}function $ee(n,t,e){if(!lB(n))return;const i=t[n],r=e[n];ri(i)&&ri(r)?uv(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=q0(r))}const cB={"":n=>n,x:n=>n.x,y:n=>n.y};function zu(n,t){return(cB[t]||(cB[t]=function Uee(n){const t=function jee(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function RM(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ha=n=>typeof n<"u",$u=n=>"function"==typeof n,uB=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},nr=Math.PI,qi=2*nr,Wee=qi+nr,K0=Number.POSITIVE_INFINITY,qee=nr/180,Cr=nr/2,hh=nr/4,dB=2*nr/3,ju=Math.log10,Fl=Math.sign;function dv(n,t,e){return Math.abs(n-t)<e}function hB(n){const t=Math.round(n);n=dv(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(ju(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Sp(n){return!isNaN(parseFloat(n))&&isFinite(n)}function fB(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Ga(n){return n*(nr/180)}function OM(n){return n*(180/nr)}function pB(n){if(!wr(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function gB(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*nr&&(s+=qi),{angle:s,distance:r}}function PM(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Zee(n,t){return(n-t+Wee)%qi-nr}function No(n){return(n%qi+qi)%qi}function hv(n,t,e,i){const r=No(n),s=No(t),a=No(e),l=No(s-r),h=No(a-r),m=No(r-s),v=No(r-a);return r===s||r===a||i&&s===a||l>h&&m<v}function ds(n,t,e){return Math.max(t,Math.min(e,n))}function kc(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function FM(n,t,e){e=e||(a=>n[a]<t);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const Ic=(n,t,e,i)=>FM(n,e,i?r=>{const s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),Qee=(n,t,e)=>FM(n,e,i=>n[i][t]>=e),mB=["push","pop","shift","splice","unshift"];function vB(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(mB.forEach(s=>{delete n[s]}),delete n._chartjs)}function yB(n){const t=new Set;let e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}const _B=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function bB(n,t){let e=!1;return function(...i){e||(e=!0,_B.call(window,()=>{e=!1,n.apply(t,i)}))}}const LM=n=>"start"===n?"left":"end"===n?"right":"center",Rs=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function wB(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:a,_parsed:l}=n,h=a.axis,{min:m,max:v,minDefined:C,maxDefined:D}=a.getUserBounds();C&&(r=ds(Math.min(Ic(l,a.axis,m).lo,e?i:Ic(t,h,a.getPixelForValue(m)).lo),0,i-1)),s=D?ds(Math.max(Ic(l,a.axis,v,!0).hi+1,e?0:Ic(t,h,a.getPixelForValue(v),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function CB(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const Y0=n=>0===n||1===n,xB=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*qi/e),DB=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*qi/e)+1,Z0={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Cr),easeOutSine:n=>Math.sin(n*Cr),easeInOutSine:n=>-.5*(Math.cos(nr*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>Y0(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Y0(n)?n:xB(n,.075,.3),easeOutElastic:n=>Y0(n)?n:DB(n,.075,.3),easeInOutElastic:n=>Y0(n)?n:n<.5?.5*xB(2*n,.1125,.45):.5+.5*DB(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-Z0.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Z0.easeInBounce(2*n):.5*Z0.easeOutBounce(2*n-1)+.5};var EB=Z0;function fv(n){return n+.5|0}const Uu=(n,t,e)=>Math.max(Math.min(n,e),t);function pv(n){return Uu(fv(2.55*n),0,255)}function Gu(n){return Uu(fv(255*n),0,255)}function Rc(n){return Uu(fv(n/2.55)/100,0,1)}function SB(n){return Uu(fv(100*n),0,100)}const fa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},NM=[..."0123456789ABCDEF"],ite=n=>NM[15&n],rte=n=>NM[(240&n)>>4]+NM[15&n],X0=n=>(240&n)>>4==(15&n);const cte=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function MB(n,t,e){const i=t*Math.min(e,1-e),r=(s,a=(s+n/30)%12)=>e-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function ute(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function dte(n,t,e){const i=MB(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function BM(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),a=Math.min(e,i,r),l=(s+a)/2;let h,m,v;return s!==a&&(v=s-a,m=l>.5?v/(2-s-a):v/(s+a),h=function hte(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,v,s),h=60*h+.5),[0|h,m||0,l]}function VM(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Gu)}function HM(n,t,e){return VM(MB,n,t,e)}function TB(n){return(n%360+360)%360}const AB={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},kB={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Q0;const bte=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,zM=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,Mp=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function J0(n,t,e){if(n){let i=BM(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=HM(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function IB(n,t){return n&&Object.assign(t||{},n)}function RB(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Gu(n[3]))):(t=IB(n,{r:0,g:0,b:0,a:1})).a=Gu(t.a),t}function Dte(n){return"r"===n.charAt(0)?function wte(n){const t=bte.exec(n);let i,r,s,e=255;if(t){if(t[7]!==i){const a=+t[7];e=t[8]?pv(a):Uu(255*a,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?pv(i):Uu(i,0,255)),r=255&(t[4]?pv(r):Uu(r,0,255)),s=255&(t[6]?pv(s):Uu(s,0,255)),{r:i,g:r,b:s,a:e}}}(n):function gte(n){const t=cte.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?pv(+t[5]):Gu(+t[5]));const r=TB(+t[2]),s=+t[3]/100,a=+t[4]/100;return i="hwb"===t[1]?function fte(n,t,e){return VM(dte,n,t,e)}(r,s,a):"hsv"===t[1]?function pte(n,t,e){return VM(ute,n,t,e)}(r,s,a):HM(r,s,a),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class ew{constructor(t){if(t instanceof ew)return t;const e=typeof t;let i;"object"===e?i=RB(t):"string"===e&&(i=function ote(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*fa[n[1]],g:255&17*fa[n[2]],b:255&17*fa[n[3]],a:5===t?17*fa[n[4]]:255}:(7===t||9===t)&&(e={r:fa[n[1]]<<4|fa[n[2]],g:fa[n[3]]<<4|fa[n[4]],b:fa[n[5]]<<4|fa[n[6]],a:9===t?fa[n[7]]<<4|fa[n[8]]:255})),e}(t)||function _te(n){Q0||(Q0=function yte(){const n={},t=Object.keys(kB),e=Object.keys(AB);let i,r,s,a,l;for(i=0;i<t.length;i++){for(a=l=t[i],r=0;r<e.length;r++)s=e[r],l=l.replace(s,AB[s]);s=parseInt(kB[a],16),n[l]=[s>>16&255,s>>8&255,255&s]}return n}(),Q0.transparent=[0,0,0,0]);const t=Q0[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||Dte(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=IB(this._rgb);return t&&(t.a=Rc(t.a)),t}set rgb(t){this._rgb=RB(t)}rgbString(){return this._valid?function Cte(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Rc(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function lte(n){var t=(n=>X0(n.r)&&X0(n.g)&&X0(n.b)&&X0(n.a))(n)?ite:rte;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function vte(n){if(!n)return;const t=BM(n),e=t[0],i=SB(t[1]),r=SB(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Rc(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const a=e===s?.5:e,l=2*a-1,h=i.a-r.a,m=((l*h==-1?l:(l+h)/(1+l*h))+1)/2;s=1-m,i.r=255&m*i.r+s*r.r+.5,i.g=255&m*i.g+s*r.g+.5,i.b=255&m*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function xte(n,t,e){const i=Mp(Rc(n.r)),r=Mp(Rc(n.g)),s=Mp(Rc(n.b));return{r:Gu(zM(i+e*(Mp(Rc(t.r))-i))),g:Gu(zM(r+e*(Mp(Rc(t.g))-r))),b:Gu(zM(s+e*(Mp(Rc(t.b))-s))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new ew(this.rgb)}alpha(t){return this._rgb.a=Gu(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=fv(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return J0(this._rgb,2,t),this}darken(t){return J0(this._rgb,2,-t),this}saturate(t){return J0(this._rgb,1,t),this}desaturate(t){return J0(this._rgb,1,-t),this}rotate(t){return function mte(n,t){var e=BM(n);e[0]=TB(e[0]+t),e=HM(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function OB(n){return new ew(n)}function PB(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function FB(n){return PB(n)?n:OB(n)}function $M(n){return PB(n)?n:OB(n).saturate(.5).darken(.1).hexString()}const Ete=["x","y","borderWidth","radius","tension"],Ste=["color","borderColor","backgroundColor"],LB=new Map;function gv(n,t,e){return function Ate(n,t){t=t||{};const e=n+JSON.stringify(t);let i=LB.get(e);return i||(i=new Intl.NumberFormat(n,t),LB.set(e,i)),i}(t,e).format(n)}const NB={values:n=>Wi(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),s=function kte(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const a=ju(Math.abs(s)),l=Math.max(Math.min(-1*Math.floor(a),20),0),h={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(h,this.options.ticks.format),gv(n,i,h)},logarithmic(n,t,e){if(0===n)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(ju(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?NB.numeric.call(this,n,t,e):""}};var tw={formatters:NB};const fh=Object.create(null),jM=Object.create(null);function mv(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function UM(n,t,e){return"string"==typeof t?cv(mv(n,t),e):cv(mv(n,""),t)}class Rte{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>$M(r.backgroundColor),this.hoverBorderColor=(i,r)=>$M(r.borderColor),this.hoverColor=(i,r)=>$M(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return UM(this,t,e)}get(t){return mv(this,t)}describe(t,e){return UM(jM,t,e)}override(t,e){return UM(fh,t,e)}route(t,e,i,r){const s=mv(this,t),a=mv(this,i),l="_"+e;Object.defineProperties(s,{[l]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[l],m=a[r];return ri(h)?Object.assign({},m,h):Bn(h,m)},set(h){this[l]=h}}})}apply(t){t.forEach(e=>e(this))}}var Rr=new Rte({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Mte(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:Ste},numbers:{type:"number",properties:Ete}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function Tte(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Ite(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function nw(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function Pte(n,t,e,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let a=0;const l=e.length;let h,m,v,C,D;for(h=0;h<l;h++)if(C=e[h],null!=C&&!0!==Wi(C))a=nw(n,r,s,a,C);else if(Wi(C))for(m=0,v=C.length;m<v;m++)D=C[m],null!=D&&!Wi(D)&&(a=nw(n,r,s,a,D));n.restore();const T=s.length/2;if(T>e.length){for(h=0;h<T;h++)delete r[s[h]];s.splice(0,T)}return a}function ph(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function BB(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function GM(n,t,e,i){VB(n,t,e,i,null)}function VB(n,t,e,i,r){let s,a,l,h,m,v,C,D;const T=t.pointStyle,k=t.rotation,P=t.radius;let N=(k||0)*qee;if(T&&"object"==typeof T&&(s=T.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(e,i),n.rotate(N),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),void n.restore();if(!(isNaN(P)||P<=0)){switch(n.beginPath(),T){default:r?n.ellipse(e,i,r/2,P,0,0,qi):n.arc(e,i,P,0,qi),n.closePath();break;case"triangle":v=r?r/2:P,n.moveTo(e+Math.sin(N)*v,i-Math.cos(N)*P),N+=dB,n.lineTo(e+Math.sin(N)*v,i-Math.cos(N)*P),N+=dB,n.lineTo(e+Math.sin(N)*v,i-Math.cos(N)*P),n.closePath();break;case"rectRounded":m=.516*P,h=P-m,a=Math.cos(N+hh)*h,C=Math.cos(N+hh)*(r?r/2-m:h),l=Math.sin(N+hh)*h,D=Math.sin(N+hh)*(r?r/2-m:h),n.arc(e-C,i-l,m,N-nr,N-Cr),n.arc(e+D,i-a,m,N-Cr,N),n.arc(e+C,i+l,m,N,N+Cr),n.arc(e-D,i+a,m,N+Cr,N+nr),n.closePath();break;case"rect":if(!k){h=Math.SQRT1_2*P,v=r?r/2:h,n.rect(e-v,i-h,2*v,2*h);break}N+=hh;case"rectRot":C=Math.cos(N)*(r?r/2:P),a=Math.cos(N)*P,l=Math.sin(N)*P,D=Math.sin(N)*(r?r/2:P),n.moveTo(e-C,i-l),n.lineTo(e+D,i-a),n.lineTo(e+C,i+l),n.lineTo(e-D,i+a),n.closePath();break;case"crossRot":N+=hh;case"cross":C=Math.cos(N)*(r?r/2:P),a=Math.cos(N)*P,l=Math.sin(N)*P,D=Math.sin(N)*(r?r/2:P),n.moveTo(e-C,i-l),n.lineTo(e+C,i+l),n.moveTo(e+D,i-a),n.lineTo(e-D,i+a);break;case"star":C=Math.cos(N)*(r?r/2:P),a=Math.cos(N)*P,l=Math.sin(N)*P,D=Math.sin(N)*(r?r/2:P),n.moveTo(e-C,i-l),n.lineTo(e+C,i+l),n.moveTo(e+D,i-a),n.lineTo(e-D,i+a),N+=hh,C=Math.cos(N)*(r?r/2:P),a=Math.cos(N)*P,l=Math.sin(N)*P,D=Math.sin(N)*(r?r/2:P),n.moveTo(e-C,i-l),n.lineTo(e+C,i+l),n.moveTo(e+D,i-a),n.lineTo(e-D,i+a);break;case"line":a=r?r/2:Math.cos(N)*P,l=Math.sin(N)*P,n.moveTo(e-a,i-l),n.lineTo(e+a,i+l);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(N)*(r?r/2:P),i+Math.sin(N)*P)}n.fill(),t.borderWidth>0&&n.stroke()}}function vv(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function iw(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function rw(n){n.restore()}function Fte(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Lte(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function gh(n,t,e,i,r,s={}){const a=Wi(t)?t:[t],l=s.strokeWidth>0&&""!==s.strokeColor;let h,m;for(n.save(),n.font=r.string,function Nte(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),fi(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,s),h=0;h<a.length;++h)m=a[h],s.backdrop&&Vte(n,s.backdrop),l&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),fi(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(m,e,i,s.maxWidth)),n.fillText(m,e,i,s.maxWidth),Bte(n,e,i,m,s),i+=r.lineHeight;n.restore()}function Bte(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=t-s.actualBoundingBoxLeft,l=t+s.actualBoundingBoxRight,h=e-s.actualBoundingBoxAscent,m=e+s.actualBoundingBoxDescent,v=r.strikethrough?(h+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,v),n.lineTo(l,v),n.stroke()}}function Vte(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function yv(n,t){const{x:e,y:i,w:r,h:s,radius:a}=t;n.arc(e+a.topLeft,i+a.topLeft,a.topLeft,-Cr,nr,!0),n.lineTo(e,i+s-a.bottomLeft),n.arc(e+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,nr,Cr,!0),n.lineTo(e+r-a.bottomRight,i+s),n.arc(e+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,Cr,0,!0),n.lineTo(e+r,i+a.topRight),n.arc(e+r-a.topRight,i+a.topRight,a.topRight,0,-Cr,!0),n.lineTo(e+a.topLeft,i)}const Hte=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,zte=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $te(n,t){const e=(""+n).match(Hte);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const jte=n=>+n||0;function WM(n,t){const e={},i=ri(t),r=i?Object.keys(t):t,s=ri(n)?i?a=>Bn(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of r)e[a]=jte(s(a));return e}function HB(n){return WM(n,{top:"y",right:"x",bottom:"y",left:"x"})}function mh(n){return WM(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Os(n){const t=HB(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Xr(n,t){let e=Bn((n=n||{}).size,(t=t||Rr.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=Bn(n.style,t.style);i&&!(""+i).match(zte)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Bn(n.family,t.family),lineHeight:$te(Bn(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Bn(n.weight,t.weight),string:""};return r.string=function Ote(n){return!n||fi(n.size)||fi(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function _v(n,t,e,i){let s,a,l,r=!0;for(s=0,a=n.length;s<a;++s)if(l=n[s],void 0!==l&&(void 0!==t&&"function"==typeof l&&(l=l(t),r=!1),void 0!==e&&Wi(l)&&(l=l[e%l.length],r=!1),void 0!==l))return i&&!r&&(i.cacheable=!1),l}function Wu(n,t){return Object.assign(Object.create(n),t)}function qM(n,t=[""],e=n,i,r=(()=>n[0])){ha(i)||(i=GB("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:r,override:a=>qM([a,...n],t,e,i)};return new Proxy(s,{deleteProperty:(a,l)=>(delete a[l],delete a._keys,delete n[0][l],!0),get:(a,l)=>$B(a,l,()=>function Qte(n,t,e,i){let r;for(const s of t)if(r=GB(Gte(s,n),e),ha(r))return KM(n,r)?YM(e,i,n,r):r}(l,t,n,a)),getOwnPropertyDescriptor:(a,l)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],l),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(a,l)=>WB(a).includes(l),ownKeys:a=>WB(a),set(a,l,h){const m=a._storage||(a._storage=r());return a[l]=m[l]=h,delete a._keys,!0}})}function Tp(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:zB(n,i),setContext:s=>Tp(n,s,e,i),override:s=>Tp(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty:(s,a)=>(delete s[a],delete n[a],!0),get:(s,a,l)=>$B(s,a,()=>function Wte(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let l=i[t];return $u(l)&&a.isScriptable(t)&&(l=function qte(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_stack:l}=e;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);return l.add(n),t=t(s,a||i),l.delete(n),KM(n,t)&&(t=YM(r._scopes,r,n,t)),t}(t,l,n,e)),Wi(l)&&l.length&&(l=function Kte(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=e;if(ha(s.index)&&i(n))t=t[s.index%t.length];else if(ri(t[0])){const h=t,m=r._scopes.filter(v=>v!==h);t=[];for(const v of h){const C=YM(m,r,n,v);t.push(Tp(C,s,a&&a[n],l))}}return t}(t,l,n,a.isIndexable)),KM(t,l)&&(l=Tp(l,r,s&&s[t],a)),l}(s,a,l)),getOwnPropertyDescriptor:(s,a)=>s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(s,a,l)=>(n[a]=l,delete s[a],!0)})}function zB(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:$u(e)?e:()=>e,isIndexable:$u(i)?i:()=>i}}const Gte=(n,t)=>n?n+RM(t):t,KM=(n,t)=>ri(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function $B(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function jB(n,t,e){return $u(n)?n(t,e):n}const Yte=(n,t)=>!0===n?t:"string"==typeof n?zu(t,n):void 0;function Zte(n,t,e,i,r){for(const s of t){const a=Yte(e,s);if(a){n.add(a);const l=jB(a._fallback,e,r);if(ha(l)&&l!==e&&l!==i)return l}else if(!1===a&&ha(i)&&e!==i)return null}return!1}function YM(n,t,e,i){const r=t._rootScopes,s=jB(t._fallback,e,i),a=[...n,...r],l=new Set;l.add(i);let h=UB(l,a,e,s||e,i);return!(null===h||ha(s)&&s!==e&&(h=UB(l,a,s,h,i),null===h))&&qM(Array.from(l),[""],r,s,()=>function Xte(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Wi(r)&&ri(e)?e:r||{}}(t,e,i))}function UB(n,t,e,i,r){for(;e;)e=Zte(n,t,e,i,r);return e}function GB(n,t){for(const e of t){if(!e)continue;const i=e[n];if(ha(i))return i}}function WB(n){let t=n._keys;return t||(t=n._keys=function Jte(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function qB(n,t,e,i){const{iScale:r}=n,{key:s="r"}=this._parsing,a=new Array(i);let l,h,m,v;for(l=0,h=i;l<h;++l)m=l+e,v=t[m],a[l]={r:r.parse(zu(v,s),m)};return a}const ene=Number.EPSILON||1e-14,Ap=(n,t)=>t<n.length&&!n[t].skip&&n[t],KB=n=>"x"===n?"y":"x";function tne(n,t,e,i){const r=n.skip?t:n,s=t,a=e.skip?t:e,l=PM(s,r),h=PM(a,s);let m=l/(l+h),v=h/(l+h);m=isNaN(m)?0:m,v=isNaN(v)?0:v;const C=i*m,D=i*v;return{previous:{x:s.x-C*(a.x-r.x),y:s.y-C*(a.y-r.y)},next:{x:s.x+D*(a.x-r.x),y:s.y+D*(a.y-r.y)}}}function sw(n,t,e){return Math.max(Math.min(n,e),t)}function one(n,t,e,i,r){let s,a,l,h;if(t.spanGaps&&(n=n.filter(m=>!m.skip)),"monotone"===t.cubicInterpolationMode)!function rne(n,t="x"){const e=KB(t),i=n.length,r=Array(i).fill(0),s=Array(i);let a,l,h,m=Ap(n,0);for(a=0;a<i;++a)if(l=h,h=m,m=Ap(n,a+1),h){if(m){const v=m[t]-h[t];r[a]=0!==v?(m[e]-h[e])/v:0}s[a]=l?m?Fl(r[a-1])!==Fl(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}(function nne(n,t,e){const i=n.length;let r,s,a,l,h,m=Ap(n,0);for(let v=0;v<i-1;++v)if(h=m,m=Ap(n,v+1),h&&m){if(dv(t[v],0,ene)){e[v]=e[v+1]=0;continue}r=e[v]/t[v],s=e[v+1]/t[v],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(a=3/Math.sqrt(l),e[v]=r*a*t[v],e[v+1]=s*a*t[v])}})(n,r,s),function ine(n,t,e="x"){const i=KB(e),r=n.length;let s,a,l,h=Ap(n,0);for(let m=0;m<r;++m){if(a=l,l=h,h=Ap(n,m+1),!l)continue;const v=l[e],C=l[i];a&&(s=(v-a[e])/3,l[`cp1${e}`]=v-s,l[`cp1${i}`]=C-s*t[m]),h&&(s=(h[e]-v)/3,l[`cp2${e}`]=v+s,l[`cp2${i}`]=C+s*t[m])}}(n,s,t)}(n,r);else{let m=i?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)l=n[s],h=tne(m,l,n[Math.min(s+1,a-(i?0:1))%a],t.tension),l.cp1x=h.previous.x,l.cp1y=h.previous.y,l.cp2x=h.next.x,l.cp2y=h.next.y,m=l}t.capBezierPoints&&function sne(n,t){let e,i,r,s,a,l=vv(n[0],t);for(e=0,i=n.length;e<i;++e)a=s,s=l,l=e<i-1&&vv(n[e+1],t),s&&(r=n[e],a&&(r.cp1x=sw(r.cp1x,t.left,t.right),r.cp1y=sw(r.cp1y,t.top,t.bottom)),l&&(r.cp2x=sw(r.cp2x,t.left,t.right),r.cp2y=sw(r.cp2y,t.top,t.bottom)))}(n,e)}function YB(){return typeof window<"u"&&typeof document<"u"}function ZM(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ow(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const aw=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),lne=["top","right","bottom","left"];function vh(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=lne[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function yh(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=aw(e),s="border-box"===r.boxSizing,a=vh(r,"padding"),l=vh(r,"border","width"),{x:h,y:m,box:v}=function une(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let l,h,a=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(r,s,n.target))l=r,h=s;else{const m=t.getBoundingClientRect();l=i.clientX-m.left,h=i.clientY-m.top,a=!0}return{x:l,y:h,box:a}}(n,e),C=a.left+(v&&l.left),D=a.top+(v&&l.top);let{width:T,height:k}=t;return s&&(T-=a.width+l.width,k-=a.height+l.height),{x:Math.round((h-C)/T*e.width/i),y:Math.round((m-D)/k*e.height/i)}}const lw=n=>Math.round(10*n)/10;function ZB(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=r/i,n.width=s/i;const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s)&&(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const fne=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}();function XB(n,t){const e=function ane(n,t){return aw(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function _h(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function pne(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function gne(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},a=_h(n,r,e),l=_h(r,s,e),h=_h(s,t,e),m=_h(a,l,e),v=_h(l,h,e);return _h(m,v,e)}function kp(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function QB(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function JB(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function eV(n){return"angle"===n?{between:hv,compare:Zee,normalize:No}:{between:kc,compare:(t,e)=>t-e,normalize:t=>t}}function tV({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function nV(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,a=t.length,{compare:l,between:h,normalize:m}=eV(i),{start:v,end:C,loop:D,style:T}=function yne(n,t,e){const{property:i,start:r,end:s}=e,{between:a,normalize:l}=eV(i),h=t.length;let D,T,{start:m,end:v,loop:C}=n;if(C){for(m+=h,v+=h,D=0,T=h;D<T&&a(l(t[m%h][i]),r,s);++D)m--,v--;m%=h,v%=h}return v<m&&(v+=h),{start:m,end:v,loop:C,style:n.style}}(n,t,e),k=[];let V,q,te,P=!1,N=null;for(let dt=v,Rt=v;dt<=C;++dt)q=t[dt%a],!q.skip&&(V=m(q[i]),V!==te&&(P=h(V,r,s),null===N&&(P||h(r,te,V)&&0!==l(r,te))&&(N=0===l(V,r)?dt:Rt),null!==N&&(!P||0===l(s,V)||h(s,te,V))&&(k.push(tV({start:N,end:dt,loop:D,count:a,style:T})),N=null),Rt=dt,te=V));return null!==N&&k.push(tV({start:N,end:C,loop:D,count:a,style:T})),k}function iV(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=nV(i[r],n.points,t);s.length&&e.push(...s)}return e}function sV(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function xne(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}class Dne{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const a=e.duration;e.listeners[r].forEach(l=>l({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(i-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=_B.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let h,a=s.length-1,l=!1;for(;a>=0;--a)h=s[a],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),l=!0):(s[a]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Oc=new Dne;const oV="transparent",Ene={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=FB(n||oV),r=i.valid&&FB(t||oV);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class Sne{constructor(t,e,i,r){const s=e[i];r=_v([t.to,r,s,t.from]);const a=_v([t.from,s,r]);this._active=!0,this._fn=t.fn||Ene[t.type||typeof a],this._easing=EB[t.easing]||EB.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=_v([t.to,e,r,t.from]),this._from=_v([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,l=this._to;let h;if(this._active=s!==l&&(a||e<i),!this._active)return this._target[r]=l,void this._notify(!0);e<0?this._target[r]=s:(h=e/i%2,h=a&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(s,l,h))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class aV{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ri(t))return;const e=Object.keys(Rr.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!ri(s))return;const a={};for(const l of e)a[l]=s[l];(Wi(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,a)})})}_animateOptions(t,e){const i=e.options,r=function Tne(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function Mne(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),a=Object.keys(e),l=Date.now();let h;for(h=a.length-1;h>=0;--h){const m=a[h];if("$"===m.charAt(0))continue;if("options"===m){r.push(...this._animateOptions(t,e));continue}const v=e[m];let C=s[m];const D=i.get(m);if(C){if(D&&C.active()){C.update(D,v,l);continue}C.cancel()}D&&D.duration?(s[m]=C=new Sne(D,t,m,v),r.push(C)):t[m]=v}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Oc.add(this._chart,i),!0):void 0}}function lV(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,s=void 0===e.max?t:0;return{start:i?s:r,end:i?r:s}}function cV(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function uV(n,t,e,i={}){const r=n.keys,s="single"===i.mode;let a,l,h,m;if(null!==t){for(a=0,l=r.length;a<l;++a){if(h=+r[a],h===e){if(i.all)continue;break}m=n.values[h],wr(m)&&(s||0===t||Fl(t)===Fl(m))&&(t+=m)}return t}}function dV(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function Pne(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function hV(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function fV(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:a,index:l}=i,h=s.axis,m=a.axis,v=function Rne(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(s,a,i),C=t.length;let D;for(let T=0;T<C;++T){const k=t[T],{[h]:P,[m]:N}=k;D=(k._stacks||(k._stacks={}))[m]=Pne(r,v,P),D[l]=N,D._top=hV(D,a,!0,i.type),D._bottom=hV(D,a,!1,i.type)}}function XM(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function bv(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][e])return;delete s[i][e]}}}const QM=n=>"reset"===n||"none"===n,pV=(n,t)=>t?n:Object.assign({},n);class Wa{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=dV(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&bv(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(C,D,T,k)=>"x"===C?D:"r"===C?k:T,s=e.xAxisID=Bn(i.xAxisID,XM(t,"x")),a=e.yAxisID=Bn(i.yAxisID,XM(t,"y")),l=e.rAxisID=Bn(i.rAxisID,XM(t,"r")),h=e.indexAxis,m=e.iAxisID=r(h,s,a,l),v=e.vAxisID=r(h,a,s,l);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(v)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&vB(this._data,this),t._stacked&&bv(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(ri(e))this._data=function Ine(n){const t=Object.keys(n),e=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],e[i]={x:s,y:n[s]};return e}(e);else if(i!==e){if(i){vB(i,this);const r=this._cachedMeta;bv(r),r._parsed=[]}e&&Object.isExtensible(e)&&function ete(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),mB.forEach(e=>{const i="_onData"+RM(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(l=>{"function"==typeof l[i]&&l[i](...s)}),a}})}))}(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=e._stacked;e._stacked=dV(e.vScale,e),e.stack!==i.stack&&(r=!0,bv(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&fV(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,l=s.axis;let v,C,D,h=0===t&&e===r.length||i._sorted,m=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=r,i._sorted=!0,D=r;else{D=Wi(r[t])?this.parseArrayData(i,r,t,e):ri(r[t])?this.parseObjectData(i,r,t,e):this.parsePrimitiveData(i,r,t,e);const T=()=>null===C[l]||m&&C[l]<m[l];for(v=0;v<e;++v)i._parsed[v+t]=C=D[v],h&&(T()&&(h=!1),m=C);i._sorted=h}a&&fV(this,D)}parsePrimitiveData(t,e,i,r){const{iScale:s,vScale:a}=t,l=s.axis,h=a.axis,m=s.getLabels(),v=s===a,C=new Array(r);let D,T,k;for(D=0,T=r;D<T;++D)k=D+i,C[D]={[l]:v||s.parse(m[k],k),[h]:a.parse(e[k],k)};return C}parseArrayData(t,e,i,r){const{xScale:s,yScale:a}=t,l=new Array(r);let h,m,v,C;for(h=0,m=r;h<m;++h)v=h+i,C=e[v],l[h]={x:s.parse(C[0],v),y:a.parse(C[1],v)};return l}parseObjectData(t,e,i,r){const{xScale:s,yScale:a}=t,{xAxisKey:l="x",yAxisKey:h="y"}=this._parsing,m=new Array(r);let v,C,D,T;for(v=0,C=r;v<C;++v)D=v+i,T=e[D],m[v]={x:s.parse(zu(T,l),D),y:a.parse(zu(T,h),D)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this._cachedMeta,a=e[t.axis];return uV({keys:cV(this.chart,!0),values:e._stacks[t.axis]},a,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const s=i[e.axis];let a=null===s?NaN:s;const l=r&&i._stacks[e.axis];r&&l&&(r.values=l,a=uV(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,a=r.length,l=this._getOtherScale(t),h=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:cV(this.chart,!0),values:null})(e,i),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:v,max:C}=function One(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(l);let D,T;function k(){T=r[D];const P=T[l.axis];return!wr(T[t.axis])||v>P||C<P}for(D=0;D<a&&(k()||(this.updateRangeFromParsed(m,t,T,h),!s));++D);if(s)for(D=a-1;D>=0;--D)if(!k()){this.updateRangeFromParsed(m,t,T,h);break}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=e.length;r<s;++r)a=e[r][t.axis],wr(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function kne(n){let t,e,i,r;return ri(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(Bn(this.options.clip,function Ane(n,t,e){if(!1===e)return!1;const i=lV(n,e),r=lV(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this._cachedMeta,r=i.data||[],s=this.chart.chartArea,a=[],l=this._drawStart||0,h=this._drawCount||r.length-l,m=this.options.drawActiveElementsOnTop;let v;for(i.dataset&&i.dataset.draw(t,s,l,h),v=l;v<l+h;++v){const C=r[v];C.hidden||(C.active&&m?a.push(C):C.draw(t,s))}for(v=0;v<a.length;++v)a[v].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];s=a.$context||(a.$context=function Lne(n,t,e){return Wu(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=function Fne(n,t){return Wu(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r="active"===e,s=this._cachedDataOpts,a=t+"-"+e,l=s[a],h=this.enableOptionSharing&&ha(i);if(l)return pV(l,h);const m=this.chart.config,v=m.datasetElementScopeKeys(this._type,t),C=r?[`${t}Hover`,"hover",t,""]:[t,""],D=m.getOptionScopes(this.getDataset(),v),T=Object.keys(Rr.elements[t]),P=m.resolveNamedOptions(D,T,()=>this.getContext(i,r),C);return P.$shared&&(P.$shared=h,s[a]=Object.freeze(pV(P,h))),P}_resolveAnimations(t,e,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${e}`,l=s[a];if(l)return l;let h;if(!1!==r.options.animation){const v=this.chart.config,C=v.datasetAnimationScopeKeys(this._type,e),D=v.getOptionScopes(this.getDataset(),C);h=v.createResolver(D,this.getContext(t,i,e))}const m=new aV(r,h&&h.animations);return h&&h._cacheable&&(s[a]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||QM(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:a}}updateElement(t,e,i,r){QM(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!QM(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[l,h,m]of this._syncList)this[l](h,m);this._syncList=[];const r=i.length,s=e.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){const r=this._cachedMeta,s=r.data,a=t+e;let l;const h=m=>{for(m.length+=e,l=m.length-1;l>=a;l--)m[l]=m[l-e]};for(h(s),l=t;l<a;++l)s[l]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&bv(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Vne(n){const t=n.iScale,e=function Bne(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=yB(i.sort((r,s)=>r-s))}return n._cache.$bar}(t,n.type);let r,s,a,l,i=t._length;const h=()=>{32767===a||-32768===a||(ha(l)&&(i=Math.min(i,Math.abs(a-l)||i)),l=a)};for(r=0,s=e.length;r<s;++r)a=t.getPixelForValue(e[r]),h();for(l=void 0,r=0,s=t.ticks.length;r<s;++r)a=t.getPixelForTick(r),h();return i}function gV(n,t,e,i){return Wi(n)?function $ne(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),a=Math.min(r,s),l=Math.max(r,s);let h=a,m=l;Math.abs(a)>Math.abs(l)&&(h=l,m=a),t[e.axis]=m,t._custom={barStart:h,barEnd:m,start:r,end:s,min:a,max:l}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function mV(n,t,e,i){const r=n.iScale,s=n.vScale,a=r.getLabels(),l=r===s,h=[];let m,v,C,D;for(m=e,v=e+i;m<v;++m)D=t[m],C={},C[r.axis]=l||r.parse(a[m],m),h.push(gV(D,C,s,m));return h}function JM(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function Gne(n,t,e,i){let r=t.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:l,reverse:h,top:m,bottom:v}=function Une(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=v:(s[vV(v,a,l,h)]=!0,r=m)),s[vV(r,a,l,h)]=!0,n.borderSkipped=s}function vV(n,t,e,i){return i?(n=function Wne(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=yV(n,e,t)):n=yV(n,t,e),n}function yV(n,t,e){return"start"===n?t:"end"===n?e:n}function qne(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}Bt(Wa,"defaults",{}),Bt(Wa,"datasetElementType",null),Bt(Wa,"dataElementType",null);class cw extends Wa{parsePrimitiveData(t,e,i,r){return mV(t,e,i,r)}parseArrayData(t,e,i,r){return mV(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:s,vScale:a}=t,{xAxisKey:l="x",yAxisKey:h="y"}=this._parsing,m="x"===s.axis?l:h,v="x"===a.axis?l:h,C=[];let D,T,k,P;for(D=i,T=i+r;D<T;++D)P=e[D],k={},k[s.axis]=s.parse(zu(P,m),D),C.push(gV(zu(P,v),k,a,D));return C}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),a=s._custom,l=JM(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const s="reset"===r,{index:a,_cachedMeta:{vScale:l}}=this,h=l.getBasePixel(),m=l.isHorizontal(),v=this._getRuler(),{sharedOptions:C,includeOptions:D}=this._getSharedOptions(e,r);for(let T=e;T<e+i;T++){const k=this.getParsed(T),P=s||fi(k[l.axis])?{base:h,head:h}:this._calculateBarValuePixels(T),N=this._calculateBarIndexPixels(T,v),V=(k._stacks||{})[l.axis],q={horizontal:m,base:P.base,enableBorderRadius:!V||JM(k._custom)||a===V._top||a===V._bottom,x:m?P.head:N.center,y:m?N.center:P.head,height:m?N.size:Math.abs(P.size),width:m?Math.abs(P.size):N.size};D&&(q.options=C||this.resolveDataElementOptions(T,t[T].active?"active":r));const te=q.options||t[T].options;Gne(q,te,V,a),qne(q,te,v.ratio),this.updateElement(t[T],T,q,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=i.options.stacked,a=[],l=h=>{const m=h.controller.getParsed(e),v=m&&m[h.vScale.axis];if(fi(v)||isNaN(v))return!0};for(const h of r)if((void 0===e||!l(h))&&((!1===s||-1===a.indexOf(h.stack)||void 0===s&&void 0===h.stack)&&a.push(h.stack),h.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const r=this._getStacks(t,i),s=void 0!==e?r.indexOf(e):-1;return-1===s?r.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,a;for(s=0,a=e.data.length;s<a;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const l=t.barThickness;return{min:l||Vne(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i},options:{base:r,minBarLength:s}}=this,a=r||0,l=this.getParsed(t),h=l._custom,m=JM(h);let T,k,v=l[e.axis],C=0,D=i?this.applyStack(e,l,i):v;D!==v&&(C=D-v,D=v),m&&(v=h.barStart,D=h.barEnd-h.barStart,0!==v&&Fl(v)!==Fl(h.barEnd)&&(C=0),C+=v);const P=fi(r)||m?C:r;let N=e.getPixelForValue(P);if(T=this.chart.getDataVisibility(t)?e.getPixelForValue(C+D):N,k=T-N,Math.abs(k)<s){k=function jne(n,t,e){return 0!==n?Fl(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(k,e,a)*s,v===a&&(N-=k/2);const V=e.getPixelForDecimal(0),q=e.getPixelForDecimal(1),te=Math.min(V,q),$=Math.max(V,q);N=Math.max(Math.min(N,$),te),T=N+k}if(N===e.getPixelForValue(a)){const V=Fl(k)*e.getLineWidthForValue(a)/2;N+=V,k-=V}return{size:k,base:N,head:T,center:T+k/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,s=r.skipNull,a=Bn(r.maxBarThickness,1/0);let l,h;if(e.grouped){const m=s?this._getStackCount(t):e.stackCount,v="flex"===r.barThickness?function zne(n,t,e,i){const r=t.pixels,s=r[n];let a=n>0?r[n-1]:null,l=n<r.length-1?r[n+1]:null;const h=e.categoryPercentage;null===a&&(a=s-(null===l?t.end-t.start:l-s)),null===l&&(l=s+s-a);const m=s-(s-Math.min(a,l))/2*h;return{chunk:Math.abs(l-a)/2*h/i,ratio:e.barPercentage,start:m}}(t,e,r,m):function Hne(n,t,e,i){const r=e.barThickness;let s,a;return fi(r)?(s=t.min*e.categoryPercentage,a=e.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:t.pixels[n]-s/2}}(t,e,r,m),C=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);l=v.start+v.chunk*C+v.chunk/2,h=Math.min(a,v.chunk*v.ratio)}else l=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(a,e.min*e.ratio);return{base:l-h/2,head:l+h/2,center:l,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)null!==this.getParsed(s)[e.axis]&&i[s].draw(this._ctx)}}Bt(cw,"id","bar"),Bt(cw,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Bt(cw,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class uw extends Wa{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const s=super.parsePrimitiveData(t,e,i,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(t,e,i,r){const s=super.parseArrayData(t,e,i,r);for(let a=0;a<s.length;a++)s[a]._custom=Bn(e[i+a][2],this.resolveDataElementOptions(a+i).radius);return s}parseObjectData(t,e,i,r){const s=super.parseObjectData(t,e,i,r);for(let a=0;a<s.length;a++){const l=e[i+a];s[a]._custom=Bn(l&&l.r&&+l.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,a=this.getParsed(t),l=r.getLabelForValue(a.x),h=s.getLabelForValue(a.y),m=a._custom;return{label:i[t]||"",value:"("+l+", "+h+(m?", "+m:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const s="reset"===r,{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:h,includeOptions:m}=this._getSharedOptions(e,r),v=a.axis,C=l.axis;for(let D=e;D<e+i;D++){const T=t[D],k=!s&&this.getParsed(D),P={},N=P[v]=s?a.getPixelForDecimal(.5):a.getPixelForValue(k[v]),V=P[C]=s?l.getBasePixel():l.getPixelForValue(k[C]);P.skip=isNaN(N)||isNaN(V),m&&(P.options=h||this.resolveDataElementOptions(D,T.active?"active":r),s&&(P.options.radius=0)),this.updateElement(T,D,P,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return"active"!==e&&(r.radius=0),r.radius+=Bn(i&&i._custom,s),r}}Bt(uw,"id","bubble"),Bt(uw,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Bt(uw,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Ip extends Wa{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=i;else{let a,l,s=h=>+i[h];if(ri(i[t])){const{key:h="value"}=this._parsing;s=m=>+zu(i[m],h)}for(a=t,l=t+e;a<l;++a)r._parsed[a]=s(a)}}_getRotation(){return Ga(this.options.rotation-90)}_getCircumference(){return Ga(this.options.circumference)}_getRotationExtents(){let t=qi,e=-qi;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),a=r._getCircumference();t=Math.min(t,s),e=Math.max(e,s+a)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),h=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,l),1),m=this._getRingWeight(this.index),{circumference:v,rotation:C}=this._getRotationExtents(),{ratioX:D,ratioY:T,offsetX:k,offsetY:P}=function Kne(n,t,e){let i=1,r=1,s=0,a=0;if(t<qi){const l=n,h=l+t,m=Math.cos(l),v=Math.sin(l),C=Math.cos(h),D=Math.sin(h),T=(te,$,fe)=>hv(te,l,h,!0)?1:Math.max($,$*e,fe,fe*e),k=(te,$,fe)=>hv(te,l,h,!0)?-1:Math.min($,$*e,fe,fe*e),P=T(0,m,C),N=T(Cr,v,D),V=k(nr,m,C),q=k(nr+Cr,v,D);i=(P-V)/2,r=(N-q)/2,s=-(P+V)/2,a=-(N+q)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}(C,v,h),q=Math.max(Math.min((i.width-a)/D,(i.height-a)/T)/2,0),te=aB(this.options.radius,q),fe=(te-Math.max(te*h,0))/this._getVisibleDatasetWeightTotal();this.offsetX=k*te,this.offsetY=P*te,r.total=this.calculateTotal(),this.outerRadius=te-fe*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-fe*m,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/qi)}updateElements(t,e,i,r){const s="reset"===r,a=this.chart,l=a.chartArea,v=(l.left+l.right)/2,C=(l.top+l.bottom)/2,D=s&&a.options.animation.animateScale,T=D?0:this.innerRadius,k=D?0:this.outerRadius,{sharedOptions:P,includeOptions:N}=this._getSharedOptions(e,r);let q,V=this._getRotation();for(q=0;q<e;++q)V+=this._circumference(q,s);for(q=e;q<e+i;++q){const te=this._circumference(q,s),$=t[q],fe={x:v+this.offsetX,y:C+this.offsetY,startAngle:V,endAngle:V+te,circumference:te,outerRadius:k,innerRadius:T};N&&(fe.options=P||this.resolveDataElementOptions(q,$.active?"active":r)),V+=te,this.updateElement($,q,fe,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let r,i=0;for(r=0;r<e.length;r++){const s=t._parsed[r];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?qi*(Math.abs(t)/e):0}getLabelAndValue(t){const i=this.chart,r=i.data.labels||[],s=gv(this._cachedMeta._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,s,a,l,h;if(!t)for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),t=a.data,l=a.controller;break}if(!t)return 0;for(r=0,s=t.length;r<s;++r)h=l.resolveDataElementOptions(r),"inner"!==h.borderAlign&&(e=Math.max(e,h.borderWidth||0,h.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Bn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Bt(Ip,"id","doughnut"),Bt(Ip,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Bt(Ip,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t}),Bt(Ip,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,a)=>{const h=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class dw extends Wa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,a=this.chart._animationsDisabled;let{start:l,count:h}=wB(e,r,a);this._drawStart=l,this._drawCount=h,CB(e)&&(l=0,h=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:m},t),this.updateElements(r,l,h,t)}updateElements(t,e,i,r){const s="reset"===r,{iScale:a,vScale:l,_stacked:h,_dataset:m}=this._cachedMeta,{sharedOptions:v,includeOptions:C}=this._getSharedOptions(e,r),D=a.axis,T=l.axis,{spanGaps:k,segment:P}=this.options,N=Sp(k)?k:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||s||"none"===r,q=e+i,te=t.length;let $=e>0&&this.getParsed(e-1);for(let fe=0;fe<te;++fe){const _e=t[fe],Qe=V?_e:{};if(fe<e||fe>=q){Qe.skip=!0;continue}const dt=this.getParsed(fe),Rt=fi(dt[T]),$t=Qe[D]=a.getPixelForValue(dt[D],fe),rn=Qe[T]=s||Rt?l.getBasePixel():l.getPixelForValue(h?this.applyStack(l,dt,h):dt[T],fe);Qe.skip=isNaN($t)||isNaN(rn)||Rt,Qe.stop=fe>0&&Math.abs(dt[D]-$[D])>N,P&&(Qe.parsed=dt,Qe.raw=m.data[fe]),C&&(Qe.options=v||this.resolveDataElementOptions(fe,_e.active?"active":r)),V||this.updateElement(_e,fe,Qe,r),$=dt}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Bt(dw,"id","line"),Bt(dw,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Bt(dw,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class hw extends Wa{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const i=this.chart,r=i.data.labels||[],s=gv(this._cachedMeta._parsed[t].r,i.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,e,i,r){return qB.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),s=Math.max(r/2,0),l=(s-Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,e,i,r){const s="reset"===r,a=this.chart,h=a.options.animation,m=this._cachedMeta.rScale,v=m.xCenter,C=m.yCenter,D=m.getIndexAngle(0)-.5*nr;let k,T=D;const P=360/this.countVisibleElements();for(k=0;k<e;++k)T+=this._computeAngle(k,r,P);for(k=e;k<e+i;k++){const N=t[k];let V=T,q=T+this._computeAngle(k,r,P),te=a.getDataVisibility(k)?m.getDistanceFromCenterForValue(this.getParsed(k).r):0;T=q,s&&(h.animateScale&&(te=0),h.animateRotate&&(V=q=D));const $={x:v,y:C,innerRadius:0,outerRadius:te,startAngle:V,endAngle:q,options:this.resolveDataElementOptions(k,N.active?"active":r)};this.updateElement(N,k,$,r)}}countVisibleElements(){let e=0;return this._cachedMeta.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Ga(this.resolveDataElementOptions(t,e).angle||i):0}}Bt(hw,"id","polarArea"),Bt(hw,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Bt(hw,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,a)=>{const h=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class eT extends Ip{}Bt(eT,"id","pie"),Bt(eT,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class fw extends Wa{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return qB.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],s=e.iScale.getLabels();if(i.points=r,"resize"!==t){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:s.length===r.length,options:a},t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const s=this._cachedMeta.rScale,a="reset"===r;for(let l=e;l<e+i;l++){const h=t[l],m=this.resolveDataElementOptions(l,h.active?"active":r),v=s.getPointPositionForValue(l,this.getParsed(l).r),C=a?s.xCenter:v.x,D=a?s.yCenter:v.y,T={x:C,y:D,angle:v.angle,skip:isNaN(C)||isNaN(D),options:m};this.updateElement(h,l,T,r)}}}Bt(fw,"id","radar"),Bt(fw,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Bt(fw,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class pw extends Wa{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,a=this.getParsed(t),l=r.getLabelForValue(a.x),h=s.getLabelForValue(a.y);return{label:i[t]||"",value:"("+l+", "+h+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:s,count:a}=wB(e,i,r);if(this._drawStart=s,this._drawCount=a,CB(e)&&(s=0,a=i.length),this.options.showLine){const{dataset:l,_dataset:h}=e;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!h._decimated,l.points=i;const m=this.resolveDatasetElementOptions(t);m.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:m},t)}this.updateElements(i,s,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const s="reset"===r,{iScale:a,vScale:l,_stacked:h,_dataset:m}=this._cachedMeta,v=this.resolveDataElementOptions(e,r),C=this.getSharedOptions(v),D=this.includeOptions(r,C),T=a.axis,k=l.axis,{spanGaps:P,segment:N}=this.options,V=Sp(P)?P:Number.POSITIVE_INFINITY,q=this.chart._animationsDisabled||s||"none"===r;let te=e>0&&this.getParsed(e-1);for(let $=e;$<e+i;++$){const fe=t[$],_e=this.getParsed($),Qe=q?fe:{},dt=fi(_e[k]),Rt=Qe[T]=a.getPixelForValue(_e[T],$),$t=Qe[k]=s||dt?l.getBasePixel():l.getPixelForValue(h?this.applyStack(l,_e,h):_e[k],$);Qe.skip=isNaN(Rt)||isNaN($t)||dt,Qe.stop=$>0&&Math.abs(_e[T]-te[T])>V,N&&(Qe.parsed=_e,Qe.raw=m.data[$]),D&&(Qe.options=C||this.resolveDataElementOptions($,fe.active?"active":r)),q||this.updateElement(fe,$,Qe,r),te=_e}this.updateSharedOptions(C,r,v)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let l=0;for(let h=e.length-1;h>=0;--h)l=Math.max(l,e[h].size(this.resolveDataElementOptions(h))/2);return l>0&&l}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const s=e[0].size(this.resolveDataElementOptions(0)),a=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,s,a)/2}}Bt(pw,"id","scatter"),Bt(pw,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Bt(pw,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Yne=Object.freeze({__proto__:null,BarController:cw,BubbleController:uw,DoughnutController:Ip,LineController:dw,PolarAreaController:hw,PieController:eT,RadarController:fw,ScatterController:pw});function bh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tT{static override(t){Object.assign(tT.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return bh()}parse(){return bh()}format(){return bh()}add(){return bh()}diff(){return bh()}startOf(){return bh()}endOf(){return bh()}}var Zne__date=tT;function Xne(n,t,e,i){const{controller:r,data:s,_sorted:a}=n,l=r._cachedMeta.iScale;if(l&&t===l.axis&&"r"!==t&&a&&s.length){const h=l._reversePixels?Qee:Ic;if(!i)return h(s,t,e);if(r._sharedOptions){const m=s[0],v="function"==typeof m.getRange&&m.getRange(t);if(v){const C=h(s,t,e-v),D=h(s,t,e+v);return{lo:C.lo,hi:D.hi}}}}return{lo:0,hi:s.length-1}}function wv(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),a=e[t];for(let l=0,h=s.length;l<h;++l){const{index:m,data:v}=s[l],{lo:C,hi:D}=Xne(s[l],t,a,r);for(let T=C;T<=D;++T){const k=v[T];k.skip||i(k,m,T)}}}function nT(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||wv(n,e,t,function(l,h,m){!r&&!vv(l,n.chartArea,0)||l.inRange(t.x,t.y,i)&&s.push({element:l,datasetIndex:h,index:m})},!0),s}function iT(n,t,e,i,r,s){return s||n.isPointInArea(t)?"r"!==e||i?function eie(n,t,e,i,r,s){let a=[];const l=function Qne(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const s=t?Math.abs(i.x-r.x):0,a=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(e);let h=Number.POSITIVE_INFINITY;return wv(n,e,t,function m(v,C,D){const T=v.inRange(t.x,t.y,r);if(i&&!T)return;const k=v.getCenterPoint(r);if(!s&&!n.isPointInArea(k)&&!T)return;const N=l(t,k);N<h?(a=[{element:v,datasetIndex:C,index:D}],h=N):N===h&&a.push({element:v,datasetIndex:C,index:D})}),a}(n,t,e,i,r,s):function Jne(n,t,e,i){let r=[];return wv(n,e,t,function s(a,l,h){const{startAngle:m,endAngle:v}=a.getProps(["startAngle","endAngle"],i),{angle:C}=gB(a,{x:t.x,y:t.y});hv(C,m,v)&&r.push({element:a,datasetIndex:l,index:h})}),r}(n,t,e,r):[]}function _V(n,t,e,i,r){const s=[],a="x"===e?"inXRange":"inYRange";let l=!1;return wv(n,e,t,(h,m,v)=>{h[a](t[e],r)&&(s.push({element:h,datasetIndex:m,index:v}),l=l||h.inRange(t.x,t.y,r))}),i&&!l?[]:s}var tie={evaluateInteractionItems:wv,modes:{index(n,t,e,i){const r=yh(t,n),s=e.axis||"x",a=e.includeInvisible||!1,l=e.intersect?nT(n,r,s,i,a):iT(n,r,s,!1,i,a),h=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const v=l[0].index,C=m.data[v];C&&!C.skip&&h.push({element:C,datasetIndex:m.index,index:v})}),h):[]},dataset(n,t,e,i){const r=yh(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;let l=e.intersect?nT(n,r,s,i,a):iT(n,r,s,!1,i,a);if(l.length>0){const h=l[0].datasetIndex,m=n.getDatasetMeta(h).data;l=[];for(let v=0;v<m.length;++v)l.push({element:m[v],datasetIndex:h,index:v})}return l},point:(n,t,e,i)=>nT(n,yh(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>iT(n,yh(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>_V(n,yh(t,n),"x",e.intersect,i),y:(n,t,e,i)=>_V(n,yh(t,n),"y",e.intersect,i)}};const bV=["left","top","right","bottom"];function Cv(n,t){return n.filter(e=>e.pos===t)}function wV(n,t){return n.filter(e=>-1===bV.indexOf(e.pos)&&e.box.axis===t)}function xv(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function CV(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function xV(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function oie(n,t,e,i){const{pos:r,box:s}=e,a=n.maxPadding;if(!ri(r)){e.size&&(n[r]-=e.size);const C=i[e.stack]||{size:0,count:1};C.size=Math.max(C.size,e.horizontal?s.height:s.width),e.size=C.size/C.count,n[r]+=e.size}s.getPadding&&xV(a,s.getPadding());const l=Math.max(0,t.outerWidth-CV(a,n,"left","right")),h=Math.max(0,t.outerHeight-CV(a,n,"top","bottom")),m=l!==n.w,v=h!==n.h;return n.w=l,n.h=h,e.horizontal?{same:m,other:v}:{same:v,other:m}}function lie(n,t){const e=t.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(t[a],e[a])}),s}(n?["left","right"]:["top","bottom"])}function Dv(n,t,e,i){const r=[];let s,a,l,h,m,v;for(s=0,a=n.length,m=0;s<a;++s){l=n[s],h=l.box,h.update(l.width||t.w,l.height||t.h,lie(l.horizontal,t));const{same:C,other:D}=oie(t,e,l,i);m|=C&&r.length,v=v||D,h.fullSize||r.push(l)}return m&&Dv(r,t,e,i)||v}function gw(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function DV(n,t,e,i){const r=e.padding;let{x:s,y:a}=t;for(const l of n){const h=l.box,m=i[l.stack]||{count:1,placed:0,weight:1},v=l.stackWeight/m.weight||1;if(l.horizontal){const C=t.w*v,D=m.size||h.height;ha(m.start)&&(a=m.start),h.fullSize?gw(h,r.left,a,e.outerWidth-r.right-r.left,D):gw(h,t.left+m.placed,a,C,D),m.start=a,m.placed+=C,a=h.bottom}else{const C=t.h*v,D=m.size||h.width;ha(m.start)&&(s=m.start),h.fullSize?gw(h,s,r.top,D,e.outerHeight-r.bottom-r.top):gw(h,s,t.top+m.placed,D,C),m.start=s,m.placed+=C,s=h.right}}t.x=s,t.y=a}var Ps={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Os(n.options.layout.padding),s=Math.max(t-r.width,0),a=Math.max(e-r.height,0),l=function sie(n){const t=function nie(n){const t=[];let e,i,r,s,a,l;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:s,options:{stack:a,stackWeight:l=1}}=r),t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:l});return t}(n),e=xv(t.filter(m=>m.box.fullSize),!0),i=xv(Cv(t,"left"),!0),r=xv(Cv(t,"right")),s=xv(Cv(t,"top"),!0),a=xv(Cv(t,"bottom")),l=wV(t,"x"),h=wV(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(h).concat(a).concat(l),chartArea:Cv(t,"chartArea"),vertical:i.concat(r).concat(h),horizontal:s.concat(a).concat(l)}}(n.boxes),h=l.vertical,m=l.horizontal;Mi(n.boxes,P=>{"function"==typeof P.beforeLayout&&P.beforeLayout()});const v=h.reduce((P,N)=>N.box.options&&!1===N.box.options.display?P:P+1,0)||1,C=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/v,hBoxMaxHeight:a/2}),D=Object.assign({},r);xV(D,Os(i));const T=Object.assign({maxPadding:D,w:s,h:a,x:r.left,y:r.top},r),k=function rie(n,t){const e=function iie(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!bV.includes(r))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,a,l;for(s=0,a=n.length;s<a;++s){l=n[s];const{fullSize:h}=l.box,m=e[l.stack],v=m&&l.stackWeight/m.weight;l.horizontal?(l.width=v?v*i:h&&t.availableWidth,l.height=r):(l.width=i,l.height=v?v*r:h&&t.availableHeight)}return e}(h.concat(m),C);Dv(l.fullSize,T,C,k),Dv(h,T,C,k),Dv(m,T,C,k)&&Dv(h,T,C,k),function aie(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(T),DV(l.leftAndTop,T,C,k),T.x+=T.w,T.y+=T.h,DV(l.rightAndBottom,T,C,k),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},Mi(l.chartArea,P=>{const N=P.box;Object.assign(N,n.chartArea),N.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class EV{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class cie extends EV{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const mw="$chartjs",uie={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},SV=n=>null===n||""===n,MV=!!fne&&{passive:!0};function fie(n,t,e){n.canvas.removeEventListener(t,e,MV)}function vw(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function gie(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||vw(l.addedNodes,i),a=a&&!vw(l.removedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function mie(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||vw(l.removedNodes,i),a=a&&!vw(l.addedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ev=new Map;let TV=0;function AV(){const n=window.devicePixelRatio;n!==TV&&(TV=n,Ev.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function _ie(n,t,e){const i=n.canvas,r=i&&ZM(i);if(!r)return;const s=bB((l,h)=>{const m=r.clientWidth;e(l,h),m<r.clientWidth&&e()},window),a=new ResizeObserver(l=>{const h=l[0],m=h.contentRect.width,v=h.contentRect.height;0===m&&0===v||s(m,v)});return a.observe(r),function vie(n,t){Ev.size||window.addEventListener("resize",AV),Ev.set(n,t)}(n,s),a}function rT(n,t,e){e&&e.disconnect(),"resize"===t&&function yie(n){Ev.delete(n),Ev.size||window.removeEventListener("resize",AV)}(n)}function bie(n,t,e){const i=n.canvas,r=bB(s=>{null!==n.ctx&&e(function pie(n,t){const e=uie[n.type]||n.type,{x:i,y:r}=yh(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n);return function hie(n,t,e){n.addEventListener(t,e,MV)}(i,t,r),r}class wie extends EV{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function die(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[mw]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",SV(r)){const s=XB(n,"width");void 0!==s&&(n.width=s)}if(SV(i))if(""===n.style.height)n.height=n.width/(t||2);else{const s=XB(n,"height");void 0!==s&&(n.height=s)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[mw])return!1;const i=e[mw].initial;["height","width"].forEach(s=>{const a=i[s];fi(a)?e.removeAttribute(s):e.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[mw],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:gie,detach:mie,resize:_ie}[e]||bie)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:rT,detach:rT,resize:rT}[e]||fie)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function hne(n,t,e,i){const r=aw(n),s=vh(r,"margin"),a=ow(r.maxWidth,n,"clientWidth")||K0,l=ow(r.maxHeight,n,"clientHeight")||K0,h=function dne(n,t,e){let i,r;if(void 0===t||void 0===e){const s=ZM(n);if(s){const a=s.getBoundingClientRect(),l=aw(s),h=vh(l,"border","width"),m=vh(l,"padding");t=a.width-m.width-h.width,e=a.height-m.height-h.height,i=ow(l.maxWidth,s,"clientWidth"),r=ow(l.maxHeight,s,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||K0,maxHeight:r||K0}}(n,t,e);let{width:m,height:v}=h;if("content-box"===r.boxSizing){const D=vh(r,"border","width"),T=vh(r,"padding");m-=T.width+D.width,v-=T.height+D.height}return m=Math.max(0,m-s.width),v=Math.max(0,i?Math.floor(m/i):v-s.height),m=lw(Math.min(m,a,h.maxWidth)),v=lw(Math.min(v,l,h.maxHeight)),m&&!v&&(v=lw(m/2)),(void 0!==t||void 0!==e)&&i&&h.height&&v>h.height&&(v=h.height,m=lw(Math.floor(v*i))),{width:m,height:v}}(t,e,i,r)}isAttached(t){const e=ZM(t);return!(!e||!e.isConnected)}}class qa{constructor(){Bt(this,"active",!1)}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Sp(this.x)&&Sp(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function yw(n,t,e,i,r){const s=Bn(i,0),a=Math.min(Bn(r,n.length),n.length);let h,m,v,l=0;for(e=Math.ceil(e),r&&(h=r-i,e=h/Math.floor(h/e)),v=s;v<0;)l++,v=Math.round(s+l*e);for(m=Math.max(s,0);m<a;m++)m===v&&(t.push(n[m]),l++,v=Math.round(s+l*e))}Bt(qa,"defaults",{}),Bt(qa,"defaultRoutes");const kV=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e;function IV(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function kie(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,a=n._endPixel,l=1e-6;let m,h=n.getPixelForTick(r);if(!(e&&(m=1===i?Math.max(h-s,a-h):0===t?(n.getPixelForTick(1)-h)/2:(h-n.getPixelForTick(r-1))/2,h+=r<t?m:-m,h<s-l||h>a+l)))return h}function Sv(n){return n.drawTicks?n.tickLength:0}function RV(n,t){if(!n.display)return 0;const e=Xr(n.font,t),i=Os(n.padding);return(Wi(n.text)?n.text.length:1)*e.lineHeight+i.height}function Pie(n,t,e){let i=LM(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class wh extends qa{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Lo(t,Number.POSITIVE_INFINITY),e=Lo(e,Number.NEGATIVE_INFINITY),i=Lo(i,Number.POSITIVE_INFINITY),r=Lo(r,Number.NEGATIVE_INFINITY),{min:Lo(t,i),max:Lo(e,r),minDefined:wr(t),maxDefined:wr(e)}}getMinMax(t){let a,{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:e,max:i};const l=this.getMatchingVisibleMetas();for(let h=0,m=l.length;h<m;++h)a=l[h].controller.getMinMax(this,t),r||(e=Math.min(e,a.min)),s||(i=Math.max(i,a.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:Lo(e,Lo(i,e)),max:Lo(i,Lo(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bi(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Ute(n,t,e){const{min:i,max:r}=n,s=aB(t,(r-i)/2),a=(l,h)=>e&&0===l?0:l+h;return{min:a(i,-Math.abs(s)),max:a(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=l<this.ticks.length;this._convertTicksToLabels(h?IV(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function xie(n,t){const e=n.options.ticks,i=function Die(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?function Sie(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],a=s.length,l=s[0],h=s[a-1],m=[];if(a>r)return function Mie(n,t,e,i){let a,r=0,s=e[0];for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(t.push(n[a]),r++,s=e[r*i])}(t,m,s,a/r),m;const v=function Eie(n,t,e){const i=function Tie(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const s=function Kee(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}(i);for(let a=0,l=s.length-1;a<l;a++){const h=s[a];if(h>r)return h}return Math.max(r,1)}(s,t,r);if(a>0){let C,D;const T=a>1?Math.round((h-l)/(a-1)):null;for(yw(t,m,v,fi(T)?0:l-T,l),C=0,D=a-1;C<D;C++)yw(t,m,v,s[C],s[C+1]);return yw(t,m,v,h,fi(T)?t.length:h+T),m}return yw(t,m,v),m}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Bi(this.options.afterUpdate,[this])}beforeSetDimensions(){Bi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Bi(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Bi(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=Bi(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){Bi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,r=e.minRotation||0,s=e.maxRotation;let l,h,m,a=r;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const v=this._getLabelSizes(),C=v.widest.width,D=v.highest.height,T=ds(this.chart.width-C,0,this.maxWidth);l=t.offset?this.maxWidth/i:T/(i-1),C+6>l&&(l=T/(i-(t.offset?.5:1)),h=this.maxHeight-Sv(t.grid)-e.padding-RV(t.title,this.chart.options.font),m=Math.sqrt(C*C+D*D),a=OM(Math.min(Math.asin(ds((v.highest.height+6)/l,-1,1)),Math.asin(ds(h/m,-1,1))-Math.asin(ds(D/m,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Bi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Bi(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const h=RV(r,e.options.font);if(l?(t.width=this.maxWidth,t.height=Sv(s)+h):(t.height=this.maxHeight,t.width=Sv(s)+h),i.display&&this.ticks.length){const{first:m,last:v,widest:C,highest:D}=this._getLabelSizes(),T=2*i.padding,k=Ga(this.labelRotation),P=Math.cos(k),N=Math.sin(k);l?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:N*C.width+P*D.height)+T):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:P*C.width+N*D.height)+T),this._calculatePadding(m,v,N,P)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:a},position:l}=this.options,h=0!==this.labelRotation,m="top"!==l&&"x"===this.axis;if(this.isHorizontal()){const v=this.getPixelForTick(0)-this.left,C=this.right-this.getPixelForTick(this.ticks.length-1);let D=0,T=0;h?m?(D=r*t.width,T=i*e.height):(D=i*t.height,T=r*e.width):"start"===s?T=e.width:"end"===s?D=t.width:"inner"!==s&&(D=t.width/2,T=e.width/2),this.paddingLeft=Math.max((D-v+a)*this.width/(this.width-v),0),this.paddingRight=Math.max((T-C+a)*this.width/(this.width-C),0)}else{let v=e.height/2,C=t.height/2;"start"===s?(v=0,C=t.height):"end"===s&&(v=e.height,C=0),this.paddingTop=v+a,this.paddingBottom=C+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Bi(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)fi(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=IV(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:r}=this,s=[],a=[];let m,v,C,D,T,k,P,N,V,q,te,l=0,h=0;for(m=0;m<e;++m){if(D=t[m].label,T=this._resolveTickFontOptions(m),i.font=k=T.string,P=r[k]=r[k]||{data:{},gc:[]},N=T.lineHeight,V=q=0,fi(D)||Wi(D)){if(Wi(D))for(v=0,C=D.length;v<C;++v)te=D[v],!fi(te)&&!Wi(te)&&(V=nw(i,P.data,P.gc,V,te),q+=N)}else V=nw(i,P.data,P.gc,V,D),q=N;s.push(V),a.push(q),l=Math.max(V,l),h=Math.max(q,h)}!function Iie(n,t){Mi(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}(r,e);const $=s.indexOf(l),fe=a.indexOf(h),_e=Qe=>({width:s[Qe]||0,height:a[Qe]||0});return{first:_e(0),last:_e(e-1),widest:_e($),highest:_e(fe),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function Xee(n){return ds(n,-32768,32767)}(this._alignToPixels?ph(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function Oie(n,t,e){return Wu(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function Rie(n,t){return Wu(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ga(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),a=t.autoSkipPadding||0,l=s?s.widest.width+a:0,h=s?s.highest.height+a:0;return this.isHorizontal()?h*i>l*r?l/i:h/r:h*r<l*i?h/i:l/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:l}=r,h=s.offset,m=this.isHorizontal(),C=this.ticks.length+(h?1:0),D=Sv(s),T=[],k=l.setContext(this.getContext()),P=k.display?k.width:0,N=P/2,V=function(pt){return ph(i,pt,P)};let q,te,$,fe,_e,Qe,dt,Rt,$t,rn,Yt,Gn;if("top"===a)q=V(this.bottom),Qe=this.bottom-D,Rt=q-N,rn=V(t.top)+N,Gn=t.bottom;else if("bottom"===a)q=V(this.top),rn=t.top,Gn=V(t.bottom)-N,Qe=q+N,Rt=this.top+D;else if("left"===a)q=V(this.right),_e=this.right-D,dt=q-N,$t=V(t.left)+N,Yt=t.right;else if("right"===a)q=V(this.left),$t=t.left,Yt=V(t.right)-N,_e=q+N,dt=this.left+D;else if("x"===e){if("center"===a)q=V((t.top+t.bottom)/2+.5);else if(ri(a)){const pt=Object.keys(a)[0];q=V(this.chart.scales[pt].getPixelForValue(a[pt]))}rn=t.top,Gn=t.bottom,Qe=q+N,Rt=Qe+D}else if("y"===e){if("center"===a)q=V((t.left+t.right)/2);else if(ri(a)){const pt=Object.keys(a)[0];q=V(this.chart.scales[pt].getPixelForValue(a[pt]))}_e=q-N,dt=_e-D,$t=t.left,Yt=t.right}const Ti=Bn(r.ticks.maxTicksLimit,C),zn=Math.max(1,Math.ceil(C/Ti));for(te=0;te<C;te+=zn){const pt=this.getContext(te),Ct=s.setContext(pt),kt=l.setContext(pt),tn=Ct.lineWidth,xi=Ct.color,Qr=kt.dash||[],Ki=kt.dashOffset,bs=Ct.tickWidth,yi=Ct.tickColor,Ka=Ct.tickBorderDash||[],Ya=Ct.tickBorderDashOffset;$=kie(this,te,h),void 0!==$&&(fe=ph(i,$,tn),m?_e=dt=$t=Yt=fe:Qe=Rt=rn=Gn=fe,T.push({tx1:_e,ty1:Qe,tx2:dt,ty2:Rt,x1:$t,y1:rn,x2:Yt,y2:Gn,width:tn,color:xi,borderDash:Qr,borderDashOffset:Ki,tickWidth:bs,tickColor:yi,tickBorderDash:Ka,tickBorderDashOffset:Ya}))}return this._ticksLength=C,this._borderValue=q,T}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),l=this.ticks,{align:h,crossAlign:m,padding:v,mirror:C}=s,D=Sv(i.grid),T=D+v,k=C?-v:T,P=-Ga(this.labelRotation),N=[];let V,q,te,$,fe,_e,Qe,dt,Rt,$t,rn,Yt,Gn="middle";if("top"===r)_e=this.bottom-k,Qe=this._getXAxisLabelAlignment();else if("bottom"===r)_e=this.top+k,Qe=this._getXAxisLabelAlignment();else if("left"===r){const zn=this._getYAxisLabelAlignment(D);Qe=zn.textAlign,fe=zn.x}else if("right"===r){const zn=this._getYAxisLabelAlignment(D);Qe=zn.textAlign,fe=zn.x}else if("x"===e){if("center"===r)_e=(t.top+t.bottom)/2+T;else if(ri(r)){const zn=Object.keys(r)[0];_e=this.chart.scales[zn].getPixelForValue(r[zn])+T}Qe=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)fe=(t.left+t.right)/2-T;else if(ri(r)){const zn=Object.keys(r)[0];fe=this.chart.scales[zn].getPixelForValue(r[zn])}Qe=this._getYAxisLabelAlignment(D).textAlign}"y"===e&&("start"===h?Gn="top":"end"===h&&(Gn="bottom"));const Ti=this._getLabelSizes();for(V=0,q=l.length;V<q;++V){te=l[V],$=te.label;const zn=s.setContext(this.getContext(V));dt=this.getPixelForTick(V)+s.labelOffset,Rt=this._resolveTickFontOptions(V),$t=Rt.lineHeight,rn=Wi($)?$.length:1;const pt=rn/2,Ct=zn.color,kt=zn.textStrokeColor,tn=zn.textStrokeWidth;let Qr,xi=Qe;if(a?(fe=dt,"inner"===Qe&&(xi=V===q-1?this.options.reverse?"left":"right":0===V?this.options.reverse?"right":"left":"center"),Yt="top"===r?"near"===m||0!==P?-rn*$t+$t/2:"center"===m?-Ti.highest.height/2-pt*$t+$t:$t/2-Ti.highest.height:"near"===m||0!==P?$t/2:"center"===m?Ti.highest.height/2-pt*$t:Ti.highest.height-rn*$t,C&&(Yt*=-1),0!==P&&!zn.showLabelBackdrop&&(fe+=$t/2*Math.sin(P))):(_e=dt,Yt=(1-rn)*$t/2),zn.showLabelBackdrop){const Ki=Os(zn.backdropPadding),bs=Ti.heights[V],yi=Ti.widths[V];let Ka=Yt-Ki.top,Ya=0-Ki.left;switch(Gn){case"middle":Ka-=bs/2;break;case"bottom":Ka-=bs}switch(Qe){case"center":Ya-=yi/2;break;case"right":Ya-=yi}Qr={left:Ya,top:Ka,width:yi+Ki.width,height:bs+Ki.height,color:zn.backdropColor}}N.push({rotation:P,label:$,font:Rt,color:Ct,strokeColor:kt,strokeWidth:tn,textOffset:Yt,textAlign:xi,textBaseline:Gn,translation:[fe,_e],backdrop:Qr})}return N}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ga(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,l=t+s,h=this._getLabelSizes().widest.width;let m,v;return"left"===e?r?(v=this.right+s,"near"===i?m="left":"center"===i?(m="center",v+=h/2):(m="right",v+=h)):(v=this.right-l,"near"===i?m="right":"center"===i?(m="center",v-=h/2):(m="left",v=this.left)):"right"===e?r?(v=this.left+s,"near"===i?m="right":"center"===i?(m="center",v-=h/2):(m="left",v-=h)):(v=this.left+l,"near"===i?m="left":"center"===i?(m="center",v+=h/2):(m="right",v=this.right)):m="right",{textAlign:m,x:v}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,a;const l=(h,m,v)=>{!v.width||!v.color||(i.save(),i.lineWidth=v.width,i.strokeStyle=v.color,i.setLineDash(v.borderDash||[]),i.lineDashOffset=v.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(s=0,a=r.length;s<a;++s){const h=r[s];e.drawOnChartArea&&l({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&l({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const l=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let m,v,C,D;this.isHorizontal()?(m=ph(t,this.left,a)-a/2,v=ph(t,this.right,l)+l/2,C=D=h):(C=ph(t,this.top,a)-a/2,D=ph(t,this.bottom,l)+l/2,m=v=h),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(m,C),e.lineTo(v,D),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&iw(i,r);const s=this._labelItems||(this._labelItems=this._computeLabelItems(t));let a,l;for(a=0,l=s.length;a<l;++a){const h=s[a];gh(i,h.label,0,h.textOffset,h.font,h)}r&&rw(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=Xr(i.font),a=Os(i.padding),l=i.align;let h=s.lineHeight/2;"bottom"===e||"center"===e||ri(e)?(h+=a.bottom,Wi(i.text)&&(h+=s.lineHeight*(i.text.length-1))):h+=a.top;const{titleX:m,titleY:v,maxWidth:C,rotation:D}=function Fie(n,t,e,i){const{top:r,left:s,bottom:a,right:l,chart:h}=n,{chartArea:m,scales:v}=h;let D,T,k,C=0;const P=a-r,N=l-s;if(n.isHorizontal()){if(T=Rs(i,s,l),ri(e)){const V=Object.keys(e)[0];k=v[V].getPixelForValue(e[V])+P-t}else k="center"===e?(m.bottom+m.top)/2+P-t:kV(n,e,t);D=l-s}else{if(ri(e)){const V=Object.keys(e)[0];T=v[V].getPixelForValue(e[V])-N+t}else T="center"===e?(m.left+m.right)/2-N+t:kV(n,e,t);k=Rs(i,a,r),C="left"===e?-Cr:Cr}return{titleX:T,titleY:k,maxWidth:D,rotation:C}}(this,h,e,l);gh(t,i.text,0,0,s,{color:i.color,maxWidth:C,rotation:D,textAlign:Pie(l,e,r),textBaseline:"middle",translation:[m,v]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Bn(t.grid&&t.grid.z,-1),r=Bn(t.border&&t.border.z,0);return this._isVisible()&&this.draw===wh.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]:[{z:e,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=e.length;s<a;++s){const l=e[s];l[i]===this.id&&(!t||l.type===t)&&r.push(l)}return r}_resolveTickFontOptions(t){return Xr(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class _w{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function Bie(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,s=t.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,function Lie(n,t,e){const i=cv(Object.create(null),[e?Rr.get(e):{},Rr.get(t),n.defaults]);Rr.set(t,i),n.defaultRoutes&&function Nie(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),a=t[e].split("."),l=a.pop(),h=a.join(".");Rr.route(s,r,h,l)})}(t,n.defaultRoutes),n.descriptors&&Rr.describe(t,n.descriptors)}(t,a,i),this.override&&Rr.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Rr[r]&&(delete Rr[r][i],this.override&&delete fh[i])}}class Vie{constructor(){this.controllers=new _w(Wa,"datasets",!0),this.elements=new _w(qa,"elements"),this.plugins=new _w(Object,"plugins"),this.scales=new _w(wh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):Mi(r,a=>{const l=i||this._getRegistryForType(a);this._exec(t,l,a)})})}_exec(t,e,i){const r=RM(t);Bi(i["before"+r],[],i),e[t](i),Bi(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Ll=new Vie;class Hie{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(s,t,e,i);return"afterDestroy"===e&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,i,r){r=r||{};for(const s of t){const a=s.plugin;if(!1===Bi(a[i],[e,r,s.options],a)&&r.cancelable)return!1}return!0}invalidate(){fi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Bn(i.options&&i.options.plugins,{}),s=function zie(n){const t={},e=[],i=Object.keys(Ll.plugins.items);for(let s=0;s<i.length;s++)e.push(Ll.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];-1===e.indexOf(a)&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==r||e?function jie(n,{plugins:t,localIds:e},i,r){const s=[],a=n.getContext();for(const l of t){const h=l.id,m=$ie(i[h],r);null!==m&&s.push({plugin:l,options:Uie(n.config,{plugin:l,local:e[h]},m,a)})}return s}(t,s,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(l=>!a.some(h=>l.plugin.id===h.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function $ie(n,t){return t||!1!==n?!0===n?{}:n:null}function Uie(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),a=n.getOptionScopes(i,s);return e&&t.defaults&&a.push(t.defaults),n.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function sT(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(Rr.datasets[n]||{}).indexAxis||"x"}function bw(n,t){if("x"===n||"y"===n||"r"===n||(n=t.axis||function qie(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(t.position)||n.length>1&&bw(n[0].toLowerCase(),t)))return n;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function OV(n){const t=n.options||(n.options={});t.plugins=Bn(t.plugins,{}),t.scales=function Kie(n,t){const e=fh[n.type]||{scales:{}},i=t.scales||{},r=sT(n.type,t),s=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!ri(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const h=bw(a,l),m=function Wie(n,t){return n===t?"_index_":"_value_"}(h,r),v=e.scales||{};s[a]=uv(Object.create(null),[{axis:h},l,v[h],v[m]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,h=a.indexAxis||sT(l,t),v=(fh[l]||{}).scales||{};Object.keys(v).forEach(C=>{const D=function Gie(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(C,h),T=a[D+"AxisID"]||D;s[T]=s[T]||Object.create(null),uv(s[T],[{axis:D},i[T],v[C]])})}),Object.keys(s).forEach(a=>{const l=s[a];uv(l,[Rr.scales[l.type],Rr.scale])}),s}(n,t)}function PV(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const FV=new Map,LV=new Set;function ww(n,t){let e=FV.get(n);return e||(e=t(),FV.set(n,e),LV.add(e)),e}const Mv=(n,t,e)=>{const i=zu(t,e);void 0!==i&&n.add(i)};class Zie{constructor(t){this._config=function Yie(n){return(n=n||{}).data=PV(n.data),OV(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=PV(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),OV(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ww(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return ww(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return ww(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return ww(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,a=this._cachedScopes(t,i),l=a.get(e);if(l)return l;const h=new Set;e.forEach(v=>{t&&(h.add(t),v.forEach(C=>Mv(h,t,C))),v.forEach(C=>Mv(h,r,C)),v.forEach(C=>Mv(h,fh[s]||{},C)),v.forEach(C=>Mv(h,Rr,C)),v.forEach(C=>Mv(h,jM,C))});const m=Array.from(h);return 0===m.length&&m.push(Object.create(null)),LV.has(e)&&a.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,fh[e]||{},Rr.datasets[e]||{},{type:e},Rr,jM]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=NV(this._resolverCache,t,r);let h=a;(function Qie(n,t){const{isScriptable:e,isIndexable:i}=zB(n);for(const r of t){const s=e(r),a=i(r),l=(a||s)&&n[r];if(s&&($u(l)||Xie(l))||a&&Wi(l))return!0}return!1})(a,e)&&(s.$shared=!1,h=Tp(a,i=$u(i)?i():i,this.createResolver(t,i,l)));for(const m of e)s[m]=h[m];return s}createResolver(t,e,i=[""],r){const{resolver:s}=NV(this._resolverCache,t,i);return ri(e)?Tp(s,e,void 0,r):s}}function NV(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:qM(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const Xie=n=>ri(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||$u(n[e]),!1),ere=["top","bottom","left","right","chartArea"];function BV(n,t){return"top"===n||"bottom"===n||-1===ere.indexOf(n)&&"x"===t}function VV(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function HV(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Bi(e&&e.onComplete,[n],t)}function tre(n){const t=n.chart,e=t.options.animation;Bi(e&&e.onProgress,[n],t)}function zV(n){return YB()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Cw={},$V=n=>{const t=zV(n);return Object.values(Cw).filter(e=>e.canvas===t).pop()};function nre(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const a=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=a)}}}class qu{static register(...t){Ll.add(...t),jV()}static unregister(...t){Ll.remove(...t),jV()}constructor(t,e){const i=this.config=new Zie(e),r=zV(t),s=$V(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function Cie(n){return!YB()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?cie:wie}(r)),this.platform.updateConfig(i);const l=this.platform.acquireContext(r,a.aspectRatio),h=l&&l.canvas,m=h&&h.height,v=h&&h.width;this.id=Vee(),this.ctx=l,this.canvas=h,this.width=v,this.height=m,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Hie,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function tte(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(C=>this.update(C),a.resizeDelay||0),this._dataChanges=[],Cw[this.id]=this,l&&h?(Oc.listen(this,"complete",HV),Oc.listen(this,"progress",tre),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return fi(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ll}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ZB(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return BB(this.canvas,this.ctx),this}stop(){return Oc.stop(this),this}resize(t,e){Oc.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.platform.getMaximumSize(this.canvas,t,e,i.maintainAspectRatio&&this.aspectRatio),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,ZB(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Bi(i.onResize,[this,a],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){Mi(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let s=[];e&&(s=s.concat(Object.keys(e).map(a=>{const l=e[a],h=bw(a,l),m="r"===h,v="x"===h;return{options:l,dposition:m?"chartArea":v?"bottom":"left",dtype:m?"radialLinear":v?"category":"linear"}}))),Mi(s,a=>{const l=a.options,h=l.id,m=bw(h,l),v=Bn(l.type,a.dtype);(void 0===l.position||BV(l.position,m)!==BV(a.dposition))&&(l.position=a.dposition),r[h]=!0;let C=null;h in i&&i[h].type===v?C=i[h]:(C=new(Ll.getScale(v))({id:h,type:v,ctx:this.ctx,chart:this}),i[C.id]=C),C.init(l,t)}),Mi(r,(a,l)=>{a||delete i[l]}),Mi(i,a=>{Ps.configure(this,a,a.options),Ps.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(VV("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{0===e.filter(s=>s===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let a=this.getDatasetMeta(i);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=s.indexAxis||sT(l,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const h=Ll.getController(l),{datasetElementType:m,dataElementType:v}=Rr.datasets[l];Object.assign(h,{dataElementType:Ll.getElement(v),datasetElementType:m&&Ll.getElement(m)}),a.controller=new h(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Mi(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let m=0,v=this.data.datasets.length;m<v;m++){const{controller:C}=this.getDatasetMeta(m),D=!r&&-1===s.indexOf(C);C.buildOrUpdateElements(D),a=Math.max(+C.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||Mi(s,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(VV("z","_idx"));const{_active:l,_lastEvent:h}=this;h?this._eventHandler(h,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Mi(this.scales,t=>{Ps.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!uB(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e)nre(t,r,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!uB(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ps.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Mi(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,$u(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Oc.has(this)?this.attached&&!Oc.running(this)&&Oc.start(this):(this.draw(),HV({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const a=e[r];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,r=!i.disabled,s=function rre(n){const{xScale:t,yScale:e}=n;if(t&&e)return{left:t.left,right:t.right,top:e.top,bottom:e.bottom}}(t)||this.chartArea,a={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&iw(e,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&rw(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return vv(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=tie.modes[e];return"function"==typeof s?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Wu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,r);ha(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(s,{visible:i}),this.update(l=>l.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Oc.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),BB(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Cw[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,a)=>{e.addEventListener(this,s,a),t[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Mi(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,m)=>{e.addEventListener(this,h,m),t[h]=m},r=(h,m)=>{t[h]&&(e.removeEventListener(this,h,m),delete t[h])},s=(h,m)=>{this.canvas&&this.resize(h,m)};let a;const l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",l)},e.isAttached(this.canvas)?l():a()}unbindEvents(){Mi(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Mi(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,a,l,h;for("dataset"===e&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,h=t.length;l<h;++l){a=t[l];const m=a&&this.getDatasetMeta(a.datasetIndex).controller;m&&m[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!W0(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter(e=>e.plugin.id===t).length}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(h,m)=>h.filter(v=>!m.some(C=>v.datasetIndex===C.datasetIndex&&v.index===C.index)),a=s(e,t),l=i?t:s(t,e);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=a=>(a.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,l=this._getActiveElements(t,r,i,e),h=function Gee(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),m=function ire(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(t,this._lastEvent,i,h);i&&(this._lastEvent=null,Bi(s.onHover,[t,l,this],this),h&&Bi(s.onClick,[t,l,this],this));const v=!W0(l,r);return(v||e)&&(this._active=l,this._updateHoverStyles(l,r,e)),this._lastEvent=m,v}_getActiveElements(t,e,i,r){if("mouseout"===t.type)return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}}function jV(){return Mi(qu.instances,n=>n._plugins.invalidate())}Bt(qu,"defaults",Rr),Bt(qu,"instances",Cw),Bt(qu,"overrides",fh),Bt(qu,"registry",Ll),Bt(qu,"version","4.0.1"),Bt(qu,"getChart",$V);var UV=qu;function Rp(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function xw(n,t,e,i,r,s){const{x:a,y:l,startAngle:h,pixelMargin:m,innerRadius:v}=t,C=Math.max(t.outerRadius+i+e-m,0),D=v>0?v+i+e+m:0;let T=0;const k=r-h;if(i){const Ct=((v>0?v-i:0)+(C>0?C-i:0))/2;T=(k-(0!==Ct?k*Ct/(Ct+i):k))/2}const N=(k-Math.max(.001,k*C-e/nr)/C)/2,V=h+N+T,q=r-N-T,{outerStart:te,outerEnd:$,innerStart:fe,innerEnd:_e}=function are(n,t,e,i){const r=function ore(n){return WM(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(e-t)/2,a=Math.min(s,i*t/2),l=h=>{const m=(e-Math.min(s,h))*i/2;return ds(h,0,Math.min(s,m))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:ds(r.innerStart,0,a),innerEnd:ds(r.innerEnd,0,a)}}(t,D,C,q-V),Qe=C-te,dt=C-$,Rt=V+te/Qe,$t=q-$/dt,rn=D+fe,Yt=D+_e,Gn=V+fe/rn,Ti=q-_e/Yt;if(n.beginPath(),s){const zn=(Rt+$t)/2;if(n.arc(a,l,C,Rt,zn),n.arc(a,l,C,zn,$t),$>0){const tn=Rp(dt,$t,a,l);n.arc(tn.x,tn.y,$,$t,q+Cr)}const pt=Rp(Yt,q,a,l);if(n.lineTo(pt.x,pt.y),_e>0){const tn=Rp(Yt,Ti,a,l);n.arc(tn.x,tn.y,_e,q+Cr,Ti+Math.PI)}const Ct=(q-_e/D+(V+fe/D))/2;if(n.arc(a,l,D,q-_e/D,Ct,!0),n.arc(a,l,D,Ct,V+fe/D,!0),fe>0){const tn=Rp(rn,Gn,a,l);n.arc(tn.x,tn.y,fe,Gn+Math.PI,V-Cr)}const kt=Rp(Qe,V,a,l);if(n.lineTo(kt.x,kt.y),te>0){const tn=Rp(Qe,Rt,a,l);n.arc(tn.x,tn.y,te,V-Cr,Rt)}}else{n.moveTo(a,l);const zn=Math.cos(Rt)*C+a,pt=Math.sin(Rt)*C+l;n.lineTo(zn,pt);const Ct=Math.cos($t)*C+a,kt=Math.sin($t)*C+l;n.lineTo(Ct,kt)}n.closePath()}class Dw extends qa{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:s,distance:a}=gB(r,{x:t,y:e}),{startAngle:l,endAngle:h,innerRadius:m,outerRadius:v,circumference:C}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),D=this.options.spacing/2,k=Bn(C,h-l)>=qi||hv(s,l,h),P=kc(a,m+D,v+D);return k&&P}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:h,spacing:m}=this.options,v=(r+s)/2,C=(a+l+m+h)/2;return{x:e+Math.cos(v)*C,y:i+Math.sin(v)*C}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,s=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>qi?Math.floor(i/qi):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*r,Math.sin(l)*r);const m=r*(1-Math.sin(Math.min(nr,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function lre(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:l}=t;let h=t.endAngle;if(s){xw(n,t,e,i,h,r);for(let m=0;m<s;++m)n.fill();isNaN(l)||(h=a+(l%qi||qi))}xw(n,t,e,i,h,r),n.fill()}(t,this,m,s,a),function cre(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:l,options:h}=t,{borderWidth:m,borderJoinStyle:v}=h,C="inner"===h.borderAlign;if(!m)return;C?(n.lineWidth=2*m,n.lineJoin=v||"round"):(n.lineWidth=m,n.lineJoin=v||"bevel");let D=t.endAngle;if(s){xw(n,t,e,i,D,r);for(let T=0;T<s;++T)n.stroke();isNaN(l)||(D=a+(l%qi||qi))}C&&function sre(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:l,innerRadius:h}=t;let m=r/l;n.beginPath(),n.arc(s,a,l,i-m,e+m),h>r?(m=r/h,n.arc(s,a,h,e+m,i-m,!0)):n.arc(s,a,r,e+Cr,i-Cr),n.closePath(),n.clip()}(n,t,D),s||(xw(n,t,e,i,D,r),n.stroke())}(t,this,m,s,a),t.restore()}}function GV(n,t,e=t){n.lineCap=Bn(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Bn(e.borderDash,t.borderDash)),n.lineDashOffset=Bn(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Bn(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Bn(e.borderWidth,t.borderWidth),n.strokeStyle=Bn(e.borderColor,t.borderColor)}function ure(n,t,e){n.lineTo(e.x,e.y)}function WV(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:a,end:l}=t,h=Math.max(r,a),m=Math.min(s,l);return{count:i,start:h,loop:t.loop,ilen:m<h&&!(r<a&&s<a||r>l&&s>l)?i+m-h:m-h}}function hre(n,t,e,i){const{points:r,options:s}=t,{count:a,start:l,loop:h,ilen:m}=WV(r,e,i),v=function dre(n){return n.stepped?Fte:n.tension||"monotone"===n.cubicInterpolationMode?Lte:ure}(s);let T,k,P,{move:C=!0,reverse:D}=i||{};for(T=0;T<=m;++T)k=r[(l+(D?m-T:T))%a],!k.skip&&(C?(n.moveTo(k.x,k.y),C=!1):v(n,P,k,D,s.stepped),P=k);return h&&(k=r[(l+(D?m:0))%a],v(n,P,k,D,s.stepped)),!!h}function fre(n,t,e,i){const r=t.points,{count:s,start:a,ilen:l}=WV(r,e,i),{move:h=!0,reverse:m}=i||{};let D,T,k,P,N,V,v=0,C=0;const q=$=>(a+(m?l-$:$))%s,te=()=>{P!==N&&(n.lineTo(v,N),n.lineTo(v,P),n.lineTo(v,V))};for(h&&(T=r[q(0)],n.moveTo(T.x,T.y)),D=0;D<=l;++D){if(T=r[q(D)],T.skip)continue;const $=T.x,fe=T.y,_e=0|$;_e===k?(fe<P?P=fe:fe>N&&(N=fe),v=(C*v+$)/++C):(te(),n.lineTo($,fe),k=_e,C=0,P=N=fe),V=fe}te()}function oT(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?hre:fre}Bt(Dw,"id","arc"),Bt(Dw,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Bt(Dw,"defaultRoutes",{backgroundColor:"backgroundColor"});const vre="function"==typeof Path2D;class Ku extends qa{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(one(this._points,i,t,i.spanGaps?this._loop:this._fullLoop,e),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function wne(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:a,end:l}=function _ne(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}(e,r,s,i);return function rV(n,t,e,i){return i&&i.setContext&&e?function Cne(n,t,e,i){const r=n._chart.getContext(),s=sV(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,h=e.length,m=[];let v=s,C=t[0].start,D=C;function T(k,P,N,V){const q=l?-1:1;if(k!==P){for(k+=h;e[k%h].skip;)k-=q;for(;e[P%h].skip;)P+=q;k%h!=P%h&&(m.push({start:k%h,end:P%h,loop:N,style:V}),v=V,C=P%h)}}for(const k of t){C=l?C:k.start;let N,P=e[C%h];for(D=C+1;D<=k.end;D++){const V=e[D%h];N=sV(i.setContext(Wu(r,{type:"segment",p0:P,p1:V,p0DataIndex:(D-1)%h,p1DataIndex:D%h,datasetIndex:a}))),xne(N,v)&&T(C,D-1,k.loop,v),P=V,v=N}C<D-1&&T(C,D-1,k.loop,v)}return m}(n,t,e,i):t}(n,!0===i?[{start:a,end:l,loop:s}]:function bne(n,t,e,i){const r=n.length,s=[];let h,a=t,l=n[t];for(h=t+1;h<=e;++h){const m=n[h%r];m.skip||m.stop?l.skip||(s.push({start:t%r,end:(h-1)%r,loop:i=!1}),t=a=m.stop?h:null):(a=h,l.skip&&(t=h)),l=m}return null!==a&&s.push({start:t%r,end:a%r,loop:i}),s}(e,a,l<a?l+r:l,!!n._fullLoop&&0===a&&l===r-1),e,t)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,i=t.length;return i&&this.points[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],s=this.points,a=iV(this,{property:e,start:r,end:r});if(!a.length)return;const l=[],h=function pre(n){return n.stepped?pne:n.tension||"monotone"===n.cubicInterpolationMode?gne:_h}(i);let m,v;for(m=0,v=a.length;m<v;++m){const{start:C,end:D}=a[m],T=s[C],k=s[D];if(T===k){l.push(T);continue}const N=h(T,k,Math.abs((r-T[e])/(k[e]-T[e])),i.stepped);N[e]=t[e],l.push(N)}return 1===l.length?l[0]:l}pathSegment(t,e,i){return oT(this)(t,this,e,i)}path(t,e,i){const r=this.segments,s=oT(this);let a=this._loop;e=e||0,i=i||this.points.length-e;for(const l of r)a&=s(t,this,l,{start:e,end:e+i-1});return!!a}draw(t,e,i,r){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function yre(n,t,e,i){vre&&!t.options.segment?function gre(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),GV(n,t.options),n.stroke(r)}(n,t,e,i):function mre(n,t,e,i){const{segments:r,options:s}=t,a=oT(t);for(const l of r)GV(n,s,l.style),n.beginPath(),a(n,t,l,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function qV(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}Bt(Ku,"id","line"),Bt(Ku,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Bt(Ku,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Bt(Ku,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class Ew extends qa{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(e-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return qV(this,t,"x",e)}inYRange(t,e){return qV(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;return e=Math.max(e,e&&t.hoverRadius||0),2*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this.options;this.skip||i.radius<.1||!vv(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,GM(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function KV(n,t){const{x:e,y:i,base:r,width:s,height:a}=n.getProps(["x","y","base","width","height"],t);let l,h,m,v,C;return n.horizontal?(C=a/2,l=Math.min(e,r),h=Math.max(e,r),m=i-C,v=i+C):(C=s/2,l=e-C,h=e+C,m=Math.min(i,r),v=Math.max(i,r)),{left:l,top:m,right:h,bottom:v}}function Yu(n,t,e,i){return n?0:ds(t,e,i)}function aT(n,t,e,i){const r=null===t,s=null===e,l=n&&!(r&&s)&&KV(n,i);return l&&(r||kc(t,l.left,l.right))&&(s||kc(e,l.top,l.bottom))}function xre(n,t){n.rect(t.x,t.y,t.w,t.h)}function lT(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}Bt(Ew,"id","point"),Bt(Ew,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Bt(Ew,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Sw extends qa{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=function wre(n){const t=KV(n),e=t.right-t.left,i=t.bottom-t.top,r=function _re(n,t,e){const r=n.borderSkipped,s=HB(n.options.borderWidth);return{t:Yu(r.top,s.top,0,e),r:Yu(r.right,s.right,0,t),b:Yu(r.bottom,s.bottom,0,e),l:Yu(r.left,s.left,0,t)}}(n,e/2,i/2),s=function bre(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=mh(r),a=Math.min(t,e),l=n.borderSkipped,h=i||ri(r);return{topLeft:Yu(!h||l.top||l.left,s.topLeft,0,a),topRight:Yu(!h||l.top||l.right,s.topRight,0,a),bottomLeft:Yu(!h||l.bottom||l.left,s.bottomLeft,0,a),bottomRight:Yu(!h||l.bottom||l.right,s.bottomRight,0,a)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),l=function Cre(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?yv:xre;t.save(),(a.w!==s.w||a.h!==s.h)&&(t.beginPath(),l(t,lT(a,e,s)),t.clip(),l(t,lT(s,-e,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),l(t,lT(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return aT(this,t,e,i)}inXRange(t,e){return aT(this,t,null,e)}inYRange(t,e){return aT(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Bt(Sw,"id","bar"),Bt(Sw,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Bt(Sw,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Dre=Object.freeze({__proto__:null,ArcElement:Dw,LineElement:Ku,PointElement:Ew,BarElement:Sw});const cT=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],YV=cT.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function ZV(n){return cT[n%cT.length]}function XV(n){return YV[n%YV.length]}function QV(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var Are={id:"colors",defaults:{enabled:!0},beforeLayout(n,t,e){if(!e.enabled)return;const{type:i,options:{elements:r},data:{datasets:s}}=n.config;if(QV(s)||r&&QV(r))return;const a=function Tre(n){return"doughnut"===n||"pie"===n?function Sre(){let n=0;return t=>{t.backgroundColor=t.data.map(()=>ZV(n++))}}():"polarArea"===n?function Mre(){let n=0;return t=>{t.backgroundColor=t.data.map(()=>XV(n++))}}():function Ere(){return(n,t)=>{n.borderColor=ZV(t),n.backgroundColor=XV(t)}}()}(i);s.forEach(a)}};function JV(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:t})}}function eH(n){n.data.datasets.forEach(t=>{JV(t)})}var Ore={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void eH(n);const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:a,indexAxis:l}=r,h=n.getDatasetMeta(s),m=a||r.data;if("y"===_v([l,n.options.indexAxis])||!h.controller.supportsDecimation)return;const v=n.scales[h.xAxisID];if("linear"!==v.type&&"time"!==v.type||n.options.parsing)return;let k,{start:C,count:D}=function Rre(n,t){const e=t.length;let r,i=0;const{iScale:s}=n,{min:a,max:l,minDefined:h,maxDefined:m}=s.getUserBounds();return h&&(i=ds(Ic(t,s.axis,a).lo,0,e-1)),r=m?ds(Ic(t,s.axis,l).hi+1,i,e)-i:e-i,{start:i,count:r}}(h,m);if(D<=(e.threshold||4*i))JV(r);else{switch(fi(a)&&(r._data=m,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(P){this._data=P}})),e.algorithm){case"lttb":k=function kre(n,t,e,i,r){const s=r.samples||i;if(s>=e)return n.slice(t,t+e);const a=[],l=(e-2)/(s-2);let h=0;const m=t+e-1;let C,D,T,k,P,v=t;for(a[h++]=n[v],C=0;C<s-2;C++){let q,N=0,V=0;const te=Math.floor((C+1)*l)+1+t,$=Math.min(Math.floor((C+2)*l)+1,e)+t,fe=$-te;for(q=te;q<$;q++)N+=n[q].x,V+=n[q].y;N/=fe,V/=fe;const _e=Math.floor(C*l)+1+t,Qe=Math.min(Math.floor((C+1)*l)+1,e)+t,{x:dt,y:Rt}=n[v];for(T=k=-1,q=_e;q<Qe;q++)k=.5*Math.abs((dt-N)*(n[q].y-Rt)-(dt-n[q].x)*(V-Rt)),k>T&&(T=k,D=n[q],P=q);a[h++]=D,v=P}return a[h++]=n[m],a}(m,C,D,i,e);break;case"min-max":k=function Ire(n,t,e,i){let a,l,h,m,v,C,D,T,k,P,r=0,s=0;const N=[],q=n[t].x,$=n[t+e-1].x-q;for(a=t;a<t+e;++a){l=n[a],h=(l.x-q)/$*i,m=l.y;const fe=0|h;if(fe===v)m<k?(k=m,C=a):m>P&&(P=m,D=a),r=(s*r+l.x)/++s;else{const _e=a-1;if(!fi(C)&&!fi(D)){const Qe=Math.min(C,D),dt=Math.max(C,D);Qe!==T&&Qe!==_e&&N.push({...n[Qe],x:r}),dt!==T&&dt!==_e&&N.push({...n[dt],x:r})}a>0&&_e!==T&&N.push(n[_e]),N.push(l),v=fe,s=0,k=P=m,C=D=T=a}}return N}(m,C,D,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=k}})},destroy(n){eH(n)}};function uT(n,t,e,i){if(i)return;let r=t[n],s=e[n];return"angle"===n&&(r=No(r),s=No(s)),{property:n,start:r,end:s}}function dT(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function tH(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function nH(n,t){let e=[],i=!1;return Wi(n)?(i=!0,e=n):e=function Fre(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:a,end:l})=>{l=dT(a,l,r);const h=r[a],m=r[l];null!==i?(s.push({x:h.x,y:i}),s.push({x:m.x,y:i})):null!==e&&(s.push({x:e,y:h.y}),s.push({x:e,y:m.y}))}),s}(n,t),e.length?new Ku({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function iH(n){return n&&!1!==n.fill}function Lre(n,t,e){let r=n[t].fill;const s=[t];let a;if(!e)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!wr(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function Nre(n,t,e){const i=function zre(n){const t=n.options,e=t.fill;let i=Bn(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(ri(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return wr(r)&&Math.floor(r)===r?function Bre(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Ure(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:a,last:l,point:h}=Gre(s,t,"x");if(!(!h||a&&l))if(a)i.unshift(h);else if(n.push(h),!l)break}n.push(...i)}function Gre(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,a=n.points;let l=!1,h=!1;for(let m=0;m<s.length;m++){const v=s[m],C=a[v.start][e],D=a[v.end][e];if(kc(r,C,D)){l=r===C,h=r===D;break}}return{first:l,last:h,point:i}}class rH{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:a}=this;return t.arc(r,s,a,(e=e||{start:0,end:qi}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function hT(n,t,e){const i=function Wre(n){const{chart:t,fill:e,line:i}=n;if(wr(e))return function qre(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function $re(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,a=i.points,l=function jre(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}(t,e);l.push(nH({x:null,y:t.bottom},i));for(let h=0;h<s.length;h++){const m=s[h];for(let v=m.start;v<=m.end;v++)Ure(r,a[v],l)}return new Ku({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function Kre(n){return(n.scale||{}).getPointPositionForValue?function Zre(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,a=function Hre(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:ri(n)?n.value:t.getBaseValue(),i}(e,t,s),l=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,s);return new rH({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(a)})}for(let h=0;h<r;++h)l.push(t.getPointPositionForValue(h,a));return l}(n):function Yre(n){const{scale:t={},fill:e}=n,i=function Vre(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:ri(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(wr(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof rH?r:nH(r,i)}(t),{line:r,scale:s,axis:a}=t,l=r.options,h=l.fill,m=l.backgroundColor,{above:v=m,below:C=m}=h||{};i&&r.points.length&&(iw(n,e),function Xre(n,t){const{line:e,target:i,above:r,below:s,area:a,scale:l}=t,h=e._loop?"angle":t.axis;n.save(),"x"===h&&s!==r&&(sH(n,i,a.top),oH(n,{line:e,target:i,color:r,scale:l,property:h}),n.restore(),n.save(),sH(n,i,a.bottom)),oH(n,{line:e,target:i,color:s,scale:l,property:h}),n.restore()}(n,{line:r,target:i,above:v,below:C,area:e,scale:s,axis:a}),rw(n))}function sH(n,t,e){const{segments:i,points:r}=t;let s=!0,a=!1;n.beginPath();for(const l of i){const{start:h,end:m}=l,v=r[h],C=r[dT(h,m,r)];s?(n.moveTo(v.x,v.y),s=!1):(n.lineTo(v.x,e),n.lineTo(v.x,v.y)),a=!!t.pathSegment(n,l,{move:a}),a?n.closePath():n.lineTo(C.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function oH(n,t){const{line:e,target:i,property:r,color:s,scale:a}=t,l=function Pre(n,t,e){const i=n.segments,r=n.points,s=t.points,a=[];for(const l of i){let{start:h,end:m}=l;m=dT(h,m,r);const v=uT(e,r[h],r[m],l.loop);if(!t.segments){a.push({source:l,target:v,start:r[h],end:r[m]});continue}const C=iV(t,v);for(const D of C){const T=uT(e,s[D.start],s[D.end],D.loop),k=nV(l,r,T);for(const P of k)a.push({source:P,target:D,start:{[e]:tH(v,T,"start",Math.max)},end:{[e]:tH(v,T,"end",Math.min)}})}}return a}(e,i,r);for(const{source:h,target:m,start:v,end:C}of l){const{style:{backgroundColor:D=s}={}}=h,T=!0!==i;n.save(),n.fillStyle=D,Qre(n,a,T&&uT(r,v,C)),n.beginPath();const k=!!e.pathSegment(n,h);let P;if(T){k?n.closePath():aH(n,i,C,r);const N=!!i.pathSegment(n,m,{move:k,reverse:!0});P=k&&N,P||aH(n,i,v,r)}n.closePath(),n.fill(P?"evenodd":"nonzero"),n.restore()}}function Qre(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:a,end:l}=e||{};"x"===s&&(n.beginPath(),n.rect(a,i,l-a,r-i),n.clip())}function aH(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var Jre={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,a,l,h;for(a=0;a<i;++a)s=n.getDatasetMeta(a),l=s.dataset,h=null,l&&l.options&&l instanceof Ku&&(h={visible:n.isDatasetVisible(a),index:a,fill:Nre(l,a,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=h,r.push(h);for(a=0;a<i;++a)h=r[a],h&&!1!==h.fill&&(h.fill=Lre(r,a,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=r.length-1;a>=0;--a){const l=r[a].$filler;!l||(l.line.updateControlPoints(s,l.axis),i&&l.fill&&hT(n.ctx,l,s))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;iH(s)&&hT(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!iH(i)||"beforeDatasetDraw"!==e.drawTime||hT(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const lH=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class cH extends qa{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Bi(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=Xr(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:h}=lH(i,s);let m,v;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,v=this._fitRows(a,s,l,h)+10):(v=this.maxHeight,m=this._fitCols(a,r,l,h)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(v,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,h=this.legendHitBoxes=[],m=this.lineWidths=[0],v=r+l;let C=t;s.textAlign="left",s.textBaseline="middle";let D=-1,T=-v;return this.legendItems.forEach((k,P)=>{const N=i+e/2+s.measureText(k.text).width;(0===P||m[m.length-1]+N+2*l>a)&&(C+=v,m[m.length-(P>0?0:1)]=0,T+=v,D++),h[P]={left:0,top:T,row:D,width:N,height:r},m[m.length-1]+=N+l}),C}_fitCols(t,e,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,h=this.legendHitBoxes=[],m=this.columnSizes=[],v=a-t;let C=l,D=0,T=0,k=0,P=0;return this.legendItems.forEach((N,V)=>{const{itemWidth:q,itemHeight:te}=function tse(n,t,e,i,r){const s=function nse(n,t,e,i){let r=n.text;return r&&"string"!=typeof r&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),t+e.size/2+i.measureText(r).width}(i,n,t,e),a=function ise(n,t,e){let i=n;return"string"!=typeof t.text&&(i=uH(t,e)),i}(r,i,t.lineHeight);return{itemWidth:s,itemHeight:a}}(i,e,s,N,r);V>0&&T+te+2*l>v&&(C+=D+l,m.push({width:D,height:T}),k+=D+l,P++,D=T=0),h[V]={left:k,top:T,col:P,width:q,height:te},D=Math.max(D,q),T+=te+l}),C+=D,m.push({width:D,height:T}),C}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,a=kp(s,this.left,this.width);if(this.isHorizontal()){let l=0,h=Rs(i,this.left+r,this.right-this.lineWidths[l]);for(const m of e)l!==m.row&&(l=m.row,h=Rs(i,this.left+r,this.right-this.lineWidths[l])),m.top+=this.top+t+r,m.left=a.leftForLtr(a.x(h),m.width),h+=m.width+r}else{let l=0,h=Rs(i,this.top+t+r,this.bottom-this.columnSizes[l].height);for(const m of e)m.col!==l&&(l=m.col,h=Rs(i,this.top+t+r,this.bottom-this.columnSizes[l].height)),m.top=h,m.left+=this.left+r,m.left=a.leftForLtr(a.x(m.left),m.width),h+=m.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;iw(t,this),this._draw(),rw(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:a}=t,l=Rr.color,h=kp(t.rtl,this.left,this.width),m=Xr(a.font),{padding:v}=a,C=m.size,D=C/2;let T;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:k,boxHeight:P,itemHeight:N}=lH(a,C),te=this.isHorizontal(),$=this._computeTitleHeight();T=te?{x:Rs(s,this.left+v,this.right-i[0]),y:this.top+v+$,line:0}:{x:this.left+v,y:Rs(s,this.top+$+v,this.bottom-e[0].height),line:0},QB(this.ctx,t.textDirection);const fe=N+v;this.legendItems.forEach((_e,Qe)=>{r.strokeStyle=_e.fontColor,r.fillStyle=_e.fontColor;const dt=r.measureText(_e.text).width,Rt=h.textAlign(_e.textAlign||(_e.textAlign=a.textAlign)),$t=k+D+dt;let rn=T.x,Yt=T.y;h.setWidth(this.width),te?Qe>0&&rn+$t+v>this.right&&(Yt=T.y+=fe,T.line++,rn=T.x=Rs(s,this.left+v,this.right-i[T.line])):Qe>0&&Yt+fe>this.bottom&&(rn=T.x=rn+e[T.line].width+v,T.line++,Yt=T.y=Rs(s,this.top+$+v,this.bottom-e[T.line].height)),function(_e,Qe,dt){if(isNaN(k)||k<=0||isNaN(P)||P<0)return;r.save();const Rt=Bn(dt.lineWidth,1);if(r.fillStyle=Bn(dt.fillStyle,l),r.lineCap=Bn(dt.lineCap,"butt"),r.lineDashOffset=Bn(dt.lineDashOffset,0),r.lineJoin=Bn(dt.lineJoin,"miter"),r.lineWidth=Rt,r.strokeStyle=Bn(dt.strokeStyle,l),r.setLineDash(Bn(dt.lineDash,[])),a.usePointStyle){const $t={radius:P*Math.SQRT2/2,pointStyle:dt.pointStyle,rotation:dt.rotation,borderWidth:Rt},rn=h.xPlus(_e,k/2);VB(r,$t,rn,Qe+D,a.pointStyleWidth&&k)}else{const $t=Qe+Math.max((C-P)/2,0),rn=h.leftForLtr(_e,k),Yt=mh(dt.borderRadius);r.beginPath(),Object.values(Yt).some(Gn=>0!==Gn)?yv(r,{x:rn,y:$t,w:k,h:P,radius:Yt}):r.rect(rn,$t,k,P),r.fill(),0!==Rt&&r.stroke()}r.restore()}(h.x(rn),Yt,_e),rn=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(Rt,rn+k+D,te?rn+$t:this.right,t.rtl),function(_e,Qe,dt){gh(r,dt.text,_e,Qe+N/2,m,{strikethrough:dt.hidden,textAlign:h.textAlign(dt.textAlign)})}(h.x(rn),Yt,_e),te?T.x+=$t+v:T.y+="string"!=typeof _e.text?uH(_e,m.lineHeight):fe}),JB(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Xr(e.font),r=Os(e.padding);if(!e.display)return;const s=kp(t.rtl,this.left,this.width),a=this.ctx,l=e.position,m=r.top+i.size/2;let v,C=this.left,D=this.width;if(this.isHorizontal())D=Math.max(...this.lineWidths),v=this.top+m,C=Rs(t.align,C,this.right-D);else{const k=this.columnSizes.reduce((P,N)=>Math.max(P,N.height),0);v=m+Rs(t.align,this.top,this.bottom-k-t.labels.padding-this._computeTitleHeight())}const T=Rs(l,C,C+D);a.textAlign=s.textAlign(LM(l)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=i.string,gh(a,e.text,T,v,i)}_computeTitleHeight(){const t=this.options.title,e=Xr(t.font),i=Os(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(kc(t,this.left,this.right)&&kc(e,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],kc(t,r.left,r.left+r.width)&&kc(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function rse(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,s=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!s&&Bi(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&Bi(e.onHover,[t,i,this],this)}else i&&Bi(e.onClick,[t,i,this],this)}}function uH(n,t){return t*(n.text?n.text.length+.5:0)}var sse={id:"legend",_element:cH,start(n,t,e){const i=n.legend=new cH({ctx:n.ctx,options:e,chart:n});Ps.configure(n,i,e),Ps.addBox(n,i)},stop(n){Ps.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ps.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const m=h.controller.getStyle(e?0:void 0),v=Os(m.borderWidth);return{text:t[h.index].label,fillStyle:m.backgroundColor,fontColor:s,hidden:!h.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(v.width+v.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:a&&(l||m.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class fT extends qa{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=Wi(i.text)?i.text.length:1;this._padding=Os(i.padding);const s=r*Xr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:a}=this,l=a.align;let m,v,C,h=0;return this.isHorizontal()?(v=Rs(l,i,s),C=e+t,m=s-i):("left"===a.position?(v=i+t,C=Rs(l,r,e),h=-.5*nr):(v=s-t,C=Rs(l,e,r),h=.5*nr),m=r-e),{titleX:v,titleY:C,maxWidth:m,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Xr(e.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:h,rotation:m}=this._drawArgs(s);gh(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:m,textAlign:LM(e.align),textBaseline:"middle",translation:[a,l]})}}var ase={id:"title",_element:fT,start(n,t,e){!function ose(n,t){const e=new fT({ctx:n.ctx,options:t,chart:n});Ps.configure(n,e,t),Ps.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){Ps.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Ps.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mw=new WeakMap;var lse={id:"subtitle",start(n,t,e){const i=new fT({ctx:n.ctx,options:e,chart:n});Ps.configure(n,i,e),Ps.addBox(n,i),Mw.set(n,i)},stop(n){Ps.removeBox(n,Mw.get(n)),Mw.delete(n)},beforeUpdate(n,t,e){const i=Mw.get(n);Ps.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Tv={average(n){if(!n.length)return!1;let t,e,i=0,r=0,s=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i+=l.x,r+=l.y,++s}}return{x:i/s,y:r/s}},nearest(n,t){if(!n.length)return!1;let s,a,l,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(s=0,a=n.length;s<a;++s){const h=n[s].element;if(h&&h.hasValue()){const v=PM(t,h.getCenterPoint());v<r&&(r=v,l=h)}}if(l){const h=l.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function Nl(n,t){return t&&(Wi(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Pc(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function cse(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:a,value:l}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function dH(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:l}=t,h=Xr(t.bodyFont),m=Xr(t.titleFont),v=Xr(t.footerFont),C=s.length,D=r.length,T=i.length,k=Os(t.padding);let P=k.height,N=0,V=i.reduce(($,fe)=>$+fe.before.length+fe.lines.length+fe.after.length,0);V+=n.beforeBody.length+n.afterBody.length,C&&(P+=C*m.lineHeight+(C-1)*t.titleSpacing+t.titleMarginBottom),V&&(P+=T*(t.displayColors?Math.max(l,h.lineHeight):h.lineHeight)+(V-T)*h.lineHeight+(V-1)*t.bodySpacing),D&&(P+=t.footerMarginTop+D*v.lineHeight+(D-1)*t.footerSpacing);let q=0;const te=function($){N=Math.max(N,e.measureText($).width+q)};return e.save(),e.font=m.string,Mi(n.title,te),e.font=h.string,Mi(n.beforeBody.concat(n.afterBody),te),q=t.displayColors?a+2+t.boxPadding:0,Mi(i,$=>{Mi($.before,te),Mi($.lines,te),Mi($.after,te)}),q=0,e.font=v.string,Mi(n.footer,te),e.restore(),N+=k.width,{width:N,height:P}}function hse(n,t,e,i){const{x:r,width:s}=e,{width:a,chartArea:{left:l,right:h}}=n;let m="center";return"center"===i?m=r<=(l+h)/2?"left":"right":r<=s/2?m="left":r>=a-s/2&&(m="right"),function dse(n,t,e,i){const{x:r,width:s}=i,a=e.caretSize+e.caretPadding;if("left"===n&&r+s+a>t.width||"right"===n&&r-s-a<0)return!0}(m,n,t,e)&&(m="center"),m}function hH(n,t,e){const i=e.yAlign||t.yAlign||function use(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||hse(n,t,e,i),yAlign:i}}function fH(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:l,yAlign:h}=e,m=r+s,{topLeft:v,topRight:C,bottomLeft:D,bottomRight:T}=mh(a);let k=function fse(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,l);const P=function pse(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,h,m);return"center"===h?"left"===l?k+=m:"right"===l&&(k-=m):"left"===l?k-=Math.max(v,D)+r:"right"===l&&(k+=Math.max(C,T)+r),{x:ds(k,0,i.width-t.width),y:ds(P,0,i.height-t.height)}}function Tw(n,t,e){const i=Os(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function pH(n){return Nl([],Pc(n))}function gH(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const mH={beforeTitle:Ac,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ac,beforeBody:Ac,beforeLabel:Ac,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return fi(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ac,afterBody:Ac,beforeFooter:Ac,footer:Ac,afterFooter:Ac};function po(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?mH[t].call(e,i):r}class pT extends qa{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new aV(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function gse(n,t,e){return Wu(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=po(i,"beforeTitle",this,t),s=po(i,"title",this,t),a=po(i,"afterTitle",this,t);let l=[];return l=Nl(l,Pc(r)),l=Nl(l,Pc(s)),l=Nl(l,Pc(a)),l}getBeforeBody(t,e){return pH(po(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Mi(t,s=>{const a={before:[],lines:[],after:[]},l=gH(i,s);Nl(a.before,Pc(po(l,"beforeLabel",this,s))),Nl(a.lines,po(l,"label",this,s)),Nl(a.after,Pc(po(l,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(t,e){return pH(po(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=po(i,"beforeFooter",this,t),s=po(i,"footer",this,t),a=po(i,"afterFooter",this,t);let l=[];return l=Nl(l,Pc(r)),l=Nl(l,Pc(s)),l=Nl(l,Pc(a)),l}_createItems(t){const e=this._active,i=this.chart.data,r=[],s=[],a=[];let h,m,l=[];for(h=0,m=e.length;h<m;++h)l.push(cse(this.chart,e[h]));return t.filter&&(l=l.filter((v,C,D)=>t.filter(v,C,D,i))),t.itemSort&&(l=l.sort((v,C)=>t.itemSort(v,C,i))),Mi(l,v=>{const C=gH(t.callbacks,v);r.push(po(C,"labelColor",this,v)),s.push(po(C,"labelPointStyle",this,v)),a.push(po(C,"labelTextColor",this,v))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(r.length){const l=Tv[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const h=this._size=dH(this,i),m=Object.assign({},l,h),v=hH(this.chart,i,m),C=fH(i,m,v,this.chart);this.xAlign=v.xAlign,this.yAlign=v.yAlign,s={opacity:1,x:C.x,y:C.y,width:h.width,height:h.height,caretX:l.x,caretY:l.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:h,topRight:m,bottomLeft:v,bottomRight:C}=mh(l),{x:D,y:T}=t,{width:k,height:P}=e;let N,V,q,te,$,fe;return"center"===s?($=T+P/2,"left"===r?(N=D,V=N-a,te=$+a,fe=$-a):(N=D+k,V=N+a,te=$-a,fe=$+a),q=N):(V="left"===r?D+Math.max(h,v)+a:"right"===r?D+k-Math.max(m,C)-a:this.caretX,"top"===s?(te=T,$=te-a,N=V-a,q=V+a):(te=T+P,$=te+a,N=V+a,q=V-a),fe=te),{x1:N,x2:V,x3:q,y1:te,y2:$,y3:fe}}drawTitle(t,e,i){const r=this.title,s=r.length;let a,l,h;if(s){const m=kp(i.rtl,this.x,this.width);for(t.x=Tw(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",a=Xr(i.titleFont),l=i.titleSpacing,e.fillStyle=i.titleColor,e.font=a.string,h=0;h<s;++h)e.fillText(r[h],m.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,h+1===s&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,e,i,r,s){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:h,boxWidth:m,boxPadding:v}=s,C=Xr(s.bodyFont),D=Tw(this,"left",s),T=r.x(D),P=e.y+(h<C.lineHeight?(C.lineHeight-h)/2:0);if(s.usePointStyle){const N={radius:Math.min(m,h)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},V=r.leftForLtr(T,m)+m/2,q=P+h/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,GM(t,N,V,q),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,GM(t,N,V,q)}else{t.lineWidth=ri(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const N=r.leftForLtr(T,m-v),V=r.leftForLtr(r.xPlus(T,1),m-v-2),q=mh(a.borderRadius);Object.values(q).some(te=>0!==te)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,yv(t,{x:N,y:P,w:m,h,radius:q}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),yv(t,{x:V,y:P+1,w:m-2,h:h-2,radius:q}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(N,P,m,h),t.strokeRect(N,P,m,h),t.fillStyle=a.backgroundColor,t.fillRect(V,P+1,m-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:h,boxWidth:m,boxPadding:v}=i,C=Xr(i.bodyFont);let D=C.lineHeight,T=0;const k=kp(i.rtl,this.x,this.width),P=function(dt){e.fillText(dt,k.x(t.x+T),t.y+D/2),t.y+=D+s},N=k.textAlign(a);let V,q,te,$,fe,_e,Qe;for(e.textAlign=a,e.textBaseline="middle",e.font=C.string,t.x=Tw(this,N,i),e.fillStyle=i.bodyColor,Mi(this.beforeBody,P),T=l&&"right"!==N?"center"===a?m/2+v:m+2+v:0,$=0,_e=r.length;$<_e;++$){for(V=r[$],q=this.labelTextColors[$],e.fillStyle=q,Mi(V.before,P),te=V.lines,l&&te.length&&(this._drawColorBox(e,t,$,k,i),D=Math.max(C.lineHeight,h)),fe=0,Qe=te.length;fe<Qe;++fe)P(te[fe]),D=C.lineHeight;Mi(V.after,P)}T=0,D=C.lineHeight,Mi(this.afterBody,P),t.y-=s}drawFooter(t,e,i){const r=this.footer,s=r.length;let a,l;if(s){const h=kp(i.rtl,this.x,this.width);for(t.x=Tw(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",a=Xr(i.footerFont),e.fillStyle=i.footerColor,e.font=a.string,l=0;l<s;++l)e.fillText(r[l],h.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:s,yAlign:a}=this,{x:l,y:h}=t,{width:m,height:v}=i,{topLeft:C,topRight:D,bottomLeft:T,bottomRight:k}=mh(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(l+C,h),"top"===a&&this.drawCaret(t,e,i,r),e.lineTo(l+m-D,h),e.quadraticCurveTo(l+m,h,l+m,h+D),"center"===a&&"right"===s&&this.drawCaret(t,e,i,r),e.lineTo(l+m,h+v-k),e.quadraticCurveTo(l+m,h+v,l+m-k,h+v),"bottom"===a&&this.drawCaret(t,e,i,r),e.lineTo(l+T,h+v),e.quadraticCurveTo(l,h+v,l,h+v-T),"center"===a&&"left"===s&&this.drawCaret(t,e,i,r),e.lineTo(l,h+C),e.quadraticCurveTo(l,h,l+C,h),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=Tv[t.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=dH(this,t),h=Object.assign({},a,this._size),m=hH(e,t,h),v=fH(t,h,m,e);(r._to!==v.x||s._to!==v.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,v))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Os(e.padding);e.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),QB(t,e.textDirection),s.y+=a.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),JB(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:l,index:h})=>{const m=this.chart.getDatasetMeta(l);if(!m)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:m.data[h],index:h}}),s=!W0(i,r),a=this._positionChanged(r,e);(s||a)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(t,s,e,i),l=this._positionChanged(a,t),h=e||!W0(a,s)||l;return h&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,r){const s=this.options;if("mouseout"===t.type)return[];if(!r)return e;const a=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(t,e){const{caretX:i,caretY:r,options:s}=this,a=Tv[s.position].call(this,t,e);return!1!==a&&(i!==a.x||r!==a.y)}}Bt(pT,"positioners",Tv);var vse=Object.freeze({__proto__:null,Colors:Are,Decimation:Ore,Filler:Jre,Legend:sse,SubTitle:lse,Title:ase,Tooltip:{id:"tooltip",_element:pT,positioners:Tv,afterInit(n,t,e){e&&(n.tooltip=new pT({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mH},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function vH(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class gT extends wh{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(fi(t))return null;const i=this.getLabels();return((n,t)=>null===n?null:ds(Math.round(n),0,t))(e=isFinite(e)&&i[e]===t?e:function _se(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(i,t,Bn(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=0===t&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=e;a++)r.push({value:a});return r}getLabelForValue(t){return vH.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function yH(n,t,{horizontal:e,minRotation:i}){const r=Ga(i),s=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/s,.75*t*(""+n).length)}Bt(gT,"id","category"),Bt(gT,"defaults",{ticks:{callback:vH}});class Aw extends wh{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return fi(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=h=>r=e?r:h,l=h=>s=i?s:h;if(t){const h=Fl(r),m=Fl(s);h<0&&m<0?l(0):h>0&&m>0&&a(0)}if(r===s){let h=0===s?1:Math.abs(.05*s);l(s+h),t||a(r-h)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a=function wse(n,t){const e=[],{bounds:r,step:s,min:a,max:l,precision:h,count:m,maxTicks:v,maxDigits:C,includeBounds:D}=n,T=s||1,k=v-1,{min:P,max:N}=t,V=!fi(a),q=!fi(l),te=!fi(m),$=(N-P)/(C+1);let _e,Qe,dt,Rt,fe=hB((N-P)/k/T)*T;if(fe<1e-14&&!V&&!q)return[{value:P},{value:N}];Rt=Math.ceil(N/fe)-Math.floor(P/fe),Rt>k&&(fe=hB(Rt*fe/k/T)*T),fi(h)||(_e=Math.pow(10,h),fe=Math.ceil(fe*_e)/_e),"ticks"===r?(Qe=Math.floor(P/fe)*fe,dt=Math.ceil(N/fe)*fe):(Qe=P,dt=N),V&&q&&s&&function Yee(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((l-a)/s,fe/1e3)?(Rt=Math.round(Math.min((l-a)/fe,v)),fe=(l-a)/Rt,Qe=a,dt=l):te?(Qe=V?a:Qe,dt=q?l:dt,Rt=m-1,fe=(dt-Qe)/Rt):(Rt=(dt-Qe)/fe,Rt=dv(Rt,Math.round(Rt),fe/1e3)?Math.round(Rt):Math.ceil(Rt));const $t=Math.max(pB(fe),pB(Qe));_e=Math.pow(10,fi(h)?$t:h),Qe=Math.round(Qe*_e)/_e,dt=Math.round(dt*_e)/_e;let rn=0;for(V&&(D&&Qe!==a?(e.push({value:a}),Qe<a&&rn++,dv(Math.round((Qe+rn*fe)*_e)/_e,a,yH(a,$,n))&&rn++):Qe<a&&rn++);rn<Rt;++rn)e.push({value:Math.round((Qe+rn*fe)*_e)/_e});return q&&D&&dt!==l?e.length&&dv(e[e.length-1].value,l,yH(l,$,n))?e[e.length-1].value=l:e.push({value:l}):(!q||dt===l)&&e.push({value:dt}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&fB(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return gv(t,this.chart.options.locale,this.options.ticks.format)}}class mT extends Aw{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=wr(t)?t:0,this.max=wr(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ga(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Bt(mT,"id","linear"),Bt(mT,"defaults",{ticks:{callback:tw.formatters.numeric}});const Av=n=>Math.floor(ju(n)),Ch=(n,t)=>Math.pow(10,Av(n)+t);function _H(n){return n/Math.pow(10,Av(n))==1}function bH(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}class vT extends wh{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Aw.prototype.parse.apply(this,[t,e]);if(0!==i)return wr(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=wr(t)?Math.max(0,t):null,this.max=wr(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!wr(this._userMin)&&(this.min=t===Ch(this.min,0)?Ch(this.min,-1):Ch(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const s=l=>i=t?i:l,a=l=>r=e?r:l;i===r&&(i<=0?(s(1),a(10)):(s(Ch(i,-1)),a(Ch(r,1)))),i<=0&&s(Ch(r,-1)),r<=0&&a(Ch(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function xse(n,{min:t,max:e}){t=Lo(n.min,t);const i=[],r=Av(t);let s=function Cse(n,t){let i=Av(t-n);for(;bH(n,t,i)>10;)i++;for(;bH(n,t,i)<10;)i--;return Math.min(i,Av(n))}(t,e),a=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),h=r>s?Math.pow(10,r):0,m=Math.round((t-h)*a)/a,v=Math.floor((t-h)/l/10)*l*10;let C=Math.floor((m-v)/Math.pow(10,s)),D=Lo(n.min,Math.round((h+v+C*Math.pow(10,s))*a)/a);for(;D<e;)i.push({value:D,major:_H(D),significand:C}),C>=10?C=C<15?15:20:C++,C>=20&&(s++,C=2,a=s>=0?1:a),D=Math.round((h+v+C*Math.pow(10,s))*a)/a;const T=Lo(n.max,D);return i.push({value:T,major:_H(T),significand:C}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&fB(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":gv(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ju(t),this._valueRange=ju(this.max)-ju(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ju(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function yT(n){const t=n.ticks;if(t.display&&n.display){const e=Os(t.backdropPadding);return Bn(t.font&&t.font.size,Rr.font.size)+e.height}return 0}function Dse(n,t,e){return e=Wi(e)?e:[e],{w:Pte(n,t.string,e),h:e.length*t.lineHeight}}function wH(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function Sse(n,t,e,i,r){const s=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let l=0,h=0;i.start<t.l?(l=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-l)):i.end>t.r&&(l=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+l)),r.start<t.t?(h=(t.t-r.start)/a,n.t=Math.min(n.t,t.t-h)):r.end>t.b&&(h=(r.end-t.b)/a,n.b=Math.max(n.b,t.b+h))}function Tse(n){return 0===n||180===n?"center":n<180?"left":"right"}function Ase(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function kse(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}function CH(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,qi);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=n.getPointPosition(a,t),r.lineTo(s.x,s.y)}}Bt(vT,"id","logarithmic"),Bt(vT,"defaults",{ticks:{callback:tw.formatters.logarithmic,major:{enabled:!0}}});class kv extends Aw{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Os(yT(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=wr(t)&&!isNaN(t)?t:0,this.max=wr(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/yT(this.options))}generateTickLabels(t){Aw.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=Bi(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function Ese(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],s=n._pointLabels.length,a=n.options.pointLabels,l=a.centerPointLabels?nr/s:0;for(let h=0;h<s;h++){const m=a.setContext(n.getPointLabelContext(h));r[h]=m.padding;const v=n.getPointPosition(h,n.drawingArea+r[h],l),C=Xr(m.font),D=Dse(n.ctx,C,n._pointLabels[h]);i[h]=D;const T=No(n.getIndexAngle(h)+l),k=Math.round(OM(T));Sse(e,t,T,wH(k,v.x,D.w,0,180),wH(k,v.y,D.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function Mse(n,t,e){const i=[],r=n._pointLabels.length,s=n.options,a=yT(s)/2,l=n.drawingArea,h=s.pointLabels.centerPointLabels?nr/r:0;for(let m=0;m<r;m++){const v=n.getPointPosition(m,l+a+e[m],h),C=Math.round(OM(No(v.angle+Cr))),D=t[m],T=kse(v.y,D.h,C),k=Tse(C),P=Ase(v.x,D.w,k);i.push({x:v.x,y:T,textAlign:k,left:P,top:T,right:P+D.w,bottom:T+D.h})}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return No(t*(qi/(this._pointLabels.length||1))+Ga(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(fi(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(fi(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function Ose(n,t,e){return Wu(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Cr+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),CH(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:s}=e,a=this._pointLabels.length;let l,h,m;if(e.pointLabels.display&&function Ise(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const s=i.setContext(n.getPointLabelContext(r)),a=Xr(s.font),{x:l,y:h,textAlign:m,left:v,top:C,right:D,bottom:T}=n._pointLabelItems[r],{backdropColor:k}=s;if(!fi(k)){const P=mh(s.borderRadius),N=Os(s.backdropPadding);e.fillStyle=k;const V=v-N.left,q=C-N.top,te=D-v+N.width,$=T-C+N.height;Object.values(P).some(fe=>0!==fe)?(e.beginPath(),yv(e,{x:V,y:q,w:te,h:$,radius:P}),e.fill()):e.fillRect(V,q,te,$)}gh(e,n._pointLabels[r],l,h+a.lineHeight/2,a,{color:s.color,textAlign:m,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach((v,C)=>{if(0!==C){h=this.getDistanceFromCenterForValue(v.value);const D=this.getContext(C),T=r.setContext(D),k=s.setContext(D);!function Rse(n,t,e,i,r){const s=n.ctx,a=t.circular,{color:l,lineWidth:h}=t;!a&&!i||!l||!h||e<0||(s.save(),s.strokeStyle=l,s.lineWidth=h,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),CH(n,e,a,i),s.closePath(),s.stroke(),s.restore())}(this,T,h,a,k)}}),i.display){for(t.save(),l=a-1;l>=0;l--){const v=i.setContext(this.getPointLabelContext(l)),{color:C,lineWidth:D}=v;!D||!C||(t.lineWidth=D,t.strokeStyle=C,t.setLineDash(v.borderDash),t.lineDashOffset=v.borderDashOffset,h=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),m=this.getPointPosition(l,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(m.x,m.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,h)=>{if(0===h&&!e.reverse)return;const m=i.setContext(this.getContext(h)),v=Xr(m.font);if(s=this.getDistanceFromCenterForValue(this.ticks[h].value),m.showLabelBackdrop){t.font=v.string,a=t.measureText(l.label).width,t.fillStyle=m.backdropColor;const C=Os(m.backdropPadding);t.fillRect(-a/2-C.left,-s-v.size/2-C.top,a+C.width,v.size+C.height)}gh(t,l.label,0,-s,v,{color:m.color})}),t.restore()}drawTitle(){}}Bt(kv,"id","radialLinear"),Bt(kv,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:tw.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),Bt(kv,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Bt(kv,"descriptors",{angleLines:{_fallback:"grid"}});const kw={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},go=Object.keys(kw);function Pse(n,t){return n-t}function xH(n,t){if(fi(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=t;return"function"==typeof i&&(a=i(a)),wr(a)||(a="string"==typeof i?e.parse(a,i):e.parse(a)),null===a?null:(r&&(a="week"!==r||!Sp(s)&&!0!==s?e.startOf(a,r):e.startOf(a,"isoWeek",s)),+a)}function DH(n,t,e,i){const r=go.length;for(let s=go.indexOf(n);s<r-1;++s){const a=kw[go[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(l*a.size))<=i)return go[s]}return go[r-1]}function EH(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=FM(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function SH(n,t,e){const i=[],r={},s=t.length;let a,l;for(a=0;a<s;++a)l=t[a],r[l]=a,i.push({value:l,major:!1});return 0!==s&&e?function Nse(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),a=t[t.length-1].value;let l,h;for(l=s;l<=a;l=+r.add(l,1,i))h=e[l],h>=0&&(t[h].major=!0);return t}(n,i,r,e):i}class Iv extends wh{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new Zne__date(t.adapters.date);r.init(e),uv(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:xH(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function h(m){!a&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!l&&!isNaN(m.max)&&(s=Math.max(s,m.max))}(!a||!l)&&(h(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&h(this.getMinMax(!1))),r=wr(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=wr(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,l=function Jee(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(r,s,this.max);return this._unit=e.unit||(i.autoSkip?DH(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):function Fse(n,t,e,i,r){for(let s=go.length-1;s>=go.indexOf(e);s--){const a=go[s];if(kw[a].common&&n._adapter.diff(r,i,a)>=t-1)return a}return go[e?go.indexOf(e):0]}(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function Lse(n){for(let t=go.indexOf(n)+1,e=go.length;t<e;++t)if(kw[go[t]].common)return go[t]}(this._unit):void 0,this.initOffsets(r),t.reverse&&l.reverse(),SH(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r,s,e=0,i=0;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),e=1===t.length?1-r:(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),i=1===t.length?s:(s-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;e=ds(e,0,a),i=ds(i,0,a),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||DH(s.minUnit,e,i,this._getLabelCapacity(e)),l=Bn(r.ticks.stepSize,1),h="week"===a&&s.isoWeekday,m=Sp(h)||!0===h,v={};let D,T,C=e;if(m&&(C=+t.startOf(C,"isoWeek",h)),C=+t.startOf(C,m?"day":a),t.diff(i,e,a)>1e5*l)throw new Error(e+" and "+i+" are too far apart with stepSize of "+l+" "+a);const k="data"===r.ticks.source&&this.getDataTimestamps();for(D=C,T=0;D<i;D=+t.add(D,l,a),T++)EH(v,D,k);return(D===i||"ticks"===r.bounds||1===T)&&EH(v,D,k),Object.keys(v).sort((P,N)=>P-N).map(P=>+P)}getLabelForValue(t){const i=this.options.time;return this._adapter.format(t,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}_tickFormatFunction(t,e,i,r){const s=this.options,a=s.ticks.callback;if(a)return Bi(a,[t,e,i],this);const l=s.time.displayFormats,h=this._unit,m=this._majorUnit,C=m&&l[m],D=i[e];return this._adapter.format(t,r||(m&&C&&D&&D.major?C:h&&l[h]))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ga(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*a,h:i*a+l*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,SH(this,[t],this._majorUnit),r),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e,i,t=this._cache.data||[];if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(xH(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return yB(t.sort(Pse))}}function Iw(n,t,e){let s,a,l,h,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Ic(n,"pos",t)),({pos:s,time:l}=n[i]),({pos:a,time:h}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Ic(n,"time",t)),({time:s,pos:l}=n[i]),({time:a,pos:h}=n[r]));const m=a-s;return m?l+(h-l)*(t-s)/m:l}Bt(Iv,"id","time"),Bt(Iv,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class _T extends Iv{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Iw(e,this.min),this._tableRange=Iw(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let a,l,h,m,v;for(a=0,l=t.length;a<l;++a)m=t[a],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,l=r.length;a<l;++a)v=r[a+1],h=r[a-1],m=r[a],Math.round((v+h)/2)!==m&&s.push({time:m,pos:a/(l-1)});return s}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Iw(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Iw(this._table,i*this._tableRange+this._minPos,!0)}}Bt(_T,"id","timeseries"),Bt(_T,"defaults",Iv.defaults),UV.register(Yne,Dre,vse,Object.freeze({__proto__:null,CategoryScale:gT,LinearScale:mT,LogarithmicScale:vT,RadialLinearScale:kv,TimeScale:Iv,TimeSeriesScale:_T}));const MH=UV,zse=[{path:"",redirectTo:WE,pathMatch:"full"},{path:WE,component:LZ},{path:SP,component:WX,children:[{path:"",redirectTo:qE,pathMatch:"full"},{path:qE,component:EQ},{path:"miners",component:xee},{path:TP,component:kee},{path:AP,component:Bee},{path:"charts",component:(()=>{class n{constructor(e){this.chartDataService=e,this.numOfMonths=1,this.selectedNumOfMonthsForCountryChart=new kr(6),this.selectedNumOfMonthsForTotalChart=new kr(6),this.chartsData={total:[],country:null,monthNumber:1}}ngOnInit(){this.subscriber=this.chartDataService.getData().pipe(Un(e=>{this.chartByCountry&&this.chartByCountry.destroy(),this.chartTotal&&this.chartTotal.destroy(),this.chartsData=e,this.numOfMonths=e.monthNumber+1,this.createCharts(e)})).subscribe()}ngOnDestroy(){this.subscriber.unsubscribe()}createCharts(e){this.createCountryChart(e),this.createTotalChart(e)}changeLabelForCountryChart(){this.chartByCountry.destroy(),this.createCountryChart(this.chartsData)}changeLabelForTotalChart(){this.chartTotal.destroy(),this.createTotalChart(this.chartsData)}generateLabelsForCountryChart(){let e=[];if("all"==this.selectedNumOfMonthsForCountryChart.value)for(let i=0;i<this.numOfMonths;i++)e.push(i.toString());else if(this.numOfMonths>this.selectedNumOfMonthsForCountryChart.value)for(let i=this.numOfMonths-this.selectedNumOfMonthsForCountryChart.value;i<this.numOfMonths;i++)e.push(i.toString());else for(let i=0;i<this.selectedNumOfMonthsForCountryChart.value;i++)e.push(i.toString());return e}generateLabelsForTotalChart(){let e=[];if("all"==this.selectedNumOfMonthsForTotalChart.value)for(let i=0;i<this.numOfMonths;i++)e.push(i.toString());else if(this.numOfMonths>this.selectedNumOfMonthsForTotalChart.value)for(let i=this.numOfMonths-this.selectedNumOfMonthsForTotalChart.value;i<this.numOfMonths;i++)e.push(i.toString());else for(let i=0;i<this.selectedNumOfMonthsForTotalChart.value;i++)e.push(i.toString());return e}createCountryChart(e){this.chartByCountry=new MH("chartByCountry",{type:"bar",data:{labels:this.generateLabelsForCountryChart(),datasets:[{label:"Romania",data:e.country?.romania,backgroundColor:"#302474"},{label:"Poland",data:e.country?.poland,backgroundColor:"#603494"},{label:"Spain",data:e.country?.spain,backgroundColor:"#6864bc"},{label:"Germany",data:e.country?.germany,backgroundColor:"#a094cc"},{label:"Great Britain",data:e.country?.greatBritain,backgroundColor:"#b8bcf4"}]},options:{aspectRatio:2.5,responsive:!0,scales:{y:{title:{display:!0,text:"Miners amount"}},x:{title:{display:!0,text:"Months"}}}}})}createTotalChart(e){this.chartTotal=new MH("chartTotal",{type:"line",data:{datasets:[{label:"Miners Amount",data:e.total,backgroundColor:"#6864bc",borderColor:"#302474",fill:!0}],labels:this.generateLabelsForTotalChart()},options:{aspectRatio:2.5,responsive:!0,scales:{y:{title:{display:!0,text:"Miners amount"}},x:{title:{display:!0,text:"Months"}}}}})}}return n.\u0275fac=function(e){return new(e||n)(O(sM))},n.\u0275cmp=pn({type:n,selectors:[["app-charts"]],decls:42,vars:12,consts:[[1,"container"],["fxLayout","column","fxLayoutAlign","space-between center","fxLayoutGap","30px"],["appearance","fill"],[2,"width","auto"],[3,"formControl","selectionChange"],[3,"value"],["value","all"],[1,"chartDiv"],["id","chartByCountry"],["id","chartTotal"]],template:function(e,i){1&e&&(de(0,"div",0)(1,"div",1)(2,"div")(3,"h2"),Le(4,"The chart shows the number of miners from each country in a given month of the simulation"),pe(),de(5,"mat-form-field",2)(6,"mat-label",3),Le(7,"Number of months on the chart"),pe(),de(8,"mat-select",4),zt("selectionChange",function(){return i.changeLabelForCountryChart()}),de(9,"mat-option",5),Le(10,"6"),pe(),de(11,"mat-option",5),Le(12,"12"),pe(),de(13,"mat-option",5),Le(14,"18"),pe(),de(15,"mat-option",5),Le(16,"24"),pe(),de(17,"mat-option",6),Le(18,"all"),pe()()(),de(19,"div",7)(20,"canvas",8),Le(21),pe()()(),de(22,"div")(23,"h2"),Le(24,"The chart shows the number of miners from all countries in a given month of the simulation"),pe(),de(25,"mat-form-field",2)(26,"mat-label",3),Le(27,"Number of months on the chart"),pe(),de(28,"mat-select",4),zt("selectionChange",function(){return i.changeLabelForTotalChart()}),de(29,"mat-option",5),Le(30,"6"),pe(),de(31,"mat-option",5),Le(32,"12"),pe(),de(33,"mat-option",5),Le(34,"18"),pe(),de(35,"mat-option",5),Le(36,"24"),pe(),de(37,"mat-option",6),Le(38,"all"),pe()()(),de(39,"div",7)(40,"canvas",9),Le(41),pe()()()()()),2&e&&(Ae(8),Xe("formControl",i.selectedNumOfMonthsForCountryChart),Ae(1),Xe("value",6),Ae(2),Xe("value",12),Ae(2),Xe("value",18),Ae(2),Xe("value",24),Ae(6),zi(i.chartByCountry),Ae(7),Xe("formControl",i.selectedNumOfMonthsForTotalChart),Ae(1),Xe("value",6),Ae(2),Xe("value",12),Ae(2),Xe("value",18),Ae(2),Xe("value",24),Ae(6),Tr(" ",i.chartTotal,""))},dependencies:[ja,Pu,Ua,gp,ah,ip,aS,vp,sh],styles:[".container[_ngcontent-%COMP%]{margin:1vh 1vw}.chartDiv[_ngcontent-%COMP%]{width:95vw;height:75vh}"]}),n})()}]}];let $se=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[DP.forRoot(zse),DP]}),n})(),jse=(()=>{class n{constructor(){this.title="frontend"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pn({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,i){1&e&&(de(0,"h1"),Le(1,"Blockchain Network Simulator"),pe(),cn(2,"router-outlet"))},dependencies:[_b],styles:["h1[_ngcontent-%COMP%]{margin-top:1vh;margin-left:1vw}"]}),n})();function TH(n){return new Ke(3e3,!1)}function Doe(){return typeof window<"u"&&typeof window.document<"u"}function bT(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Zu(n){switch(n.length){case 0:return new Um;case 1:return n[0];default:return new jL(n)}}function AH(n,t,e,i,r=new Map,s=new Map){const a=[],l=[];let h=-1,m=null;if(i.forEach(v=>{const C=v.get("offset"),D=C==h,T=D&&m||new Map;v.forEach((k,P)=>{let N=P,V=k;if("offset"!==P)switch(N=t.normalizePropertyName(N,a),V){case"!":V=r.get(P);break;case Dc:V=s.get(P);break;default:V=t.normalizeStyleValue(P,N,V,a)}T.set(N,V)}),D||l.push(T),m=T,h=C}),a.length)throw function hoe(n){return new Ke(3502,!1)}();return l}function wT(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&CT(e,"start",n)));break;case"done":n.onDone(()=>i(e&&CT(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&CT(e,"destroy",n)))}}function CT(n,t,e){const s=xT(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function xT(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function Bo(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function kH(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let DT=(n,t)=>!1,IH=(n,t,e)=>[],RH=null;function ET(n){const t=n.parentNode||n.host;return t===RH?null:t}(bT()||typeof Element<"u")&&(Doe()?(RH=(()=>document.documentElement)(),DT=(n,t)=>{for(;t;){if(t===n)return!0;t=ET(t)}return!1}):DT=(n,t)=>n.contains(t),IH=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let xh=null,OH=!1;const PH=DT,FH=IH;let LH=(()=>{class n{validateStyleProperty(e){return function Soe(n){xh||(xh=function Moe(){return typeof document<"u"?document.body:null}()||{},OH=!!xh.style&&"WebkitAppearance"in xh.style);let t=!0;return xh.style&&!function Eoe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in xh.style,!t&&OH&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in xh.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return PH(e,i)}getParentElement(e){return ET(e)}query(e,i,r){return FH(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,l=[],h){return new Um(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),ST=(()=>{class n{}return n.NOOP=new LH,n})();const MT="ng-enter",Rw="ng-leave",Ow="ng-trigger",Pw=".ng-trigger",BH="ng-animating",TT=".ng-animating";function Fc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:AT(parseFloat(t[1]),t[2])}function AT(n,t){return"s"===t?1e3*n:n}function Fw(n,t,e){return n.hasOwnProperty("duration")?n:function koe(n,t,e){let r,s=0,a="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return t.push(TH()),{duration:0,delay:0,easing:""};r=AT(parseFloat(l[1]),l[2]);const h=l[3];null!=h&&(s=AT(parseFloat(h),l[4]));const m=l[5];m&&(a=m)}else r=n;if(!e){let l=!1,h=t.length;r<0&&(t.push(function Use(){return new Ke(3100,!1)}()),l=!0),s<0&&(t.push(function Gse(){return new Ke(3101,!1)}()),l=!0),l&&t.splice(h,0,TH())}return{duration:r,delay:s,easing:a}}(n,t,e)}function Rv(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function VH(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Xu(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function zH(n,t,e){return e?t+":"+e+";":""}function $H(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=zH(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=zH(0,Poe(e),n.style[e]));n.setAttribute("style",t)}function Bl(n,t,e){n.style&&(t.forEach((i,r)=>{const s=IT(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),bT()&&$H(n))}function Dh(n,t){n.style&&(t.forEach((e,i)=>{const r=IT(i);n.style[r]=""}),bT()&&$H(n))}function Ov(n){return Array.isArray(n)?1==n.length?n[0]:zL(n):n}const kT=new RegExp("{{\\s*(.+?)\\s*}}","g");function jH(n){let t=[];if("string"==typeof n){let e;for(;e=kT.exec(n);)t.push(e[1]);kT.lastIndex=0}return t}function Pv(n,t,e){const i=n.toString(),r=i.replace(kT,(s,a)=>{let l=t[a];return null==l&&(e.push(function qse(n){return new Ke(3003,!1)}()),l=""),l.toString()});return r==i?n:r}function Lw(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Ooe=/-+([a-z0-9])/g;function IT(n){return n.replace(Ooe,(...t)=>t[1].toUpperCase())}function Poe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Kse(n){return new Ke(3004,!1)}()}}function UH(n,t){return window.getComputedStyle(n)[t]}function Hoe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function zoe(n,t,e){if(":"==n[0]){const h=function $oe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function loe(n){return new Ke(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function aoe(n){return new Ke(3015,!1)}()),t;const r=i[1],s=i[2],a=i[3];t.push(GH(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&t.push(GH(a,r))}(i,e,t)):e.push(n),e}const Hw=new Set(["true","1"]),zw=new Set(["false","0"]);function GH(n,t){const e=Hw.has(n)||zw.has(n),i=Hw.has(t)||zw.has(t);return(r,s)=>{let a="*"==n||n==r,l="*"==t||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?Hw.has(n):zw.has(n)),!l&&i&&"boolean"==typeof s&&(l=s?Hw.has(t):zw.has(t)),a&&l}}const joe=new RegExp("s*:selfs*,?","g");function RT(n,t,e,i){return new Uoe(n).build(t,e,i)}class Uoe{constructor(t){this._driver=t}build(t,e,i){const r=new qoe(e);return this._resetContextStyleTimingState(r),Vo(this,Ov(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function Zse(){return new Ke(3006,!1)}()),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),0==l.type){const h=l,m=h.name;m.toString().split(/\s*,\s*/).forEach(v=>{h.name=v,s.push(this.visitState(h,e))}),h.name=m}else if(1==l.type){const h=this.visitTransition(l,e);i+=h.queryCount,r+=h.depCount,a.push(h)}else e.errors.push(function Xse(){return new Ke(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(h=>{jH(h).forEach(m=>{a.hasOwnProperty(m)||s.add(m)})})}),s.size&&(Lw(s.values()),e.errors.push(function Qse(n,t){return new Ke(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Vo(this,Ov(t.animation),e);return{type:1,matchers:Hoe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Eh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Vo(this,i,e)),options:Eh(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const l=Vo(this,a,e);return r=Math.max(r,e.currentTime),l});return e.currentTime=r,{type:3,steps:s,options:Eh(t.options)}}visitAnimate(t,e){const i=function Yoe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return OT(Fw(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=OT(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Fw(e,t);return OT(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:_n({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,l=!1;if(!a){l=!0;const m={};i.easing&&(m.easing=i.easing),a=_n(m)}e.currentTime+=i.duration+i.delay;const h=this.visitStyle(a,e);h.isEmptyStep=l,r=h}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let l of r)"string"==typeof l?l===Dc?i.push(l):e.errors.push(new Ke(3002,!1)):i.push(VH(l));let s=!1,a=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!s))for(let h of l.values())if(h.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,h)=>{const m=e.collectedStyles.get(e.currentQuerySelector),v=m.get(h);let C=!0;v&&(s!=r&&s>=v.startTime&&r<=v.endTime&&(e.errors.push(function eoe(n,t,e,i,r){return new Ke(3010,!1)}()),C=!1),s=v.startTime),C&&m.set(h,{startTime:s,endTime:r}),e.options&&function Roe(n,t,e){const i=t.params||{},r=jH(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function Wse(n){return new Ke(3001,!1)}())})}(l,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function toe(){return new Ke(3011,!1)}()),i;let s=0;const a=[];let l=!1,h=!1,m=0;const v=t.steps.map(V=>{const q=this._makeStyleAst(V,e);let te=null!=q.offset?q.offset:function Koe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(q.styles),$=0;return null!=te&&(s++,$=q.offset=te),h=h||$<0||$>1,l=l||$<m,m=$,a.push($),q});h&&e.errors.push(function noe(){return new Ke(3012,!1)}()),l&&e.errors.push(function ioe(){return new Ke(3200,!1)}());const C=t.steps.length;let D=0;s>0&&s<C?e.errors.push(function roe(){return new Ke(3202,!1)}()):0==s&&(D=1/(C-1));const T=C-1,k=e.currentTime,P=e.currentAnimateTimings,N=P.duration;return v.forEach((V,q)=>{const te=D>0?q==T?1:D*q:a[q],$=te*N;e.currentTime=k+P.delay+$,P.duration=$,this._validateStyleAst(V,e),V.offset=te,i.styles.push(V)}),i}visitReference(t,e){return{type:8,animation:Vo(this,Ov(t.animation),e),options:Eh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Eh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Eh(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function Goe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(joe,"")),n=n.replace(/@\*/g,Pw).replace(/@\w+/g,e=>Pw+"-"+e.slice(1)).replace(/:animating/g,TT),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Bo(e.collectedStyles,e.currentQuerySelector,new Map);const l=Vo(this,Ov(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:t.selector,options:Eh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function soe(){return new Ke(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Fw(t.timings,e.errors,!0);return{type:12,animation:Vo(this,Ov(t.animation),e),timings:i,options:null}}}class qoe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Eh(n){return n?(n=Rv(n)).params&&(n.params=function Woe(n){return n?Rv(n):null}(n.params)):n={},n}function OT(n,t,e){return{duration:n,delay:t,easing:e}}function PT(n,t,e,i,r,s,a=null,l=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:l}}class $w{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Qoe=new RegExp(":enter","g"),eae=new RegExp(":leave","g");function FT(n,t,e,i,r,s=new Map,a=new Map,l,h,m=[]){return(new tae).buildKeyframes(n,t,e,i,r,s,a,l,h,m)}class tae{buildKeyframes(t,e,i,r,s,a,l,h,m,v=[]){m=m||new $w;const C=new LT(t,e,m,r,s,v,[]);C.options=h;const D=h.delay?Fc(h.delay):0;C.currentTimeline.delayNextStep(D),C.currentTimeline.setStyles([a],null,C.errors,h),Vo(this,i,C);const T=C.timelines.filter(k=>k.containsAnimation());if(T.length&&l.size){let k;for(let P=T.length-1;P>=0;P--){const N=T[P];if(N.element===e){k=N;break}}k&&!k.allowOnlyTimelineStyles()&&k.setStyles([l],null,C.errors,h)}return T.length?T.map(k=>k.buildKeyframes()):[PT(e,[],[],[],0,D,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const a="number"==typeof s?s:Fc(Pv(s,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?Fc(i.duration):null,l=null!=i.delay?Fc(i.delay):null;return 0!==a&&t.forEach(h=>{const m=e.appendInstructionToTimeline(h,a,l);s=Math.max(s,m.duration+m.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Vo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=jw);const a=Fc(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Vo(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Fc(t.options.delay):0;t.steps.forEach(a=>{const l=e.createSubContext(t.options);s&&l.delayNextStep(s),Vo(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Fw(e.params?Pv(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,l=e.createSubContext().currentTimeline;l.easing=i.easing,t.styles.forEach(h=>{l.forwardTime((h.offset||0)*s),l.setStyles(h.styles,h.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Fc(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=jw);let a=i;const l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=l.length;let h=null;l.forEach((m,v)=>{e.currentQueryIndex=v;const C=e.createSubContext(t.options,m);s&&C.delayNextStep(s),m===e.element&&(h=C.currentTimeline),Vo(this,t.animation,C),C.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,C.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),l=a*(e.currentQueryTotal-1);let h=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=l-h;break;case"full":h=i.currentStaggerTime}const v=e.currentTimeline;h&&v.delayNextStep(h);const C=v.currentTime;Vo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-C+(r.startTime-i.currentTimeline.startTime)}}const jw={};class LT{constructor(t,e,i,r,s,a,l,h){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new Uw(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Fc(i.duration)),null!=i.delay&&(r.delay=Fc(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(l=>{(!e||!a.hasOwnProperty(l))&&(a[l]=Pv(s[l],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new LT(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=jw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new nae(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let l=[];if(r&&l.push(this.element),t.length>0){t=(t=t.replace(Qoe,"."+this._enterClassName)).replace(eae,"."+this._leaveClassName);let m=this._driver.query(this.element,t,1!=i);0!==i&&(m=i<0?m.slice(m.length+i,m.length):m.slice(0,i)),l.push(...m)}return!s&&0==l.length&&a.push(function ooe(n){return new Ke(3014,!1)}()),l}}class Uw{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Uw(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Dc),this._currentKeyframe.set(e,Dc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},a=function iae(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,Dc)}else Xu(r,e)}),e}(t,this._globalTimelineStyles);for(let[l,h]of a){const m=Pv(h,s,i);this._pendingStyles.set(l,m),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Dc),this._updateStyle(l,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,h)=>{const m=Xu(l,new Map,this._backFill);m.forEach((v,C)=>{"!"===v?t.add(C):v===Dc&&e.add(C)}),i||m.set("offset",h/this.duration),r.push(m)});const s=t.size?Lw(t.values()):[],a=e.size?Lw(e.values()):[];if(i){const l=r[0],h=new Map(l);l.set("offset",0),h.set("offset",1),r=[l,h]}return PT(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class nae extends Uw{constructor(t,e,i,r,s,a,l=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,l=e/a,h=Xu(t[0]);h.set("offset",0),s.push(h);const m=Xu(t[0]);m.set("offset",KH(l)),s.push(m);const v=t.length-1;for(let C=1;C<=v;C++){let D=Xu(t[C]);const T=D.get("offset");D.set("offset",KH((e+T*i)/a)),s.push(D)}i=a,e=0,r="",t=s}return PT(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function KH(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class NT{}const rae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class sae extends NT{normalizePropertyName(t,e){return IT(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if(rae.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(function Yse(n,t){return new Ke(3005,!1)}())}return a+s}}function YH(n,t,e,i,r,s,a,l,h,m,v,C,D){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:l,queriedElements:h,preStyleProps:m,postStyleProps:v,totalTime:C,errors:D}}const BT={};class ZH{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function oae(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,a,l,h,m,v){const C=[],D=this.ast.options&&this.ast.options.params||BT,k=this.buildStyles(i,l&&l.params||BT,C),P=h&&h.params||BT,N=this.buildStyles(r,P,C),V=new Set,q=new Map,te=new Map,$="void"===r,fe={params:aae(P,D),delay:this.ast.options?.delay},_e=v?[]:FT(t,e,this.ast.animation,s,a,k,N,fe,m,C);let Qe=0;if(_e.forEach(Rt=>{Qe=Math.max(Rt.duration+Rt.delay,Qe)}),C.length)return YH(e,this._triggerName,i,r,$,k,N,[],[],q,te,Qe,C);_e.forEach(Rt=>{const $t=Rt.element,rn=Bo(q,$t,new Set);Rt.preStyleProps.forEach(Gn=>rn.add(Gn));const Yt=Bo(te,$t,new Set);Rt.postStyleProps.forEach(Gn=>Yt.add(Gn)),$t!==e&&V.add($t)});const dt=Lw(V.values());return YH(e,this._triggerName,i,r,$,k,N,_e,dt,q,te,Qe)}}function aae(n,t){const e=Rv(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class lae{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Rv(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{a&&(a=Pv(a,r,e));const h=this.normalizer.normalizePropertyName(l,e);a=this.normalizer.normalizeStyleValue(l,h,a,e),i.set(h,a)})}),i}}class uae{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new lae(r.style,r.options&&r.options.params||{},i))}),XH(this.states,"true","1"),XH(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new ZH(t,r,this.states))}),this.fallbackTransition=function dae(n,t,e){return new ZH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function XH(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const hae=new $w;class fae{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=RT(this._driver,e,i,[]);if(i.length)throw function foe(n){return new Ke(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=AH(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let a;const l=new Map;if(s?(a=FT(this._driver,e,s,MT,Rw,new Map,new Map,i,hae,r),a.forEach(v=>{const C=Bo(l,v.element,new Map);v.postStyleProps.forEach(D=>C.set(D,null))})):(r.push(function poe(){return new Ke(3300,!1)}()),a=[]),r.length)throw function goe(n){return new Ke(3504,!1)}();l.forEach((v,C)=>{v.forEach((D,T)=>{v.set(T,this._driver.computeStyle(C,T,Dc))})});const m=Zu(a.map(v=>{const C=l.get(v.element);return this._buildPlayer(v,new Map,C)}));return this._playersById.set(t,m),m.onDestroy(()=>this.destroy(t)),this.players.push(m),m}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function moe(n){return new Ke(3301,!1)}();return e}listen(t,e,i,r){const s=xT(e,"","","");return wT(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const QH="ng-animate-queued",VT="ng-animate-disabled",yae=[],JH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_ae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pa="__ng_removed";class HT{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function xae(n){return n??null}(i?t.value:t),i){const s=Rv(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Fv="void",zT=new HT(Fv);class bae{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ga(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function voe(n,t){return new Ke(3302,!1)}();if(null==i||0==i.length)throw function yoe(n){return new Ke(3303,!1)}();if(!function Dae(n){return"start"==n||"done"==n}(i))throw function _oe(n,t){return new Ke(3400,!1)}();const s=Bo(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const l=Bo(this._engine.statesByElement,t,new Map);return l.has(e)||(ga(t,Ow),ga(t,Ow+"-"+e),l.set(e,zT)),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(a);h>=0&&s.splice(h,1),this._triggers.has(e)||l.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function boe(n){return new Ke(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new $T(this.id,e,t);let l=this._engine.statesByElement.get(t);l||(ga(t,Ow),ga(t,Ow+"-"+e),this._engine.statesByElement.set(t,l=new Map));let h=l.get(e);const m=new HT(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&m.absorbOptions(h.options),l.set(e,m),h||(h=zT),m.value!==Fv&&h.value===m.value){if(!function Mae(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(h.params,m.params)){const P=[],N=s.matchStyles(h.value,h.params,P),V=s.matchStyles(m.value,m.params,P);P.length?this._engine.reportError(P):this._engine.afterFlush(()=>{Dh(t,N),Bl(t,V)})}return}const D=Bo(this._engine.playersByElement,t,[]);D.forEach(P=>{P.namespaceId==this.id&&P.triggerName==e&&P.queued&&P.destroy()});let T=s.matchTransition(h.value,m.value,t,m.params),k=!1;if(!T){if(!r)return;T=s.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:T,fromState:h,toState:m,player:a,isFallbackTransition:k}),k||(ga(t,QH),a.onStart(()=>{Op(t,QH)})),a.onDone(()=>{let P=this.players.indexOf(a);P>=0&&this.players.splice(P,1);const N=this._engine.playersByElement.get(t);if(N){let V=N.indexOf(a);V>=0&&N.splice(V,1)}}),this.players.push(a),D.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Pw,!0);i.forEach(r=>{if(r[pa])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const l=[];if(s.forEach((h,m)=>{if(a.set(m,h.value),this._triggers.has(m)){const v=this.trigger(t,m,Fv,r);v&&l.push(v)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&Zu(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const h=this._triggers.get(a).fallbackTransition,m=i.get(a)||zT,v=new HT(Fv),C=new $T(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:h,fromState:m,toState:v,player:C,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[pa];(!s||s===JH)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ga(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(l=>{if(l.name==i.triggerName){const h=xT(s,i.triggerName,i.fromState.value,i.toState.value);h._data=t,wT(i.player,l.phase,h,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class wae{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new bae(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,l=this.driver.getParentElement(e);for(;l;){const h=r.get(l);if(h){const m=i.indexOf(h);i.splice(m+1,0,t),a=!0;break}l=this.driver.getParentElement(l)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(Gw(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Gw(e))return;const s=e[pa];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ga(t,VT)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Op(t,VT))}removeNode(t,e,i,r){if(Gw(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[pa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return Gw(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Pw,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,TT,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Zu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[pa];if(e&&e.setForRemoval){if(t[pa]=JH,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(VT)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ga(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Zu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function woe(n){return new Ke(3402,!1)}()}_flushAnimations(t,e){const i=new $w,r=[],s=new Map,a=[],l=new Map,h=new Map,m=new Map,v=new Set;this.disabledNodes.forEach(pt=>{v.add(pt);const Ct=this.driver.query(pt,".ng-animate-queued",!0);for(let kt=0;kt<Ct.length;kt++)v.add(Ct[kt])});const C=this.bodyNode,D=Array.from(this.statesByElement.keys()),T=nz(D,this.collectedEnterElements),k=new Map;let P=0;T.forEach((pt,Ct)=>{const kt=MT+P++;k.set(Ct,kt),pt.forEach(tn=>ga(tn,kt))});const N=[],V=new Set,q=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const Ct=this.collectedLeaveElements[pt],kt=Ct[pa];kt&&kt.setForRemoval&&(N.push(Ct),V.add(Ct),kt.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(tn=>V.add(tn)):q.add(Ct))}const te=new Map,$=nz(D,Array.from(V));$.forEach((pt,Ct)=>{const kt=Rw+P++;te.set(Ct,kt),pt.forEach(tn=>ga(tn,kt))}),t.push(()=>{T.forEach((pt,Ct)=>{const kt=k.get(Ct);pt.forEach(tn=>Op(tn,kt))}),$.forEach((pt,Ct)=>{const kt=te.get(Ct);pt.forEach(tn=>Op(tn,kt))}),N.forEach(pt=>{this.processLeaveNode(pt)})});const fe=[],_e=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(e).forEach(kt=>{const tn=kt.player,xi=kt.element;if(fe.push(tn),this.collectedEnterElements.length){const hs=xi[pa];if(hs&&hs.setForMove){if(hs.previousTriggersValues&&hs.previousTriggersValues.has(kt.triggerName)){const Lc=hs.previousTriggersValues.get(kt.triggerName),to=this.statesByElement.get(kt.element);if(to&&to.has(kt.triggerName)){const Za=to.get(kt.triggerName);Za.value=Lc,to.set(kt.triggerName,Za)}}return void tn.destroy()}}const Qr=!C||!this.driver.containsElement(C,xi),Ki=te.get(xi),bs=k.get(xi),yi=this._buildInstruction(kt,i,bs,Ki,Qr);if(yi.errors&&yi.errors.length)return void _e.push(yi);if(Qr)return tn.onStart(()=>Dh(xi,yi.fromStyles)),tn.onDestroy(()=>Bl(xi,yi.toStyles)),void r.push(tn);if(kt.isFallbackTransition)return tn.onStart(()=>Dh(xi,yi.fromStyles)),tn.onDestroy(()=>Bl(xi,yi.toStyles)),void r.push(tn);const Ka=[];yi.timelines.forEach(hs=>{hs.stretchStartingKeyframe=!0,this.disabledNodes.has(hs.element)||Ka.push(hs)}),yi.timelines=Ka,i.append(xi,yi.timelines),a.push({instruction:yi,player:tn,element:xi}),yi.queriedElements.forEach(hs=>Bo(l,hs,[]).push(tn)),yi.preStyleProps.forEach((hs,Lc)=>{if(hs.size){let to=h.get(Lc);to||h.set(Lc,to=new Set),hs.forEach((Za,Pp)=>to.add(Pp))}}),yi.postStyleProps.forEach((hs,Lc)=>{let to=m.get(Lc);to||m.set(Lc,to=new Set),hs.forEach((Za,Pp)=>to.add(Pp))})});if(_e.length){const pt=[];_e.forEach(Ct=>{pt.push(function Coe(n,t){return new Ke(3505,!1)}())}),fe.forEach(Ct=>Ct.destroy()),this.reportError(pt)}const Qe=new Map,dt=new Map;a.forEach(pt=>{const Ct=pt.element;i.has(Ct)&&(dt.set(Ct,Ct),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,Qe))}),r.forEach(pt=>{const Ct=pt.element;this._getPreviousPlayers(Ct,!1,pt.namespaceId,pt.triggerName,null).forEach(tn=>{Bo(Qe,Ct,[]).push(tn),tn.destroy()})});const Rt=N.filter(pt=>rz(pt,h,m)),$t=new Map;tz($t,this.driver,q,m,Dc).forEach(pt=>{rz(pt,h,m)&&Rt.push(pt)});const Yt=new Map;T.forEach((pt,Ct)=>{tz(Yt,this.driver,new Set(pt),h,"!")}),Rt.forEach(pt=>{const Ct=$t.get(pt),kt=Yt.get(pt);$t.set(pt,new Map([...Array.from(Ct?.entries()??[]),...Array.from(kt?.entries()??[])]))});const Gn=[],Ti=[],zn={};a.forEach(pt=>{const{element:Ct,player:kt,instruction:tn}=pt;if(i.has(Ct)){if(v.has(Ct))return kt.onDestroy(()=>Bl(Ct,tn.toStyles)),kt.disabled=!0,kt.overrideTotalTime(tn.totalTime),void r.push(kt);let xi=zn;if(dt.size>1){let Ki=Ct;const bs=[];for(;Ki=Ki.parentNode;){const yi=dt.get(Ki);if(yi){xi=yi;break}bs.push(Ki)}bs.forEach(yi=>dt.set(yi,xi))}const Qr=this._buildAnimation(kt.namespaceId,tn,Qe,s,Yt,$t);if(kt.setRealPlayer(Qr),xi===zn)Gn.push(kt);else{const Ki=this.playersByElement.get(xi);Ki&&Ki.length&&(kt.parentPlayer=Zu(Ki)),r.push(kt)}}else Dh(Ct,tn.fromStyles),kt.onDestroy(()=>Bl(Ct,tn.toStyles)),Ti.push(kt),v.has(Ct)&&r.push(kt)}),Ti.forEach(pt=>{const Ct=s.get(pt.element);if(Ct&&Ct.length){const kt=Zu(Ct);pt.setRealPlayer(kt)}}),r.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<N.length;pt++){const Ct=N[pt],kt=Ct[pa];if(Op(Ct,Rw),kt&&kt.hasAnimation)continue;let tn=[];if(l.size){let Qr=l.get(Ct);Qr&&Qr.length&&tn.push(...Qr);let Ki=this.driver.query(Ct,TT,!0);for(let bs=0;bs<Ki.length;bs++){let yi=l.get(Ki[bs]);yi&&yi.length&&tn.push(...yi)}}const xi=tn.filter(Qr=>!Qr.destroyed);xi.length?Eae(this,Ct,xi):this.processLeaveNode(Ct)}return N.length=0,Gn.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const Ct=this.players.indexOf(pt);this.players.splice(Ct,1)}),pt.play()}),Gn}elementContainsData(t,e){let i=!1;const r=e[pa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const l=this.playersByQueriedElement.get(t);l&&(a=l)}else{const l=this.playersByElement.get(t);if(l){const h=!s||s==Fv;l.forEach(m=>{m.queued||!h&&m.triggerName!=r||a.push(m)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const m=h.element,v=m!==s,C=Bo(i,m,[]);this._getPreviousPlayers(m,v,a,l,e.toState).forEach(T=>{const k=T.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),T.destroy(),C.push(T)})}Dh(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const l=e.triggerName,h=e.element,m=[],v=new Set,C=new Set,D=e.timelines.map(k=>{const P=k.element;v.add(P);const N=P[pa];if(N&&N.removedBeforeQueried)return new Um(k.duration,k.delay);const V=P!==h,q=function Sae(n){const t=[];return iz(n,t),t}((i.get(P)||yae).map(Qe=>Qe.getRealPlayer())).filter(Qe=>!!Qe.element&&Qe.element===P),te=s.get(P),$=a.get(P),fe=AH(0,this._normalizer,0,k.keyframes,te,$),_e=this._buildPlayer(k,fe,q);if(k.subTimeline&&r&&C.add(P),V){const Qe=new $T(t,l,P);Qe.setRealPlayer(_e),m.push(Qe)}return _e});m.forEach(k=>{Bo(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function Cae(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,k.element,k))}),v.forEach(k=>ga(k,BH));const T=Zu(D);return T.onDestroy(()=>{v.forEach(k=>Op(k,BH)),Bl(h,e.toStyles)}),C.forEach(k=>{Bo(r,k,[]).push(T)}),T}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Um(t.duration,t.delay)}}class $T{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Um,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>wT(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Bo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Gw(n){return n&&1===n.nodeType}function ez(n,t){const e=n.style.display;return n.style.display=t??"none",e}function tz(n,t,e,i,r){const s=[];e.forEach(h=>s.push(ez(h)));const a=[];i.forEach((h,m)=>{const v=new Map;h.forEach(C=>{const D=t.computeStyle(m,C,r);v.set(C,D),(!D||0==D.length)&&(m[pa]=_ae,a.push(m))}),n.set(m,v)});let l=0;return e.forEach(h=>ez(h,s[l++])),a}function nz(n,t){const e=new Map;if(n.forEach(l=>e.set(l,[])),0==t.length)return e;const r=new Set(t),s=new Map;function a(l){if(!l)return 1;let h=s.get(l);if(h)return h;const m=l.parentNode;return h=e.has(m)?m:r.has(m)?1:a(m),s.set(l,h),h}return t.forEach(l=>{const h=a(l);1!==h&&e.get(h).push(l)}),e}function ga(n,t){n.classList?.add(t)}function Op(n,t){n.classList?.remove(t)}function Eae(n,t,e){Zu(e).onDone(()=>n.processLeaveNode(t))}function iz(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof jL?iz(i.players,t):t.push(i)}}function rz(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Ww{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new wae(t,e,i),this._timelineEngine=new fae(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let l=this._triggerCache[a];if(!l){const h=[],v=RT(this._driver,s,h,[]);if(h.length)throw function doe(n,t){return new Ke(3404,!1)}();l=function cae(n,t,e){return new uae(n,t,e)}(r,v,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(e,r,l)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=kH(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,l]=kH(i);return this._timelineEngine.listen(a,e,l,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Aae=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Bl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bl(this._element,this._initialStyles),this._endStyles&&(Bl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Dh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dh(this._element,this._endStyles),this._endStyles=null),Bl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function jT(n){let t=null;return n.forEach((e,i)=>{(function kae(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class sz{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:UH(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Iae{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return PH(t,e)}getParentElement(t){return ET(t)}query(t,e,i){return FH(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,a=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(h.easing=s);const m=new Map,v=a.filter(T=>T instanceof sz);(function Foe(n,t){return 0===n||0===t})(i,r)&&v.forEach(T=>{T.currentSnapshot.forEach((k,P)=>m.set(P,k))});let C=function Ioe(n){return n.length?n[0]instanceof Map?n:n.map(t=>VH(t)):[]}(e).map(T=>Xu(T));C=function Loe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<t.length;s++){let a=t[s];r.forEach(l=>a.set(l,UH(n,l)))}}return t}(t,C,m);const D=function Tae(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=jT(t[0]),t.length>1&&(i=jT(t[t.length-1]))):t instanceof Map&&(e=jT(t)),e||i?new Aae(n,e,i):null}(t,C);return new sz(t,C,h,D)}}let Rae=(()=>{class n extends VL{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Dr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?zL(e):e;return oz(this._renderer,null,i,"register",[r]),new Oae(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(le(Mo),le(un))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();class Oae extends class k7{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Pae(this._id,t,e||{},this._renderer)}}class Pae{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return oz(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function oz(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const az="@.disabled";let Fae=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const l=a?.parentNode(s);l&&a.removeChild(l,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let v=this._rendererCache.get(s);return v||(v=new lz("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,v)),v}const a=i.id,l=i.id+"-"+this._currentId;this._currentId++,this.engine.register(l,e);const h=v=>{Array.isArray(v)?v.forEach(h):this.engine.registerTrigger(a,l,e,v.name,v)};return i.data.animation.forEach(h),new Lae(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,l]=s;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(le(Mo),le(Ww),le(Kt))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();class lz{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==az?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Lae extends lz{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==az?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Nae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function Bae(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,i,l)})}return this.delegate.listen(t,e,i)}}const cz=[{provide:VL,useClass:Rae},{provide:NT,useFactory:function Hae(){return new sae}},{provide:Ww,useClass:(()=>{class n extends Ww{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(le(un),le(ST),le(NT),le(Gf))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})()},{provide:Mo,useFactory:function zae(n,t,e){return new Fae(n,t,e)},deps:[rb,Ww,Kt]}],UT=[{provide:ST,useFactory:()=>new Iae},{provide:cs,useValue:"BrowserAnimations"},...cz],uz=[{provide:ST,useClass:LH},{provide:cs,useValue:"NoopAnimations"},...cz];let $ae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?uz:UT}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({providers:UT,imports:[aO]}),n})(),mz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[$S]}),n})(),Dz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[$S]}),n})(),Tce=(()=>{class n{constructor(e,i){Wf(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:$a,useValue:{...jS,...e}},{provide:US,useValue:i,multi:!0},{provide:fp,useValue:!0}]:[{provide:$a,useValue:{...jS,...e}},{provide:US,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(le(fp),le(Fa))},n.\u0275mod=ln({type:n}),n.\u0275inj=Qt({imports:[KS,mz,Dz,KS,mz,Dz]}),n})(),Ace=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ln({type:n,bootstrap:[jse]}),n.\u0275inj=Qt({imports:[aO,$se,$ae,IX,KS,Tce,QQ,b0,rZ,BS,uZ,PF,A9,zX,Aee,GL,Fee,RJ,$J,iX,LN,X2,Va]}),n})();(function EU(){lR=!1})(),X4().bootstrapModule(Ace).catch(n=>console.error(n))},5668:(he,ve,B)=>{"use strict";B.d(ve,{fi:()=>ht,kZ:()=>wn});var j=B(309),ee=B(6919),se=B(5211),ie=B(7577),ue=B(3535),ge=B(7319),Ce=B(8863),Ne=B(1804),st=B(373);function tt(_t,He,Te){void 0===Te&&(Te=!1);var ft=(0,ie.Re)(He),Mt=(0,ie.Re)(He)&&function ot(_t){var He=_t.getBoundingClientRect(),Te=(0,st.NM)(He.width)/_t.offsetWidth||1,ft=(0,st.NM)(He.height)/_t.offsetHeight||1;return 1!==Te||1!==ft}(He),it=(0,Ce.Z)(He),Xt=(0,j.Z)(_t,Mt,Te),Fe={scrollLeft:0,scrollTop:0},hn={x:0,y:0};return(ft||!ft&&!Te)&&(("body"!==(0,ue.Z)(He)||(0,Ne.Z)(it))&&(Fe=function re(_t){return _t!==(0,se.Z)(_t)&&(0,ie.Re)(_t)?function ne(_t){return{scrollLeft:_t.scrollLeft,scrollTop:_t.scrollTop}}(_t):(0,ee.Z)(_t)}(He)),(0,ie.Re)(He)?((hn=(0,j.Z)(He,!0)).x+=He.clientLeft,hn.y+=He.clientTop):it&&(hn.x=(0,ge.Z)(it))),{x:Xt.left+Fe.scrollLeft-hn.x,y:Xt.top+Fe.scrollTop-hn.y,width:Xt.width,height:Xt.height}}var Be=B(4436),we=B(8941),et=B(4826),xt=B(910);function xe(_t){var He=new Map,Te=new Set,ft=[];function Mt(it){Te.add(it.name),[].concat(it.requires||[],it.requiresIfExists||[]).forEach(function(Fe){if(!Te.has(Fe)){var hn=He.get(Fe);hn&&Mt(hn)}}),ft.push(it)}return _t.forEach(function(it){He.set(it.name,it)}),_t.forEach(function(it){Te.has(it.name)||Mt(it)}),ft}function ut(_t){var He;return function(){return He||(He=new Promise(function(Te){Promise.resolve().then(function(){He=void 0,Te(_t())})})),He}}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function on(){for(var _t=arguments.length,He=new Array(_t),Te=0;Te<_t;Te++)He[Te]=arguments[Te];return!He.some(function(ft){return!(ft&&"function"==typeof ft.getBoundingClientRect)})}function wn(_t){void 0===_t&&(_t={});var Te=_t.defaultModifiers,ft=void 0===Te?[]:Te,Mt=_t.defaultOptions,it=void 0===Mt?Ot:Mt;return function(Fe,hn,Qn){void 0===Qn&&(Qn=it);var Ue={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,it),modifiersData:{},elements:{reference:Fe,popper:hn},attributes:{},styles:{}},ki=[],Pi=!1,fn={state:Ue,setOptions:function(ir){var Ii="function"==typeof ir?ir(Ue.options):ir;fr(),Ue.options=Object.assign({},it,Ue.options,Ii),Ue.scrollParents={reference:(0,ie.kK)(Fe)?(0,we.Z)(Fe):Fe.contextElement?(0,we.Z)(Fe.contextElement):[],popper:(0,we.Z)(hn)};var Vi=function at(_t){var He=xe(_t);return xt.xs.reduce(function(Te,ft){return Te.concat(He.filter(function(Mt){return Mt.phase===ft}))},[])}(function yt(_t){var He=_t.reduce(function(Te,ft){var Mt=Te[ft.name];return Te[ft.name]=Mt?Object.assign({},Mt,ft,{options:Object.assign({},Mt.options,ft.options),data:Object.assign({},Mt.data,ft.data)}):ft,Te},{});return Object.keys(He).map(function(Te){return He[Te]})}([].concat(ft,Ue.options.modifiers)));return Ue.orderedModifiers=Vi.filter(function(Fs){return Fs.enabled}),function In(){Ue.orderedModifiers.forEach(function(vt){var Ii=vt.options,Or=vt.effect;if("function"==typeof Or){var pr=Or({state:Ue,name:vt.name,instance:fn,options:void 0===Ii?{}:Ii});ki.push(pr||function(){})}})}(),fn.update()},forceUpdate:function(){if(!Pi){var ir=Ue.elements,Ii=ir.reference,Vi=ir.popper;if(on(Ii,Vi)){Ue.rects={reference:tt(Ii,(0,et.Z)(Vi),"fixed"===Ue.options.strategy),popper:(0,Be.Z)(Vi)},Ue.reset=!1,Ue.placement=Ue.options.placement,Ue.orderedModifiers.forEach(function(Fs){return Ue.modifiersData[Fs.name]=Object.assign({},Fs.data)});for(var pr=0;pr<Ue.orderedModifiers.length;pr++)if(!0!==Ue.reset){var Jr=Ue.orderedModifiers[pr],es=Jr.fn,fs=Jr.options;"function"==typeof es&&(Ue=es({state:Ue,options:void 0===fs?{}:fs,name:Jr.name,instance:fn})||Ue)}else Ue.reset=!1,pr=-1}}},update:ut(function(){return new Promise(function(vt){fn.forceUpdate(),vt(Ue)})}),destroy:function(){fr(),Pi=!0}};if(!on(Fe,hn))return fn;function fr(){ki.forEach(function(vt){return vt()}),ki=[]}return fn.setOptions(Qn).then(function(vt){!Pi&&Qn.onFirstUpdate&&Qn.onFirstUpdate(vt)}),fn}}var ht=wn()},7852:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ee});var j=B(7577);function ee(se,ie){var ne=ie.getRootNode&&ie.getRootNode();if(se.contains(ie))return!0;if(ne&&(0,j.Zq)(ne)){var re=ie;do{if(re&&se.isSameNode(re))return!0;re=re.parentNode||re.host}while(re)}return!1}},309:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ne});var j=B(7577),ee=B(373),se=B(5211),ie=B(4796);function ne(re,ue,ge){void 0===ue&&(ue=!1),void 0===ge&&(ge=!1);var Ce=re.getBoundingClientRect(),Ne=1,st=1;ue&&(0,j.Re)(re)&&(Ne=re.offsetWidth>0&&(0,ee.NM)(Ce.width)/re.offsetWidth||1,st=re.offsetHeight>0&&(0,ee.NM)(Ce.height)/re.offsetHeight||1);var tt=((0,j.kK)(re)?(0,se.Z)(re):window).visualViewport,Be=!(0,ie.Z)()&&ge,we=(Ce.left+(Be&&tt?tt.offsetLeft:0))/Ne,et=(Ce.top+(Be&&tt?tt.offsetTop:0))/st,xt=Ce.width/Ne,xe=Ce.height/st;return{width:xt,height:xe,top:et,right:we+xt,bottom:et+xe,left:we,x:we,y:et}}},1422:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ee});var j=B(5211);function ee(se){return(0,j.Z)(se).getComputedStyle(se)}},8863:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ee});var j=B(7577);function ee(se){return(((0,j.kK)(se)?se.ownerDocument:se.document)||window.document).documentElement}},4436:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ee});var j=B(309);function ee(se){var ie=(0,j.Z)(se),ne=se.offsetWidth,re=se.offsetHeight;return Math.abs(ie.width-ne)<=1&&(ne=ie.width),Math.abs(ie.height-re)<=1&&(re=ie.height),{x:se.offsetLeft,y:se.offsetTop,width:ne,height:re}}},3535:(he,ve,B)=>{"use strict";function j(ee){return ee?(ee.nodeName||"").toLowerCase():null}B.d(ve,{Z:()=>j})},4826:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>Ne});var j=B(5211),ee=B(3535),se=B(1422),ie=B(7577);function ne(st){return["table","td","th"].indexOf((0,ee.Z)(st))>=0}var re=B(3449),ue=B(549);function ge(st){return(0,ie.Re)(st)&&"fixed"!==(0,se.Z)(st).position?st.offsetParent:null}function Ne(st){for(var ot=(0,j.Z)(st),tt=ge(st);tt&&ne(tt)&&"static"===(0,se.Z)(tt).position;)tt=ge(tt);return tt&&("html"===(0,ee.Z)(tt)||"body"===(0,ee.Z)(tt)&&"static"===(0,se.Z)(tt).position)?ot:tt||function Ce(st){var ot=/firefox/i.test((0,ue.Z)());if(/Trident/i.test((0,ue.Z)())&&(0,ie.Re)(st)&&"fixed"===(0,se.Z)(st).position)return null;var we=(0,re.Z)(st);for((0,ie.Zq)(we)&&(we=we.host);(0,ie.Re)(we)&&["html","body"].indexOf((0,ee.Z)(we))<0;){var et=(0,se.Z)(we);if("none"!==et.transform||"none"!==et.perspective||"paint"===et.contain||-1!==["transform","perspective"].indexOf(et.willChange)||ot&&"filter"===et.willChange||ot&&et.filter&&"none"!==et.filter)return we;we=we.parentNode}return null}(st)||ot}},3449:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ie});var j=B(3535),ee=B(8863),se=B(7577);function ie(ne){return"html"===(0,j.Z)(ne)?ne:ne.assignedSlot||ne.parentNode||((0,se.Zq)(ne)?ne.host:null)||(0,ee.Z)(ne)}},5211:(he,ve,B)=>{"use strict";function j(ee){if(null==ee)return window;if("[object Window]"!==ee.toString()){var se=ee.ownerDocument;return se&&se.defaultView||window}return ee}B.d(ve,{Z:()=>j})},6919:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ee});var j=B(5211);function ee(se){var ie=(0,j.Z)(se);return{scrollLeft:ie.pageXOffset,scrollTop:ie.pageYOffset}}},7319:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ie});var j=B(309),ee=B(8863),se=B(6919);function ie(ne){return(0,j.Z)((0,ee.Z)(ne)).left+(0,se.Z)(ne).scrollLeft}},7577:(he,ve,B)=>{"use strict";B.d(ve,{Re:()=>se,Zq:()=>ie,kK:()=>ee});var j=B(5211);function ee(ne){return ne instanceof(0,j.Z)(ne).Element||ne instanceof Element}function se(ne){return ne instanceof(0,j.Z)(ne).HTMLElement||ne instanceof HTMLElement}function ie(ne){return!(typeof ShadowRoot>"u")&&(ne instanceof(0,j.Z)(ne).ShadowRoot||ne instanceof ShadowRoot)}},4796:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ee});var j=B(549);function ee(){return!/^((?!chrome|android).)*safari/i.test((0,j.Z)())}},1804:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ee});var j=B(1422);function ee(se){var ie=(0,j.Z)(se);return/auto|scroll|overlay|hidden/.test(ie.overflow+ie.overflowY+ie.overflowX)}},8941:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ue});var j=B(3449),ee=B(1804),se=B(3535),ie=B(7577);function ne(ge){return["html","body","#document"].indexOf((0,se.Z)(ge))>=0?ge.ownerDocument.body:(0,ie.Re)(ge)&&(0,ee.Z)(ge)?ge:ne((0,j.Z)(ge))}var re=B(5211);function ue(ge,Ce){var Ne;void 0===Ce&&(Ce=[]);var st=ne(ge),ot=st===(null==(Ne=ge.ownerDocument)?void 0:Ne.body),tt=(0,re.Z)(st),Be=ot?[tt].concat(tt.visualViewport||[],(0,ee.Z)(st)?st:[]):st,we=Ce.concat(Be);return ot?we:we.concat(ue((0,j.Z)(Be)))}},910:(he,ve,B)=>{"use strict";B.d(ve,{BL:()=>ue,Ct:()=>Be,DH:()=>at,F2:()=>se,I:()=>ee,MS:()=>At,N7:()=>we,Pj:()=>Ne,XM:()=>xe,YP:()=>ot,bw:()=>tt,cW:()=>Ht,d7:()=>ne,ij:()=>et,iv:()=>yt,k5:()=>st,mv:()=>re,r5:()=>xt,t$:()=>ie,ut:()=>ge,wX:()=>ut,we:()=>j,xs:()=>Ot,zV:()=>Ce});var j="top",ee="bottom",se="right",ie="left",ne="auto",re=[j,ee,se,ie],ue="start",ge="end",Ce="clippingParents",Ne="viewport",st="popper",ot="reference",tt=re.reduce(function(on,wn){return on.concat([wn+"-"+ue,wn+"-"+ge])},[]),Be=[].concat(re,[ne]).reduce(function(on,wn){return on.concat([wn,wn+"-"+ue,wn+"-"+ge])},[]),we="beforeRead",et="read",xt="afterRead",xe="beforeMain",at="main",ut="afterMain",yt="beforeWrite",Ht="write",At="afterWrite",Ot=[we,et,xt,xe,at,ut,yt,Ht,At]},2833:(he,ve,B)=>{"use strict";B.r(ve),B.d(ve,{afterMain:()=>j.wX,afterRead:()=>j.r5,afterWrite:()=>j.MS,applyStyles:()=>ee.Z,arrow:()=>se.Z,auto:()=>j.d7,basePlacements:()=>j.mv,beforeMain:()=>j.XM,beforeRead:()=>j.N7,beforeWrite:()=>j.iv,bottom:()=>j.I,clippingParents:()=>j.zV,computeStyles:()=>ie.Z,createPopper:()=>tt.fi,createPopperBase:()=>st.fi,createPopperLite:()=>we,detectOverflow:()=>ot.Z,end:()=>j.ut,eventListeners:()=>ne.Z,flip:()=>re.Z,hide:()=>ue.Z,left:()=>j.t$,main:()=>j.DH,modifierPhases:()=>j.xs,offset:()=>ge.Z,placements:()=>j.Ct,popper:()=>j.k5,popperGenerator:()=>st.kZ,popperOffsets:()=>Ce.Z,preventOverflow:()=>Ne.Z,read:()=>j.ij,reference:()=>j.YP,right:()=>j.F2,start:()=>j.BL,top:()=>j.we,variationPlacements:()=>j.bw,viewport:()=>j.Pj,write:()=>j.cW});var j=B(910),ee=B(9208),se=B(5443),ie=B(7745),ne=B(1971),re=B(1363),ue=B(112),ge=B(3718),Ce=B(9696),Ne=B(9429),st=B(5668),ot=B(1785),tt=B(8061),we=(0,st.kZ)({defaultModifiers:[ne.Z,Ce.Z,ie.Z,ee.Z]})},9208:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ne});var j=B(3535),ee=B(7577);const ne={name:"applyStyles",enabled:!0,phase:"write",fn:function se(re){var ue=re.state;Object.keys(ue.elements).forEach(function(ge){var Ce=ue.styles[ge]||{},Ne=ue.attributes[ge]||{},st=ue.elements[ge];!(0,ee.Re)(st)||!(0,j.Z)(st)||(Object.assign(st.style,Ce),Object.keys(Ne).forEach(function(ot){var tt=Ne[ot];!1===tt?st.removeAttribute(ot):st.setAttribute(ot,!0===tt?"":tt)}))})},effect:function ie(re){var ue=re.state,ge={popper:{position:ue.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(ue.elements.popper.style,ge.popper),ue.styles=ge,ue.elements.arrow&&Object.assign(ue.elements.arrow.style,ge.arrow),function(){Object.keys(ue.elements).forEach(function(Ce){var Ne=ue.elements[Ce],st=ue.attributes[Ce]||{},tt=Object.keys(ue.styles.hasOwnProperty(Ce)?ue.styles[Ce]:ge[Ce]).reduce(function(Be,we){return Be[we]="",Be},{});!(0,ee.Re)(Ne)||!(0,j.Z)(Ne)||(Object.assign(Ne.style,tt),Object.keys(st).forEach(function(Be){Ne.removeAttribute(Be)}))})}},requires:["computeStyles"]}},5443:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>tt});var j=B(8978),ee=B(4436),se=B(7852),ie=B(4826),ne=B(3218),re=B(7327),ue=B(3234),ge=B(3857),Ce=B(910);const tt={name:"arrow",enabled:!0,phase:"main",fn:function st(Be){var we,et=Be.state,xt=Be.name,xe=Be.options,at=et.elements.arrow,ut=et.modifiersData.popperOffsets,yt=(0,j.Z)(et.placement),Ht=(0,ne.Z)(yt),Ot=[Ce.t$,Ce.F2].indexOf(yt)>=0?"height":"width";if(at&&ut){var on=function(we,et){return we="function"==typeof we?we(Object.assign({},et.rects,{placement:et.placement})):we,(0,ue.Z)("number"!=typeof we?we:(0,ge.Z)(we,Ce.mv))}(xe.padding,et),wn=(0,ee.Z)(at),ht="y"===Ht?Ce.we:Ce.t$,_t="y"===Ht?Ce.I:Ce.F2,He=et.rects.reference[Ot]+et.rects.reference[Ht]-ut[Ht]-et.rects.popper[Ot],Te=ut[Ht]-et.rects.reference[Ht],ft=(0,ie.Z)(at),Mt=ft?"y"===Ht?ft.clientHeight||0:ft.clientWidth||0:0,hn=Mt/2-wn[Ot]/2+(He/2-Te/2),Qn=(0,re.u)(on[ht],hn,Mt-wn[Ot]-on[_t]);et.modifiersData[xt]=((we={})[Ht]=Qn,we.centerOffset=Qn-hn,we)}},effect:function ot(Be){var we=Be.state,xt=Be.options.element,xe=void 0===xt?"[data-popper-arrow]":xt;null!=xe&&("string"==typeof xe&&!(xe=we.elements.popper.querySelector(xe))||!(0,se.Z)(we.elements.popper,xe)||(we.elements.arrow=xe))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},7745:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>tt});var j=B(910),ee=B(4826),se=B(5211),ie=B(8863),ne=B(1422),re=B(8978),ue=B(1786),ge=B(373),Ce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function st(Be){var we,et=Be.popper,xt=Be.popperRect,xe=Be.placement,at=Be.variation,ut=Be.offsets,yt=Be.position,Ht=Be.gpuAcceleration,At=Be.adaptive,Ot=Be.roundOffsets,on=Be.isFixed,wn=ut.x,ht=void 0===wn?0:wn,_t=ut.y,He=void 0===_t?0:_t,Te="function"==typeof Ot?Ot({x:ht,y:He}):{x:ht,y:He};ht=Te.x,He=Te.y;var ft=ut.hasOwnProperty("x"),Mt=ut.hasOwnProperty("y"),it=j.t$,Xt=j.we,Fe=window;if(At){var hn=(0,ee.Z)(et),Qn="clientHeight",Ue="clientWidth";hn===(0,se.Z)(et)&&(hn=(0,ie.Z)(et),"static"!==(0,ne.Z)(hn).position&&"absolute"===yt&&(Qn="scrollHeight",Ue="scrollWidth")),(xe===j.we||(xe===j.t$||xe===j.F2)&&at===j.ut)&&(Xt=j.I,He-=(on&&hn===Fe&&Fe.visualViewport?Fe.visualViewport.height:hn[Qn])-xt.height,He*=Ht?1:-1),xe!==j.t$&&(xe!==j.we&&xe!==j.I||at!==j.ut)||(it=j.F2,ht-=(on&&hn===Fe&&Fe.visualViewport?Fe.visualViewport.width:hn[Ue])-xt.width,ht*=Ht?1:-1)}var fr,fn=Object.assign({position:yt},At&&Ce),In=!0===Ot?function Ne(Be){var et=Be.y,xe=window.devicePixelRatio||1;return{x:(0,ge.NM)(Be.x*xe)/xe||0,y:(0,ge.NM)(et*xe)/xe||0}}({x:ht,y:He}):{x:ht,y:He};return ht=In.x,He=In.y,Object.assign({},fn,Ht?((fr={})[Xt]=Mt?"0":"",fr[it]=ft?"0":"",fr.transform=(Fe.devicePixelRatio||1)<=1?"translate("+ht+"px, "+He+"px)":"translate3d("+ht+"px, "+He+"px, 0)",fr):((we={})[Xt]=Mt?He+"px":"",we[it]=ft?ht+"px":"",we.transform="",we))}const tt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function ot(Be){var we=Be.state,et=Be.options,xt=et.gpuAcceleration,xe=void 0===xt||xt,at=et.adaptive,ut=void 0===at||at,yt=et.roundOffsets,Ht=void 0===yt||yt,Ot={placement:(0,re.Z)(we.placement),variation:(0,ue.Z)(we.placement),popper:we.elements.popper,popperRect:we.rects.popper,gpuAcceleration:xe,isFixed:"fixed"===we.options.strategy};null!=we.modifiersData.popperOffsets&&(we.styles.popper=Object.assign({},we.styles.popper,st(Object.assign({},Ot,{offsets:we.modifiersData.popperOffsets,position:we.options.strategy,adaptive:ut,roundOffsets:Ht})))),null!=we.modifiersData.arrow&&(we.styles.arrow=Object.assign({},we.styles.arrow,st(Object.assign({},Ot,{offsets:we.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ht})))),we.attributes.popper=Object.assign({},we.attributes.popper,{"data-popper-placement":we.placement})},data:{}}},1971:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ie});var j=B(5211),ee={passive:!0};const ie={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function se(ne){var re=ne.state,ue=ne.instance,ge=ne.options,Ce=ge.scroll,Ne=void 0===Ce||Ce,st=ge.resize,ot=void 0===st||st,tt=(0,j.Z)(re.elements.popper),Be=[].concat(re.scrollParents.reference,re.scrollParents.popper);return Ne&&Be.forEach(function(we){we.addEventListener("scroll",ue.update,ee)}),ot&&tt.addEventListener("resize",ue.update,ee),function(){Ne&&Be.forEach(function(we){we.removeEventListener("scroll",ue.update,ee)}),ot&&tt.removeEventListener("resize",ue.update,ee)}},data:{}}},1363:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ot});var j={left:"right",right:"left",bottom:"top",top:"bottom"};function ee(tt){return tt.replace(/left|right|bottom|top/g,function(Be){return j[Be]})}var se=B(8978),ie={start:"end",end:"start"};function ne(tt){return tt.replace(/start|end/g,function(Be){return ie[Be]})}var re=B(1785),ue=B(1786),ge=B(910);const ot={name:"flip",enabled:!0,phase:"main",fn:function st(tt){var Be=tt.state,we=tt.options,et=tt.name;if(!Be.modifiersData[et]._skip){for(var xt=we.mainAxis,xe=void 0===xt||xt,at=we.altAxis,ut=void 0===at||at,yt=we.fallbackPlacements,Ht=we.padding,At=we.boundary,Ot=we.rootBoundary,on=we.altBoundary,wn=we.flipVariations,ht=void 0===wn||wn,_t=we.allowedAutoPlacements,He=Be.options.placement,Te=(0,se.Z)(He),Mt=yt||(Te!==He&&ht?function Ne(tt){if((0,se.Z)(tt)===ge.d7)return[];var Be=ee(tt);return[ne(tt),Be,ne(Be)]}(He):[ee(He)]),it=[He].concat(Mt).reduce(function(ts,Jn){return ts.concat((0,se.Z)(Jn)===ge.d7?function Ce(tt,Be){void 0===Be&&(Be={});var xt=Be.boundary,xe=Be.rootBoundary,at=Be.padding,ut=Be.flipVariations,yt=Be.allowedAutoPlacements,Ht=void 0===yt?ge.Ct:yt,At=(0,ue.Z)(Be.placement),Ot=At?ut?ge.bw:ge.bw.filter(function(ht){return(0,ue.Z)(ht)===At}):ge.mv,on=Ot.filter(function(ht){return Ht.indexOf(ht)>=0});0===on.length&&(on=Ot);var wn=on.reduce(function(ht,_t){return ht[_t]=(0,re.Z)(tt,{placement:_t,boundary:xt,rootBoundary:xe,padding:at})[(0,se.Z)(_t)],ht},{});return Object.keys(wn).sort(function(ht,_t){return wn[ht]-wn[_t]})}(Be,{placement:Jn,boundary:At,rootBoundary:Ot,padding:Ht,flipVariations:ht,allowedAutoPlacements:_t}):Jn)},[]),Xt=Be.rects.reference,Fe=Be.rects.popper,hn=new Map,Qn=!0,Ue=it[0],ki=0;ki<it.length;ki++){var Pi=it[ki],fn=(0,se.Z)(Pi),In=(0,ue.Z)(Pi)===ge.BL,fr=[ge.we,ge.I].indexOf(fn)>=0,vt=fr?"width":"height",ir=(0,re.Z)(Be,{placement:Pi,boundary:At,rootBoundary:Ot,altBoundary:on,padding:Ht}),Ii=fr?In?ge.F2:ge.t$:In?ge.I:ge.we;Xt[vt]>Fe[vt]&&(Ii=ee(Ii));var Vi=ee(Ii),Or=[];if(xe&&Or.push(ir[fn]<=0),ut&&Or.push(ir[Ii]<=0,ir[Vi]<=0),Or.every(function(ts){return ts})){Ue=Pi,Qn=!1;break}hn.set(Pi,Or)}if(Qn)for(var Jr=function(Jn){var Fs=it.find(function(mo){var va=hn.get(mo);if(va)return va.slice(0,Jn).every(function(ya){return ya})});if(Fs)return Ue=Fs,"break"},es=ht?3:1;es>0&&"break"!==Jr(es);es--);Be.placement!==Ue&&(Be.modifiersData[et]._skip=!0,Be.placement=Ue,Be.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}},112:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>re});var j=B(910),ee=B(1785);function se(ue,ge,Ce){return void 0===Ce&&(Ce={x:0,y:0}),{top:ue.top-ge.height-Ce.y,right:ue.right-ge.width+Ce.x,bottom:ue.bottom-ge.height+Ce.y,left:ue.left-ge.width-Ce.x}}function ie(ue){return[j.we,j.F2,j.I,j.t$].some(function(ge){return ue[ge]>=0})}const re={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function ne(ue){var ge=ue.state,Ce=ue.name,Ne=ge.rects.reference,st=ge.rects.popper,ot=ge.modifiersData.preventOverflow,tt=(0,ee.Z)(ge,{elementContext:"reference"}),Be=(0,ee.Z)(ge,{altBoundary:!0}),we=se(tt,Ne),et=se(Be,st,ot),xt=ie(we),xe=ie(et);ge.modifiersData[Ce]={referenceClippingOffsets:we,popperEscapeOffsets:et,isReferenceHidden:xt,hasPopperEscaped:xe},ge.attributes.popper=Object.assign({},ge.attributes.popper,{"data-popper-reference-hidden":xt,"data-popper-escaped":xe})}}},3718:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ne});var j=B(8978),ee=B(910);const ne={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function ie(re){var ue=re.state,Ce=re.name,Ne=re.options.offset,st=void 0===Ne?[0,0]:Ne,ot=ee.Ct.reduce(function(et,xt){return et[xt]=function se(re,ue,ge){var Ce=(0,j.Z)(re),Ne=[ee.t$,ee.we].indexOf(Ce)>=0?-1:1,st="function"==typeof ge?ge(Object.assign({},ue,{placement:re})):ge,ot=st[0],tt=st[1];return ot=ot||0,tt=(tt||0)*Ne,[ee.t$,ee.F2].indexOf(Ce)>=0?{x:tt,y:ot}:{x:ot,y:tt}}(xt,ue.rects,st),et},{}),tt=ot[ue.placement],we=tt.y;null!=ue.modifiersData.popperOffsets&&(ue.modifiersData.popperOffsets.x+=tt.x,ue.modifiersData.popperOffsets.y+=we),ue.modifiersData[Ce]=ot}}},9696:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>se});var j=B(2551);const se={name:"popperOffsets",enabled:!0,phase:"read",fn:function ee(ie){var ne=ie.state;ne.modifiersData[ie.name]=(0,j.Z)({reference:ne.rects.reference,element:ne.rects.popper,strategy:"absolute",placement:ne.placement})},data:{}}},9429:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>tt});var j=B(910),ee=B(8978),se=B(3218),ne=B(7327),re=B(4436),ue=B(4826),ge=B(1785),Ce=B(1786),Ne=B(613),st=B(373);const tt={name:"preventOverflow",enabled:!0,phase:"main",fn:function ot(Be){var we=Be.state,et=Be.options,xt=Be.name,xe=et.mainAxis,at=void 0===xe||xe,ut=et.altAxis,yt=void 0!==ut&&ut,wn=et.tether,ht=void 0===wn||wn,_t=et.tetherOffset,He=void 0===_t?0:_t,Te=(0,ge.Z)(we,{boundary:et.boundary,rootBoundary:et.rootBoundary,padding:et.padding,altBoundary:et.altBoundary}),ft=(0,ee.Z)(we.placement),Mt=(0,Ce.Z)(we.placement),it=!Mt,Xt=(0,se.Z)(ft),Fe=function ie(Be){return"x"===Be?"y":"x"}(Xt),hn=we.modifiersData.popperOffsets,Qn=we.rects.reference,Ue=we.rects.popper,ki="function"==typeof He?He(Object.assign({},we.rects,{placement:we.placement})):He,Pi="number"==typeof ki?{mainAxis:ki,altAxis:ki}:Object.assign({mainAxis:0,altAxis:0},ki),fn=we.modifiersData.offset?we.modifiersData.offset[we.placement]:null,In={x:0,y:0};if(hn){if(at){var fr,vt="y"===Xt?j.we:j.t$,ir="y"===Xt?j.I:j.F2,Ii="y"===Xt?"height":"width",Vi=hn[Xt],Or=Vi+Te[vt],pr=Vi-Te[ir],Jr=ht?-Ue[Ii]/2:0,es=Mt===j.BL?Qn[Ii]:Ue[Ii],fs=Mt===j.BL?-Ue[Ii]:-Qn[Ii],ts=we.elements.arrow,Jn=ht&&ts?(0,re.Z)(ts):{width:0,height:0},Fs=we.modifiersData["arrow#persistent"]?we.modifiersData["arrow#persistent"].padding:(0,Ne.Z)(),mo=Fs[vt],va=Fs[ir],ya=(0,ne.u)(0,Qn[Ii],Jn[Ii]),Lv=it?Qn[Ii]/2-Jr-ya-mo-Pi.mainAxis:es-ya-mo-Pi.mainAxis,Nv=it?-Qn[Ii]/2+Jr+ya+va+Pi.mainAxis:fs+ya+va+Pi.mainAxis,io=we.elements.arrow&&(0,ue.Z)(we.elements.arrow),qt=null!=(fr=fn?.[Xt])?fr:0,Bv=Vi+Nv-qt,Mh=(0,ne.u)(ht?(0,st.VV)(Or,Vi+Lv-qt-(io?"y"===Xt?io.clientTop||0:io.clientLeft||0:0)):Or,Vi,ht?(0,st.Fp)(pr,Bv):pr);hn[Xt]=Mh,In[Xt]=Mh-Vi}if(yt){var Vp,_a=hn[Fe],Nc="y"===Fe?"height":"width",Xa=_a+Te["x"===Xt?j.we:j.t$],Bc=_a-Te["x"===Xt?j.I:j.F2],Vc=-1!==[j.we,j.t$].indexOf(ft),Qa=null!=(Vp=fn?.[Fe])?Vp:0,Ls=Vc?Xa:_a-Qn[Nc]-Ue[Nc]-Qa+Pi.altAxis,ba=Vc?_a+Qn[Nc]+Ue[Nc]-Qa-Pi.altAxis:Bc,Hc=ht&&Vc?(0,ne.q)(Ls,_a,ba):(0,ne.u)(ht?Ls:Xa,_a,ht?ba:Bc);hn[Fe]=Hc,In[Fe]=Hc-_a}we.modifiersData[xt]=In}},requiresIfExists:["offset"]}},8061:(he,ve,B)=>{"use strict";B.d(ve,{fi:()=>ot});var j=B(5668),ee=B(1971),se=B(9696),ie=B(7745),ne=B(9208),re=B(3718),ue=B(1363),ge=B(9429),Ce=B(5443),Ne=B(112),ot=(0,j.kZ)({defaultModifiers:[ee.Z,se.Z,ie.Z,ne.Z,re.Z,ue.Z,ge.Z,Ce.Z,Ne.Z]})},2551:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ne});var j=B(8978),ee=B(1786),se=B(3218),ie=B(910);function ne(re){var Be,ue=re.reference,ge=re.element,Ce=re.placement,Ne=Ce?(0,j.Z)(Ce):null,st=Ce?(0,ee.Z)(Ce):null,ot=ue.x+ue.width/2-ge.width/2,tt=ue.y+ue.height/2-ge.height/2;switch(Ne){case ie.we:Be={x:ot,y:ue.y-ge.height};break;case ie.I:Be={x:ot,y:ue.y+ue.height};break;case ie.F2:Be={x:ue.x+ue.width,y:tt};break;case ie.t$:Be={x:ue.x-ge.width,y:tt};break;default:Be={x:ue.x,y:ue.y}}var we=Ne?(0,se.Z)(Ne):null;if(null!=we){var et="y"===we?"height":"width";switch(st){case ie.BL:Be[we]=Be[we]-(ue[et]/2-ge[et]/2);break;case ie.ut:Be[we]=Be[we]+(ue[et]/2-ge[et]/2)}}return Be}},1785:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>wn});var j=B(910),ee=B(5211),se=B(8863),ie=B(7319),ne=B(4796),ue=B(1422),ge=B(6919),Ce=B(373),st=B(8941),ot=B(4826),tt=B(7577),Be=B(309),we=B(3449),et=B(7852),xt=B(3535);function xe(ht){return Object.assign({},ht,{left:ht.x,top:ht.y,right:ht.x+ht.width,bottom:ht.y+ht.height})}function ut(ht,_t,He){return _t===j.Pj?xe(function re(ht,_t){var He=(0,ee.Z)(ht),Te=(0,se.Z)(ht),ft=He.visualViewport,Mt=Te.clientWidth,it=Te.clientHeight,Xt=0,Fe=0;if(ft){Mt=ft.width,it=ft.height;var hn=(0,ne.Z)();(hn||!hn&&"fixed"===_t)&&(Xt=ft.offsetLeft,Fe=ft.offsetTop)}return{width:Mt,height:it,x:Xt+(0,ie.Z)(ht),y:Fe}}(ht,He)):(0,tt.kK)(_t)?function at(ht,_t){var He=(0,Be.Z)(ht,!1,"fixed"===_t);return He.top=He.top+ht.clientTop,He.left=He.left+ht.clientLeft,He.bottom=He.top+ht.clientHeight,He.right=He.left+ht.clientWidth,He.width=ht.clientWidth,He.height=ht.clientHeight,He.x=He.left,He.y=He.top,He}(_t,He):xe(function Ne(ht){var _t,He=(0,se.Z)(ht),Te=(0,ge.Z)(ht),ft=null==(_t=ht.ownerDocument)?void 0:_t.body,Mt=(0,Ce.Fp)(He.scrollWidth,He.clientWidth,ft?ft.scrollWidth:0,ft?ft.clientWidth:0),it=(0,Ce.Fp)(He.scrollHeight,He.clientHeight,ft?ft.scrollHeight:0,ft?ft.clientHeight:0),Xt=-Te.scrollLeft+(0,ie.Z)(ht),Fe=-Te.scrollTop;return"rtl"===(0,ue.Z)(ft||He).direction&&(Xt+=(0,Ce.Fp)(He.clientWidth,ft?ft.clientWidth:0)-Mt),{width:Mt,height:it,x:Xt,y:Fe}}((0,se.Z)(ht)))}var At=B(2551),Ot=B(3234),on=B(3857);function wn(ht,_t){void 0===_t&&(_t={});var Te=_t.placement,ft=void 0===Te?ht.placement:Te,Mt=_t.strategy,it=void 0===Mt?ht.strategy:Mt,Xt=_t.boundary,Fe=void 0===Xt?j.zV:Xt,hn=_t.rootBoundary,Qn=void 0===hn?j.Pj:hn,Ue=_t.elementContext,ki=void 0===Ue?j.k5:Ue,Pi=_t.altBoundary,fn=void 0!==Pi&&Pi,In=_t.padding,fr=void 0===In?0:In,vt=(0,Ot.Z)("number"!=typeof fr?fr:(0,on.Z)(fr,j.mv)),Ii=ht.rects.popper,Vi=ht.elements[fn?ki===j.k5?j.YP:j.k5:ki],Or=function Ht(ht,_t,He,Te){var ft="clippingParents"===_t?function yt(ht){var _t=(0,st.Z)((0,we.Z)(ht)),Te=["absolute","fixed"].indexOf((0,ue.Z)(ht).position)>=0&&(0,tt.Re)(ht)?(0,ot.Z)(ht):ht;return(0,tt.kK)(Te)?_t.filter(function(ft){return(0,tt.kK)(ft)&&(0,et.Z)(ft,Te)&&"body"!==(0,xt.Z)(ft)}):[]}(ht):[].concat(_t),Mt=[].concat(ft,[He]),Xt=Mt.reduce(function(Fe,hn){var Qn=ut(ht,hn,Te);return Fe.top=(0,Ce.Fp)(Qn.top,Fe.top),Fe.right=(0,Ce.VV)(Qn.right,Fe.right),Fe.bottom=(0,Ce.VV)(Qn.bottom,Fe.bottom),Fe.left=(0,Ce.Fp)(Qn.left,Fe.left),Fe},ut(ht,Mt[0],Te));return Xt.width=Xt.right-Xt.left,Xt.height=Xt.bottom-Xt.top,Xt.x=Xt.left,Xt.y=Xt.top,Xt}((0,tt.kK)(Vi)?Vi:Vi.contextElement||(0,se.Z)(ht.elements.popper),Fe,Qn,it),pr=(0,Be.Z)(ht.elements.reference),Jr=(0,At.Z)({reference:pr,element:Ii,strategy:"absolute",placement:ft}),es=xe(Object.assign({},Ii,Jr)),fs=ki===j.k5?es:pr,ts={top:Or.top-fs.top+vt.top,bottom:fs.bottom-Or.bottom+vt.bottom,left:Or.left-fs.left+vt.left,right:fs.right-Or.right+vt.right},Jn=ht.modifiersData.offset;if(ki===j.k5&&Jn){var Fs=Jn[ft];Object.keys(ts).forEach(function(mo){var va=[j.F2,j.I].indexOf(mo)>=0?1:-1,ya=[j.we,j.I].indexOf(mo)>=0?"y":"x";ts[mo]+=Fs[ya]*va})}return ts}},3857:(he,ve,B)=>{"use strict";function j(ee,se){return se.reduce(function(ie,ne){return ie[ne]=ee,ie},{})}B.d(ve,{Z:()=>j})},8978:(he,ve,B)=>{"use strict";function j(ee){return ee.split("-")[0]}B.d(ve,{Z:()=>j})},613:(he,ve,B)=>{"use strict";function j(){return{top:0,right:0,bottom:0,left:0}}B.d(ve,{Z:()=>j})},3218:(he,ve,B)=>{"use strict";function j(ee){return["top","bottom"].indexOf(ee)>=0?"x":"y"}B.d(ve,{Z:()=>j})},1786:(he,ve,B)=>{"use strict";function j(ee){return ee.split("-")[1]}B.d(ve,{Z:()=>j})},373:(he,ve,B)=>{"use strict";B.d(ve,{Fp:()=>j,NM:()=>se,VV:()=>ee});var j=Math.max,ee=Math.min,se=Math.round},3234:(he,ve,B)=>{"use strict";B.d(ve,{Z:()=>ee});var j=B(613);function ee(se){return Object.assign({},(0,j.Z)(),se)}},549:(he,ve,B)=>{"use strict";function j(){var ee=navigator.userAgentData;return null!=ee&&ee.brands?ee.brands.map(function(se){return se.brand+"/"+se.version}).join(" "):navigator.userAgent}B.d(ve,{Z:()=>j})},7327:(he,ve,B)=>{"use strict";B.d(ve,{q:()=>se,u:()=>ee});var j=B(373);function ee(ie,ne,re){return(0,j.Fp)(ie,(0,j.VV)(ne,re))}function se(ie,ne,re){var ue=ee(ie,ne,re);return ue>re?re:ue}},3811:function(he,ve,B){var j;he.exports=(j=B(2833),function(ee){var se={};function ie(ne){if(se[ne])return se[ne].exports;var re=se[ne]={i:ne,l:!1,exports:{}};return ee[ne].call(re.exports,re,re.exports,ie),re.l=!0,re.exports}return ie.m=ee,ie.c=se,ie.i=function(ne){return ne},ie.d=function(ne,re,ue){ie.o(ne,re)||Object.defineProperty(ne,re,{configurable:!1,enumerable:!0,get:ue})},ie.n=function(ne){var re=ne&&ne.__esModule?function(){return ne.default}:function(){return ne};return ie.d(re,"a",re),re},ie.o=function(ne,re){return Object.prototype.hasOwnProperty.call(ne,re)},ie.p="",ie(ie.s=7)}([function(ee,se,ie){"use strict";ee.exports=null!=Object.assign?Object.assign.bind(Object):function(ne){for(var re=arguments.length,ue=Array(re>1?re-1:0),ge=1;ge<re;ge++)ue[ge-1]=arguments[ge];return ue.forEach(function(Ce){null!=Ce&&Object.keys(Ce).forEach(function(Ne){return ne[Ne]=Ce[Ne]})}),ne}},function(ee,se,ie){"use strict";var re=ie(5).getBoundingBox;ee.exports={getRef:function ue(ge,Ce){return{getBoundingClientRect:function(){return re(ge,Ce)}}}}},function(ee,se,ie){"use strict";var ne=ie(0),ue=ie(1).getRef,Ce=ie(6).getContent,Ne={},ot=ie(8).createPopper;ee.exports={getPopper:function tt(Be,we){var et=ue(Be,we),xt=Ce(Be,we.content),xe=ne({},Ne,we.popper);return ot(et,xt,xe)}}},function(ee,se,ie){"use strict";var ne=ie(0),ue=ie(2).getPopper,Ce=ie(1).getRef;function ot(et,xt){var xe=function(Ot){return Ot.isNode()?{w:Ot.renderedWidth(),h:Ot.renderedHeight()}:{w:3,h:3}},yt=et.cy();return ne({},{renderedDimensions:xe,renderedPosition:function(Ot){return Ot.isNode()?function tt(et,xt){var xe=et.renderedPosition(),at=xt(et);return{x:xe.x-at.w/2,y:xe.y-at.h/2}}(Ot,xe):function Be(et){var xt=et.midpoint(),xe=et.cy().pan(),at=et.cy().zoom();return{x:xt.x*at+xe.x,y:xt.y*at+xe.y}}(Ot)},popper:{},cy:yt},xt)}function we(et){et.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}ee.exports={popper:function Ne(et){return we(this),ue(this[0],ot(this[0],et))},popperRef:function st(et){return we(this),Ce(this[0],ot(this[0],et))}}},function(ee,se,ie){"use strict";var ne=ie(0),ue=ie(2).getPopper,Ce=ie(1).getRef;function ot(tt,Be){return ne({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},renderedPosition:function(){return{x:0,y:0}},popper:{},cy:tt},Be)}ee.exports={popper:function Ne(tt){return ue(this,ot(this,tt))},popperRef:function st(tt){return Ce(this,ot(this,tt))}}},function(ee,se,ie){"use strict";ee.exports={getBoundingBox:function ne(re,ue){var ge=ue.renderedPosition,Ne=ue.renderedDimensions,st=ue.cy.container().getBoundingClientRect(),ot=Ne(re),tt=ge(re);return{top:tt.y+st.top,left:tt.x+st.left,right:tt.x+ot.w+st.left,bottom:tt.y+ot.h+st.top,width:ot.w,height:ot.h}}}},function(ee,se,ie){"use strict";ee.exports={getContent:function ne(re,ue){var ge;if("function"!=typeof ue){if(ue instanceof HTMLElement)return ue;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(ge=ue(re)))throw new Error("No 'target' specified to create popper");return ge}}},function(ee,se,ie){"use strict";var ne=ie(4),re=ie(3),ue=function(Ce){!Ce||(Ce("core","popper",ne.popper),Ce("collection","popper",re.popper),Ce("core","popperRef",ne.popperRef),Ce("collection","popperRef",re.popperRef))};typeof cytoscape<"u"&&ue(cytoscape),ee.exports=ue},function(ee,se){ee.exports=j}]))},6864:(he,ve,B)=>{"use strict";var j=B(406),ee=B(5203),se=B(8817),ie=B(4793),ne=B(4152);function re(c){return c&&"object"==typeof c&&"default"in c?c:{default:c}}var ue=re(j),ge=re(ee),Ce=re(se),Ne=re(ie),st=re(ne);function ot(c){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(c)}function tt(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}function Be(c,o){for(var u=0;u<o.length;u++){var d=o[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function we(c,o,u){return o&&Be(c.prototype,o),u&&Be(c,u),Object.defineProperty(c,"prototype",{writable:!1}),c}function et(c,o,u){return o in c?Object.defineProperty(c,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[o]=u,c}function xt(c,o){return function xe(c){if(Array.isArray(c))return c}(c)||function at(c,o){var u=null==c?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(null!=u){var g,y,d=[],f=!0,p=!1;try{for(u=u.call(c);!(f=(g=u.next()).done)&&(d.push(g.value),!o||d.length!==o);f=!0);}catch(b){p=!0,y=b}finally{try{!f&&null!=u.return&&u.return()}finally{if(p)throw y}}return d}}(c,o)||function ut(c,o){if(c){if("string"==typeof c)return yt(c,o);var u=Object.prototype.toString.call(c).slice(8,-1);if("Object"===u&&c.constructor&&(u=c.constructor.name),"Map"===u||"Set"===u)return Array.from(c);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return yt(c,o)}}(c,o)||function Ht(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(c,o){(null==o||o>c.length)&&(o=c.length);for(var u=0,d=new Array(o);u<o;u++)d[u]=c[u];return d}var At=typeof window>"u"?null:window,Ot=At?At.navigator:null,on=ot(""),wn=ot({}),ht=ot(function(){}),_t=typeof HTMLElement>"u"?"undefined":ot(HTMLElement),He=function(o){return o&&o.instanceString&&ft(o.instanceString)?o.instanceString():null},Te=function(o){return null!=o&&ot(o)==on},ft=function(o){return null!=o&&ot(o)===ht},Mt=function(o){return!Ue(o)&&(Array.isArray?Array.isArray(o):null!=o&&o instanceof Array)},it=function(o){return null!=o&&ot(o)===wn&&!Mt(o)&&o.constructor===Object},Fe=function(o){return null!=o&&ot(o)===ot(1)&&!isNaN(o)},Qn=function(o){if("undefined"!==_t)return null!=o&&o instanceof HTMLElement},Ue=function(o){return ki(o)||Pi(o)},ki=function(o){return"collection"===He(o)&&o._private.single},Pi=function(o){return"collection"===He(o)&&!o._private.single},fn=function(o){return"core"===He(o)},In=function(o){return"stylesheet"===He(o)},vt=function(o){return null==o||!(""!==o&&!o.match(/^\s+$/))},Vi=function(o){return function(o){return null!=o&&ot(o)===wn}(o)&&ft(o.then)},pr=function(o,u){u||(u=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var p=[],g=0;g<arguments.length;g++)p.push(arguments[g]);return p.join("$")});var d=function f(){var y,p=this,g=arguments,b=u.apply(p,g),_=f.cache;return(y=_[b])||(y=_[b]=o.apply(p,g)),y};return d.cache={},d},Jr=pr(function(c){return c.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}),es=pr(function(c){return c.replace(/(-\w)/g,function(o){return o[1].toUpperCase()})}),fs=pr(function(c,o){return c+o[0].toUpperCase()+o.substring(1)},function(c,o){return c+"$"+o}),ts=function(o){return vt(o)?o:o.charAt(0).toUpperCase()+o.substring(1)},Jn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",io=function(o,u){return o<u?-1:o>u?1:0},qt=null!=Object.assign?Object.assign.bind(Object):function(c){for(var o=arguments,u=1;u<o.length;u++){var d=o[u];if(null!=d)for(var f=Object.keys(d),p=0;p<f.length;p++){var g=f[p];c[g]=d[g]}}return c},Hv={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},_a=function(o){for(var u=o.map,d=o.keys,f=d.length,p=0;p<f;p++){var g=d[p];if(it(g))throw Error("Tried to set map with object key");p<d.length-1?(null==u[g]&&(u[g]={}),u=u[g]):u[g]=o.value}},Nc=function(o){for(var u=o.map,d=o.keys,f=d.length,p=0;p<f;p++){var g=d[p];if(it(g))throw Error("Tried to get map with object key");if(null==(u=u[g]))return u}return u},Xa=At?At.performance:null,Bc=Xa&&Xa.now?function(){return Xa.now()}:function(){return Date.now()},Vc=function(){if(At){if(At.requestAnimationFrame)return function(c){At.requestAnimationFrame(c)};if(At.mozRequestAnimationFrame)return function(c){At.mozRequestAnimationFrame(c)};if(At.webkitRequestAnimationFrame)return function(c){At.webkitRequestAnimationFrame(c)};if(At.msRequestAnimationFrame)return function(c){At.msRequestAnimationFrame(c)}}return function(c){c&&setTimeout(function(){c(Bc())},1e3/60)}}(),Qa=function(o){return Vc(o)},Ls=Bc,ba=9261,Hc=65599,zc=5381,Hp=function(o){for(var f,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba,d=u;!(f=o.next()).done;)d=d*Hc+f.value|0;return d},$c=function(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba;return u*Hc+o|0},xr=function(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zc;return(u<<5)+u+o|0},Ja=function(o){return 2097152*o[0]+o[1]},Th=function(o,u){return[$c(o[0],u[0]),xr(o[1],u[1])]},el=function(o,u){var d={value:0,done:!1},f=0,p=o.length;return Hp({next:function(){return f<p?d.value=o.charCodeAt(f++):d.done=!0,d}},u)},zv=function(){return Jw(arguments)},Jw=function(o){for(var u,d=0;d<o.length;d++){var f=o[d];u=0===d?el(f):el(f,u)}return u},Ho=!0,eC=null!=console.warn,Pr=null!=console.trace,tl=Number.MAX_SAFE_INTEGER||9007199254740991,Ns=function(){return!0},zp=function(){return!1},$v=function(){return 0},Ah=function(){},Fi=function(o){throw new Error(o)},kh=function(o){if(void 0===o)return Ho;Ho=!!o},ei=function(o){!kh()||(eC?console.warn(o):(console.log(o),Pr&&console.trace()))},vo=function(o){return null==o?o:Mt(o)?o.slice():it(o)?function(o){return qt({},o)}(o):o},Uv=function(o,u){for(u=o="";o++<36;u+=51*o&52?(15^o?8^Math.random()*(20^o?16:4):4).toString(16):"-");return u},nC={},Gv=function(){return nC},Ur=function(o){var u=Object.keys(o);return function(d){for(var f={},p=0;p<u.length;p++){var g=u[p],y=d?.[g];f[g]=void 0===y?o[g]:y}return f}},wa=function(o,u,d){for(var f=o.length-1;f>=0&&(o[f]!==u||(o.splice(f,1),!d));f--);},$p=function(o){o.splice(0,o.length)},ui=function(o,u,d){return d&&(u=fs(d,u)),o[u]},rr=function(o,u,d,f){d&&(u=fs(d,u)),o[u]=f},ro=typeof Map<"u"?Map:function(){function c(){tt(this,c),this._obj={}}return we(c,[{key:"set",value:function(u,d){return this._obj[u]=d,this}},{key:"delete",value:function(u){return this._obj[u]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(u){return void 0!==this._obj[u]}},{key:"get",value:function(u){return this._obj[u]}}]),c}(),jp=function(){function c(o){if(tt(this,c),this._obj=Object.create(null),this.size=0,null!=o){var u;u=null!=o.instanceString&&o.instanceString()===this.instanceString()?o.toArray():o;for(var d=0;d<u.length;d++)this.add(u[d])}}return we(c,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(u){var d=this._obj;1!==d[u]&&(d[u]=1,this.size++)}},{key:"delete",value:function(u){var d=this._obj;1===d[u]&&(d[u]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(u){return 1===this._obj[u]}},{key:"toArray",value:function(){var u=this;return Object.keys(this._obj).filter(function(d){return u.has(d)})}},{key:"forEach",value:function(u,d){return this.toArray().forEach(u,d)}}]),c}(),oi="undefined"!==(typeof Set>"u"?"undefined":ot(Set))?Set:jp,jc=function(o,u){var d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==o&&void 0!==u&&fn(o)){var f=u.group;if(null==f&&(f=u.data&&null!=u.data.source&&null!=u.data.target?"edges":"nodes"),"nodes"===f||"edges"===f){this.length=1,this[0]=this;var p=this._private={cy:o,single:!0,data:u.data||{},position:u.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:f,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!u.selected,selectable:void 0===u.selectable||!!u.selectable,locked:!!u.locked,grabbed:!1,grabbable:void 0===u.grabbable||!!u.grabbable,pannable:void 0===u.pannable?"edges"===f:!!u.pannable,active:!1,classes:new oi,animation:{current:[],queue:[]},rscratch:{},scratch:u.scratch||{},edges:[],children:[],parent:u.parent&&u.parent.isNode()?u.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==p.position.x&&(p.position.x=0),null==p.position.y&&(p.position.y=0),u.renderedPosition){var g=u.renderedPosition,y=o.pan(),b=o.zoom();p.position={x:(g.x-y.x)/b,y:(g.y-y.y)/b}}var _=[];Mt(u.classes)?_=u.classes:Te(u.classes)&&(_=u.classes.split(/\s+/));for(var w=0,x=_.length;w<x;w++){var E=_[w];!E||""===E||p.classes.add(E)}this.createEmitter();var S=u.style||u.css;S&&(ei("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(S)),(void 0===d||d)&&this.restore()}else Fi("An element must be of type `nodes` or `edges`; you specified `"+f+"`")}else Fi("An element must have a core reference and parameters set")},qv=function(o){return o={bfs:o.bfs||!o.dfs,dfs:o.dfs||!o.bfs},function(d,f,p){var g;it(d)&&!Ue(d)&&(d=(g=d).roots||g.root,f=g.visit,p=g.directed),p=2!==arguments.length||ft(f)?p:f,f=ft(f)?f:function(){};for(var A,y=this._private.cy,b=d=Te(d)?this.filter(d):d,_=[],w=[],x={},E={},S={},M=0,I=this.byGroup(),R=I.nodes,F=I.edges,L=0;L<b.length;L++){var z=b[L],K=z.id();z.isNode()&&(_.unshift(z),o.bfs&&(S[K]=!0,w.push(z)),E[K]=0)}for(var Z=function(){var oe=o.bfs?_.shift():_.pop(),Q=oe.id();if(o.dfs){if(S[Q])return"continue";S[Q]=!0,w.push(oe)}var Oe,me=E[Q],ae=x[Q],ce=null!=ae?ae.source():null,be=null!=ae?ae.target():null,Se=null==ae?void 0:oe.same(ce)?be[0]:ce[0];if(!0===(Oe=f(oe,ae,Se,M++,me)))return A=oe,"break";if(!1===Oe)return"break";for(var De=oe.connectedEdges().filter(function(Re){return(!p||Re.source().same(oe))&&F.has(Re)}),Ie=0;Ie<De.length;Ie++){var We=De[Ie],Ye=We.connectedNodes().filter(function(Re){return!Re.same(oe)&&R.has(Re)}),Ge=Ye.id();0!==Ye.length&&!S[Ge]&&(_.push(Ye=Ye[0]),o.bfs&&(S[Ge]=!0,w.push(Ye)),x[Ge]=We,E[Ge]=E[Q]+1)}};0!==_.length;){var H=Z();if("continue"!==H&&"break"===H)break}for(var Y=y.collection(),U=0;U<w.length;U++){var X=w[U],J=x[X.id()];null!=J&&Y.push(J),Y.push(X)}return{path:y.collection(Y),found:y.collection(A)}}},ai={breadthFirstSearch:qv({bfs:!0}),depthFirstSearch:qv({dfs:!0})};ai.bfs=ai.breadthFirstSearch,ai.dfs=ai.depthFirstSearch;var an=Ur({root:null,weight:function(o){return 1},directed:!1}),Up={dijkstra:function(o){if(!it(o)){var u=arguments;o={root:u[0],weight:u[1],directed:u[2]}}var d=an(o),f=d.root,p=d.weight,g=d.directed,y=this,b=p,_=Te(f)?this.filter(f)[0]:f[0],w={},x={},E={},S=this.byGroup(),M=S.nodes,A=S.edges;A.unmergeBy(function(me){return me.isLoop()});for(var I=function(ae){return w[ae.id()]},R=function(ae,ce){w[ae.id()]=ce,F.updateItem(ae)},F=new ge.default(function(me,ae){return I(me)-I(ae)}),L=0;L<M.length;L++){var z=M[L];w[z.id()]=z.same(_)?0:1/0,F.push(z)}for(var K=function(ae,ce){for(var Oe,be=(g?ae.edgesTo(ce):ae.edgesWith(ce)).intersect(A),Se=1/0,De=0;De<be.length;De++){var Ie=be[De],We=b(Ie);(We<Se||!Oe)&&(Se=We,Oe=Ie)}return{edge:Oe,dist:Se}};F.size()>0;){var Z=F.pop(),H=I(Z),Y=Z.id();if(E[Y]=H,H!==1/0)for(var U=Z.neighborhood().intersect(M),X=0;X<U.length;X++){var J=U[X],W=J.id(),oe=K(Z,J),Q=H+oe.dist;Q<I(J)&&(R(J,Q),x[W]={node:Z,edge:oe.edge})}}return{distanceTo:function(ae){var ce=Te(ae)?M.filter(ae)[0]:ae[0];return E[ce.id()]},pathTo:function(ae){var ce=Te(ae)?M.filter(ae)[0]:ae[0],be=[],Se=ce,Oe=Se.id();if(ce.length>0)for(be.unshift(ce);x[Oe];){var De=x[Oe];be.unshift(De.edge),be.unshift(De.node),Oe=(Se=De.node).id()}return y.spawn(be)}}}},YT={kruskal:function(o){o=o||function(L){return 1};for(var u=this.byGroup(),d=u.nodes,f=u.edges,p=d.length,g=new Array(p),y=d,b=function(z){for(var K=0;K<g.length;K++)if(g[K].has(z))return K},_=0;_<p;_++)g[_]=this.spawn(d[_]);for(var w=f.sort(function(L,z){return o(L)-o(z)}),x=0;x<w.length;x++){var E=w[x],S=E.source()[0],M=E.target()[0],A=b(S),I=b(M),R=g[A],F=g[I];A!==I&&(y.merge(E),R.merge(F),g.splice(I,1))}return y}},Ke=Ur({root:null,goal:null,weight:function(o){return 1},heuristic:function(o){return 0},directed:!1}),Ih={aStar:function(o){var u=this.cy(),d=Ke(o),f=d.root,p=d.goal,g=d.heuristic,y=d.directed,b=d.weight;f=u.collection(f)[0],p=u.collection(p)[0];var L,z,_=f.id(),w=p.id(),x={},E={},S={},M=new ge.default(function(Oe,De){return E[Oe.id()]-E[De.id()]}),A=new oi,I={},R={},F=function(De,Ie){M.push(De),A.add(Ie)};F(f,_),x[_]=0,E[_]=g(f);for(var H=0;M.size()>0;){if(z=(L=M.pop()).id(),A.delete(z),H++,z===w){for(var Y=[],U=p,X=w,J=R[X];Y.unshift(U),null!=J&&Y.unshift(J),null!=(U=I[X]);)J=R[X=U.id()];return{found:!0,distance:x[z],path:this.spawn(Y),steps:H}}S[z]=!0;for(var W=L._private.edges,oe=0;oe<W.length;oe++){var Q=W[oe];if(this.hasElementWithId(Q.id())&&(!y||Q.data("source")===z)){var me=Q.source(),ae=Q.target(),ce=me.id()!==z?me:ae,be=ce.id();if(this.hasElementWithId(be)&&!S[be]){var Se=x[z]+b(Q);if(!A.has(be)){x[be]=Se,E[be]=Se+g(ce),F(ce,be),I[be]=L,R[be]=Q;continue}Se<x[be]&&(x[be]=Se,E[be]=Se+g(ce),I[be]=L,R[be]=Q)}}}}return{found:!1,distance:void 0,path:void 0,steps:H}}},mn=Ur({weight:function(o){return 1},directed:!1}),di={floydWarshall:function(o){for(var u=this.cy(),d=mn(o),p=d.directed,g=d.weight,y=this.byGroup(),b=y.nodes,_=y.edges,w=b.length,x=w*w,E=function(We){return b.indexOf(We)},S=function(We){return b[We]},M=new Array(x),A=0;A<x;A++){var I=A%w;M[A]=(A-I)/w===I?0:1/0}for(var F=new Array(x),L=new Array(x),z=0;z<_.length;z++){var K=_[z],Z=K.source()[0],H=K.target()[0];if(Z!==H){var Y=E(Z),U=E(H),X=Y*w+U,J=g(K);if(M[X]>J&&(M[X]=J,F[X]=U,L[X]=K),!p){var W=U*w+Y;!p&&M[W]>J&&(M[W]=J,F[W]=Y,L[W]=K)}}}for(var oe=0;oe<w;oe++)for(var Q=0;Q<w;Q++)for(var me=Q*w+oe,ae=0;ae<w;ae++){var ce=Q*w+ae,be=oe*w+ae;M[me]+M[be]<M[ce]&&(M[ce]=M[me]+M[be],F[ce]=F[me])}var Oe=function(We){return E(function(We){return(Te(We)?u.filter(We):We)[0]}(We))};return{distance:function(We,Ye){var Ge=Oe(We),Re=Oe(Ye);return M[Ge*w+Re]},path:function(We,Ye){var Ge=Oe(We),Re=Oe(Ye),ye=S(Ge);if(Ge===Re)return ye.collection();if(null==F[Ge*w+Re])return u.collection();var qe=u.collection();for(qe.merge(ye);Ge!==Re;)qe.merge(L[Ge*w+(Ge=F[Ge*w+Re])]),qe.merge(S(Ge));return qe}}}},rC=Ur({weight:function(o){return 1},directed:!1,root:null}),ZT={bellmanFord:function(o){var u=this,d=rC(o),p=d.directed,g=d.root,y=d.weight,b=this,_=this.cy(),w=this.byGroup(),x=w.edges,E=w.nodes,S=E.length,M=new ro,A=!1,I=[];g=_.collection(g)[0],x.unmergeBy(function(Ft){return Ft.isLoop()});for(var R=x.length,F=function(Dt){var Vt=M.get(Dt.id());return Vt||(Vt={},M.set(Dt.id(),Vt)),Vt},L=function(Dt){return(Te(Dt)?_.$(Dt):Dt)[0]},Z=0;Z<S;Z++){var H=E[Z],Y=F(H);Y.dist=H.same(g)?0:1/0,Y.pred=null,Y.edge=null}for(var U=!1,X=function(Dt,Vt,jn,xn,en,lt){var G=xn.dist+lt;G<en.dist&&!jn.same(xn.edge)&&(en.dist=G,en.pred=Dt,en.edge=jn,U=!0)},J=1;J<S;J++){U=!1;for(var W=0;W<R;W++){var oe=x[W],Q=oe.source(),me=oe.target(),ae=y(oe),ce=F(Q),be=F(me);X(Q,0,oe,ce,be,ae),p||X(me,0,oe,be,ce,ae)}if(!U)break}if(U)for(var Se=[],Oe=0;Oe<R;Oe++){var De=x[Oe],Ie=De.source(),We=De.target(),Ye=y(De),Ge=F(Ie).dist,Re=F(We).dist;if(Ge+Ye<Re||!p&&Re+Ye<Ge){if(A||(ei("Graph contains a negative weight cycle for Bellman-Ford"),A=!0),!1===o.findNegativeWeightCycles)break;var ye=[];Ge+Ye<Re&&ye.push(Ie),!p&&Re+Ye<Ge&&ye.push(We);for(var qe=ye.length,Je=0;Je<qe;Je++){var nt=ye[Je],gt=[nt];gt.push(F(nt).edge);for(var nn=F(nt).pred;-1===gt.indexOf(nn);)gt.push(nn),gt.push(F(nn).edge),nn=F(nn).pred;for(var vn=(gt=gt.slice(gt.indexOf(nn)))[0].id(),wt=0,mt=2;mt<gt.length;mt+=2)gt[mt].id()<vn&&(vn=gt[mt].id(),wt=mt);(gt=gt.slice(wt).concat(gt.slice(0,wt))).push(gt[0]);var Ut=gt.map(function(Ft){return Ft.id()}).join(",");-1===Se.indexOf(Ut)&&(I.push(b.spawn(gt)),Se.push(Ut))}}}return{distanceTo:function(Dt){return F(L(Dt)).dist},pathTo:function(Dt){for(var Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,jn=L(Dt),xn=[],en=jn;;){if(null==en)return u.spawn();var lt=F(en),G=lt.edge,Me=lt.pred;if(xn.unshift(en[0]),en.same(Vt)&&xn.length>0)break;null!=G&&xn.unshift(G),en=Me}return b.spawn(xn)},hasNegativeWeightCycle:A,negativeWeightCycles:I}}},sC=Math.sqrt(2),Rh=function(o,u,d){0===d.length&&Fi("Karger-Stein must be run on a connected (sub)graph");for(var f=d[o],y=u[f[1]],b=u[f[2]],_=d,w=_.length-1;w>=0;w--){var x=_[w],E=x[1],S=x[2];(u[E]===y&&u[S]===b||u[E]===b&&u[S]===y)&&_.splice(w,1)}for(var M=0;M<_.length;M++){var A=_[M];A[1]===b?(_[M]=A.slice(),_[M][1]=y):A[2]===b&&(_[M]=A.slice(),_[M][2]=y)}for(var I=0;I<u.length;I++)u[I]===b&&(u[I]=y);return _},ps=function(o,u,d,f){for(;d>f;){var p=Math.floor(Math.random()*u.length);u=Rh(p,o,u),d--}return u},XT={kargerStein:function(){var o=this,u=this.byGroup(),d=u.nodes,f=u.edges;f.unmergeBy(function(be){return be.isLoop()});var p=d.length,g=f.length,y=Math.ceil(Math.pow(Math.log(p)/Math.LN2,2)),b=Math.floor(p/sC);if(!(p<2)){for(var _=[],w=0;w<g;w++){var x=f[w];_.push([w,d.indexOf(x.source()),d.indexOf(x.target())])}for(var E=1/0,S=[],M=new Array(p),A=new Array(p),I=new Array(p),R=function(Se,Oe){for(var De=0;De<p;De++)Oe[De]=Se[De]},F=0;F<=y;F++){for(var L=0;L<p;L++)A[L]=L;var z=ps(A,_.slice(),p,b),K=z.slice();R(A,I);var Z=ps(A,z,b,2),H=ps(I,K,b,2);Z.length<=H.length&&Z.length<E?(E=Z.length,S=Z,R(A,M)):H.length<=Z.length&&H.length<E&&(E=H.length,S=H,R(I,M))}for(var Y=this.spawn(S.map(function(be){return f[be[0]]})),U=this.spawn(),X=this.spawn(),J=M[0],W=0;W<M.length;W++){var Q=d[W];M[W]===J?U.merge(Q):X.merge(Q)}var me=function(Se){var Oe=o.spawn();return Se.forEach(function(De){Oe.merge(De),De.connectedEdges().forEach(function(Ie){o.contains(Ie)&&!Y.contains(Ie)&&Oe.merge(Ie)})}),Oe},ae=[me(U),me(X)];return{cut:Y,components:ae,partition1:U,partition2:X}}Fi("At least 2 nodes are required for Karger-Stein algorithm")}},Gp=function(o,u,d){return{x:o.x*u+d.x,y:o.y*u+d.y}},zo=function(o,u,d){return{x:(o.x-d.x)/u,y:(o.y-d.y)/u}},Qu=function(o){return{x:o[0],y:o[1]}},Oh=function(o,u){return Math.atan2(u,o)-Math.PI/2},Kv=Math.log2||function(c){return Math.log(c)/Math.log(2)},ws=function(o){return o>0?1:o<0?-1:0},Kn=function(o,u){return Math.sqrt(Uc(o,u))},Uc=function(o,u){var d=u.x-o.x,f=u.y-o.y;return d*d+f*f},nA=function(o){for(var u=o.length,d=0,f=0;f<u;f++)d+=o[f];for(var p=0;p<u;p++)o[p]=o[p]/d;return o},Gr=function(o,u,d,f){return(1-f)*(1-f)*o+2*(1-f)*f*u+f*f*d},Pe=function(o,u,d,f){return{x:Gr(o.x,u.x,d.x,f),y:Gr(o.y,u.y,d.y,f)}},Qt=function(o,u,d){return Math.max(o,Math.min(d,u))},Wr=function(o){if(null==o)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=o.x1&&null!=o.y1){if(null!=o.x2&&null!=o.y2&&o.x2>=o.x1&&o.y2>=o.y1)return{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,w:o.x2-o.x1,h:o.y2-o.y1};if(null!=o.w&&null!=o.h&&o.w>=0&&o.h>=0)return{x1:o.x1,y1:o.y1,x2:o.x1+o.w,y2:o.y1+o.h,w:o.w,h:o.h}}},cC=function(o,u){o.x1=Math.min(o.x1,u.x1),o.x2=Math.max(o.x2,u.x2),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,u.y1),o.y2=Math.max(o.y2,u.y2),o.h=o.y2-o.y1},uC=function(o,u,d){o.x1=Math.min(o.x1,u),o.x2=Math.max(o.x2,u),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,d),o.y2=Math.max(o.y2,d),o.h=o.y2-o.y1},Ju=function(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.x1-=u,o.x2+=u,o.y1-=u,o.y2+=u,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},Gc=function(o){var d,f,p,g,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===u.length)d=f=p=g=u[0];else if(2===u.length)d=p=u[0],g=f=u[1];else if(4===u.length){var y=xt(u,4);d=y[0],f=y[1],p=y[2],g=y[3]}return o.x1-=g,o.x2+=f,o.y1-=d,o.y2+=p,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},Ph=function(o,u){o.x1=u.x1,o.y1=u.y1,o.x2=u.x2,o.y2=u.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1},Fh=function(o,u){return!(o.x1>u.x2||u.x1>o.x2||o.x2<u.x1||u.x2<o.x1||o.y2<u.y1||u.y2<o.y1||o.y1>u.y2||u.y1>o.y2)},Wc=function(o,u,d){return o.x1<=u&&u<=o.x2&&o.y1<=d&&d<=o.y2},Jt=function(o,u){return Wc(o,u.x,u.y)},Lh=function(o,u){return Wc(o,u.x1,u.y1)&&Wc(o,u.x2,u.y2)},Zv=function(o,u,d,f,p,g,y){var x,b=Yc(p,g),_=p/2,w=g/2,S=f-w-y;if((x=$o(o,u,d,f,d-_+b-y,S,d+_-b+y,S,!1)).length>0)return x;var I=d+_+y;if((x=$o(o,u,d,f,I,f-w+b-y,I,f+w-b+y,!1)).length>0)return x;var K=f+w+y;if((x=$o(o,u,d,f,d-_+b-y,K,d+_-b+y,K,!1)).length>0)return x;var W,Y=d-_-y;if((x=$o(o,u,d,f,Y,f-w+b-y,Y,f+w-b+y,!1)).length>0)return x;var oe=d-_+b,Q=f-w+b;if((W=il(o,u,d,f,oe,Q,b+y)).length>0&&W[0]<=oe&&W[1]<=Q)return[W[0],W[1]];var me=d+_-b,ae=f-w+b;if((W=il(o,u,d,f,me,ae,b+y)).length>0&&W[0]>=me&&W[1]<=ae)return[W[0],W[1]];var ce=d+_-b,be=f+w-b;if((W=il(o,u,d,f,ce,be,b+y)).length>0&&W[0]>=ce&&W[1]>=be)return[W[0],W[1]];var Se=d-_+b,Oe=f+w-b;return(W=il(o,u,d,f,Se,Oe,b+y)).length>0&&W[0]<=Se&&W[1]>=Oe?[W[0],W[1]]:[]},so=function(o,u,d,f,p,g,y){var b=y,_=Math.min(d,p),w=Math.max(d,p),x=Math.min(f,g),E=Math.max(f,g);return _-b<=o&&o<=w+b&&x-b<=u&&u<=E+b},Xv=function(o,u,d,f,p,g,y,b,_){var w_x1=Math.min(d,y,p)-_,w_x2=Math.max(d,y,p)+_,w_y1=Math.min(f,b,g)-_,w_y2=Math.max(f,b,g)+_;return!(o<w_x1||o>w_x2||u<w_y1||u>w_y2)},yo=function(o,u,d,f,p,g,y,b){var S=[];!function(o,u,d,f,p){var y,b,_,w,x,E,S,M;0===o&&(o=1e-5),_=-27*(f/=o)+(u/=o)*(9*(d/=o)-u*u*2),y=(b=(3*d-u*u)/9)*b*b+(_/=54)*_,p[1]=0,S=u/3,y>0?(x=(x=_+Math.sqrt(y))<0?-Math.pow(-x,1/3):Math.pow(x,1/3),E=(E=_-Math.sqrt(y))<0?-Math.pow(-E,1/3):Math.pow(E,1/3),p[0]=-S+x+E,p[4]=p[2]=-(S+=(x+E)/2),S=Math.sqrt(3)*(-E+x)/2,p[3]=S,p[5]=-S):(p[5]=p[3]=0,0===y?(M=_<0?-Math.pow(-_,1/3):Math.pow(_,1/3),p[0]=2*M-S,p[4]=p[2]=-(M+S)):(w=(b=-b)*b*b,w=Math.acos(_/Math.sqrt(w)),M=2*Math.sqrt(b),p[0]=-S+M*Math.cos(w/3),p[2]=-S+M*Math.cos((w+2*Math.PI)/3),p[4]=-S+M*Math.cos((w+4*Math.PI)/3)))}(1*d*d-4*d*p+2*d*y+4*p*p-4*p*y+y*y+f*f-4*f*g+2*f*b+4*g*g-4*g*b+b*b,9*d*p-3*d*d-3*d*y-6*p*p+3*p*y+9*f*g-3*f*f-3*f*b-6*g*g+3*g*b,3*d*d-6*d*p+d*y-d*o+2*p*p+2*p*o-y*o+3*f*f-6*f*g+f*b-f*u+2*g*g+2*g*u-b*u,1*d*p-d*d+d*o-p*o+f*g-f*f+f*u-g*u,S);for(var A=[],I=0;I<6;I+=2)Math.abs(S[I+1])<1e-7&&S[I]>=0&&S[I]<=1&&A.push(S[I]);A.push(1),A.push(0);for(var F,L,z,R=-1,K=0;K<A.length;K++)F=Math.pow(1-A[K],2)*d+2*(1-A[K])*A[K]*p+A[K]*A[K]*y,L=Math.pow(1-A[K],2)*f+2*(1-A[K])*A[K]*g+A[K]*A[K]*b,z=Math.pow(F-o,2)+Math.pow(L-u,2),R>=0?z<R&&(R=z):R=z;return R},sA=function(o,u,d,f,p,g){var y=[o-d,u-f],b=[p-d,g-f],_=b[0]*b[0]+b[1]*b[1],w=y[0]*y[0]+y[1]*y[1],x=y[0]*b[0]+y[1]*b[1],E=x*x/_;return x<0?w:E>_?(o-p)*(o-p)+(u-g)*(u-g):w-E},Bs=function(o,u,d){for(var f,p,g,y,_=0,w=0;w<d.length/2;w++)if(p=d[2*w+1],w+1<d.length/2?(g=d[2*(w+1)],y=d[2*(w+1)+1]):(g=d[2*(w+1-d.length/2)],y=d[2*(w+1-d.length/2)+1]),(f=d[2*w])!=o||g!=o){if(!(f>=o&&o>=g||f<=o&&o<=g))continue;(o-f)/(g-f)*(y-p)+p>u&&_++}return _%2!=0},Dr=function(o,u,d,f,p,g,y,b,_){var x,A,w=new Array(d.length);null!=b[0]?(x=Math.atan(b[1]/b[0]),b[0]<0?x+=Math.PI/2:x=-x-Math.PI/2):x=b;for(var E=Math.cos(-x),S=Math.sin(-x),M=0;M<w.length/2;M++)w[2*M]=g/2*(d[2*M]*E-d[2*M+1]*S),w[2*M+1]=y/2*(d[2*M+1]*E+d[2*M]*S),w[2*M]+=f,w[2*M+1]+=p;if(_>0){var I=hC(w,-_);A=dC(I)}else A=w;return Bs(o,u,A)},dC=function(o){for(var y,b,_,w,u=new Array(o.length/2),x=0;x<o.length/4;x++){x<o.length/4-1?(y=o[4*(x+1)],b=o[4*(x+1)+1],_=o[4*(x+1)+2],w=o[4*(x+1)+3]):(y=o[0],b=o[1],_=o[2],w=o[3]);var E=$o(o[4*x],o[4*x+1],o[4*x+2],o[4*x+3],y,b,_,w,!0);u[2*x]=E[0],u[2*x+1]=E[1]}return u},hC=function(o,u){for(var f,p,g,y,d=new Array(2*o.length),b=0;b<o.length/2;b++){b<o.length/2-1?(g=o[2*(b+1)],y=o[2*(b+1)+1]):(g=o[0],y=o[1]);var _=y-(p=o[2*b+1]),w=-(g-(f=o[2*b])),x=Math.sqrt(_*_+w*w),E=_/x,S=w/x;d[4*b]=f+E*u,d[4*b+1]=p+S*u,d[4*b+2]=g+E*u,d[4*b+3]=y+S*u}return d},Wn=function(o,u,d,f,p,g,y){return o-=p,u-=g,(o/=d/2+y)*o+(u/=f/2+y)*u<=1},il=function(o,u,d,f,p,g,y){var b=[d-o,f-u],_=[o-p,u-g],w=b[0]*b[0]+b[1]*b[1],x=2*(_[0]*b[0]+_[1]*b[1]),S=x*x-4*w*(_[0]*_[0]+_[1]*_[1]-y*y);if(S<0)return[];var M=(-x+Math.sqrt(S))/(2*w),A=(-x-Math.sqrt(S))/(2*w),I=Math.min(M,A),R=Math.max(M,A),F=[];if(I>=0&&I<=1&&F.push(I),R>=0&&R<=1&&F.push(R),0===F.length)return[];var L=F[0]*b[0]+o,z=F[0]*b[1]+u;return F.length>1?F[0]==F[1]?[L,z]:[L,z,F[1]*b[0]+o,F[1]*b[1]+u]:[L,z]},ed=function(o,u,d){return u<=o&&o<=d||d<=o&&o<=u?o:o<=u&&u<=d||d<=u&&u<=o?u:d},$o=function(o,u,d,f,p,g,y,b,_){var w=o-p,x=d-o,E=y-p,S=u-g,M=f-u,A=b-g,I=E*S-A*w,R=x*S-M*w,F=A*x-E*M;if(0!==F){var L=I/F,z=R/F,Z=-.001;return Z<=L&&L<=1.001&&Z<=z&&z<=1.001||_?[o+L*x,u+L*M]:[]}return 0===I||0===R?ed(o,d,y)===y?[y,b]:ed(o,d,p)===p?[p,g]:ed(p,y,d)===d?[d,f]:[]:[]},Kc=function(o,u,d,f,p,g,y,b){var w,S,_=[],x=new Array(d.length),E=!0;if(null==g&&(E=!1),E){for(var M=0;M<x.length/2;M++)x[2*M]=d[2*M]*g+f,x[2*M+1]=d[2*M+1]*y+p;if(b>0){var A=hC(x,-b);S=dC(A)}else S=x}else S=d;for(var F,L,z=0;z<S.length/2;z++)z<S.length/2-1?(F=S[2*(z+1)],L=S[2*(z+1)+1]):(F=S[0],L=S[1]),0!==(w=$o(o,u,f,p,S[2*z],S[2*z+1],F,L)).length&&_.push(w[0],w[1]);return _},rl=function(o,u,d){var f=[o[0]-u[0],o[1]-u[1]],p=Math.sqrt(f[0]*f[0]+f[1]*f[1]),g=(p-d)/p;return g<0&&(g=1e-5),[u[0]+g*f[0],u[1]+g*f[1]]},gs=function(o,u){var d=Wp(o,u);return pn(d)},pn=function(o){for(var u,d,f=o.length/2,p=1/0,g=1/0,y=-1/0,b=-1/0,_=0;_<f;_++)u=o[2*_],d=o[2*_+1],p=Math.min(p,u),y=Math.max(y,u),g=Math.min(g,d),b=Math.max(b,d);for(var w=2/(y-p),x=2/(b-g),E=0;E<f;E++)u=o[2*E]=o[2*E]*w,d=o[2*E+1]=o[2*E+1]*x,p=Math.min(p,u),y=Math.max(y,u),g=Math.min(g,d),b=Math.max(b,d);if(g<-1)for(var S=0;S<f;S++)d=o[2*S+1]=o[2*S+1]+(-1-g);return o},Wp=function(o,u){var d=1/o*2*Math.PI,f=o%2==0?Math.PI/2+d/2:Math.PI/2;f+=u;for(var g,p=new Array(2*o),y=0;y<o;y++)g=y*d+f,p[2*y]=Math.cos(g),p[2*y+1]=Math.sin(-g);return p},Yc=function(o,u){return Math.min(o/4,u/4,8)},Nh=function(o,u){return Math.min(o/10,u/10,8)},Bh=function(o,u){return{heightOffset:Math.min(15,.05*u),widthOffset:Math.min(100,.25*o),ctrlPtOffsetPct:.05}},Ee=Ur({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(o){return 1}}),ms={pageRank:function(o){for(var u=Ee(o),d=u.dampingFactor,f=u.precision,p=u.iterations,g=u.weight,y=this._private.cy,b=this.byGroup(),_=b.nodes,w=b.edges,x=_.length,S=w.length,M=new Array(x*x),A=new Array(x),I=(1-d)/x,R=0;R<x;R++){for(var F=0;F<x;F++)M[R*x+F]=0;A[R]=0}for(var z=0;z<S;z++){var K=w[z],Z=K.data("source"),H=K.data("target");if(Z!==H){var Y=_.indexOfId(Z),U=_.indexOfId(H),X=g(K);M[U*x+Y]+=X,A[Y]+=X}}for(var W=1/x+I,oe=0;oe<x;oe++)if(0===A[oe])for(var Q=0;Q<x;Q++)M[Q*x+oe]=W;else for(var ae=0;ae<x;ae++){var ce=ae*x+oe;M[ce]=M[ce]/A[oe]+I}for(var Oe,be=new Array(x),Se=new Array(x),De=0;De<x;De++)be[De]=1;for(var Ie=0;Ie<p;Ie++){for(var We=0;We<x;We++)Se[We]=0;for(var Ye=0;Ye<x;Ye++)for(var Ge=0;Ge<x;Ge++)Se[Ye]+=M[Ye*x+Ge]*be[Ge];nA(Se),Oe=be,be=Se,Se=Oe;for(var ye=0,qe=0;qe<x;qe++){var Je=Oe[qe]-be[qe];ye+=Je*Je}if(ye<f)break}return{rank:function(nn){return nn=y.collection(nn)[0],be[_.indexOf(nn)]}}}},gi=Ur({root:null,weight:function(o){return 1},directed:!1,alpha:0}),gr={degreeCentralityNormalized:function(o){o=gi(o);var u=this.cy(),d=this.nodes(),f=d.length;if(o.directed){for(var w={},x={},E=0,S=0,M=0;M<f;M++){var A=d[M],I=A.id();o.root=A;var R=this.degreeCentrality(o);E<R.indegree&&(E=R.indegree),S<R.outdegree&&(S=R.outdegree),w[I]=R.indegree,x[I]=R.outdegree}return{indegree:function(L){return 0==E?0:(Te(L)&&(L=u.filter(L)),w[L.id()]/E)},outdegree:function(L){return 0===S?0:(Te(L)&&(L=u.filter(L)),x[L.id()]/S)}}}for(var p={},g=0,y=0;y<f;y++){var b=d[y];o.root=b;var _=this.degreeCentrality(o);g<_.degree&&(g=_.degree),p[b.id()]=_.degree}return{degree:function(L){return 0===g?0:(Te(L)&&(L=u.filter(L)),p[L.id()]/g)}}},degreeCentrality:function(o){o=gi(o);var u=this.cy(),d=this,p=o.root,g=o.weight,y=o.directed,b=o.alpha;if(p=u.collection(p)[0],y){for(var S=p.connectedEdges(),M=S.filter(function(Z){return Z.target().same(p)&&d.has(Z)}),A=S.filter(function(Z){return Z.source().same(p)&&d.has(Z)}),I=M.length,R=A.length,F=0,L=0,z=0;z<M.length;z++)F+=g(M[z]);for(var K=0;K<A.length;K++)L+=g(A[K]);return{indegree:Math.pow(I,1-b)*Math.pow(F,b),outdegree:Math.pow(R,1-b)*Math.pow(L,b)}}for(var _=p.connectedEdges().intersection(d),w=_.length,x=0,E=0;E<_.length;E++)x+=g(_[E]);return{degree:Math.pow(w,1-b)*Math.pow(x,b)}}};gr.dc=gr.degreeCentrality,gr.dcn=gr.degreeCentralityNormalised=gr.degreeCentralityNormalized;var ns=Ur({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),_o={closenessCentralityNormalized:function(o){for(var u=ns(o),d=u.harmonic,f=u.weight,p=u.directed,g=this.cy(),y={},b=0,_=this.nodes(),w=this.floydWarshall({weight:f,directed:p}),x=0;x<_.length;x++){for(var E=0,S=_[x],M=0;M<_.length;M++)if(x!==M){var A=w.distance(S,_[M]);E+=d?1/A:A}d||(E=1/E),b<E&&(b=E),y[S.id()]=E}return{closeness:function(R){return 0==b?0:(R=Te(R)?g.filter(R)[0].id():R.id(),y[R]/b)}}},closenessCentrality:function(o){var u=ns(o),d=u.root,f=u.weight,p=u.directed,g=u.harmonic;d=this.filter(d)[0];for(var y=this.dijkstra({root:d,weight:f,directed:p}),b=0,_=this.nodes(),w=0;w<_.length;w++){var x=_[w];if(!x.same(d)){var E=y.distanceTo(x);b+=g?1/E:E}}return g?b:1/b}};_o.cc=_o.closenessCentrality,_o.ccn=_o.closenessCentralityNormalised=_o.closenessCentralityNormalized;var Vs=Ur({weight:null,directed:!1}),Cs={betweennessCentrality:function(o){for(var u=Vs(o),d=u.directed,f=u.weight,p=null!=f,g=this.cy(),y=this.nodes(),b={},_={},w=0,x={set:function(L,z){_[L]=z,z>w&&(w=z)},get:function(L){return _[L]}},E=0;E<y.length;E++){var S=y[E],M=S.id();b[M]=d?S.outgoers().nodes():S.openNeighborhood().nodes(),x.set(M,0)}for(var A=function(L){for(var z=y[L].id(),K=[],Z={},H={},Y={},U=new ge.default(function(Ge,Re){return Y[Ge]-Y[Re]}),X=0;X<y.length;X++){var J=y[X].id();Z[J]=[],H[J]=0,Y[J]=1/0}for(H[z]=1,Y[z]=0,U.push(z);!U.empty();){var W=U.pop();if(K.push(W),p)for(var oe=0;oe<b[W].length;oe++){var ae,Q=b[W][oe],me=g.getElementById(W);ae=me.edgesTo(Q).length>0?me.edgesTo(Q)[0]:Q.edgesTo(me)[0];var ce=f(ae);Q=Q.id(),Y[Q]>Y[W]+ce&&(Y[Q]=Y[W]+ce,U.nodes.indexOf(Q)<0?U.push(Q):U.updateItem(Q),H[Q]=0,Z[Q]=[]),Y[Q]==Y[W]+ce&&(H[Q]=H[Q]+H[W],Z[Q].push(W))}else for(var be=0;be<b[W].length;be++){var Se=b[W][be].id();Y[Se]==1/0&&(U.push(Se),Y[Se]=Y[W]+1),Y[Se]==Y[W]+1&&(H[Se]=H[Se]+H[W],Z[Se].push(W))}}for(var Oe={},De=0;De<y.length;De++)Oe[y[De].id()]=0;for(;K.length>0;){for(var Ie=K.pop(),We=0;We<Z[Ie].length;We++){var Ye=Z[Ie][We];Oe[Ye]=Oe[Ye]+H[Ye]/H[Ie]*(1+Oe[Ie])}Ie!=y[L].id()&&x.set(Ie,x.get(Ie)+Oe[Ie])}},I=0;I<y.length;I++)A(I);var R={betweenness:function(L){var z=g.collection(L).id();return x.get(z)},betweennessNormalized:function(L){if(0==w)return 0;var z=g.collection(L).id();return x.get(z)/w}};return R.betweennessNormalised=R.betweennessNormalized,R}};Cs.bc=Cs.betweennessCentrality;var Tt=Ur({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(c){return 1}]}),Li=function(o,u){for(var d=0,f=0;f<u.length;f++)d+=u[f](o);return d},sl=function(o,u){for(var d,f=0;f<u;f++){d=0;for(var p=0;p<u;p++)d+=o[p*u+f];for(var g=0;g<u;g++)o[g*u+f]=o[g*u+f]/d}},Fr=function(o,u,d){for(var f=new Array(d*d),p=0;p<d;p++){for(var g=0;g<d;g++)f[p*d+g]=0;for(var y=0;y<d;y++)for(var b=0;b<d;b++)f[p*d+b]+=o[p*d+y]*u[y*d+b]}return f},Vl=function(o,u,d){for(var f=o.slice(0),p=1;p<d;p++)o=Fr(o,f,u);return o},Yi=function(o,u,d){for(var f=new Array(u*u),p=0;p<u*u;p++)f[p]=Math.pow(o[p],d);return sl(f,u),f},td=function(o,u,d,f){for(var p=0;p<d;p++)if(Math.round(o[p]*Math.pow(10,f))/Math.pow(10,f)!=Math.round(u[p]*Math.pow(10,f))/Math.pow(10,f))return!1;return!0},Fn=function(o,u){for(var d=0;d<o.length;d++)if(!u[d]||o[d].id()!==u[d].id())return!1;return!0},Hl=function(o){for(var u=this.nodes(),d=this.edges(),f=this.cy(),p=function(o){return Tt(o)}(o),g={},y=0;y<u.length;y++)g[u[y].id()]=y;for(var x,b=u.length,_=b*b,w=new Array(_),E=0;E<_;E++)w[E]=0;for(var S=0;S<d.length;S++){var M=d[S],A=g[M.source().id()],I=g[M.target().id()],R=Li(M,p.attributes);w[A*b+I]+=R,w[I*b+A]+=R}(function(o,u,d){for(var f=0;f<u;f++)o[f*u+f]=d})(w,b,p.multFactor),sl(w,b);for(var F=!0,L=0;F&&L<p.maxIterations;)F=!1,x=Vl(w,b,p.expandFactor),w=Yi(x,b,p.inflateFactor),td(w,x,_,4)||(F=!0),L++;var z=function(o,u,d,f){for(var p=[],g=0;g<u;g++){for(var y=[],b=0;b<u;b++)Math.round(1e3*o[g*u+b])/1e3>0&&y.push(d[b]);0!==y.length&&p.push(f.collection(y))}return p}(w,b,u,f);return z=function(o){for(var u=0;u<o.length;u++)for(var d=0;d<o.length;d++)u!=d&&Fn(o[u],o[d])&&o.splice(d,1);return o}(z),z},qp={markovClustering:Hl,mcl:Hl},zl=function(o){return o},qr=function(o,u){return Math.abs(u-o)},Zc=function(o,u,d){return o+qr(u,d)},$l=function(o,u,d){return o+Math.pow(d-u,2)},bo=function(o){return Math.sqrt(o)},Xc=function(o,u,d){return Math.max(o,qr(u,d))},Qc=function(o,u,d,f,p){for(var g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:zl,y=f,w=0;w<o;w++)y=p(y,u(w),d(w));return g(y)},hi={euclidean:function(o,u,d){return o>=2?Qc(o,u,d,0,$l,bo):Qc(o,u,d,0,Zc)},squaredEuclidean:function(o,u,d){return Qc(o,u,d,0,$l)},manhattan:function(o,u,d){return Qc(o,u,d,0,Zc)},max:function(o,u,d){return Qc(o,u,d,-1/0,Xc)}};function Hh(c,o,u,d,f,p){var g;return g=ft(c)?c:hi[c]||hi.euclidean,0===o&&ft(c)?g(f,p):g(o,u,d,f,p)}hi["squared-euclidean"]=hi.squaredEuclidean,hi.squaredeuclidean=hi.squaredEuclidean;var pC=Ur({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Jc=function(o){return pC(o)},eu=function(o,u,d,f,p){var y="kMedoids"!==p?function(x){return d[x]}:function(x){return f[x](d)};return Hh(o,f.length,y,function(E){return f[E](u)},d,u)},jl=function(o,u,d){for(var f=d.length,p=new Array(f),g=new Array(f),y=new Array(u),b=null,_=0;_<f;_++)p[_]=o.min(d[_]).value,g[_]=o.max(d[_]).value;for(var w=0;w<u;w++){b=[];for(var x=0;x<f;x++)b[x]=Math.random()*(g[x]-p[x])+p[x];y[w]=b}return y},id=function(o,u,d,f,p){for(var g=1/0,y=0,b=0;b<u.length;b++){var _=eu(d,o,u[b],f,p);_<g&&(g=_,y=b)}return y},ol=function(o,u,d){for(var f=[],p=null,g=0;g<u.length;g++)d[(p=u[g]).id()]===o&&f.push(p);return f},is=function(o,u,d){return Math.abs(u-o)<=d},gC=function(o,u,d){for(var f=0;f<o.length;f++)for(var p=0;p<o[f].length;p++)if(Math.abs(o[f][p]-u[f][p])>d)return!1;return!0},xs=function(o,u,d){for(var f=0;f<d;f++)if(o===u[f])return!0;return!1},oo=function(o,u){var d=new Array(u);if(o.length<50)for(var f=0;f<u;f++){for(var p=o[Math.floor(Math.random()*o.length)];xs(p,d,f);)p=o[Math.floor(Math.random()*o.length)];d[f]=p}else for(var g=0;g<u;g++)d[g]=o[Math.floor(Math.random()*o.length)];return d},zh=function(o,u,d){for(var f=0,p=0;p<u.length;p++)f+=eu("manhattan",u[p],o,d,"kMedoids");return f},wo=function(o,u,d,f,p){for(var g,y,b=0;b<u.length;b++)for(var _=0;_<o.length;_++)f[b][_]=Math.pow(d[b][_],p.m);for(var w=0;w<o.length;w++)for(var x=0;x<p.attributes.length;x++){g=0,y=0;for(var E=0;E<u.length;E++)g+=f[E][w]*p.attributes[x](u[E]),y+=f[E][w];o[w][x]=g/y}},mC=function(o,u,d,f,p){for(var g=0;g<o.length;g++)u[g]=o[g].slice();for(var y,b,_,w=2/(p.m-1),x=0;x<d.length;x++)for(var E=0;E<f.length;E++){y=0;for(var S=0;S<d.length;S++)b=eu(p.distance,f[E],d[x],p.attributes,"cmeans"),_=eu(p.distance,f[E],d[S],p.attributes,"cmeans"),y+=Math.pow(b/_,w);o[E][x]=1/y}},Qv=function(o){var p,g,y,b,_,u=this.cy(),d=this.nodes(),f=Jc(o);b=new Array(d.length);for(var w=0;w<d.length;w++)b[w]=new Array(f.k);y=new Array(d.length);for(var x=0;x<d.length;x++)y[x]=new Array(f.k);for(var E=0;E<d.length;E++){for(var S=0,M=0;M<f.k;M++)y[E][M]=Math.random(),S+=y[E][M];for(var A=0;A<f.k;A++)y[E][A]=y[E][A]/S}g=new Array(f.k);for(var I=0;I<f.k;I++)g[I]=new Array(f.attributes.length);_=new Array(d.length);for(var R=0;R<d.length;R++)_[R]=new Array(f.k);for(var F=!0,L=0;F&&L<f.maxIterations;)F=!1,wo(g,d,y,_,f),mC(y,b,g,d,f),gC(y,b,f.sensitivityThreshold)||(F=!0),L++;return p=function(o,u,d,f){for(var p=new Array(d.k),g=0;g<p.length;g++)p[g]=[];for(var y,b,_=0;_<u.length;_++){y=-1/0,b=-1;for(var w=0;w<u[0].length;w++)u[_][w]>y&&(y=u[_][w],b=w);p[b].push(o[_])}for(var x=0;x<p.length;x++)p[x]=f.collection(p[x]);return p}(d,y,f,u),{clusters:p,degreeOfMembership:y}},vC={kMeans:function(o){var b,u=this.cy(),d=this.nodes(),f=null,p=Jc(o),g=new Array(p.k),y={};b=p.testMode?"number"==typeof p.testCentroids?jl(d,p.k,p.attributes):"object"===ot(p.testCentroids)?p.testCentroids:jl(d,p.k,p.attributes):jl(d,p.k,p.attributes);for(var _=!0,w=0;_&&w<p.maxIterations;){for(var x=0;x<d.length;x++)y[(f=d[x]).id()]=id(f,b,p.distance,p.attributes,"kMeans");_=!1;for(var E=0;E<p.k;E++){var S=ol(E,d,y);if(0!==S.length){for(var M=p.attributes.length,A=b[E],I=new Array(M),R=new Array(M),F=0;F<M;F++){R[F]=0;for(var L=0;L<S.length;L++)R[F]+=p.attributes[F](f=S[L]);I[F]=R[F]/S.length,is(I[F],A[F],p.sensitivityThreshold)||(_=!0)}b[E]=I,g[E]=u.collection(S)}}w++}return g},kMedoids:function(o){var y,_,u=this.cy(),d=this.nodes(),f=null,p=Jc(o),g=new Array(p.k),b={},w=new Array(p.k);p.testMode?"number"==typeof p.testCentroids||(y="object"===ot(p.testCentroids)?p.testCentroids:oo(d,p.k)):y=oo(d,p.k);for(var x=!0,E=0;x&&E<p.maxIterations;){for(var S=0;S<d.length;S++)b[(f=d[S]).id()]=id(f,y,p.distance,p.attributes,"kMedoids");x=!1;for(var M=0;M<y.length;M++){var A=ol(M,d,b);if(0!==A.length){w[M]=zh(y[M],A,p.attributes);for(var I=0;I<A.length;I++)(_=zh(A[I],A,p.attributes))<w[M]&&(w[M]=_,y[M]=A[I],x=!0);g[M]=u.collection(A)}}E++}return g},fuzzyCMeans:Qv,fcm:Qv},aA=Ur({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),lA={single:"min",complete:"max"},yC=function(o,u,d,f,p){for(var b,g=0,y=1/0,_=p.attributes,w=function(U,X){return Hh(p.distance,_.length,function(J){return _[J](U)},function(J){return _[J](X)},U,X)},x=0;x<o.length;x++){var E=o[x].key,S=d[E][f[E]];S<y&&(g=E,y=S)}if("threshold"===p.mode&&y>=p.threshold||"dendrogram"===p.mode&&1===o.length)return!1;var I,M=u[g],A=u[f[g]];I="dendrogram"===p.mode?{left:M,right:A,key:M.key}:{value:M.value.concat(A.value),key:M.key},o[M.index]=I,o.splice(A.index,1),u[M.key]=I;for(var R=0;R<o.length;R++){var F=o[R];M.key===F.key?b=1/0:"min"===p.linkage?(b=d[M.key][F.key],d[M.key][F.key]>d[A.key][F.key]&&(b=d[A.key][F.key])):"max"===p.linkage?(b=d[M.key][F.key],d[M.key][F.key]<d[A.key][F.key]&&(b=d[A.key][F.key])):b="mean"===p.linkage?(d[M.key][F.key]*M.size+d[A.key][F.key]*A.size)/(M.size+A.size):"dendrogram"===p.mode?w(F.value,M.value):w(F.value[0],M.value[0]),d[M.key][F.key]=d[F.key][M.key]=b}for(var L=0;L<o.length;L++){var z=o[L].key;if(f[z]===M.key||f[z]===A.key){for(var K=z,Z=0;Z<o.length;Z++){var H=o[Z].key;d[z][H]<d[z][K]&&(K=H)}f[z]=K}o[L].index=L}return M.key=A.key=M.index=A.index=null,!0},Kp=function c(o,u,d){!o||(o.value?u.push(o.value):(o.left&&c(o.left,u),o.right&&c(o.right,u)))},uA=function c(o,u){if(!o)return"";if(o.left&&o.right){var d=c(o.left,u),f=c(o.right,u),p=u.add({group:"nodes",data:{id:d+","+f}});return u.add({group:"edges",data:{source:d,target:p.id()}}),u.add({group:"edges",data:{source:f,target:p.id()}}),p.id()}return o.value?o.value.id():void 0},dA=function c(o,u,d){if(!o)return[];var f=[],p=[],g=[];return 0===u?(o.left&&Kp(o.left,f),o.right&&Kp(o.right,p),g=f.concat(p),[d.collection(g)]):1===u?o.value?[d.collection(o.value)]:(o.left&&Kp(o.left,f),o.right&&Kp(o.right,p),[d.collection(f),d.collection(p)]):o.value?[d.collection(o.value)]:(o.left&&(f=c(o.left,u-1,d)),o.right&&(p=c(o.right,u-1,d)),f.concat(p))},_C=function(o){for(var u=this.cy(),d=this.nodes(),f=function(o){var u=aA(o),d=lA[u.linkage];return null!=d&&(u.linkage=d),u}(o),p=f.attributes,g=function(L,z){return Hh(f.distance,p.length,function(K){return p[K](L)},function(K){return p[K](z)},L,z)},y=[],b=[],_=[],w=[],x=0;x<d.length;x++){var E={value:"dendrogram"===f.mode?d[x]:[d[x]],key:x,index:x};y[x]=E,w[x]=E,b[x]=[],_[x]=0}for(var S=0;S<y.length;S++)for(var M=0;M<=S;M++){var A;A="dendrogram"===f.mode?S===M?1/0:g(y[S].value,y[M].value):S===M?1/0:g(y[S].value[0],y[M].value[0]),b[S][M]=A,b[M][S]=A,A<b[S][_[S]]&&(_[S]=M)}for(var I=yC(y,w,b,_,f);I;)I=yC(y,w,b,_,f);var R;return"dendrogram"===f.mode?(R=dA(y[0],f.dendrogramDepth,u),f.addDendrogram&&uA(y[0],u)):(R=new Array(y.length),y.forEach(function(F,L){F.key=F.index=null,R[L]=u.collection(F.value)})),R},hA={hierarchicalClustering:_C,hca:_C},fA=Ur({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),gA=function(o,u,d,f){var p=function(y,b){return f[b](y)};return-Hh(o,f.length,function(g){return p(u,g)},function(g){return p(d,g)},u,d)},Yp=function(o,u,d){for(var f=[],p=0;p<o;p++){for(var g=-1,y=-1/0,b=0;b<d.length;b++){var _=d[b];u[p*o+_]>y&&(g=_,y=u[p*o+_])}g>0&&f.push(g)}for(var w=0;w<d.length;w++)f[d[w]]=d[w];return f},bC=function(o){for(var u=this.cy(),d=this.nodes(),f=function(o){var u=o.damping,d=o.preference;.5<=u&&u<1||Fi("Damping must range on [0.5, 1).  Got: ".concat(u));var f=["median","mean","min","max"];return f.some(function(p){return p===d})||Fe(d)||Fi("Preference must be one of [".concat(f.map(function(p){return"'".concat(p,"'")}).join(", "),"] or a number.  Got: ").concat(d)),fA(o)}(o),p={},g=0;g<d.length;g++)p[d[g].id()]=g;var y,b,_,w,x,E,U;b=(y=d.length)*y,_=new Array(b);for(var S=0;S<b;S++)_[S]=-1/0;for(var M=0;M<y;M++)for(var A=0;A<y;A++)M!==A&&(_[M*y+A]=gA(f.distance,d[M],d[A],f.attributes));w=function(o,u){var d;return d="median"===u?function(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(d<o.length&&o.splice(d,o.length-d),u>0&&o.splice(0,u)):o=o.slice(u,d);for(var y=0,b=o.length-1;b>=0;b--)g?isFinite(o[b])||(o[b]=-1/0,y++):o.splice(b,1);p&&o.sort(function(E,S){return E-S});var w=o.length,x=Math.floor(w/2);return w%2!=0?o[x+1+y]:(o[x-1+y]+o[x+y])/2}(o):"mean"===u?function(o){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=0,p=0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g<d;g++){var y=o[g];isFinite(y)&&(f+=y,p++)}return f/p}(o):"min"===u?function(o){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<d;p++){var g=o[p];isFinite(g)&&(f=Math.min(g,f))}return f}(o):"max"===u?function(o){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=-1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<d;p++){var g=o[p];isFinite(g)&&(f=Math.max(g,f))}return f}(o):u,d}(_,f.preference);for(var I=0;I<y;I++)_[I*y+I]=w;x=new Array(b);for(var R=0;R<b;R++)x[R]=0;E=new Array(b);for(var F=0;F<b;F++)E[F]=0;for(var L=new Array(y),z=new Array(y),K=new Array(y),Z=0;Z<y;Z++)L[Z]=0,z[Z]=0,K[Z]=0;for(var H=new Array(y*f.minIterations),Y=0;Y<H.length;Y++)H[Y]=0;for(U=0;U<f.maxIterations;U++){for(var X=0;X<y;X++){for(var J=-1/0,W=-1/0,oe=-1,Q=0,me=0;me<y;me++)L[me]=x[X*y+me],(Q=E[X*y+me]+_[X*y+me])>=J?(W=J,J=Q,oe=me):Q>W&&(W=Q);for(var ae=0;ae<y;ae++)x[X*y+ae]=(1-f.damping)*(_[X*y+ae]-J)+f.damping*L[ae];x[X*y+oe]=(1-f.damping)*(_[X*y+oe]-W)+f.damping*L[oe]}for(var ce=0;ce<y;ce++){for(var be=0,Se=0;Se<y;Se++)L[Se]=E[Se*y+ce],z[Se]=Math.max(0,x[Se*y+ce]),be+=z[Se];be-=z[ce],z[ce]=x[ce*y+ce],be+=z[ce];for(var Oe=0;Oe<y;Oe++)E[Oe*y+ce]=(1-f.damping)*Math.min(0,be-z[Oe])+f.damping*L[Oe];E[ce*y+ce]=(1-f.damping)*(be-z[ce])+f.damping*L[ce]}for(var De=0,Ie=0;Ie<y;Ie++){var We=E[Ie*y+Ie]+x[Ie*y+Ie]>0?1:0;H[U%f.minIterations*y+Ie]=We,De+=We}if(De>0&&(U>=f.minIterations-1||U==f.maxIterations-1)){for(var Ye=0,Ge=0;Ge<y;Ge++){K[Ge]=0;for(var Re=0;Re<f.minIterations;Re++)K[Ge]+=H[Re*y+Ge];(0===K[Ge]||K[Ge]===f.minIterations)&&Ye++}if(Ye===y)break}}for(var ye=function(o,u,d){for(var f=[],p=0;p<o;p++)u[p*o+p]+d[p*o+p]>0&&f.push(p);return f}(y,x,E),qe=function(o,u,d){for(var f=Yp(o,u,d),p=0;p<d.length;p++){for(var g=[],y=0;y<f.length;y++)f[y]===d[p]&&g.push(y);for(var b=-1,_=-1/0,w=0;w<g.length;w++){for(var x=0,E=0;E<g.length;E++)x+=u[g[E]*o+g[w]];x>_&&(b=w,_=x)}d[p]=g[b]}return Yp(o,u,d)}(y,_,ye),Je={},nt=0;nt<ye.length;nt++)Je[ye[nt]]=[];for(var gt=0;gt<d.length;gt++){var vn=qe[p[d[gt].id()]];null!=vn&&Je[vn].push(d[gt])}for(var wt=new Array(ye.length),mt=0;mt<ye.length;mt++)wt[mt]=u.collection(Je[ye[mt]]);return wt},yA={affinityPropagation:bC,ap:bC},_A=Ur({root:void 0,directed:!1}),Ul={hierholzer:function(o){if(!it(o)){var u=arguments;o={root:u[0],directed:u[1]}}var b,_,w,d=_A(o),f=d.root,p=d.directed,g=this,y=!1;f&&(w=Te(f)?this.filter(f)[0].id():f[0].id());var x={},E={};g.forEach(p?function(F){var L=F.id();if(F.isNode()){var z=F.indegree(!0),K=F.outdegree(!0),Z=z-K,H=K-z;1==Z?b?y=!0:b=L:1==H?_?y=!0:_=L:(H>1||Z>1)&&(y=!0),x[L]=[],F.outgoers().forEach(function(Y){Y.isEdge()&&x[L].push(Y.id())})}else E[L]=[void 0,F.target().id()]}:function(F){var L=F.id();F.isNode()?(F.degree(!0)%2&&(b?_?y=!0:_=L:b=L),x[L]=[],F.connectedEdges().forEach(function(K){return x[L].push(K.id())})):E[L]=[F.source().id(),F.target().id()]});var S={found:!1,trail:void 0};if(y)return S;if(_&&b)if(p){if(w&&_!=w)return S;w=_}else{if(w&&_!=w&&b!=w)return S;w||(w=_)}else w||(w=g[0].id());var M=function(L){for(var Z,H,Y,z=L,K=[L];x[z].length;)Z=x[z].shift(),H=E[Z][0],z!=(Y=E[Z][1])?(x[Y]=x[Y].filter(function(U){return U!=Z}),z=Y):!p&&z!=H&&(x[H]=x[H].filter(function(U){return U!=Z}),z=H),K.unshift(Z),K.unshift(z);return K},A=[],I=[];for(I=M(w);1!=I.length;)0==x[I[0]].length?(A.unshift(g.getElementById(I.shift())),A.unshift(g.getElementById(I.shift()))):I=M(I.shift()).concat(I);for(var R in A.unshift(g.getElementById(I.shift())),x)if(x[R].length)return S;return S.found=!0,S.trail=this.spawn(A,!0),S}},Uh=function(){var o=this,u={},d=0,f=0,p=[],g=[],y={},_=function x(E,S,M){E===M&&(f+=1),u[S]={id:d,low:d++,cutVertex:!1};var I,R,F,L,A=o.getElementById(S).connectedEdges().intersection(o);0===A.size()?p.push(o.spawn(o.getElementById(S))):A.forEach(function(z){I=z.source().id(),R=z.target().id(),(F=I===S?R:I)!==M&&(L=z.id(),y[L]||(y[L]=!0,g.push({x:S,y:F,edge:z})),F in u?u[S].low=Math.min(u[S].low,u[F].id):(x(E,F,S),u[S].low=Math.min(u[S].low,u[F].low),u[S].id<=u[F].low&&(u[S].cutVertex=!0,function(E,S){for(var M=g.length-1,A=[],I=o.spawn();g[M].x!=E||g[M].y!=S;)A.push(g.pop().edge),M--;A.push(g.pop().edge),A.forEach(function(R){var F=R.connectedNodes().intersection(o);I.merge(R),F.forEach(function(L){var z=L.id(),K=L.connectedEdges().intersection(o);I.merge(L),I.merge(u[z].cutVertex?K.filter(function(Z){return Z.isLoop()}):K)})}),p.push(I)}(S,F))))})};o.forEach(function(x){if(x.isNode()){var E=x.id();E in u||(f=0,_(E,E),u[E].cutVertex=f>1)}});var w=Object.keys(u).filter(function(x){return u[x].cutVertex}).map(function(x){return o.getElementById(x)});return{cut:o.spawn(w),components:p}},rd=function(){var o=this,u={},d=0,f=[],p=[],g=o.spawn(o),y=function b(_){if(p.push(_),u[_]={index:d,low:d++,explored:!1},o.getElementById(_).connectedEdges().intersection(o).forEach(function(A){var I=A.target().id();I!==_&&(I in u||b(I),u[I].explored||(u[_].low=Math.min(u[_].low,u[I].low)))}),u[_].index===u[_].low){for(var x=o.spawn();;){var E=p.pop();if(x.merge(o.getElementById(E)),u[E].low=u[_].index,u[E].explored=!0,E===_)break}var S=x.edgesWith(x),M=x.merge(S);f.push(M),g=g.difference(M)}};return o.forEach(function(b){if(b.isNode()){var _=b.id();_ in u||y(_)}}),{cut:g,components:f}},Jv={};[ai,Up,YT,Ih,di,ZT,XT,ms,gr,_o,Cs,qp,vC,hA,yA,Ul,{hopcroftTarjanBiconnected:Uh,htbc:Uh,htb:Uh,hopcroftTarjanBiconnectedComponents:Uh},{tarjanStronglyConnected:rd,tsc:rd,tscc:rd,tarjanStronglyConnectedComponents:rd}].forEach(function(c){qt(Jv,c)});var Co=function c(o){if(!(this instanceof c))return new c(o);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof o&&o.call(this,this.fulfill.bind(this),this.reject.bind(this))};Co.prototype={fulfill:function(o){return ty(this,1,"fulfillValue",o)},reject:function(o){return ty(this,2,"rejectReason",o)},then:function(o,u){var d=this,f=new Co;return d.onFulfilled.push(ny(o,f,"fulfill")),d.onRejected.push(ny(u,f,"reject")),zs(d),f.proxy}};var ty=function(o,u,d,f){return 0===o.state&&(o.state=u,o[d]=f,zs(o)),o},zs=function(o){1===o.state?Gh(o,"onFulfilled",o.fulfillValue):2===o.state&&Gh(o,"onRejected",o.rejectReason)},Gh=function(o,u,d){if(0!==o[u].length){var f=o[u];o[u]=[];var p=function(){for(var y=0;y<f.length;y++)f[y](d)};"function"==typeof setImmediate?setImmediate(p):setTimeout(p,0)}},ny=function(o,u,d){return function(f){if("function"!=typeof o)u[d].call(u,f);else{var p;try{p=o(f)}catch(g){return void u.reject(g)}Jp(u,p)}}},Jp=function c(o,u){if(o!==u&&o.proxy!==u){var d;if("object"===ot(u)&&null!==u||"function"==typeof u)try{d=u.then}catch(p){return void o.reject(p)}if("function"!=typeof d)o.fulfill(u);else{var f=!1;try{d.call(u,function(p){f||(f=!0,p===u?o.reject(new TypeError("circular thenable chain")):c(o,p))},function(p){f||(f=!0,o.reject(p))})}catch(p){f||o.reject(p)}}}else o.reject(new TypeError("cannot resolve promise with itself"))};Co.all=function(c){return new Co(function(o,u){for(var d=new Array(c.length),f=0,p=function(b,_){d[b]=_,++f===c.length&&o(d)},g=0;g<c.length;g++)!function(y){var b=c[y];null!=b&&null!=b.then?b.then(function(x){p(y,x)},function(x){u(x)}):p(y,b)}(g)})},Co.resolve=function(c){return new Co(function(o,u){o(c)})},Co.reject=function(c){return new Co(function(o,u){u(c)})};var tu=typeof Promise<"u"?Promise:Co,iy=function(o,u,d){var f=fn(o),p=!f,g=this._private=qt({duration:1e3},u,d);if(g.target=o,g.style=g.style||g.css,g.started=!1,g.playing=!1,g.hooked=!1,g.applying=!1,g.progress=0,g.completes=[],g.frames=[],g.complete&&ft(g.complete)&&g.completes.push(g.complete),p){var y=o.position();g.startPosition=g.startPosition||{x:y.x,y:y.y},g.startStyle=g.startStyle||o.cy().style().getAnimationStartStyle(o,g.style)}if(f){var b=o.pan();g.startPan={x:b.x,y:b.y},g.startZoom=o.zoom()}this.length=1,this[0]=this},Oi=iy.prototype;qt(Oi,{instanceString:function(){return"animation"},hook:function(){var o=this._private;if(!o.hooked){var d=o.target._private.animation;(o.queue?d.queue:d.current).push(this),Ue(o.target)&&o.target.cy().addToAnimationPool(o.target),o.hooked=!0}return this},play:function(){var o=this._private;return 1===o.progress&&(o.progress=0),o.playing=!0,o.started=!1,o.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var o=this._private;return o.applying=!0,o.started=!1,o.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var o=this._private;return o.playing=!1,o.started=!1,this},stop:function(){var o=this._private;return o.playing=!1,o.started=!1,o.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(o){var u=this._private;return void 0===o?u.progress*u.duration:this.progress(o/u.duration)},progress:function(o){var u=this._private,d=u.playing;return void 0===o?u.progress:(d&&this.pause(),u.progress=o,u.started=!1,d&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var o=this._private,u=o.playing;u&&this.pause(),o.progress=1-o.progress,o.started=!1;var d=function(_,w){var x=o[_];null!=x&&(o[_]=o[w],o[w]=x)};if(d("zoom","startZoom"),d("pan","startPan"),d("position","startPosition"),o.style)for(var f=0;f<o.style.length;f++){var p=o.style[f],g=p.name,y=o.startStyle[g];o.startStyle[g]=p,o.style[f]=y}return u&&this.play(),this},promise:function(o){var d,u=this._private;return d="frame"===o?u.frames:u.completes,new tu(function(f,p){d.push(function(){f()})})}}),Oi.complete=Oi.completed,Oi.run=Oi.play,Oi.running=Oi.playing;var bA={data:function(o){return o=qt({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(f){},beforeSet:function(f,p){},onSet:function(f){},canSet:function(f){return!0}},o),function(f,p){var g=o,y=this,b=void 0!==y.length,_=b?y:[y],w=b?y[0]:y;if(Te(f)){var S,E=-1!==f.indexOf(".")&&st.default(f);if(g.allowGetting&&void 0===p)return w&&(g.beforeGet(w),S=E&&void 0===w._private[g.field][f]?Ce.default(w._private[g.field],E):w._private[g.field][f]),S;if(g.allowSetting&&void 0!==p&&!g.immutableKeys[f]){var A=et({},f,p);g.beforeSet(y,A);for(var I=0,R=_.length;I<R;I++){var F=_[I];g.canSet(F)&&(E&&void 0===w._private[g.field][f]?Ne.default(F._private[g.field],E,p):F._private[g.field][f]=p)}g.updateStyle&&y.updateStyle(),g.onSet(y),g.settingTriggersEvent&&y[g.triggerFnName](g.settingEvent)}}else if(g.allowSetting&&it(f)){var z,K,L=f,Z=Object.keys(L);g.beforeSet(y,L);for(var H=0;H<Z.length;H++)if(K=L[z=Z[H]],!g.immutableKeys[z])for(var U=0;U<_.length;U++){var X=_[U];g.canSet(X)&&(X._private[g.field][z]=K)}g.updateStyle&&y.updateStyle(),g.onSet(y),g.settingTriggersEvent&&y[g.triggerFnName](g.settingEvent)}else if(g.allowBinding&&ft(f))y.on(g.bindingEvent,f);else if(g.allowGetting&&void 0===f){var W;return w&&(g.beforeGet(w),W=w._private[g.field]),W}return y}},removeData:function(o){return o=qt({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},o),function(f){var p=o,g=this,b=void 0!==g.length?g:[g];if(Te(f)){for(var _=f.split(/\s+/),w=_.length,x=0;x<w;x++){var E=_[x];if(!vt(E)&&!p.immutableKeys[E])for(var M=0,A=b.length;M<A;M++)b[M]._private[p.field][E]=void 0}p.triggerEvent&&g[p.triggerFnName](p.event)}else if(void 0===f){for(var I=0,R=b.length;I<R;I++)for(var F=b[I]._private[p.field],L=Object.keys(F),z=0;z<L.length;z++){var K=L[z];!p.immutableKeys[K]&&(F[K]=void 0)}p.triggerEvent&&g[p.triggerFnName](p.event)}return g}}},Wh={eventAliasesOn:function(o){var u=o;u.addListener=u.listen=u.bind=u.on,u.unlisten=u.unbind=u.off=u.removeListener,u.trigger=u.emit,u.pon=u.promiseOn=function(d,f){var p=this,g=Array.prototype.slice.call(arguments,0);return new tu(function(y,b){var w=g.concat([function(S){p.off.apply(p,x),y(S)}]),x=w.concat([]);p.on.apply(p,w)})}}},Rn={};[{animated:function(){return function(){var u=this,f=void 0!==u.length?u:[u];if(!(this._private.cy||this).styleEnabled())return!1;var g=f[0];return g?g._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var u=this,f=void 0!==u.length?u:[u];if(!(this._private.cy||this).styleEnabled())return this;for(var g=0;g<f.length;g++)f[g]._private.animation.queue=[];return this}},delay:function(){return function(u,d){return(this._private.cy||this).styleEnabled()?this.animate({delay:u,duration:u,complete:d}):this}},delayAnimation:function(){return function(u,d){return(this._private.cy||this).styleEnabled()?this.animation({delay:u,duration:u,complete:d}):this}},animation:function(){return function(u,d){var f=this,p=void 0!==f.length,g=p?f:[f],y=this._private.cy||this,b=!p,_=!b;if(!y.styleEnabled())return this;var w=y.style();if(u=qt({},u,d),0===Object.keys(u).length)return new iy(g[0],u);switch(void 0===u.duration&&(u.duration=400),u.duration){case"slow":u.duration=600;break;case"fast":u.duration=200}if(_&&(u.style=w.getPropsList(u.style||u.css),u.css=void 0),_&&null!=u.renderedPosition){var E=u.renderedPosition,S=y.pan(),M=y.zoom();u.position=zo(E,M,S)}if(b&&null!=u.panBy){var A=u.panBy,I=y.pan();u.pan={x:I.x+A.x,y:I.y+A.y}}var R=u.center||u.centre;if(b&&null!=R){var F=y.getCenterPan(R.eles,u.zoom);null!=F&&(u.pan=F)}if(b&&null!=u.fit){var L=u.fit,z=y.getFitViewport(L.eles||L.boundingBox,L.padding);null!=z&&(u.pan=z.pan,u.zoom=z.zoom)}if(b&&it(u.zoom)){var K=y.getZoomedViewport(u.zoom);null!=K?(K.zoomed&&(u.zoom=K.zoom),K.panned&&(u.pan=K.pan)):u.zoom=null}return new iy(g[0],u)}},animate:function(){return function(u,d){var f=this,g=void 0!==f.length?f:[f];if(!(this._private.cy||this).styleEnabled())return this;d&&(u=qt({},u,d));for(var b=0;b<g.length;b++){var _=g[b],w=_.animated()&&(void 0===u.queue||u.queue);_.animation(u,w?{queue:!0}:void 0).play()}return this}},stop:function(){return function(u,d){var f=this,g=void 0!==f.length?f:[f],y=this._private.cy||this;if(!y.styleEnabled())return this;for(var b=0;b<g.length;b++){for(var w=g[b]._private,x=w.animation.current,E=0;E<x.length;E++)d&&(x[E]._private.duration=0);u&&(w.animation.queue=[]),d||(w.animation.current=[])}return y.notify("draw"),this}}},bA,Wh].forEach(function(c){qt(Rn,c)});var xC={animate:Rn.animate(),animation:Rn.animation(),animated:Rn.animated(),clearQueue:Rn.clearQueue(),delay:Rn.delay(),delayAnimation:Rn.delayAnimation(),stop:Rn.stop()},nu={classes:function(o){var u=this;if(void 0===o){var d=[];return u[0]._private.classes.forEach(function(M){return d.push(M)}),d}Mt(o)||(o=(o||"").match(/\S+/g)||[]);for(var f=[],p=new oi(o),g=0;g<u.length;g++){for(var y=u[g],b=y._private,_=b.classes,w=!1,x=0;x<o.length;x++)if(!_.has(o[x])){w=!0;break}w||(w=_.size!==o.length),w&&(b.classes=p,f.push(y))}return f.length>0&&this.spawn(f).updateStyle().emit("class"),u},addClass:function(o){return this.toggleClass(o,!0)},hasClass:function(o){var u=this[0];return null!=u&&u._private.classes.has(o)},toggleClass:function(o,u){Mt(o)||(o=o.match(/\S+/g)||[]);for(var d=this,f=void 0===u,p=[],g=0,y=d.length;g<y;g++)for(var b=d[g],_=b._private.classes,w=!1,x=0;x<o.length;x++){var E=o[x],S=_.has(E),M=!1;u||f&&!S?(_.add(E),M=!0):(!u||f&&S)&&(_.delete(E),M=!0),!w&&M&&(p.push(b),w=!0)}return p.length>0&&this.spawn(p).updateStyle().emit("class"),d},removeClass:function(o){return this.toggleClass(o,!1)},flashClass:function(o,u){var d=this;if(null==u)u=250;else if(0===u)return d;return d.addClass(o),setTimeout(function(){d.removeClass(o)},u),d}};nu.className=nu.classNames=nu.classes;var $n={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:Jn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};$n.variable="(?:[\\w-.]|(?:\\\\"+$n.metaChar+"))+",$n.className="(?:[\\w-]|(?:\\\\"+$n.metaChar+"))+",$n.value=$n.string+"|"+$n.number,$n.id=$n.variable,function(){var c,o,u;for(c=$n.comparatorOp.split("|"),u=0;u<c.length;u++)$n.comparatorOp+="|@"+(o=c[u]);for(c=$n.comparatorOp.split("|"),u=0;u<c.length;u++)!((o=c[u]).indexOf("!")>=0)&&"="!==o&&($n.comparatorOp+="|\\!"+o)}();var iu=[{selector:":selected",matches:function(o){return o.selected()}},{selector:":unselected",matches:function(o){return!o.selected()}},{selector:":selectable",matches:function(o){return o.selectable()}},{selector:":unselectable",matches:function(o){return!o.selectable()}},{selector:":locked",matches:function(o){return o.locked()}},{selector:":unlocked",matches:function(o){return!o.locked()}},{selector:":visible",matches:function(o){return o.visible()}},{selector:":hidden",matches:function(o){return!o.visible()}},{selector:":transparent",matches:function(o){return o.transparent()}},{selector:":grabbed",matches:function(o){return o.grabbed()}},{selector:":free",matches:function(o){return!o.grabbed()}},{selector:":removed",matches:function(o){return o.removed()}},{selector:":inside",matches:function(o){return!o.removed()}},{selector:":grabbable",matches:function(o){return o.grabbable()}},{selector:":ungrabbable",matches:function(o){return!o.grabbable()}},{selector:":animated",matches:function(o){return o.animated()}},{selector:":unanimated",matches:function(o){return!o.animated()}},{selector:":parent",matches:function(o){return o.isParent()}},{selector:":childless",matches:function(o){return o.isChildless()}},{selector:":child",matches:function(o){return o.isChild()}},{selector:":orphan",matches:function(o){return o.isOrphan()}},{selector:":nonorphan",matches:function(o){return o.isChild()}},{selector:":compound",matches:function(o){return o.isNode()?o.isParent():o.source().isParent()||o.target().isParent()}},{selector:":loop",matches:function(o){return o.isLoop()}},{selector:":simple",matches:function(o){return o.isSimple()}},{selector:":active",matches:function(o){return o.active()}},{selector:":inactive",matches:function(o){return!o.active()}},{selector:":backgrounding",matches:function(o){return o.backgrounding()}},{selector:":nonbackgrounding",matches:function(o){return!o.backgrounding()}}].sort(function(c,o){return function(o,u){return-1*io(o,u)}(c.selector,o.selector)}),DC=function(){for(var o,c={},u=0;u<iu.length;u++)c[(o=iu[u]).selector]=o.matches;return c}(),ry="("+iu.map(function(c){return c.selector}).join("|")+")",ll=function(o){return o.replace(new RegExp("\\\\("+$n.metaChar+")","g"),function(u,d){return d})},Zt=function(o,u,d){o[o.length-1]=d},qh=[{name:"group",query:!0,regex:"("+$n.group+")",populate:function(o,u,d){var p=xt(d,1)[0];u.checks.push({type:0,value:"*"===p?p:p+"s"})}},{name:"state",query:!0,regex:ry,populate:function(o,u,d){var f=xt(d,1);u.checks.push({type:7,value:f[0]})}},{name:"id",query:!0,regex:"\\#("+$n.id+")",populate:function(o,u,d){var f=xt(d,1);u.checks.push({type:8,value:ll(f[0])})}},{name:"className",query:!0,regex:"\\.("+$n.className+")",populate:function(o,u,d){var f=xt(d,1);u.checks.push({type:9,value:ll(f[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+$n.variable+")\\s*\\]",populate:function(o,u,d){var f=xt(d,1);u.checks.push({type:4,field:ll(f[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+$n.variable+")\\s*("+$n.comparatorOp+")\\s*("+$n.value+")\\s*\\]",populate:function(o,u,d){var f=xt(d,3),p=f[0],g=f[1],y=f[2];y=null!=new RegExp("^"+$n.string+"$").exec(y)?y.substring(1,y.length-1):parseFloat(y),u.checks.push({type:3,field:ll(p),operator:g,value:y})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+$n.boolOp+")\\s*("+$n.variable+")\\s*\\]",populate:function(o,u,d){var f=xt(d,2),p=f[0];u.checks.push({type:5,field:ll(f[1]),operator:p})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+$n.meta+")\\s*("+$n.comparatorOp+")\\s*("+$n.number+")\\s*\\]\\]",populate:function(o,u,d){var f=xt(d,3),g=f[1],y=f[2];u.checks.push({type:6,field:ll(f[0]),operator:g,value:parseFloat(y)})}},{name:"nextQuery",separator:!0,regex:$n.separator,populate:function(o,u){var d=o.currentSubject,f=o.edgeCount,p=o.compoundCount,g=o[o.length-1];return null!=d&&(g.subject=d,o.currentSubject=null),g.edgeCount=f,g.compoundCount=p,o.edgeCount=0,o.compoundCount=0,o[o.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:$n.directedEdge,populate:function(o,u){if(null==o.currentSubject){var d={checks:[]},p={checks:[]};return d.checks.push({type:11,source:u,target:p}),Zt(o,0,d),o.edgeCount++,p}var g={checks:[]},b={checks:[]};return g.checks.push({type:12,source:u,target:b}),Zt(o,0,g),o.edgeCount++,b}},{name:"undirectedEdge",separator:!0,regex:$n.undirectedEdge,populate:function(o,u){if(null==o.currentSubject){var d={checks:[]},p={checks:[]};return d.checks.push({type:10,nodes:[u,p]}),Zt(o,0,d),o.edgeCount++,p}var g={checks:[]},b={checks:[]};return g.checks.push({type:14,node:u,neighbor:b}),Zt(o,0,g),b}},{name:"child",separator:!0,regex:$n.child,populate:function(o,u){if(null==o.currentSubject){var d={checks:[]},f={checks:[]};return d.checks.push({type:15,parent:o[o.length-1],child:f}),Zt(o,0,d),o.compoundCount++,f}if(o.currentSubject===u){var g={checks:[]},b={checks:[]},_={checks:[]},w={checks:[]},x={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:b,subject:_}),_.checks=u.checks,u.checks=[{type:20}],x.checks.push({type:20}),b.checks.push({type:17,parent:x,child:w}),Zt(o,0,g),o.currentSubject=_,o.compoundCount++,w}var E={checks:[]},S={checks:[]},M=[{type:17,parent:E,child:S}];return E.checks=u.checks,u.checks=M,o.compoundCount++,S}},{name:"descendant",separator:!0,regex:$n.descendant,populate:function(o,u){if(null==o.currentSubject){var d={checks:[]},f={checks:[]};return d.checks.push({type:16,ancestor:o[o.length-1],descendant:f}),Zt(o,0,d),o.compoundCount++,f}if(o.currentSubject===u){var g={checks:[]},b={checks:[]},_={checks:[]},w={checks:[]},x={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:b,subject:_}),_.checks=u.checks,u.checks=[{type:20}],x.checks.push({type:20}),b.checks.push({type:18,ancestor:x,descendant:w}),Zt(o,0,g),o.currentSubject=_,o.compoundCount++,w}var E={checks:[]},S={checks:[]},M=[{type:18,ancestor:E,descendant:S}];return E.checks=u.checks,u.checks=M,o.compoundCount++,S}},{name:"subject",modifier:!0,regex:$n.subject,populate:function(o,u){if(null!=o.currentSubject&&o.currentSubject!==u)return ei("Redefinition of subject in selector `"+o.toString()+"`"),!1;o.currentSubject=u;var f=o[o.length-1].checks[0],p=null==f?null:f.type;11===p?f.type=13:10===p&&(f.type=14,f.node=f.nodes[1],f.neighbor=f.nodes[0],f.nodes=null)}}];qh.forEach(function(c){return c.regexObj=new RegExp("^"+c.regex)});var wA=function(o){for(var u,d,f,p=0;p<qh.length;p++){var g=qh[p],y=g.name,b=o.match(g.regexObj);if(null!=b){d=b,u=g,f=y,o=o.substring(b[0].length);break}}return{expr:u,match:d,name:f,remaining:o}},sy={parse:function(o){var u=this,d=u.inputText=o,f=u[0]={checks:[]};for(u.length=1,d=function(o){var u=o.match(/^\s+/);return u&&(o=o.substring(u[0].length)),o}(d);;){var p=wA(d);if(null==p.expr)return ei("The selector `"+o+"`is invalid"),!1;var g=p.match.slice(1),y=p.expr.populate(u,f,g);if(!1===y)return!1;if(null!=y&&(f=y),(d=p.remaining).match(/^\s*$/))break}var b=u[u.length-1];null!=u.currentSubject&&(b.subject=u.currentSubject),b.edgeCount=u.edgeCount,b.compoundCount=u.compoundCount;for(var _=0;_<u.length;_++){var w=u[_];if(w.compoundCount>0&&w.edgeCount>0)return ei("The selector `"+o+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(w.edgeCount>1)return ei("The selector `"+o+"` is invalid because it uses multiple edge selectors"),!1;1===w.edgeCount&&ei("The selector `"+o+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var o=function(w){return w??""},u=function(w){return Te(w)?'"'+w+'"':o(w)},d=function(w){return" "+w+" "},p=function(w,x){return w.checks.reduce(function(E,S,M){return E+(x===w&&0===M?"$":"")+function(w,x){var S=w.value;switch(w.type){case 0:var M=o(S);return M.substring(0,M.length-1);case 3:return"["+w.field+d(o(w.operator))+u(S)+"]";case 5:var F=w.field;return"["+o(w.operator)+F+"]";case 4:return"["+w.field+"]";case 6:return"[["+w.field+d(o(w.operator))+u(S)+"]]";case 7:return S;case 8:return"#"+S;case 9:return"."+S;case 17:case 15:return p(w.parent,x)+d(">")+p(w.child,x);case 18:case 16:return p(w.ancestor,x)+" "+p(w.descendant,x);case 19:var Z=p(w.left,x),H=p(w.subject,x),Y=p(w.right,x);return Z+(Z.length>0?" ":"")+H+Y;case 20:return""}}(S,x)},"")},g="",y=0;y<this.length;y++){var b=this[y];g+=p(b,b.subject),this.length>1&&y<this.length-1&&(g+=", ")}return this.toStringCache=g,g}},oy=function(o,u,d){var f,b,_,p=Te(o),g=Fe(o),y=Te(d),w=!1,x=!1,E=!1;switch(u.indexOf("!")>=0&&(u=u.replace("!",""),x=!0),u.indexOf("@")>=0&&(u=u.replace("@",""),w=!0),(p||y||w)&&(b=p||g?""+o:"",_=""+d),w&&(o=b=b.toLowerCase(),d=_=_.toLowerCase()),u){case"*=":f=b.indexOf(_)>=0;break;case"$=":f=b.indexOf(_,b.length-_.length)>=0;break;case"^=":f=0===b.indexOf(_);break;case"=":f=o===d;break;case">":E=!0,f=o>d;break;case">=":E=!0,f=o>=d;break;case"<":E=!0,f=o<d;break;case"<=":E=!0,f=o<=d;break;default:f=!1}return x&&(null!=o||!E)&&(f=!f),f},Yn=function(o,u){return o.data(u)},ti=[],Cn=function(o,u){return o.checks.every(function(d){return ti[d.type](d,u)})};ti[0]=function(c,o){var u=c.value;return"*"===u||u===o.group()},ti[7]=function(c,o){return function(o,u){return DC[o](u)}(c.value,o)},ti[8]=function(c,o){var u=c.value;return o.id()===u},ti[9]=function(c,o){return o.hasClass(c.value)},ti[6]=function(c,o){var d=c.operator,f=c.value;return oy(function(o,u){return o[u]()}(o,c.field),d,f)},ti[3]=function(c,o){var d=c.operator,f=c.value;return oy(Yn(o,c.field),d,f)},ti[5]=function(c,o){var d=c.operator;return function(o,u){switch(u){case"?":return!!o;case"!":return!o;case"^":return void 0===o}}(Yn(o,c.field),d)},ti[4]=function(c,o){return function(o){return void 0!==o}(Yn(o,c.field))},ti[10]=function(c,o){var u=c.nodes[0],d=c.nodes[1],f=o.source(),p=o.target();return Cn(u,f)&&Cn(d,p)||Cn(d,f)&&Cn(u,p)},ti[14]=function(c,o){return Cn(c.node,o)&&o.neighborhood().some(function(u){return u.isNode()&&Cn(c.neighbor,u)})},ti[11]=function(c,o){return Cn(c.source,o.source())&&Cn(c.target,o.target())},ti[12]=function(c,o){return Cn(c.source,o)&&o.outgoers().some(function(u){return u.isNode()&&Cn(c.target,u)})},ti[13]=function(c,o){return Cn(c.target,o)&&o.incomers().some(function(u){return u.isNode()&&Cn(c.source,u)})},ti[15]=function(c,o){return Cn(c.child,o)&&Cn(c.parent,o.parent())},ti[17]=function(c,o){return Cn(c.parent,o)&&o.children().some(function(u){return Cn(c.child,u)})},ti[16]=function(c,o){return Cn(c.descendant,o)&&o.ancestors().some(function(u){return Cn(c.ancestor,u)})},ti[18]=function(c,o){return Cn(c.ancestor,o)&&o.descendants().some(function(u){return Cn(c.descendant,u)})},ti[19]=function(c,o){return Cn(c.subject,o)&&Cn(c.left,o)&&Cn(c.right,o)},ti[20]=function(){return!0},ti[1]=function(c,o){return c.value.has(o)},ti[2]=function(c,o){return(0,c.value)(o)};var jo={matches:function(o){for(var d=0;d<this.length;d++)if(Cn(this[d],o))return!0;return!1},filter:function(o){var u=this;if(1===u.length&&1===u[0].checks.length&&8===u[0].checks[0].type)return o.getElementById(u[0].checks[0].value).collection();var d=function(p){for(var g=0;g<u.length;g++)if(Cn(u[g],p))return!0;return!1};return null==u.text()&&(d=function(){return!0}),o.filter(d)}},Uo=function(o){this.inputText=o,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==o||Te(o)&&o.match(/^\s*$/)||(Ue(o)?this.addQuery({checks:[{type:1,value:o.collection()}]}):ft(o)?this.addQuery({checks:[{type:2,value:o}]}):Te(o)?this.parse(o)||(this.invalid=!0):Fi("A selector must be created from a string; found "))},Go=Uo.prototype;[sy,jo].forEach(function(c){return qt(Go,c)}),Go.text=function(){return this.inputText},Go.size=function(){return this.length},Go.eq=function(c){return this[c]},Go.sameText=function(c){return!this.invalid&&!c.invalid&&this.text()===c.text()},Go.addQuery=function(c){this[this.length++]=c},Go.selector=Go.toString;var Gl={allAre:function(o){var u=new Uo(o);return this.every(function(d){return u.matches(d)})},is:function(o){var u=new Uo(o);return this.some(function(d){return u.matches(d)})},some:function(o,u){for(var d=0;d<this.length;d++)if(u?o.apply(u,[this[d],d,this]):o(this[d],d,this))return!0;return!1},every:function(o,u){for(var d=0;d<this.length;d++)if(!(u?o.apply(u,[this[d],d,this]):o(this[d],d,this)))return!1;return!0},same:function(o){if(this===o)return!0;o=this.cy().collection(o);var u=this.length;return u===o.length&&(1===u?this[0]===o[0]:this.every(function(f){return o.hasElementWithId(f.id())}))},anySame:function(o){return o=this.cy().collection(o),this.some(function(u){return o.hasElementWithId(u.id())})},allAreNeighbors:function(o){o=this.cy().collection(o);var u=this.neighborhood();return o.every(function(d){return u.hasElementWithId(d.id())})},contains:function(o){o=this.cy().collection(o);var u=this;return o.every(function(d){return u.hasElementWithId(d.id())})}};Gl.allAreNeighbours=Gl.allAreNeighbors,Gl.has=Gl.contains,Gl.equal=Gl.equals=Gl.same;var qo,Ko,ao=function(o,u){return function(f,p,g,y){var w,b=f,_=this;if(null==b?w="":Ue(b)&&1===b.length&&(w=b.id()),1===_.length&&w){var x=_[0]._private,E=x.traversalCache=x.traversalCache||{},S=E[u]=E[u]||[],M=el(w);return S[M]||(S[M]=o.call(_,f,p,g,y))}return o.call(_,f,p,g,y)}},od={parent:function(o){var u=[];if(1===this.length){var d=this[0]._private.parent;if(d)return d}for(var f=0;f<this.length;f++){var g=this[f]._private.parent;g&&u.push(g)}return this.spawn(u,!0).filter(o)},parents:function(o){for(var u=[],d=this.parent();d.nonempty();){for(var f=0;f<d.length;f++)u.push(d[f]);d=d.parent()}return this.spawn(u,!0).filter(o)},commonAncestors:function(o){for(var u,d=0;d<this.length;d++){var p=this[d].parents();u=(u=u||p).intersect(p)}return u.filter(o)},orphans:function(o){return this.stdFilter(function(u){return u.isOrphan()}).filter(o)},nonorphans:function(o){return this.stdFilter(function(u){return u.isChild()}).filter(o)},children:ao(function(c){for(var o=[],u=0;u<this.length;u++)for(var f=this[u]._private.children,p=0;p<f.length;p++)o.push(f[p]);return this.spawn(o,!0).filter(c)},"children"),siblings:function(o){return this.parent().children().not(this).filter(o)},isParent:function(){var o=this[0];if(o)return o.isNode()&&0!==o._private.children.length},isChildless:function(){var o=this[0];if(o)return o.isNode()&&0===o._private.children.length},isChild:function(){var o=this[0];if(o)return o.isNode()&&null!=o._private.parent},isOrphan:function(){var o=this[0];if(o)return o.isNode()&&null==o._private.parent},descendants:function(o){var u=[];return function d(f){for(var p=0;p<f.length;p++){var g=f[p];u.push(g),g.children().nonempty()&&d(g.children())}}(this.children()),this.spawn(u,!0).filter(o)}};function Kh(c,o,u,d){for(var f=[],p=new oi,y=c.cy().hasCompoundNodes(),b=0;b<c.length;b++){var _=c[b];u?f.push(_):y&&d(f,p,_)}for(;f.length>0;){var w=f.shift();o(w),p.add(w.id()),y&&d(f,p,w)}return c}function rs(c,o,u){if(u.isParent())for(var d=u._private.children,f=0;f<d.length;f++){var p=d[f];o.has(p.id())||c.push(p)}}function Wo(c,o,u){if(u.isChild()){var d=u._private.parent;o.has(d.id())||c.push(d)}}function ly(c,o,u){Wo(c,o,u),rs(c,o,u)}od.forEachDown=function(c){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Kh(this,c,o,rs)},od.forEachUp=function(c){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Kh(this,c,o,Wo)},od.forEachUpAndDown=function(c){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Kh(this,c,o,ly)},od.ancestors=od.parents,qo=Ko={data:Rn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Rn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Rn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Rn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Rn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Rn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var o=this[0];if(o)return o._private.data.id}},qo.attr=qo.data,qo.removeAttr=qo.removeData;var AC=Ko,ad={};function eg(c){return function(o){var u=this;if(void 0===o&&(o=!0),0===u.length);else if(u.isNode()&&!u.removed()){for(var d=0,f=u[0],p=f._private.edges,g=0;g<p.length;g++){var y=p[g];!o&&y.isLoop()||(d+=c(f,y))}return d}}}function ru(c,o){return function(u){for(var d,f=this.nodes(),p=0;p<f.length;p++){var y=f[p][c](u);void 0!==y&&(void 0===d||o(y,d))&&(d=y)}return d}}qt(ad,{degree:eg(function(c,o){return o.source().same(o.target())?2:1}),indegree:eg(function(c,o){return o.target().same(c)?1:0}),outdegree:eg(function(c,o){return o.source().same(c)?1:0})}),qt(ad,{minDegree:ru("degree",function(c,o){return c<o}),maxDegree:ru("degree",function(c,o){return c>o}),minIndegree:ru("indegree",function(c,o){return c<o}),maxIndegree:ru("indegree",function(c,o){return c>o}),minOutdegree:ru("outdegree",function(c,o){return c<o}),maxOutdegree:ru("outdegree",function(c,o){return c>o})}),qt(ad,{totalDegree:function(o){for(var u=0,d=this.nodes(),f=0;f<d.length;f++)u+=d[f].degree(o);return u}});var js,Yh,tg=function(o,u,d){for(var f=0;f<o.length;f++){var p=o[f];if(!p.locked()){var g=p._private.position,y={x:null!=u.x?u.x-g.x:0,y:null!=u.y?u.y-g.y:0};p.isParent()&&!(0===y.x&&0===y.y)&&p.children().shift(y,d),p.dirtyBoundingBoxCache()}}},Zh={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(o){o.updateCompoundBounds()},beforeSet:function(o,u){tg(o,u,!1)},onSet:function(o){o.dirtyCompoundBoundsCache()},canSet:function(o){return!o.locked()}};js=Yh={position:Rn.data(Zh),silentPosition:Rn.data(qt({},Zh,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(o,u){tg(o,u,!0)},onSet:function(o){o.dirtyCompoundBoundsCache()}})),positions:function(o,u){if(it(o))u?this.silentPosition(o):this.position(o);else if(ft(o)){var d=o,f=this.cy();f.startBatch();for(var p=0;p<this.length;p++){var y,g=this[p];(y=d(g,p))&&(u?g.silentPosition(y):g.position(y))}f.endBatch()}return this},silentPositions:function(o){return this.positions(o,!0)},shift:function(o,u,d){var f;if(it(o)?(f={x:Fe(o.x)?o.x:0,y:Fe(o.y)?o.y:0},d=u):Te(o)&&Fe(u)&&((f={x:0,y:0})[o]=u),null!=f){var p=this.cy();p.startBatch();for(var g=0;g<this.length;g++){var y=this[g];if(!(p.hasCompoundNodes()&&y.isChild()&&y.ancestors().anySame(this))){var b=y.position(),_={x:b.x+f.x,y:b.y+f.y};d?y.silentPosition(_):y.position(_)}}p.endBatch()}return this},silentShift:function(o,u){return it(o)?this.shift(o,!0):Te(o)&&Fe(u)&&this.shift(o,u,!0),this},renderedPosition:function(o,u){var d=this[0],f=this.cy(),p=f.zoom(),g=f.pan(),y=it(o)?o:void 0,b=void 0!==y||void 0!==u&&Te(o);if(d&&d.isNode()){if(!b){var x=d.position();return y=Gp(x,p,g),void 0===o?y:y[o]}for(var _=0;_<this.length;_++){var w=this[_];void 0!==u?w.position(o,(u-g[o])/p):void 0!==y&&w.position(zo(y,p,g))}}else if(!b)return;return this},relativePosition:function(o,u){var d=this[0],f=this.cy(),p=it(o)?o:void 0,g=void 0!==p||void 0!==u&&Te(o),y=f.hasCompoundNodes();if(d&&d.isNode()){if(!g){var M=d.position(),A=y?d.parent():null,I=A&&A.length>0;I&&(A=A[0]);var F=I?A.position():{x:0,y:0};return p={x:M.x-F.x,y:M.y-F.y},void 0===o?p:p[o]}for(var b=0;b<this.length;b++){var _=this[b],w=y?_.parent():null,x=w&&w.length>0;x&&(w=w[0]);var S=x?w.position():{x:0,y:0};void 0!==u?_.position(o,u+S[o]):void 0!==p&&_.position({x:p.x+S.x,y:p.y+S.y})}}else if(!g)return;return this}},js.modelPosition=js.point=js.position,js.modelPositions=js.points=js.positions,js.renderedPoint=js.renderedPosition,js.relativePoint=js.relativePosition;var Wl,Yo,kC=Yh;Wl=Yo={},Yo.renderedBoundingBox=function(c){var o=this.boundingBox(c),u=this.cy(),d=u.zoom(),f=u.pan(),p=o.x1*d+f.x,g=o.x2*d+f.x,y=o.y1*d+f.y,b=o.y2*d+f.y;return{x1:p,x2:g,y1:y,y2:b,w:g-p,h:b-y}},Yo.dirtyCompoundBoundsCache=function(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();return o.styleEnabled()&&o.hasCompoundNodes()?(this.forEachUp(function(u){if(u.isParent()){var d=u._private;d.compoundBoundsClean=!1,d.bbCache=null,c||u.emitAndNotify("bounds")}}),this):this},Yo.updateCompoundBounds=function(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();if(!o.styleEnabled()||!o.hasCompoundNodes())return this;if(!c&&o.batching())return this;function u(g){if(g.isParent()){var y=g._private,b=g.children(),_="include"===g.pstyle("compound-sizing-wrt-labels").value,w={width:{val:g.pstyle("min-width").pfValue,left:g.pstyle("min-width-bias-left"),right:g.pstyle("min-width-bias-right")},height:{val:g.pstyle("min-height").pfValue,top:g.pstyle("min-height-bias-top"),bottom:g.pstyle("min-height-bias-bottom")}},x=b.boundingBox({includeLabels:_,includeOverlays:!1,useCache:!1}),E=y.position;(0===x.w||0===x.h)&&((x={w:g.pstyle("width").pfValue,h:g.pstyle("height").pfValue}).x1=E.x-x.w/2,x.x2=E.x+x.w/2,x.y1=E.y-x.h/2,x.y2=E.y+x.h/2);var A=w.width.left.value;"px"===w.width.left.units&&w.width.val>0&&(A=100*A/w.width.val);var I=w.width.right.value;"px"===w.width.right.units&&w.width.val>0&&(I=100*I/w.width.val);var R=w.height.top.value;"px"===w.height.top.units&&w.height.val>0&&(R=100*R/w.height.val);var F=w.height.bottom.value;"px"===w.height.bottom.units&&w.height.val>0&&(F=100*F/w.height.val);var L=S(w.width.val-x.w,A,I),z=L.biasDiff,K=L.biasComplementDiff,Z=S(w.height.val-x.h,R,F),H=Z.biasDiff,Y=Z.biasComplementDiff;y.autoPadding=function M(U,X,J,W){if("%"!==J.units)return"px"===J.units?J.pfValue:0;switch(W){case"width":return U>0?J.pfValue*U:0;case"height":return X>0?J.pfValue*X:0;case"average":return U>0&&X>0?J.pfValue*(U+X)/2:0;case"min":return U>0&&X>0?U>X?J.pfValue*X:J.pfValue*U:0;case"max":return U>0&&X>0?U>X?J.pfValue*U:J.pfValue*X:0;default:return 0}}(x.w,x.h,g.pstyle("padding"),g.pstyle("padding-relative-to").value),y.autoWidth=Math.max(x.w,w.width.val),E.x=(-z+x.x1+x.x2+K)/2,y.autoHeight=Math.max(x.h,w.height.val),E.y=(-H+x.y1+x.y2+Y)/2}function S(U,X,J){var W=0,oe=0,Q=X+J;return U>0&&Q>0&&(W=X/Q*U,oe=J/Q*U),{biasDiff:W,biasComplementDiff:oe}}}for(var d=0;d<this.length;d++){var f=this[d],p=f._private;(!p.compoundBoundsClean||c)&&(u(f),o.batching()||(p.compoundBoundsClean=!0))}return this};var Us=function(o){return o===1/0||o===-1/0?0:o},lo=function(o,u,d,f,p){f-u==0||p-d==0||null==u||null==d||null==f||null==p||(o.x1=u<o.x1?u:o.x1,o.x2=f>o.x2?f:o.x2,o.y1=d<o.y1?d:o.y1,o.y2=p>o.y2?p:o.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1)},cl=function(o,u){return null==u?o:lo(o,u.x1,u.y1,u.x2,u.y2)},su=function(o,u,d){return ui(o,u,d)},ou=function(o,u,d){if(!u.cy().headless()){var b,_,f=u._private,p=f.rstyle,g=p.arrowWidth/2;if("none"!==u.pstyle(d+"-arrow-shape").value){"source"===d?(b=p.srcX,_=p.srcY):"target"===d?(b=p.tgtX,_=p.tgtY):(b=p.midX,_=p.midY);var w=f.arrowBounds=f.arrowBounds||{},x=w[d]=w[d]||{};x.x1=b-g,x.y1=_-g,x.x2=b+g,x.y2=_+g,x.w=x.x2-x.x1,x.h=x.y2-x.y1,Ju(x,1),lo(o,x.x1,x.y1,x.x2,x.y2)}}},ng=function(o,u,d){if(!u.cy().headless()){var f,p=u._private,g=p.rstyle;if(u.pstyle((f=d?d+"-":"")+"label").strValue){var J,W,oe,Q,b=u.pstyle("text-halign"),_=u.pstyle("text-valign"),w=su(g,"labelWidth",d),x=su(g,"labelHeight",d),E=su(g,"labelX",d),S=su(g,"labelY",d),M=u.pstyle(f+"text-margin-x").pfValue,A=u.pstyle(f+"text-margin-y").pfValue,I=u.isEdge(),R=u.pstyle(f+"text-rotation"),F=u.pstyle("text-outline-width").pfValue,z=u.pstyle("text-border-width").pfValue/2,K=u.pstyle("text-background-padding").pfValue,H=x,Y=w,U=Y/2,X=H/2;if(I)J=E-U,W=E+U,oe=S-X,Q=S+X;else{switch(b.value){case"left":J=E-Y,W=E;break;case"center":J=E-U,W=E+U;break;case"right":J=E,W=E+Y}switch(_.value){case"top":oe=S-H,Q=S;break;case"center":oe=S-X,Q=S+X;break;case"bottom":oe=S,Q=S+H}}J+=M-Math.max(F,z)-K-2,W+=M+Math.max(F,z)+K+2,oe+=A-Math.max(F,z)-K-2,Q+=A+Math.max(F,z)+K+2;var me=d||"main",ae=p.labelBounds,ce=ae[me]=ae[me]||{};ce.x1=J,ce.y1=oe,ce.x2=W,ce.y2=Q,ce.w=W-J,ce.h=Q-oe;var be=I&&"autorotate"===R.strValue;if(be||null!=R.pfValue&&0!==R.pfValue){var Oe=be?su(p.rstyle,"labelAngle",d):R.pfValue,De=Math.cos(Oe),Ie=Math.sin(Oe),We=(J+W)/2,Ye=(oe+Q)/2;if(!I){switch(b.value){case"left":We=W;break;case"right":We=J}switch(_.value){case"top":Ye=Q;break;case"bottom":Ye=oe}}var Ge=function(vn,wt){return{x:(vn-=We)*De-(wt-=Ye)*Ie+We,y:vn*Ie+wt*De+Ye}},Re=Ge(J,oe),ye=Ge(J,Q),qe=Ge(W,oe),Je=Ge(W,Q);J=Math.min(Re.x,ye.x,qe.x,Je.x),W=Math.max(Re.x,ye.x,qe.x,Je.x),oe=Math.min(Re.y,ye.y,qe.y,Je.y),Q=Math.max(Re.y,ye.y,qe.y,Je.y)}var nt=me+"Rot",gt=ae[nt]=ae[nt]||{};gt.x1=J,gt.y1=oe,gt.x2=W,gt.y2=Q,gt.w=W-J,gt.h=Q-oe,lo(o,J,oe,W,Q),lo(p.labelBounds.all,J,oe,W,Q)}return o}},ss=function(o){var u=0,d=function(g){return(g?1:0)<<u++},f=0;return f+=d(o.incudeNodes),f+=d(o.includeEdges),f+=d(o.includeLabels),f+=d(o.includeMainLabels),f+=d(o.includeSourceLabels),(f+=d(o.includeTargetLabels))+d(o.includeOverlays)},xa=function(o){if(o.isEdge()){var u=o.source().position(),d=o.target().position(),f=function(g){return Math.round(g)};return function(o,u){var d={value:0,done:!1},f=0,p=o.length;return Hp({next:function(){return f<p?d.value=o[f++]:d.done=!0,d}},void 0)}([f(u.x),f(u.y),f(d.x),f(d.y)])}return 0},Hi=function(o,u){var f,d=o._private,p=o.isEdge(),y=(null==u?cy:ss(u))===cy,b=xa(o),_=d.bbCachePosKey===b,w=u.useCache&&_,x=function(A){return null==A._private.bbCache||A._private.styleDirty};if(!w||x(o)||p&&x(o.source())||x(o.target())?(_||o.recalculateRenderedStyle(w),f=function(o,u){var w,x,E,S,M,A,d=o._private.cy,f=d.styleEnabled(),p=d.headless(),g=Wr(),y=o._private,b=o.isNode(),_=o.isEdge(),I=y.rstyle,R=b&&f?o.pstyle("bounds-expansion").pfValue:[0],F=function(Ut){return"none"!==Ut.pstyle("display").value},L=!f||F(o)&&(!_||F(o.source())&&F(o.target()));if(L){var K=0;f&&u.includeOverlays&&0!==o.pstyle("overlay-opacity").value&&(K=o.pstyle("overlay-padding").value);var H=0;f&&u.includeUnderlays&&0!==o.pstyle("underlay-opacity").value&&(H=o.pstyle("underlay-padding").value);var Y=Math.max(K,H),X=0;if(f&&(X=o.pstyle("width").pfValue/2),b&&u.includeNodes){var J=o.position();M=J.x,A=J.y;var oe=o.outerWidth()/2,me=o.outerHeight()/2;lo(g,w=M-oe,E=A-me,x=M+oe,S=A+me)}else if(_&&u.includeEdges)if(f&&!p){var ae=o.pstyle("curve-style").strValue;if(w=Math.min(I.srcX,I.midX,I.tgtX),x=Math.max(I.srcX,I.midX,I.tgtX),E=Math.min(I.srcY,I.midY,I.tgtY),S=Math.max(I.srcY,I.midY,I.tgtY),lo(g,w-=X,E-=X,x+=X,S+=X),"haystack"===ae){var ce=I.haystackPts;if(ce&&2===ce.length){if((w=ce[0].x)>(x=ce[1].x)){var be=w;w=x,x=be}if((E=ce[0].y)>(S=ce[1].y)){var Se=E;E=S,S=Se}lo(g,w-X,E-X,x+X,S+X)}}else if("bezier"===ae||"unbundled-bezier"===ae||"segments"===ae||"taxi"===ae){var Oe;switch(ae){case"bezier":case"unbundled-bezier":Oe=I.bezierPts;break;case"segments":case"taxi":Oe=I.linePts}if(null!=Oe)for(var De=0;De<Oe.length;De++){var Ie=Oe[De];lo(g,w=Ie.x-X,E=Ie.y-X,x=Ie.x+X,S=Ie.y+X)}}}else{var Ye=o.source().position(),Re=o.target().position();if((w=Ye.x)>(x=Re.x)){var ye=w;w=x,x=ye}if((E=Ye.y)>(S=Re.y)){var qe=E;E=S,S=qe}lo(g,w-=X,E-=X,x+=X,S+=X)}if(f&&u.includeEdges&&_&&(ou(g,o,"mid-source"),ou(g,o,"mid-target"),ou(g,o,"source"),ou(g,o,"target")),f&&"yes"===o.pstyle("ghost").value){var nt=o.pstyle("ghost-offset-x").pfValue,gt=o.pstyle("ghost-offset-y").pfValue;lo(g,g.x1+nt,g.y1+gt,g.x2+nt,g.y2+gt)}var nn=y.bodyBounds=y.bodyBounds||{};Ph(nn,g),Gc(nn,R),Ju(nn,1),f&&lo(g,(w=g.x1)-Y,(E=g.y1)-Y,(x=g.x2)+Y,(S=g.y2)+Y);var vn=y.overlayBounds=y.overlayBounds||{};Ph(vn,g),Gc(vn,R),Ju(vn,1);var wt=y.labelBounds=y.labelBounds||{};null!=wt.all?function(o){o.x1=1/0,o.y1=1/0,o.x2=-1/0,o.y2=-1/0,o.w=0,o.h=0}(wt.all):wt.all=Wr(),f&&u.includeLabels&&(u.includeMainLabels&&ng(g,o,null),_&&(u.includeSourceLabels&&ng(g,o,"source"),u.includeTargetLabels&&ng(g,o,"target")))}return g.x1=Us(g.x1),g.y1=Us(g.y1),g.x2=Us(g.x2),g.y2=Us(g.y2),g.w=Us(g.x2-g.x1),g.h=Us(g.y2-g.y1),g.w>0&&g.h>0&&L&&(Gc(g,R),Ju(g,1)),g}(o,Zo),d.bbCache=f,d.bbCachePosKey=b):f=d.bbCache,!y){var S=o.isNode();f=Wr(),(u.includeNodes&&S||u.includeEdges&&!S)&&cl(f,u.includeOverlays?d.overlayBounds:d.bodyBounds),u.includeLabels&&(u.includeMainLabels&&(!p||u.includeSourceLabels&&u.includeTargetLabels)?cl(f,d.labelBounds.all):(u.includeMainLabels&&cl(f,d.labelBounds.mainRot),u.includeSourceLabels&&cl(f,d.labelBounds.sourceRot),u.includeTargetLabels&&cl(f,d.labelBounds.targetRot))),f.w=f.x2-f.x1,f.h=f.y2-f.y1}return f},Zo={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},cy=ss(Zo),Xh=Ur(Zo);Yo.boundingBox=function(c){var o;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==c&&void 0!==c.useCache&&!0!==c.useCache){o=Wr();var u=Xh(c=c||Zo),d=this;if(d.cy().styleEnabled())for(var g=0;g<d.length;g++){var y=d[g],b=y._private,_=xa(y);y.recalculateRenderedStyle(u.useCache&&b.bbCachePosKey===_&&!b.styleDirty)}this.updateCompoundBounds(!c.useCache);for(var E=0;E<d.length;E++)cl(o,Hi(d[E],u))}else c=void 0===c?Zo:Xh(c),o=Hi(this[0],c);return o.x1=Us(o.x1),o.y1=Us(o.y1),o.x2=Us(o.x2),o.y2=Us(o.y2),o.w=Us(o.x2-o.x1),o.h=Us(o.y2-o.y1),o},Yo.dirtyBoundingBoxCache=function(){for(var c=0;c<this.length;c++){var o=this[c]._private;o.bbCache=null,o.bbCachePosKey=null,o.bodyBounds=null,o.overlayBounds=null,o.labelBounds.all=null,o.labelBounds.source=null,o.labelBounds.target=null,o.labelBounds.main=null,o.labelBounds.sourceRot=null,o.labelBounds.targetRot=null,o.labelBounds.mainRot=null,o.arrowBounds.source=null,o.arrowBounds.target=null,o.arrowBounds["mid-source"]=null,o.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Yo.boundingBoxAt=function(c){var o=this.nodes(),u=this.cy(),d=u.hasCompoundNodes(),f=u.collection();if(d&&(f=o.filter(function(_){return _.isParent()}),o=o.not(f)),it(c)){var p=c;c=function(){return p}}u.startBatch(),o.forEach(function(w,x){return w._private.bbAtOldPos=c(w,x)}).silentPositions(c),d&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0));var b=function(o){return{x1:o.x1,x2:o.x2,w:o.w,y1:o.y1,y2:o.y2,h:o.h}}(this.boundingBox({useCache:!1}));return o.silentPositions(function(w){return w._private.bbAtOldPos}),d&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0)),u.endBatch(),b},Wl.boundingbox=Wl.bb=Wl.boundingBox,Wl.renderedBoundingbox=Wl.renderedBoundingBox;var ld,cd,RC=Yo;ld=cd={};var ud=function(o){o.uppercaseName=ts(o.name),o.autoName="auto"+o.uppercaseName,o.labelName="label"+o.uppercaseName,o.outerName="outer"+o.uppercaseName,o.uppercaseOuterName=ts(o.outerName),ld[o.name]=function(){var d=this[0],f=d._private;if(d){if(f.cy._private.styleEnabled){if(d.isParent())return d.updateCompoundBounds(),f[o.autoName]||0;var y=d.pstyle(o.name);return"label"===y.strValue?(d.recalculateRenderedStyle(),f.rstyle[o.labelName]||0):y.pfValue}return 1}},ld["outer"+o.uppercaseName]=function(){var d=this[0];if(d)return d._private.cy._private.styleEnabled?d[o.name]()+d.pstyle("border-width").pfValue+2*d.padding():1},ld["rendered"+o.uppercaseName]=function(){var d=this[0];if(d)return d[o.name]()*this.cy().zoom()},ld["rendered"+o.uppercaseOuterName]=function(){var d=this[0];if(d)return d[o.outerName]()*this.cy().zoom()}};ud({name:"width"}),ud({name:"height"}),cd.padding=function(){var c=this[0],o=c._private;return c.isParent()?(c.updateCompoundBounds(),void 0!==o.autoPadding?o.autoPadding:c.pstyle("padding").pfValue):c.pstyle("padding").pfValue},cd.paddedHeight=function(){var c=this[0];return c.height()+2*c.padding()},cd.paddedWidth=function(){var c=this[0];return c.width()+2*c.padding()};var Qh=cd,au={controlPoints:{get:function(o){return o.renderer().getControlPoints(o)},mult:!0},segmentPoints:{get:function(o){return o.renderer().getSegmentPoints(o)},mult:!0},sourceEndpoint:{get:function(o){return o.renderer().getSourceEndpoint(o)}},targetEndpoint:{get:function(o){return o.renderer().getTargetEndpoint(o)}},midpoint:{get:function(o){return o.renderer().getEdgeMidpoint(o)}}},LC=Object.keys(au).reduce(function(c,o){var u=au[o],d=function(o){return"rendered"+o[0].toUpperCase()+o.substr(1)}(o);return c[o]=function(){return function(o,u){if(o.isEdge())return u(o)}(this,u.get)},c[d]=u.mult?function(){return function(o,u){if(o.isEdge()){var d=o.cy(),f=d.pan(),p=d.zoom();return u(o).map(function(g){return Gp(g,p,f)})}}(this,u.get)}:function(){return function(o,u){if(o.isEdge()){var d=o.cy();return Gp(u(o),d.zoom(),d.pan())}}(this,u.get)},c},{}),NC=qt({},kC,RC,Qh,LC),BC=function(o,u){this.recycle(o,u)};function ef(){return!1}function ql(){return!0}BC.prototype={instanceString:function(){return"event"},recycle:function(o,u){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=ef,null!=o&&o.preventDefault?(this.type=o.type,this.isDefaultPrevented=o.defaultPrevented?ql:ef):null!=o&&o.type?u=o:this.type=o,null!=u&&(this.originalEvent=u.originalEvent,this.type=null!=u.type?u.type:this.type,this.cy=u.cy,this.target=u.target,this.position=u.position,this.renderedPosition=u.renderedPosition,this.namespace=u.namespace,this.layout=u.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var d=this.position,f=this.cy.zoom(),p=this.cy.pan();this.renderedPosition={x:d.x*f+p.x,y:d.y*f+p.y}}this.timeStamp=o&&o.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=ql;var o=this.originalEvent;!o||o.preventDefault&&o.preventDefault()},stopPropagation:function(){this.isPropagationStopped=ql;var o=this.originalEvent;!o||o.stopPropagation&&o.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ql,this.stopPropagation()},isDefaultPrevented:ef,isPropagationStopped:ef,isImmediatePropagationStopped:ef};var sg=/^([^.]+)(\.(?:[^.]+))?$/,hd={qualifierCompare:function(o,u){return o===u},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(o){return o},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},og=Object.keys(hd),hy={};function Da(){for(var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hy,o=arguments.length>1?arguments[1]:void 0,u=0;u<og.length;u++){var d=og[u];this[d]=c[d]||hd[d]}this.context=o||this.context,this.listeners=[],this.emitting=0}var dl=Da.prototype,Kl=function(o,u,d,f,p,g,y){ft(f)&&(p=f,f=null),y&&(g=null==g?y:qt({},g,y));for(var b=Mt(d)?d:d.split(/\s+/),_=0;_<b.length;_++){var w=b[_];if(!vt(w)){var x=w.match(sg);if(x&&!1===u(o,w,x[1],x[2]?x[2]:null,f,p,g))break}}},tf=function(o,u){return o.addEventFields(o.context,u),new BC(u.type,u)};dl.on=dl.addListener=function(c,o,u,d,f){return Kl(this,function(p,g,y,b,_,w,x){ft(w)&&p.listeners.push({event:g,callback:w,type:y,namespace:b,qualifier:_,conf:x})},c,o,u,d,f),this},dl.one=function(c,o,u,d){return this.on(c,o,u,d,{one:!0})},dl.removeListener=dl.off=function(c,o,u,d){var f=this;0!==this.emitting&&(this.listeners=function(o){return o.slice()}(this.listeners));for(var p=this.listeners,g=function(_){var w=p[_];Kl(f,function(x,E,S,M,A,I){if((w.type===S||"*"===c)&&(!M&&".*"!==w.namespace||w.namespace===M)&&(!A||x.qualifierCompare(w.qualifier,A))&&(!I||w.callback===I))return p.splice(_,1),!1},c,o,u,d)},y=p.length-1;y>=0;y--)g(y);return this},dl.removeAllListeners=function(){return this.removeListener("*")},dl.emit=dl.trigger=function(c,o,u){var d=this.listeners,f=d.length;return this.emitting++,Mt(o)||(o=[o]),function(o,u,d){if(function(o){return"event"===He(o)}(d))u(o,d);else if(it(d))u(o,tf(o,d));else for(var f=Mt(d)?d:d.split(/\s+/),p=0;p<f.length;p++){var g=f[p];if(!vt(g)){var y=g.match(sg);y&&u(o,tf(o,{type:y[1],namespace:y[2]?y[2]:null,target:o.context}))}}}(this,function(p,g){null!=u&&(f=(d=[{event:g.event,type:g.type,namespace:g.namespace,callback:u}]).length);for(var y=function(w){var x=d[w];if(x.type===g.type&&(!x.namespace||x.namespace===g.namespace||".*"===x.namespace)&&p.eventMatches(p.context,x,g)){var E=[g];null!=o&&function(o,u){for(var d=0;d<u.length;d++)o.push(u[d])}(E,o),p.beforeEmit(p.context,x,g),x.conf&&x.conf.one&&(p.listeners=p.listeners.filter(function(A){return A!==x}));var S=p.callbackContext(p.context,x,g),M=x.callback.apply(S,E);p.afterEmit(p.context,x,g),!1===M&&(g.stopPropagation(),g.preventDefault())}},b=0;b<f;b++)y(b);p.bubble(p.context)&&!g.isPropagationStopped()&&p.parent(p.context).emit(g,o)},c),this.emitting--,this};var CA={qualifierCompare:function(o,u){return null==o||null==u?null==o&&null==u:o.sameText(u)},eventMatches:function(o,u,d){var f=u.qualifier;return null==f||o!==d.target&&ki(d.target)&&f.matches(d.target)},addEventFields:function(o,u){u.cy=o.cy(),u.target=o},callbackContext:function(o,u,d){return null!=u.qualifier?d.target:o},beforeEmit:function(o,u){u.conf&&u.conf.once&&u.conf.onceCollection.removeListener(u.event,u.qualifier,u.callback)},bubble:function(){return!0},parent:function(o){return o.isChild()?o.parent():o.cy()}},fd=function(o){return Te(o)?new Uo(o):o},ag={createEmitter:function(){for(var o=0;o<this.length;o++){var u=this[o],d=u._private;d.emitter||(d.emitter=new Da(CA,u))}return this},emitter:function(){return this._private.emitter},on:function(o,u,d){for(var f=fd(u),p=0;p<this.length;p++)this[p].emitter().on(o,f,d);return this},removeListener:function(o,u,d){for(var f=fd(u),p=0;p<this.length;p++)this[p].emitter().removeListener(o,f,d);return this},removeAllListeners:function(){for(var o=0;o<this.length;o++)this[o].emitter().removeAllListeners();return this},one:function(o,u,d){for(var f=fd(u),p=0;p<this.length;p++)this[p].emitter().one(o,f,d);return this},once:function(o,u,d){for(var f=fd(u),p=0;p<this.length;p++)this[p].emitter().on(o,f,d,{once:!0,onceCollection:this})},emit:function(o,u){for(var d=0;d<this.length;d++)this[d].emitter().emit(o,u);return this},emitAndNotify:function(o,u){if(0!==this.length)return this.cy().notify(o,this),this.emit(o,u),this}};Rn.eventAliasesOn(ag);var fy={nodes:function(o){return this.filter(function(u){return u.isNode()}).filter(o)},edges:function(o){return this.filter(function(u){return u.isEdge()}).filter(o)},byGroup:function(){for(var o=this.spawn(),u=this.spawn(),d=0;d<this.length;d++){var f=this[d];f.isNode()?o.push(f):u.push(f)}return{nodes:o,edges:u}},filter:function(o,u){if(void 0===o)return this;if(Te(o)||Ue(o))return new Uo(o).filter(this);if(ft(o)){for(var d=this.spawn(),f=this,p=0;p<f.length;p++){var g=f[p];(u?o.apply(u,[g,p,f]):o(g,p,f))&&d.push(g)}return d}return this.spawn()},not:function(o){if(o){Te(o)&&(o=this.filter(o));for(var u=this.spawn(),d=0;d<this.length;d++){var f=this[d];o.has(f)||u.push(f)}return u}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(o){if(Te(o))return this.filter(o);for(var d=this.spawn(),g=this.length<o.length,y=g?this:o,b=g?o:this,_=0;_<y.length;_++){var w=y[_];b.has(w)&&d.push(w)}return d},xor:function(o){var u=this._private.cy;Te(o)&&(o=u.$(o));var d=this.spawn(),p=o,g=function(b,_){for(var w=0;w<b.length;w++){var x=b[w];_.hasElementWithId(x._private.data.id)||d.push(x)}};return g(this,p),g(p,this),d},diff:function(o){var u=this._private.cy;Te(o)&&(o=u.$(o));var d=this.spawn(),f=this.spawn(),p=this.spawn(),y=o,b=function(w,x,E){for(var S=0;S<w.length;S++){var M=w[S];x.hasElementWithId(M._private.data.id)?p.merge(M):E.push(M)}};return b(this,y,d),b(y,this,f),{left:d,right:f,both:p}},add:function(o){var u=this._private.cy;if(!o)return this;if(Te(o)){var d=o;o=u.mutableElements().filter(d)}for(var f=this.spawnSelf(),p=0;p<o.length;p++){var g=o[p];!this.has(g)&&f.push(g)}return f},merge:function(o){var u=this._private,d=u.cy;if(!o)return this;if(o&&Te(o)){var f=o;o=d.mutableElements().filter(f)}for(var p=u.map,g=0;g<o.length;g++){var y=o[g],b=y._private.data.id;if(!p.has(b)){var w=this.length++;this[w]=y,p.set(b,{ele:y,index:w})}}return this},unmergeAt:function(o){var d=this[o].id(),p=this._private.map;if(this[o]=void 0,p.delete(d),this.length>1&&o!==this.length-1){var y=this.length-1,b=this[y],_=b._private.data.id;this[y]=void 0,this[o]=b,p.set(_,{ele:b,index:o})}return this.length--,this},unmergeOne:function(o){var p=this._private.map.get((o=o[0])._private.data.id);return p?(this.unmergeAt(p.index),this):this},unmerge:function(o){var u=this._private.cy;if(!o)return this;if(o&&Te(o)){var d=o;o=u.mutableElements().filter(d)}for(var f=0;f<o.length;f++)this.unmergeOne(o[f]);return this},unmergeBy:function(o){for(var u=this.length-1;u>=0;u--)o(this[u])&&this.unmergeAt(u);return this},map:function(o,u){for(var d=[],f=this,p=0;p<f.length;p++){var g=f[p],y=u?o.apply(u,[g,p,f]):o(g,p,f);d.push(y)}return d},reduce:function(o,u){for(var d=u,f=this,p=0;p<f.length;p++)d=o(d,f[p],p,f);return d},max:function(o,u){for(var f,d=-1/0,p=this,g=0;g<p.length;g++){var y=p[g],b=u?o.apply(u,[y,g,p]):o(y,g,p);b>d&&(d=b,f=y)}return{value:d,ele:f}},min:function(o,u){for(var f,d=1/0,p=this,g=0;g<p.length;g++){var y=p[g],b=u?o.apply(u,[y,g,p]):o(y,g,p);b<d&&(d=b,f=y)}return{value:d,ele:f}}},On=fy;On.u=On["|"]=On["+"]=On.union=On.or=On.add,On["\\"]=On["!"]=On["-"]=On.difference=On.relativeComplement=On.subtract=On.not,On.n=On["&"]=On["."]=On.and=On.intersection=On.intersect,On["^"]=On["(+)"]=On["(-)"]=On.symmetricDifference=On.symdiff=On.xor,On.fnFilter=On.filterFn=On.stdFilter=On.filter,On.complement=On.abscomp=On.absoluteComplement;var o,lu=function(o,u){var f=o.cy().hasCompoundNodes();function p(w){var x=w.pstyle("z-compound-depth");return"auto"===x.value?f?w.zDepth():0:"bottom"===x.value?-1:"top"===x.value?tl:0}var g=p(o)-p(u);if(0!==g)return g;function y(w){return"auto"===w.pstyle("z-index-compare").value&&w.isNode()?1:0}var b=y(o)-y(u);if(0!==b)return b;var _=o.pstyle("z-index").value-u.pstyle("z-index").value;return 0!==_?_:o.poolIndex()-u.poolIndex()},cu={forEach:function(o,u){if(ft(o))for(var d=this.length,f=0;f<d;f++){var p=this[f];if(!1===(u?o.apply(u,[p,f,this]):o(p,f,this)))break}return this},toArray:function(){for(var o=[],u=0;u<this.length;u++)o.push(this[u]);return o},slice:function(o,u){var d=[],f=this.length;null==u&&(u=f),null==o&&(o=0),o<0&&(o=f+o),u<0&&(u=f+u);for(var p=o;p>=0&&p<u&&p<f;p++)d.push(this[p]);return this.spawn(d)},size:function(){return this.length},eq:function(o){return this[o]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(o){if(!ft(o))return this;var u=this.toArray().sort(o);return this.spawn(u)},sortByZIndex:function(){return this.sort(lu)},zDepth:function(){var o=this[0];if(o){var u=o._private;if("nodes"===u.group){var f=u.data.parent?o.parents().size():0;return o.isParent()?f:tl-1}var g=u.target,y=u.source.zDepth(),b=g.zDepth();return Math.max(y,b,0)}}};cu.each=cu.forEach,o="undefined",(typeof Symbol>"u"?"undefined":ot(Symbol))!=o&&ot(Symbol.iterator)!=o&&(cu[Symbol.iterator]=function(){var d=this,f={value:void 0,done:!1},p=0,g=this.length;return et({next:function(){return p<g?f.value=d[p++]:(f.value=void 0,f.done=!0),f}},Symbol.iterator,function(){return this})});var rf=Ur({nodeDimensionsIncludeLabels:!1}),Yl={layoutDimensions:function(o){var u;if(o=rf(o),this.takesUpSpace())if(o.nodeDimensionsIncludeLabels){var d=this.boundingBox();u={w:d.w,h:d.h}}else u={w:this.outerWidth(),h:this.outerHeight()};else u={w:0,h:0};return(0===u.w||0===u.h)&&(u.w=u.h=1),u},layoutPositions:function(o,u,d){var f=this.nodes().filter(function(K){return!K.isParent()}),p=this.cy(),g=u.eles,y=function(Z){return Z.id()},b=pr(d,y);o.emit({type:"layoutstart",layout:o}),o.animations=[];var w=u.spacingFactor&&1!==u.spacingFactor,E=function(){if(!w)return null;for(var Z=Wr(),H=0;H<f.length;H++){var U=b(f[H],H);uC(Z,U.x,U.y)}return Z}(),S=pr(function(K,Z){var H=b(K,Z);return w&&(H=function(Z,H,Y){var U_x=H.x1+H.w/2,U_y=H.y1+H.h/2;return{x:U_x+(Y.x-U_x)*Z,y:U_y+(Y.y-U_y)*Z}}(Math.abs(u.spacingFactor),E,H)),null!=u.transform&&(H=u.transform(K,H)),H},y);if(u.animate){for(var M=0;M<f.length;M++){var A=f[M],I=S(A,M);if(null==u.animateFilter||u.animateFilter(A,M)){var F=A.animation({position:I,duration:u.animationDuration,easing:u.animationEasing});o.animations.push(F)}else A.position(I)}if(u.fit){var L=p.animation({fit:{boundingBox:g.boundingBoxAt(S),padding:u.padding},duration:u.animationDuration,easing:u.animationEasing});o.animations.push(L)}else if(void 0!==u.zoom&&void 0!==u.pan){var z=p.animation({zoom:u.zoom,pan:u.pan,duration:u.animationDuration,easing:u.animationEasing});o.animations.push(z)}o.animations.forEach(function(K){return K.play()}),o.one("layoutready",u.ready),o.emit({type:"layoutready",layout:o}),tu.all(o.animations.map(function(K){return K.promise()})).then(function(){o.one("layoutstop",u.stop),o.emit({type:"layoutstop",layout:o})})}else f.positions(S),u.fit&&p.fit(u.eles,u.padding),null!=u.zoom&&p.zoom(u.zoom),u.pan&&p.pan(u.pan),o.one("layoutready",u.ready),o.emit({type:"layoutready",layout:o}),o.one("layoutstop",u.stop),o.emit({type:"layoutstop",layout:o});return this},layout:function(o){return this.cy().makeLayout(qt({},o,{eles:this}))}};function py(c,o,u){var p,d=u._private,f=d.styleCache=d.styleCache||[];return null!=(p=f[c])||(p=f[c]=o(u)),p}function pd(c,o){return c=el(c),function(d){return py(c,o,d)}}function gd(c,o){c=el(c);var u=function(f){return o.call(f)};return function(){var f=this[0];if(f)return py(c,u,f)}}Yl.createLayout=Yl.makeLayout=Yl.layout;var Lr={recalculateRenderedStyle:function(o){var u=this.cy(),d=u.renderer(),f=u.styleEnabled();return d&&f&&d.recalculateRenderedStyle(this,o),this},dirtyStyleCache:function(){var d,o=this.cy(),u=function(p){return p._private.styleCache=null};return o.hasCompoundNodes()?((d=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(d.connectedEdges()),d.forEach(u)):this.forEach(function(f){u(f),f.connectedEdges().forEach(u)}),this},updateStyle:function(o){var u=this._private.cy;if(!u.styleEnabled())return this;if(u.batching())return u._private.batchStyleEles.merge(this),this;var p=this;o=!(!o&&void 0!==o),u.hasCompoundNodes()&&(p=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var g=p;return o?g.emitAndNotify("style"):g.emit("style"),p.forEach(function(y){return y._private.styleDirty=!0}),this},cleanStyle:function(){var o=this.cy();if(o.styleEnabled())for(var u=0;u<this.length;u++){var d=this[u];d._private.styleDirty&&(d._private.styleDirty=!1,o.style().apply(d))}},parsedStyle:function(o){var u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=this[0],f=d.cy();if(f.styleEnabled()&&d){this.cleanStyle();var p=d._private.style[o];return p??(u?f.style().getDefaultProperty(o):null)}},numericStyle:function(o){var u=this[0];if(u.cy().styleEnabled()&&u){var d=u.pstyle(o);return void 0!==d.pfValue?d.pfValue:d.value}},numericStyleUnits:function(o){var u=this[0];if(u.cy().styleEnabled()&&u)return u.pstyle(o).units},renderedStyle:function(o){var u=this.cy();if(!u.styleEnabled())return this;var d=this[0];return d?u.style().getRenderedStyle(d,o):void 0},style:function(o,u){var d=this.cy();if(!d.styleEnabled())return this;var p=d.style();if(it(o))p.applyBypass(this,o,!1),this.emitAndNotify("style");else if(Te(o)){if(void 0===u){var y=this[0];return y?p.getStylePropertyValue(y,o):void 0}p.applyBypass(this,o,u,!1),this.emitAndNotify("style")}else if(void 0===o){var b=this[0];return b?p.getRawStyle(b):void 0}return this},removeStyle:function(o){var u=this.cy();if(!u.styleEnabled())return this;var f=u.style(),p=this;if(void 0===o)for(var g=0;g<p.length;g++)f.removeAllBypasses(p[g],!1);else{o=o.split(/\s+/);for(var b=0;b<p.length;b++)f.removeBypasses(p[b],o,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var o=this.cy();if(!o.styleEnabled())return 1;var u=o.hasCompoundNodes(),d=this[0];if(d){var f=d._private,p=d.pstyle("opacity").value;if(!u)return p;var g=f.data.parent?d.parents():null;if(g)for(var y=0;y<g.length;y++)p*=g[y].pstyle("opacity").value;return p}},transparent:function(){if(!this.cy().styleEnabled())return!1;var u=this[0],d=u.cy().hasCompoundNodes();return u?d?0===u.effectiveOpacity():0===u.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function sf(c,o){var d=c._private.data.parent?c.parents():null;if(d)for(var f=0;f<d.length;f++)if(!o(d[f]))return!1;return!0}function cg(c){var o=c.ok,u=c.edgeOkViaNode||c.ok,d=c.parentOk||c.ok;return function(){var f=this.cy();if(!f.styleEnabled())return!0;var p=this[0],g=f.hasCompoundNodes();if(p){var y=p._private;if(!o(p))return!1;if(p.isNode())return!g||sf(p,d);var b=y.source,_=y.target;return u(b)&&(!g||sf(b,u))&&(b===_||u(_)&&(!g||sf(_,u)))}}}var Ea=pd("eleTakesUpSpace",function(c){return"element"===c.pstyle("display").value&&0!==c.width()&&(!c.isNode()||0!==c.height())});Lr.takesUpSpace=gd("takesUpSpace",cg({ok:Ea}));var md=pd("eleInteractive",function(c){return"yes"===c.pstyle("events").value&&"visible"===c.pstyle("visibility").value&&Ea(c)}),HC=pd("parentInteractive",function(c){return"visible"===c.pstyle("visibility").value&&Ea(c)});Lr.interactive=gd("interactive",cg({ok:md,parentOk:HC,edgeOkViaNode:Ea})),Lr.noninteractive=function(){var c=this[0];if(c)return!c.interactive()};var gy=pd("eleVisible",function(c){return"visible"===c.pstyle("visibility").value&&0!==c.pstyle("opacity").pfValue&&Ea(c)});Lr.visible=gd("visible",cg({ok:gy,edgeOkViaNode:Ea})),Lr.hidden=function(){var c=this[0];if(c)return!c.visible()},Lr.isBundledBezier=gd("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Lr.bypass=Lr.css=Lr.style,Lr.renderedCss=Lr.renderedStyle,Lr.removeBypass=Lr.removeCss=Lr.removeStyle,Lr.pstyle=Lr.parsedStyle;var Gs={};function vy(c){return function(){var o=arguments,u=[];if(2===o.length){var d=o[0],f=o[1];this.on(c.event,d,f)}else if(1===o.length&&ft(o[0])){var p=o[0];this.on(c.event,p)}else if(0===o.length||1===o.length&&Mt(o[0])){for(var g=1===o.length?o[0]:null,y=0;y<this.length;y++){var b=this[y],_=!c.ableField||b._private[c.ableField],w=b._private[c.field]!=c.value;if(c.overrideAble){var x=c.overrideAble(b);if(void 0!==x&&(_=x,!x))return this}_&&(b._private[c.field]=c.value,w&&u.push(b))}var E=this.spawn(u);E.updateStyle(),E.emit(c.event),g&&E.emit(g)}return this}}function bt(c){Gs[c.field]=function(){var o=this[0];if(o){if(c.overrideField){var u=c.overrideField(o);if(void 0!==u)return u}return o._private[c.field]}},Gs[c.on]=vy({event:c.on,field:c.field,ableField:c.ableField,overrideAble:c.overrideAble,value:!0}),Gs[c.off]=vy({event:c.off,field:c.field,ableField:c.ableField,overrideAble:c.overrideAble,value:!1})}bt({field:"locked",overrideField:function(o){return!!o.cy().autolock()||void 0},on:"lock",off:"unlock"}),bt({field:"grabbable",overrideField:function(o){return!o.cy().autoungrabify()&&!o.pannable()&&void 0},on:"grabify",off:"ungrabify"}),bt({field:"selected",ableField:"selectable",overrideAble:function(o){return!o.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),bt({field:"selectable",overrideField:function(o){return!o.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Gs.deselect=Gs.unselect,Gs.grabbed=function(){var c=this[0];if(c)return c._private.grabbed},bt({field:"active",on:"activate",off:"unactivate"}),bt({field:"pannable",on:"panify",off:"unpanify"}),Gs.inactive=function(){var c=this[0];if(c)return!c._private.active};var Nr={},yy=function(o){return function(d){for(var p=[],g=0;g<this.length;g++){var y=this[g];if(y.isNode()){for(var b=!1,_=y.connectedEdges(),w=0;w<_.length;w++){var x=_[w],E=x.source(),S=x.target();if(o.noIncomingEdges&&S===y&&E!==y||o.noOutgoingEdges&&E===y&&S!==y){b=!0;break}}b||p.push(y)}}return this.spawn(p,!0).filter(d)}},ug=function(o){return function(u){for(var f=[],p=0;p<this.length;p++){var g=this[p];if(g.isNode())for(var y=g.connectedEdges(),b=0;b<y.length;b++){var _=y[b],w=_.source(),x=_.target();o.outgoing&&w===g?(f.push(_),f.push(x)):o.incoming&&x===g&&(f.push(_),f.push(w))}}return this.spawn(f,!0).filter(u)}},Ds=function(o){return function(u){for(var d=this,f=[],p={};;){var g=o.outgoing?d.outgoers():d.incomers();if(0===g.length)break;for(var y=!1,b=0;b<g.length;b++){var _=g[b],w=_.id();p[w]||(p[w]=!0,f.push(_),y=!0)}if(!y)break;d=g}return this.spawn(f,!0).filter(u)}};function Zl(c){return function(u){for(var d=[],f=0;f<this.length;f++){var g=this[f]._private[c.attr];g&&d.push(g)}return this.spawn(d,!0).filter(u)}}function Xl(c){return function(u){var d=[],f=this._private.cy,p=c||{};Te(u)&&(u=f.$(u));for(var g=0;g<u.length;g++)for(var y=u[g]._private.edges,b=0;b<y.length;b++){var _=y[b],w=_._private.data,x=this.hasElementWithId(w.source)&&u.hasElementWithId(w.target),E=u.hasElementWithId(w.source)&&this.hasElementWithId(w.target);!x&&!E||(p.thisIsSrc||p.thisIsTgt)&&(p.thisIsSrc&&!x||p.thisIsTgt&&!E)||d.push(_)}return this.spawn(d,!0)}}function Ql(c){return c=qt({},{codirected:!1},c),function(d){for(var f=[],p=this.edges(),g=c,y=0;y<p.length;y++)for(var _=p[y]._private,w=_.source,x=w._private.data.id,E=_.data.target,S=w._private.edges,M=0;M<S.length;M++){var A=S[M],I=A._private.data,R=I.target,F=I.source,L=R===E&&F===x;(g.codirected&&L||!g.codirected&&(L||x===R&&E===F))&&f.push(A)}return this.spawn(f,!0).filter(d)}}Nr.clearTraversalCache=function(){for(var c=0;c<this.length;c++)this[c]._private.traversalCache=null},qt(Nr,{roots:yy({noIncomingEdges:!0}),leaves:yy({noOutgoingEdges:!0}),outgoers:ao(ug({outgoing:!0}),"outgoers"),successors:Ds({outgoing:!0}),incomers:ao(ug({incoming:!0}),"incomers"),predecessors:Ds({incoming:!0})}),qt(Nr,{neighborhood:ao(function(c){for(var o=[],u=this.nodes(),d=0;d<u.length;d++)for(var f=u[d],p=f.connectedEdges(),g=0;g<p.length;g++){var y=p[g],b=y.source(),_=y.target(),w=f===b?_:b;w.length>0&&o.push(w[0]),o.push(y[0])}return this.spawn(o,!0).filter(c)},"neighborhood"),closedNeighborhood:function(o){return this.neighborhood().add(this).filter(o)},openNeighborhood:function(o){return this.neighborhood(o)}}),Nr.neighbourhood=Nr.neighborhood,Nr.closedNeighbourhood=Nr.closedNeighborhood,Nr.openNeighbourhood=Nr.openNeighborhood,qt(Nr,{source:ao(function(o){var d,u=this[0];return u&&(d=u._private.source||u.cy().collection()),d&&o?d.filter(o):d},"source"),target:ao(function(o){var d,u=this[0];return u&&(d=u._private.target||u.cy().collection()),d&&o?d.filter(o):d},"target"),sources:Zl({attr:"source"}),targets:Zl({attr:"target"})}),qt(Nr,{edgesWith:ao(Xl(),"edgesWith"),edgesTo:ao(Xl({thisIsSrc:!0}),"edgesTo")}),qt(Nr,{connectedEdges:ao(function(c){for(var o=[],d=0;d<this.length;d++){var f=this[d];if(f.isNode())for(var p=f._private.edges,g=0;g<p.length;g++)o.push(p[g])}return this.spawn(o,!0).filter(c)},"connectedEdges"),connectedNodes:ao(function(c){for(var o=[],d=0;d<this.length;d++){var f=this[d];!f.isEdge()||(o.push(f.source()[0]),o.push(f.target()[0]))}return this.spawn(o,!0).filter(c)},"connectedNodes"),parallelEdges:ao(Ql(),"parallelEdges"),codirectedEdges:ao(Ql({codirected:!0}),"codirectedEdges")}),qt(Nr,{components:function(o){var u=this,d=u.cy(),f=d.collection(),p=null==o?u.nodes():o.nodes(),g=[];null!=o&&p.empty()&&(p=o.sources());var y=function(w,x){f.merge(w),p.unmerge(w),x.merge(w)};if(p.empty())return u.spawn();var b=function(){var w=d.collection();g.push(w);var x=p[0];y(x,w),u.bfs({directed:!1,roots:x,visit:function(S){return y(S,w)}}),w.forEach(function(E){E.connectedEdges().forEach(function(S){u.has(S)&&w.has(S.source())&&w.has(S.target())&&w.merge(S)})})};do{b()}while(p.length>0);return g},component:function(){var o=this[0];return o.cy().mutableElements().components(o)[0]}}),Nr.componentsOf=Nr.components;var Br=function(o,u){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==o){var p=new ro,g=!1;if(u){if(u.length>0&&it(u[0])&&!ki(u[0])){g=!0;for(var y=[],b=new oi,_=0,w=u.length;_<w;_++){var x=u[_];null==x.data&&(x.data={});var E=x.data;if(null==E.id)E.id=Uv();else if(o.hasElementWithId(E.id)||b.has(E.id))continue;var S=new jc(o,x,!1);y.push(S),b.add(E.id)}u=y}}else u=[];this.length=0;for(var M=0,A=u.length;M<A;M++){var I=u[M][0];if(null!=I){var R=I._private.data.id;(!d||!p.has(R))&&(d&&p.set(R,{index:this.length,ele:I}),this[this.length]=I,this.length++)}}this._private={eles:this,cy:o,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(F){this.lazyMap=F},rebuildMap:function(){for(var L=this.lazyMap=new ro,z=this.eles,K=0;K<z.length;K++){var Z=z[K];L.set(Z.id(),{index:K,ele:Z})}}},d&&(this._private.map=p),g&&!f&&this.restore()}else Fi("A collection must have a reference to the core")},Di=jc.prototype=Br.prototype=Object.create(Array.prototype);Di.instanceString=function(){return"collection"},Di.spawn=function(c,o){return new Br(this.cy(),c,o)},Di.spawnSelf=function(){return this.spawn(this)},Di.cy=function(){return this._private.cy},Di.renderer=function(){return this._private.cy.renderer()},Di.element=function(){return this[0]},Di.collection=function(){return Pi(this)?this:new Br(this._private.cy,[this])},Di.unique=function(){return new Br(this._private.cy,this,!0)},Di.hasElementWithId=function(c){return this._private.map.has(c=""+c)},Di.getElementById=function(c){var o=this._private.cy,u=this._private.map.get(c=""+c);return u?u.ele:new Br(o)},Di.$id=Di.getElementById,Di.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Di.indexOf=function(c){return this._private.map.get(c[0]._private.data.id).index},Di.indexOfId=function(c){return this._private.map.get(c=""+c).index},Di.json=function(c){var o=this.element(),u=this.cy();if(null==o&&c)return this;if(null!=o){var d=o._private;if(it(c)){if(u.startBatch(),c.data){o.data(c.data);var f=d.data;if(o.isEdge()){var p=!1,g={},y=c.data.source,b=c.data.target;null!=y&&y!=f.source&&(g.source=""+y,p=!0),null!=b&&b!=f.target&&(g.target=""+b,p=!0),p&&(o=o.move(g))}else{var w=c.data.parent;"parent"in c.data&&(null!=w||null!=f.parent)&&w!=f.parent&&(void 0===w&&(w=null),null!=w&&(w=""+w),o=o.move({parent:w}))}}c.position&&o.position(c.position);var x=function(A,I,R){var F=c[A];null!=F&&F!==d[A]&&(F?o[I]():o[R]())};return x("removed","remove","restore"),x("selected","select","unselect"),x("selectable","selectify","unselectify"),x("locked","lock","unlock"),x("grabbable","grabify","ungrabify"),x("pannable","panify","unpanify"),null!=c.classes&&o.classes(c.classes),u.endBatch(),this}if(void 0===c){var E={data:vo(d.data),position:vo(d.position),group:d.group,removed:d.removed,selected:d.selected,selectable:d.selectable,locked:d.locked,grabbable:d.grabbable,pannable:d.pannable,classes:""},S=0;return d.classes.forEach(function(M){return E.classes+=0==S++?M:" "+M}),E}}},Di.jsons=function(){for(var c=[],o=0;o<this.length;o++){var d=this[o].json();c.push(d)}return c},Di.clone=function(){for(var c=this.cy(),o=[],u=0;u<this.length;u++){var f=this[u].json(),p=new jc(c,f,!1);o.push(p)}return new Br(c,o)},Di.copy=Di.clone,Di.restore=function(){for(var y,c=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=this,d=u.cy(),f=d._private,p=[],g=[],b=0,_=u.length;b<_;b++){var w=u[b];o&&!w.removed()||(w.isNode()?p.push(w):g.push(w))}y=p.concat(g);var x,E=function(){y.splice(x,1),x--};for(x=0;x<y.length;x++){var S=y[x],M=S._private,A=M.data;if(S.clearTraversalCache(),o||M.removed)if(void 0===A.id)A.id=Uv();else if(Fe(A.id))A.id=""+A.id;else{if(vt(A.id)||!Te(A.id)){Fi("Can not create element with invalid string ID `"+A.id+"`"),E();continue}if(d.hasElementWithId(A.id)){Fi("Can not create second element with ID `"+A.id+"`"),E();continue}}var I=A.id;if(S.isNode()){var R=M.position;null==R.x&&(R.x=0),null==R.y&&(R.y=0)}if(S.isEdge()){for(var F=S,L=["source","target"],z=L.length,K=!1,Z=0;Z<z;Z++){var H=L[Z],Y=A[H];Fe(Y)&&(Y=A[H]=""+A[H]),null==Y||""===Y?(Fi("Can not create edge `"+I+"` with unspecified "+H),K=!0):d.hasElementWithId(Y)||(Fi("Can not create edge `"+I+"` with nonexistant "+H+" `"+Y+"`"),K=!0)}if(K){E();continue}var U=d.getElementById(A.source),X=d.getElementById(A.target);U.same(X)?U._private.edges.push(F):(U._private.edges.push(F),X._private.edges.push(F)),F._private.source=U,F._private.target=X}M.map=new ro,M.map.set(I,{ele:S,index:0}),M.removed=!1,o&&d.addToPool(S)}for(var J=0;J<p.length;J++){var W=p[J],oe=W._private.data;Fe(oe.parent)&&(oe.parent=""+oe.parent);var Q=oe.parent,me=null!=Q;if(me||W._private.parent){var ae=W._private.parent?d.collection().merge(W._private.parent):d.getElementById(Q);if(ae.empty())oe.parent=void 0;else if(ae[0].removed())ei("Node added with missing parent, reference to parent removed"),oe.parent=void 0,W._private.parent=null;else{for(var ce=!1,be=ae;!be.empty();){if(W.same(be)){ce=!0,oe.parent=void 0;break}be=be.parent()}ce||(ae[0]._private.children.push(W),W._private.parent=ae[0],f.hasCompoundNodes=!0)}}}if(y.length>0){for(var Se=y.length===u.length?u:new Br(d,y),Oe=0;Oe<Se.length;Oe++){var De=Se[Oe];De.isNode()||(De.parallelEdges().clearTraversalCache(),De.source().clearTraversalCache(),De.target().clearTraversalCache())}(f.hasCompoundNodes?d.collection().merge(Se).merge(Se.connectedNodes()).merge(Se.parent()):Se).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(c),c?Se.emitAndNotify("add"):o&&Se.emit("add")}return u},Di.removed=function(){var c=this[0];return c&&c._private.removed},Di.inside=function(){var c=this[0];return c&&!c._private.removed},Di.remove=function(){var c=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=this,d=[],f={},p=u._private.cy;function g(Q){for(var me=Q._private.edges,ae=0;ae<me.length;ae++)b(me[ae])}function y(Q){for(var me=Q._private.children,ae=0;ae<me.length;ae++)b(me[ae])}function b(Q){var me=f[Q.id()];o&&Q.removed()||me||(f[Q.id()]=!0,Q.isNode()?(d.push(Q),g(Q),y(Q)):d.unshift(Q))}for(var _=0,w=u.length;_<w;_++){var x=u[_];b(x)}function E(Q,me){wa(Q._private.edges,me),Q.clearTraversalCache()}function S(Q){Q.clearTraversalCache()}var M=[];function A(Q,me){me=me[0];var ae=(Q=Q[0])._private.children,ce=Q.id();wa(ae,me),me._private.parent=null,M.ids[ce]||(M.ids[ce]=!0,M.push(Q))}M.ids={},u.dirtyCompoundBoundsCache(),o&&p.removeFromPool(d);for(var I=0;I<d.length;I++){var R=d[I];if(R.isEdge()){var F=R.source()[0],L=R.target()[0];E(F,R),E(L,R);for(var z=R.parallelEdges(),K=0;K<z.length;K++){var Z=z[K];S(Z),Z.isBundledBezier()&&Z.dirtyBoundingBoxCache()}}else{var H=R.parent();0!==H.length&&A(H,R)}o&&(R._private.removed=!0)}var Y=p._private.elements;p._private.hasCompoundNodes=!1;for(var U=0;U<Y.length;U++){var X=Y[U];if(X.isParent()){p._private.hasCompoundNodes=!0;break}}var J=new Br(this.cy(),d);J.size()>0&&(c?J.emitAndNotify("remove"):o&&J.emit("remove"));for(var W=0;W<M.length;W++){var oe=M[W];(!o||!oe.removed())&&oe.updateStyle()}return J},Di.move=function(c){var o=this._private.cy,u=this,d=!1,f=!1,p=function(M){return null==M?M:""+M};if(void 0!==c.source||void 0!==c.target){var g=p(c.source),y=p(c.target),b=null!=g&&o.hasElementWithId(g),_=null!=y&&o.hasElementWithId(y);(b||_)&&(o.batch(function(){u.remove(d,f),u.emitAndNotify("moveout");for(var S=0;S<u.length;S++){var M=u[S],A=M._private.data;M.isEdge()&&(b&&(A.source=g),_&&(A.target=y))}u.restore(d,f)}),u.emitAndNotify("move"))}else if(void 0!==c.parent){var w=p(c.parent);if(null===w||o.hasElementWithId(w)){var E=null===w?void 0:w;o.batch(function(){var S=u.remove(d,f);S.emitAndNotify("moveout");for(var M=0;M<u.length;M++){var A=u[M],I=A._private.data;A.isNode()&&(I.parent=E)}S.restore(d,f)}),u.emitAndNotify("move")}}return this},[Jv,xC,nu,Gl,od,AC,ad,NC,ag,fy,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var o=this[0];if(o)return o._private.group}},cu,Yl,Lr,Gs,Nr].forEach(function(c){qt(Di,c)});var uu={add:function(o){var u,d=this;if(Ue(o)){var f=o;if(f._private.cy===d)u=f.restore();else{for(var p=[],g=0;g<f.length;g++)p.push(f[g].json());u=new Br(d,p)}}else if(Mt(o))u=new Br(d,o);else if(it(o)&&(Mt(o.nodes)||Mt(o.edges))){for(var _=o,w=[],x=["nodes","edges"],E=0,S=x.length;E<S;E++){var M=x[E],A=_[M];if(Mt(A))for(var I=0,R=A.length;I<R;I++){var F=qt({group:M},A[I]);w.push(F)}}u=new Br(d,w)}else u=new jc(d,o).collection();return u},remove:function(o){return Ue(o)||Te(o)&&(o=this.$(o)),o.remove()}},zC=function(){function c(d){return-d.tension*d.x-d.friction*d.v}function o(d,f,p){var g={x:d.x+p.dx*f,v:d.v+p.dv*f,tension:d.tension,friction:d.friction};return{dx:g.v,dv:c(g)}}function u(d,f){var p={dx:d.v,dv:c(d)},g=o(d,.5*f,p),y=o(d,.5*f,g),b=o(d,f,y),w=1/6*(p.dv+2*(g.dv+y.dv)+b.dv);return d.x=d.x+1/6*(p.dx+2*(g.dx+y.dx)+b.dx)*f,d.v=d.v+w*f,d}return function d(f,p,g){var E,S,M,y={x:-1,v:0,tension:null,friction:null},b=[0],_=0,w=1e-4;for(f=parseFloat(f)||500,p=parseFloat(p)||20,g=g||null,y.tension=f,y.friction=p,S=(E=null!==g)?(_=d(f,p))/g*.016:.016;M=u(M||y,S),b.push(1+M.x),_+=16,Math.abs(M.x)>w&&Math.abs(M.v)>w;);return E?function(A){return b[A*(b.length-1)|0]}:_}}(),ke=function(o,u,d,f){var p=function xA(c,o,u,d){var f=4,p=.001,g=1e-7,y=10,b=11,_=1/(b-1),w=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var x=0;x<4;++x)if("number"!=typeof arguments[x]||isNaN(arguments[x])||!isFinite(arguments[x]))return!1;c=Math.min(c,1),u=Math.min(u,1),c=Math.max(c,0),u=Math.max(u,0);var E=w?new Float32Array(b):new Array(b);function S(X,J){return 1-3*J+3*X}function M(X,J){return 3*J-6*X}function A(X){return 3*X}function I(X,J,W){return((S(J,W)*X+M(J,W))*X+A(J))*X}function R(X,J,W){return 3*S(J,W)*X*X+2*M(J,W)*X+A(J)}function F(X,J){for(var W=0;W<f;++W){var oe=R(J,c,u);if(0===oe)return J;J-=(I(J,c,u)-X)/oe}return J}function L(){for(var X=0;X<b;++X)E[X]=I(X*_,c,u)}function z(X,J,W){var oe,Q,me=0;do{(oe=I(Q=J+(W-J)/2,c,u)-X)>0?W=Q:J=Q}while(Math.abs(oe)>g&&++me<y);return Q}function K(X){for(var J=0,W=1,oe=b-1;W!==oe&&E[W]<=X;++W)J+=_;--W;var me=J+(X-E[W])/(E[W+1]-E[W])*_,ae=R(me,c,u);return ae>=p?F(X,me):0===ae?me:z(X,J,J+_)}var Z=!1;function H(){Z=!0,(c!==o||u!==d)&&L()}var Y=function(J){return Z||H(),c===o&&u===d?J:0===J?0:1===J?1:I(K(J),o,d)};Y.getControlPoints=function(){return[{x:c,y:o},{x:u,y:d}]};var U="generateBezier("+[c,o,u,d]+")";return Y.toString=function(){return U},Y}(o,u,d,f);return function(g,y,b){return g+(y-g)*p(b)}},dg={linear:function(o,u,d){return o+(u-o)*d},ease:ke(.25,.1,.25,1),"ease-in":ke(.42,0,1,1),"ease-out":ke(0,0,.58,1),"ease-in-out":ke(.42,0,.58,1),"ease-in-sine":ke(.47,0,.745,.715),"ease-out-sine":ke(.39,.575,.565,1),"ease-in-out-sine":ke(.445,.05,.55,.95),"ease-in-quad":ke(.55,.085,.68,.53),"ease-out-quad":ke(.25,.46,.45,.94),"ease-in-out-quad":ke(.455,.03,.515,.955),"ease-in-cubic":ke(.55,.055,.675,.19),"ease-out-cubic":ke(.215,.61,.355,1),"ease-in-out-cubic":ke(.645,.045,.355,1),"ease-in-quart":ke(.895,.03,.685,.22),"ease-out-quart":ke(.165,.84,.44,1),"ease-in-out-quart":ke(.77,0,.175,1),"ease-in-quint":ke(.755,.05,.855,.06),"ease-out-quint":ke(.23,1,.32,1),"ease-in-out-quint":ke(.86,0,.07,1),"ease-in-expo":ke(.95,.05,.795,.035),"ease-out-expo":ke(.19,1,.22,1),"ease-in-out-expo":ke(1,0,0,1),"ease-in-circ":ke(.6,.04,.98,.335),"ease-out-circ":ke(.075,.82,.165,1),"ease-in-out-circ":ke(.785,.135,.15,.86),spring:function(o,u,d){if(0===d)return dg.linear;var f=zC(o,u,d);return function(p,g,y){return p+(g-p)*f(y)}},"cubic-bezier":ke};function $C(c,o,u,d,f){if(1===d||o===u)return u;var p=f(o,u,d);return null==c||((c.roundValue||c.color)&&(p=Math.round(p)),void 0!==c.min&&(p=Math.max(p,c.min)),void 0!==c.max&&(p=Math.min(p,c.max))),p}function jC(c,o){return null!=c.pfValue||null!=c.value?null==c.pfValue||null!=o&&"%"===o.type.units?c.value:c.pfValue:c}function vd(c,o,u,d,f){var p=null!=f?f.type:null;u<0?u=0:u>1&&(u=1);var g=jC(c,f),y=jC(o,f);if(Fe(g)&&Fe(y))return $C(p,g,y,u,d);if(Mt(g)&&Mt(y)){for(var b=[],_=0;_<y.length;_++){var w=g[_],x=y[_];if(null!=w&&null!=x){var E=$C(p,w,x,u,d);b.push(E)}else b.push(x)}return b}}function DA(c,o,u,d){var f=!d,p=c._private,g=o._private,y=g.easing,b=g.startTime,w=(d?c:c.cy()).style();if(!g.easingImpl)if(null==y)g.easingImpl=dg.linear;else{var x,S,M;x=Te(y)?w.parse("transition-timing-function",y).value:y,Te(x)?(S=x,M=[]):(S=x[1],M=x.slice(2).map(function(Se){return+Se})),M.length>0?("spring"===S&&M.push(g.duration),g.easingImpl=dg[S].apply(null,M)):g.easingImpl=dg[S]}var I,A=g.easingImpl;if(I=0===g.duration?1:(u-b)/g.duration,g.applying&&(I=g.progress),I<0?I=0:I>1&&(I=1),null==g.delay){var R=g.startPosition,F=g.position;if(F&&f&&!c.locked()){var L={};af(R.x,F.x)&&(L.x=vd(R.x,F.x,I,A)),af(R.y,F.y)&&(L.y=vd(R.y,F.y,I,A)),c.position(L)}var z=g.startPan,K=g.pan,Z=p.pan,H=null!=K&&d;H&&(af(z.x,K.x)&&(Z.x=vd(z.x,K.x,I,A)),af(z.y,K.y)&&(Z.y=vd(z.y,K.y,I,A)),c.emit("pan"));var Y=g.startZoom,U=g.zoom,X=null!=U&&d;X&&(af(Y,U)&&(p.zoom=Qt(p.minZoom,vd(Y,U,I,A),p.maxZoom)),c.emit("zoom")),(H||X)&&c.emit("viewport");var J=g.style;if(J&&J.length>0&&f){for(var W=0;W<J.length;W++){var oe=J[W],Q=oe.name,ae=g.startStyle[Q],be=vd(ae,oe,I,A,w.properties[ae.name]);w.overrideBypass(c,Q,be)}c.emit("style")}}return g.progress=I,I}function af(c,o){return!!(null!=c&&null!=o&&(Fe(c)&&Fe(o)||c&&o))}function EA(c,o,u,d){var f=o._private;f.started=!0,f.startTime=u-f.progress*f.duration}function du(c,o){var u=o._private.aniEles,d=[];function f(w,x){var E=w._private,S=E.animation.current,M=E.animation.queue,A=!1;if(0===S.length){var I=M.shift();I&&S.push(I)}for(var R=function(Z){for(var H=Z.length-1;H>=0;H--)(0,Z[H])();Z.splice(0,Z.length)},F=S.length-1;F>=0;F--){var L=S[F],z=L._private;z.stopped?(S.splice(F,1),z.hooked=!1,z.playing=!1,z.started=!1,R(z.frames)):!z.playing&&!z.applying||(z.playing&&z.applying&&(z.applying=!1),z.started||EA(0,L,c),DA(w,L,c,x),z.applying&&(z.applying=!1),R(z.frames),null!=z.step&&z.step(c),L.completed()&&(S.splice(F,1),z.hooked=!1,z.playing=!1,z.started=!1,R(z.completes)),A=!0)}return!x&&0===S.length&&0===M.length&&d.push(w),A}for(var p=!1,g=0;g<u.length;g++){var b=f(u[g]);p=p||b}var _=f(o,!0);(p||_)&&(u.length>0?o.notify("draw",u):o.notify("draw")),u.unmerge(d),o.emit("step")}var SA={animate:Rn.animate(),animation:Rn.animation(),animated:Rn.animated(),clearQueue:Rn.clearQueue(),delay:Rn.delay(),delayAnimation:Rn.delayAnimation(),stop:Rn.stop(),addToAnimationPool:function(o){!this.styleEnabled()||this._private.aniEles.merge(o)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var o=this;if(o._private.animationsRunning=!0,o.styleEnabled()){var d=o.renderer();d&&d.beforeRender?d.beforeRender(function(p,g){du(g,o)},d.beforeRenderPriorities.animations):function u(){!o._private.animationsRunning||Qa(function(p){du(p,o),u()})}()}}},MA={qualifierCompare:function(o,u){return null==o||null==u?null==o&&null==u:o.sameText(u)},eventMatches:function(o,u,d){var f=u.qualifier;return null==f||o!==d.target&&ki(d.target)&&f.matches(d.target)},addEventFields:function(o,u){u.cy=o,u.target=o},callbackContext:function(o,u,d){return null!=u.qualifier?d.target:o}},Xi=function(o){return Te(o)?new Uo(o):o},lf={createEmitter:function(){var o=this._private;return o.emitter||(o.emitter=new Da(MA,this)),this},emitter:function(){return this._private.emitter},on:function(o,u,d){return this.emitter().on(o,Xi(u),d),this},removeListener:function(o,u,d){return this.emitter().removeListener(o,Xi(u),d),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(o,u,d){return this.emitter().one(o,Xi(u),d),this},once:function(o,u,d){return this.emitter().one(o,Xi(u),d),this},emit:function(o,u){return this.emitter().emit(o,u),this},emitAndNotify:function(o,u){return this.emit(o),this.notify(o,u),this}};Rn.eventAliasesOn(lf);var Jl={png:function(o){return this._private.renderer.png(o=o||{})},jpg:function(o){var u=this._private.renderer;return(o=o||{}).bg=o.bg||"#fff",u.jpg(o)}};Jl.jpeg=Jl.jpg;var hg={layout:function(o){var u=this;if(null!=o)if(null!=o.name){var p,d=o.name,f=u.extension("layout",d);if(null!=f)return p=Te(o.eles)?u.$(o.eles):null!=o.eles?o.eles:u.$(),new f(qt({},o,{cy:u,eles:p}));Fi("No such layout `"+d+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Fi("A `name` must be specified to make a layout");else Fi("Layout options must be specified to make a layout")}};hg.createLayout=hg.makeLayout=hg.layout;var UC={notify:function(o,u){var d=this._private;if(this.batching()){d.batchNotifications=d.batchNotifications||{};var f=d.batchNotifications[o]=d.batchNotifications[o]||this.collection();null!=u&&f.merge(u)}else if(d.notificationsEnabled){var p=this.renderer();this.destroyed()||!p||p.notify(o,u)}},notifications:function(o){var u=this._private;return void 0===o?u.notificationsEnabled:(u.notificationsEnabled=!!o,this)},noNotifications:function(o){this.notifications(!1),o(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var o=this._private;return null==o.batchCount&&(o.batchCount=0),0===o.batchCount&&(o.batchStyleEles=this.collection(),o.batchNotifications={}),o.batchCount++,this},endBatch:function(){var o=this._private;if(0===o.batchCount)return this;if(o.batchCount--,0===o.batchCount){o.batchStyleEles.updateStyle();var u=this.renderer();Object.keys(o.batchNotifications).forEach(function(d){var f=o.batchNotifications[d];f.empty()?u.notify(d):u.notify(d,f)})}return this},batch:function(o){return this.startBatch(),o(),this.endBatch(),this},batchData:function(o){var u=this;return this.batch(function(){for(var d=Object.keys(o),f=0;f<d.length;f++){var p=d[f],g=o[p];u.getElementById(p).data(g)}})}},Ws=Ur({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),xo={renderTo:function(o,u,d,f){return this._private.renderer.renderTo(o,u,d,f),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(o){var u=this,d=u.extension("renderer",o.name);if(null!=d){void 0!==o.wheelSensitivity&&ei("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var f=Ws(o);f.cy=u,u._private.renderer=new d(f),this.notify("init")}else Fi("Can not initialise: No such renderer `".concat(o.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var o=this;o.notify("destroy");var u=o.container();if(u)for(u._cyreg=null;u.childNodes.length>0;)u.removeChild(u.childNodes[0]);o._private.renderer=null,o.mutableElements().forEach(function(d){var f=d._private;f.rscratch={},f.rstyle={},f.animation.current=[],f.animation.queue=[]})},onRender:function(o){return this.on("render",o)},offRender:function(o){return this.off("render",o)}};xo.invalidateDimensions=xo.resize;var yd={collection:function(o,u){return Te(o)?this.$(o):Ue(o)?o.collection():Mt(o)?(u||(u={}),new Br(this,o,u.unique,u.removed)):new Br(this)},nodes:function(o){var u=this.$(function(d){return d.isNode()});return o?u.filter(o):u},edges:function(o){var u=this.$(function(d){return d.isEdge()});return o?u.filter(o):u},$:function(o){var u=this._private.elements;return o?u.filter(o):u.spawnSelf()},mutableElements:function(){return this._private.elements}};yd.elements=yd.filter=yd.$;var Er={apply:function(c){for(var o=this,f=o._private.cy.collection(),p=0;p<c.length;p++){var g=c[p],y=o.getContextMeta(g);if(!y.empty){var b=o.getContextStyle(y),_=o.applyContextStyle(y,b,g);g._private.appliedInitStyle?o.updateTransitions(g,_.diffProps):g._private.appliedInitStyle=!0,o.updateStyleHints(g)&&f.push(g)}}return f},getPropertiesDiff:function(c,o){var u=this,d=u._private.propDiffs=u._private.propDiffs||{},f=c+"-"+o,p=d[f];if(p)return p;for(var g=[],y={},b=0;b<u.length;b++){var _=u[b],x="t"===o[b],E="t"===c[b]!==x,S=_.mappedProperties.length>0;if(E||x&&S){var M=void 0;E&&S||E?M=_.properties:S&&(M=_.mappedProperties);for(var A=0;A<M.length;A++){for(var I=M[A],R=I.name,F=!1,L=b+1;L<u.length&&("t"!==o[L]||!(F=null!=u[L].properties[I.name]));L++);!y[R]&&!F&&(y[R]=!0,g.push(R))}}}return d[f]=g,g},getContextMeta:function(c){for(var d,o=this,u="",f=c._private.styleCxtKey||"",p=0;p<o.length;p++){var g=o[p];u+=g.selector&&g.selector.matches(c)?"t":"f"}return d=o.getPropertiesDiff(f,u),c._private.styleCxtKey=u,{key:u,diffPropNames:d,empty:0===d.length}},getContextStyle:function(c){var o=c.key,d=this._private.contextStyles=this._private.contextStyles||{};if(d[o])return d[o];for(var f={_private:{key:o}},p=0;p<this.length;p++){var g=this[p];if("t"===o[p])for(var b=0;b<g.properties.length;b++){var _=g.properties[b];f[_.name]=_}}return d[o]=f,f},applyContextStyle:function(c,o,u){for(var f=c.diffPropNames,p={},g=this.types,y=0;y<f.length;y++){var b=f[y],_=o[b],w=u.pstyle(b);if(!_){if(!w)continue;_=w.bypass?{name:b,deleteBypassed:!0}:{name:b,delete:!0}}if(w!==_){if(_.mapped===g.fn&&null!=w&&null!=w.mapping&&w.mapping.value===_.value){var x=w.mapping;if((x.fnValue=_.value(u))===x.prevFnValue)continue}var S=p[b]={prev:w};this.applyParsedProperty(u,_),S.next=u.pstyle(b),S.next&&S.next.bypass&&(S.next=S.next.bypassed)}}return{diffProps:p}},updateStyleHints:function(c){var d,o=c._private,u=this,f=u.propertyGroupKeys,p=function(nt,gt,nn){return u.getPropertiesHash(nt,gt,nn)},g=o.styleKey;if(c.removed())return!1;var nt,y="nodes"===o.group,b=c._private.style;d=Object.keys(b);for(var _=0;_<f.length;_++)o.styleKeys[f[_]]=[ba,zc];for(var x=function(nt,gt){return o.styleKeys[gt][0]=$c(nt,o.styleKeys[gt][0])},E=function(nt,gt){return o.styleKeys[gt][1]=xr(nt,o.styleKeys[gt][1])},S=function(nt,gt){x(nt,gt),E(nt,gt)},M=function(nt,gt){for(var nn=0;nn<nt.length;nn++){var vn=nt.charCodeAt(nn);x(vn,gt),E(vn,gt)}},R=0;R<d.length;R++){var F=d[R],L=b[F];if(null!=L){var z=this.properties[F],K=z.type,Z=z.groupKey,H=void 0;null!=z.hashOverride?H=z.hashOverride(c,L):null!=L.pfValue&&(H=L.pfValue);var Y=null==z.enums?L.value:null,U=null!=H,W=L.units;!K.number||!U&&null==Y||K.multiple?M(L.strValue,Z):(S(-128<(nt=U?H:Y)&&nt<128&&Math.floor(nt)!==nt?2e9-(1024*nt|0):nt,Z),!U&&null!=W&&M(W,Z))}}for(var Q=[ba,zc],me=0;me<f.length;me++){var ce=o.styleKeys[f[me]];Q[0]=$c(ce[0],Q[0]),Q[1]=xr(ce[1],Q[1])}o.styleKey=function(o,u){return 2097152*o+u}(Q[0],Q[1]);var be=o.styleKeys;o.labelDimsKey=Ja(be.labelDimensions);var Se=p(c,["label"],be.labelDimensions);if(o.labelKey=Ja(Se),o.labelStyleKey=Ja(Th(be.commonLabel,Se)),!y){var Oe=p(c,["source-label"],be.labelDimensions);o.sourceLabelKey=Ja(Oe),o.sourceLabelStyleKey=Ja(Th(be.commonLabel,Oe));var De=p(c,["target-label"],be.labelDimensions);o.targetLabelKey=Ja(De),o.targetLabelStyleKey=Ja(Th(be.commonLabel,De))}if(y){var Ie=o.styleKeys,ye=Ie.pie,qe=[Ie.nodeBody,Ie.nodeBorder,Ie.backgroundImage,Ie.compound,ye].filter(function(Je){return null!=Je}).reduce(Th,[ba,zc]);o.nodeKey=Ja(qe),o.hasPie=null!=ye&&ye[0]!==ba&&ye[1]!==zc}return g!==o.styleKey},clearStyleHints:function(c){var o=c._private;o.styleCxtKey="",o.styleKeys={},o.styleKey=null,o.labelKey=null,o.labelStyleKey=null,o.sourceLabelKey=null,o.sourceLabelStyleKey=null,o.targetLabelKey=null,o.targetLabelStyleKey=null,o.nodeKey=null,o.hasPie=null},applyParsedProperty:function(c,o){var p,u=this,d=o,f=c._private.style,g=u.types,y=u.properties[d.name].type,b=d.bypass,_=f[d.name],w=_&&_.bypass,x=c._private,E="mapping",S=function(We){return null==We?null:null!=We.pfValue?We.pfValue:We.value},M=function(){var We=S(_),Ye=S(d);u.checkTriggers(c,d.name,We,Ye)};if(d&&"pie"===d.name.substr(0,3)&&ei("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===o.name&&c.isEdge()&&("bezier"!==o.value&&c.isLoop()||"haystack"===o.value&&(c.source().isParent()||c.target().isParent()))&&(d=o=this.parse(o.name,"bezier",b)),d.delete)return f[d.name]=void 0,M(),!0;if(d.deleteBypassed)return _?!!_.bypass&&(_.bypassed=void 0,M(),!0):(M(),!0);if(d.deleteBypass)return _?!!_.bypass&&(f[d.name]=_.bypassed,M(),!0):(M(),!0);var A=function(){ei("Do not assign mappings to elements without corresponding data (i.e. ele `"+c.id()+"` has no mapping for property `"+d.name+"` with data field `"+d.field+"`); try a `["+d.field+"]` selector to limit scope to elements with `"+d.field+"` defined")};switch(d.mapped){case g.mapData:for(var I=d.field.split("."),R=x.data,F=0;F<I.length&&R;F++)R=R[I[F]];if(null==R)return A(),!1;var z;if(!Fe(R))return ei("Do not use continuous mappers without specifying numeric data (i.e. `"+d.field+": "+R+"` for `"+c.id()+"` is non-numeric)"),!1;var K=d.fieldMax-d.fieldMin;if((z=0===K?0:(R-d.fieldMin)/K)<0?z=0:z>1&&(z=1),y.color){var Z=d.valueMin[0],Y=d.valueMin[1],U=d.valueMax[1],X=d.valueMin[2],J=d.valueMax[2],W=d.valueMin[3]??1,oe=d.valueMax[3]??1,Q=[Math.round(Z+(d.valueMax[0]-Z)*z),Math.round(Y+(U-Y)*z),Math.round(X+(J-X)*z),Math.round(W+(oe-W)*z)];p={bypass:d.bypass,name:d.name,value:Q,strValue:"rgb("+Q[0]+", "+Q[1]+", "+Q[2]+")"}}else{if(!y.number)return!1;p=this.parse(d.name,d.valueMin+(d.valueMax-d.valueMin)*z,d.bypass,E)}if(!p)return A(),!1;p.mapping=d,d=p;break;case g.data:for(var ae=d.field.split("."),ce=x.data,be=0;be<ae.length&&ce;be++)ce=ce[ae[be]];if(null!=ce&&(p=this.parse(d.name,ce,d.bypass,E)),!p)return A(),!1;p.mapping=d,d=p;break;case g.fn:var De=null!=d.fnValue?d.fnValue:(0,d.value)(c);if(d.prevFnValue=De,null==De)return ei("Custom function mappers may not return null (i.e. `"+d.name+"` for ele `"+c.id()+"` is null)"),!1;if(!(p=this.parse(d.name,De,d.bypass,E)))return ei("Custom function mappers may not return invalid values for the property type (i.e. `"+d.name+"` for ele `"+c.id()+"` is invalid)"),!1;p.mapping=vo(d),d=p;break;case void 0:break;default:return!1}return b?(d.bypassed=w?_.bypassed:_,f[d.name]=d):w?_.bypassed=d:f[d.name]=d,M(),!0},cleanElements:function(c,o){for(var u=0;u<c.length;u++){var d=c[u];if(this.clearStyleHints(d),d.dirtyCompoundBoundsCache(),d.dirtyBoundingBoxCache(),o)for(var f=d._private.style,p=Object.keys(f),g=0;g<p.length;g++){var y=p[g],b=f[y];null!=b&&(b.bypass?b.bypassed=null:f[y]=null)}else d._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(c,o){var u=this,d=c._private,f=c.pstyle("transition-property").value,p=c.pstyle("transition-duration").pfValue,g=c.pstyle("transition-delay").pfValue;if(f.length>0&&p>0){for(var y={},b=!1,_=0;_<f.length;_++){var w=f[_],x=c.pstyle(w),E=o[w];if(E){var M=E.prev,A=null!=E.next?E.next:x,I=!1,R=void 0,F=1e-6;!M||(Fe(M.pfValue)&&Fe(A.pfValue)?R=M.pfValue+F*(I=A.pfValue-M.pfValue):Fe(M.value)&&Fe(A.value)?R=M.value+F*(I=A.value-M.value):Mt(M.value)&&Mt(A.value)&&(I=M.value[0]!==A.value[0]||M.value[1]!==A.value[1]||M.value[2]!==A.value[2],R=M.strValue),I&&(y[w]=A.strValue,this.applyBypass(c,w,R),b=!0))}}if(!b)return;d.transitioning=!0,new tu(function(L){g>0?c.delayAnimation(g).play().promise().then(L):L()}).then(function(){return c.animation({style:y,duration:p,easing:c.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){u.removeBypasses(c,f),c.emitAndNotify("style"),d.transitioning=!1})}else d.transitioning&&(this.removeBypasses(c,f),c.emitAndNotify("style"),d.transitioning=!1)},checkTrigger:function(c,o,u,d,f,p){var g=this.properties[o],y=f(g);null!=y&&y(u,d)&&p(g)},checkZOrderTrigger:function(c,o,u,d){var f=this;this.checkTrigger(c,o,u,d,function(p){return p.triggersZOrder},function(){f._private.cy.notify("zorder",c)})},checkBoundsTrigger:function(c,o,u,d){this.checkTrigger(c,o,u,d,function(f){return f.triggersBounds},function(f){c.dirtyCompoundBoundsCache(),c.dirtyBoundingBoxCache(),f.triggersBoundsOfParallelBeziers&&("curve-style"===o&&("bezier"===u||"bezier"===d)||"display"===o&&("none"===u||"none"===d))&&c.parallelEdges().forEach(function(p){p.isBundledBezier()&&p.dirtyBoundingBoxCache()})})},checkTriggers:function(c,o,u,d){c.dirtyStyleCache(),this.checkZOrderTrigger(c,o,u,d),this.checkBoundsTrigger(c,o,u,d)}},_d={applyBypass:function(c,o,u,d){var p=[];if("*"===o||"**"===o){if(void 0!==u)for(var y=0;y<this.properties.length;y++){var w=this.parse(this.properties[y].name,u,!0);w&&p.push(w)}}else if(Te(o)){var x=this.parse(o,u,!0);x&&p.push(x)}else{if(!it(o))return!1;var E=o;d=u;for(var S=Object.keys(E),M=0;M<S.length;M++){var A=S[M],I=E[A];if(void 0===I&&(I=E[es(A)]),void 0!==I){var R=this.parse(A,I,!0);R&&p.push(R)}}}if(0===p.length)return!1;for(var F=!1,L=0;L<c.length;L++){for(var z=c[L],K={},Z=void 0,H=0;H<p.length;H++){var Y=p[H];if(d){var U=z.pstyle(Y.name);Z=K[Y.name]={prev:U}}F=this.applyParsedProperty(z,vo(Y))||F,d&&(Z.next=z.pstyle(Y.name))}F&&this.updateStyleHints(z),d&&this.updateTransitions(z,K,!0)}return F},overrideBypass:function(c,o,u){o=Jr(o);for(var d=0;d<c.length;d++){var f=c[d],p=f._private.style[o],g=this.properties[o].type,y=g.color,b=g.mutiple,_=p?null!=p.pfValue?p.pfValue:p.value:null;p&&p.bypass?(p.value=u,null!=p.pfValue&&(p.pfValue=u),p.strValue=y?"rgb("+u.join(",")+")":b?u.join(" "):""+u,this.updateStyleHints(f)):this.applyBypass(f,o,u),this.checkTriggers(f,o,_,u)}},removeAllBypasses:function(c,o){return this.removeBypasses(c,this.propertyNames,o)},removeBypasses:function(c,o,u){for(var f=0;f<c.length;f++){for(var p=c[f],g={},y=0;y<o.length;y++){var b=o[y],_=this.properties[b],w=p.pstyle(_.name);if(w&&w.bypass){var E=this.parse(b,"",!0),S=g[_.name]={prev:w};this.applyParsedProperty(p,E),S.next=p.pstyle(_.name)}}this.updateStyleHints(p),u&&this.updateTransitions(p,g,!0)}}},fg={getEmSizeInPixels:function(){var c=this.containerCss("font-size");return null!=c?parseFloat(c):1},containerCss:function(c){var u=this._private.cy.container();if(At&&u&&At.getComputedStyle)return At.getComputedStyle(u).getPropertyValue(c)}},Ma={getRenderedStyle:function(c,o){return o?this.getStylePropertyValue(c,o,!0):this.getRawStyle(c,!0)},getRawStyle:function(c,o){var u=this;if(c=c[0]){for(var d={},f=0;f<u.properties.length;f++){var p=u.properties[f],g=u.getStylePropertyValue(c,p.name,o);null!=g&&(d[p.name]=g,d[es(p.name)]=g)}return d}},getIndexedStyle:function(c,o,u,d){return c.pstyle(o)[u][d]??c.cy().style().getDefaultProperty(o)[u][0]},getStylePropertyValue:function(c,o,u){if(c=c[0]){var f=this.properties[o];f.alias&&(f=f.pointsTo);var p=f.type,g=c.pstyle(f.name);if(g){var y=g.value,b=g.units,_=g.strValue;if(u&&p.number&&null!=y&&Fe(y)){var w=c.cy().zoom(),x=function(I){return I*w},E=function(I,R){return x(I)+R},S=Mt(y);return(S?b.every(function(A){return null!=A}):null!=b)?S?y.map(function(A,I){return E(A,b[I])}).join(" "):E(y,b):S?y.map(function(A){return Te(A)?A:""+x(A)}).join(" "):""+x(y)}if(null!=_)return _}return null}},getAnimationStartStyle:function(c,o){for(var u={},d=0;d<o.length;d++){var p=o[d].name,g=c.pstyle(p);void 0!==g&&(g=it(g)?this.parse(p,g.strValue):this.parse(p,g)),g&&(u[p]=g)}return u},getPropsList:function(c){var u=[],d=c,f=this.properties;if(d)for(var p=Object.keys(d),g=0;g<p.length;g++){var y=p[g],b=d[y],_=f[y]||f[Jr(y)],w=this.parse(_.name,b);w&&u.push(w)}return u},getNonDefaultPropertiesHash:function(c,o,u){var p,g,y,b,_,d=u.slice();for(b=0;b<o.length;b++)if(null!=(p=c.pstyle(o[b],!1)))if(null!=p.pfValue)d[0]=$c(y,d[0]),d[1]=xr(y,d[1]);else for(g=p.strValue,_=0;_<g.length;_++)y=g.charCodeAt(_),d[0]=$c(y,d[0]),d[1]=xr(y,d[1]);return d}};Ma.getPropertiesHash=Ma.getNonDefaultPropertiesHash;var pg={appendFromJson:function(c){for(var o=this,u=0;u<c.length;u++){var d=c[u],f=d.selector,p=d.style||d.css,g=Object.keys(p);o.selector(f);for(var y=0;y<g.length;y++){var b=g[y];o.css(b,p[b])}}return o},fromJson:function(c){var o=this;return o.resetToDefault(),o.appendFromJson(c),o},json:function(){for(var c=[],o=this.defaultLength;o<this.length;o++){for(var u=this[o],d=u.selector,f=u.properties,p={},g=0;g<f.length;g++){var y=f[g];p[y.name]=y.strValue}c.push({selector:d?d.toString():"core",style:p})}return c}},cf={appendFromString:function(c){var f,p,g,u=this,d=""+c;function y(){d=d.length>f.length?d.substr(f.length):""}function b(){p=p.length>g.length?p.substr(g.length):""}for(d=d.replace(/[/][*](\s|.)+?[*][/]/g,"");!d.match(/^\s*$/);){var w=d.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!w){ei("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+d);break}f=w[0];var x=w[1];if("core"!==x&&new Uo(x).invalid)ei("Skipping parsing of block: Invalid selector found in string stylesheet: "+x),y();else{var S=w[2],M=!1;p=S;for(var A=[];!p.match(/^\s*$/);){var R=p.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!R){ei("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+S),M=!0;break}g=R[0];var F=R[1],L=R[2];this.properties[F]?u.parse(F,L)?(A.push({name:F,val:L}),b()):(ei("Skipping property: Invalid property definition in: "+g),b()):(ei("Skipping property: Invalid property name in: "+g),b())}if(M){y();break}u.selector(x);for(var Z=0;Z<A.length;Z++){var H=A[Z];u.css(H.name,H.val)}y()}}return u},fromString:function(c){var o=this;return o.resetToDefault(),o.appendFromString(c),o}},_i={};(function(){var c=Jn,p=function(qe){return"^"+qe+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},g=function(qe){var Je=c+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+qe+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+c+")\\s*\\,\\s*("+c+")\\s*,\\s*("+Je+")\\s*\\,\\s*("+Je+")\\)$"},y=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];_i.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:p("data")},layoutData:{mapping:!0,regex:p("layoutData")},scratch:{mapping:!0,regex:p("scratch")},mapData:{mapping:!0,regex:g("mapData")},mapLayoutData:{mapping:!0,regex:g("mapLayoutData")},mapScratch:{mapping:!0,regex:g("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:y,singleRegexMatchValue:!0},urls:{regexes:y,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(qe,Je){switch(qe.length){case 2:return"deg"!==Je[0]&&"rad"!==Je[0]&&"deg"!==Je[1]&&"rad"!==Je[1];case 1:return Te(qe[0])||"deg"===Je[0]||"rad"===Je[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+c+")\\s*,\\s*("+c+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+c+")\\s*,\\s*("+c+")\\s*,\\s*("+c+")\\s*,\\s*("+c+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(qe){var Je=qe.length;return 1===Je||2===Je||4===Je}}};var b={zeroNonZero:function(qe,Je){return(null==qe||null==Je)&&qe!==Je||0==qe&&0!=Je||0!=qe&&0==Je},any:function(qe,Je){return qe!=Je},emptyNonEmpty:function(qe,Je){var nt=vt(qe),gt=vt(Je);return nt&&!gt||!nt&&gt}},_=_i.types,w=[{name:"label",type:_.text,triggersBounds:b.any,triggersZOrder:b.emptyNonEmpty},{name:"text-rotation",type:_.textRotation,triggersBounds:b.any},{name:"text-margin-x",type:_.bidirectionalSize,triggersBounds:b.any},{name:"text-margin-y",type:_.bidirectionalSize,triggersBounds:b.any}],x=[{name:"source-label",type:_.text,triggersBounds:b.any},{name:"source-text-rotation",type:_.textRotation,triggersBounds:b.any},{name:"source-text-margin-x",type:_.bidirectionalSize,triggersBounds:b.any},{name:"source-text-margin-y",type:_.bidirectionalSize,triggersBounds:b.any},{name:"source-text-offset",type:_.size,triggersBounds:b.any}],E=[{name:"target-label",type:_.text,triggersBounds:b.any},{name:"target-text-rotation",type:_.textRotation,triggersBounds:b.any},{name:"target-text-margin-x",type:_.bidirectionalSize,triggersBounds:b.any},{name:"target-text-margin-y",type:_.bidirectionalSize,triggersBounds:b.any},{name:"target-text-offset",type:_.size,triggersBounds:b.any}],S=[{name:"font-family",type:_.fontFamily,triggersBounds:b.any},{name:"font-style",type:_.fontStyle,triggersBounds:b.any},{name:"font-weight",type:_.fontWeight,triggersBounds:b.any},{name:"font-size",type:_.size,triggersBounds:b.any},{name:"text-transform",type:_.textTransform,triggersBounds:b.any},{name:"text-wrap",type:_.textWrap,triggersBounds:b.any},{name:"text-overflow-wrap",type:_.textOverflowWrap,triggersBounds:b.any},{name:"text-max-width",type:_.size,triggersBounds:b.any},{name:"text-outline-width",type:_.size,triggersBounds:b.any},{name:"line-height",type:_.positiveNumber,triggersBounds:b.any}],M=[{name:"text-valign",type:_.valign,triggersBounds:b.any},{name:"text-halign",type:_.halign,triggersBounds:b.any},{name:"color",type:_.color},{name:"text-outline-color",type:_.color},{name:"text-outline-opacity",type:_.zeroOneNumber},{name:"text-background-color",type:_.color},{name:"text-background-opacity",type:_.zeroOneNumber},{name:"text-background-padding",type:_.size,triggersBounds:b.any},{name:"text-border-opacity",type:_.zeroOneNumber},{name:"text-border-color",type:_.color},{name:"text-border-width",type:_.size,triggersBounds:b.any},{name:"text-border-style",type:_.borderStyle,triggersBounds:b.any},{name:"text-background-shape",type:_.textBackgroundShape,triggersBounds:b.any},{name:"text-justification",type:_.justification}],A=[{name:"events",type:_.bool},{name:"text-events",type:_.bool}],I=[{name:"display",type:_.display,triggersZOrder:b.any,triggersBounds:b.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:_.visibility,triggersZOrder:b.any},{name:"opacity",type:_.zeroOneNumber,triggersZOrder:b.zeroNonZero},{name:"text-opacity",type:_.zeroOneNumber},{name:"min-zoomed-font-size",type:_.size},{name:"z-compound-depth",type:_.zCompoundDepth,triggersZOrder:b.any},{name:"z-index-compare",type:_.zIndexCompare,triggersZOrder:b.any},{name:"z-index",type:_.nonNegativeInt,triggersZOrder:b.any}],R=[{name:"overlay-padding",type:_.size,triggersBounds:b.any},{name:"overlay-color",type:_.color},{name:"overlay-opacity",type:_.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"overlay-shape",type:_.overlayShape,triggersBounds:b.any}],F=[{name:"underlay-padding",type:_.size,triggersBounds:b.any},{name:"underlay-color",type:_.color},{name:"underlay-opacity",type:_.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"underlay-shape",type:_.overlayShape,triggersBounds:b.any}],L=[{name:"transition-property",type:_.propList},{name:"transition-duration",type:_.time},{name:"transition-delay",type:_.time},{name:"transition-timing-function",type:_.easing}],z=function(qe,Je){return"label"===Je.value?-qe.poolIndex():Je.pfValue},K=[{name:"height",type:_.nodeSize,triggersBounds:b.any,hashOverride:z},{name:"width",type:_.nodeSize,triggersBounds:b.any,hashOverride:z},{name:"shape",type:_.nodeShape,triggersBounds:b.any},{name:"shape-polygon-points",type:_.polygonPointList,triggersBounds:b.any},{name:"background-color",type:_.color},{name:"background-fill",type:_.fill},{name:"background-opacity",type:_.zeroOneNumber},{name:"background-blacken",type:_.nOneOneNumber},{name:"background-gradient-stop-colors",type:_.colors},{name:"background-gradient-stop-positions",type:_.percentages},{name:"background-gradient-direction",type:_.gradientDirection},{name:"padding",type:_.sizeMaybePercent,triggersBounds:b.any},{name:"padding-relative-to",type:_.paddingRelativeTo,triggersBounds:b.any},{name:"bounds-expansion",type:_.boundsExpansion,triggersBounds:b.any}],Z=[{name:"border-color",type:_.color},{name:"border-opacity",type:_.zeroOneNumber},{name:"border-width",type:_.size,triggersBounds:b.any},{name:"border-style",type:_.borderStyle}],H=[{name:"background-image",type:_.urls},{name:"background-image-crossorigin",type:_.bgCrossOrigin},{name:"background-image-opacity",type:_.zeroOneNumbers},{name:"background-image-containment",type:_.bgContainment},{name:"background-image-smoothing",type:_.bools},{name:"background-position-x",type:_.bgPos},{name:"background-position-y",type:_.bgPos},{name:"background-width-relative-to",type:_.bgRelativeTo},{name:"background-height-relative-to",type:_.bgRelativeTo},{name:"background-repeat",type:_.bgRepeat},{name:"background-fit",type:_.bgFit},{name:"background-clip",type:_.bgClip},{name:"background-width",type:_.bgWH},{name:"background-height",type:_.bgWH},{name:"background-offset-x",type:_.bgPos},{name:"background-offset-y",type:_.bgPos}],Y=[{name:"position",type:_.position,triggersBounds:b.any},{name:"compound-sizing-wrt-labels",type:_.compoundIncludeLabels,triggersBounds:b.any},{name:"min-width",type:_.size,triggersBounds:b.any},{name:"min-width-bias-left",type:_.sizeMaybePercent,triggersBounds:b.any},{name:"min-width-bias-right",type:_.sizeMaybePercent,triggersBounds:b.any},{name:"min-height",type:_.size,triggersBounds:b.any},{name:"min-height-bias-top",type:_.sizeMaybePercent,triggersBounds:b.any},{name:"min-height-bias-bottom",type:_.sizeMaybePercent,triggersBounds:b.any}],U=[{name:"line-style",type:_.lineStyle},{name:"line-color",type:_.color},{name:"line-fill",type:_.fill},{name:"line-cap",type:_.lineCap},{name:"line-opacity",type:_.zeroOneNumber},{name:"line-dash-pattern",type:_.numbers},{name:"line-dash-offset",type:_.number},{name:"line-gradient-stop-colors",type:_.colors},{name:"line-gradient-stop-positions",type:_.percentages},{name:"curve-style",type:_.curveStyle,triggersBounds:b.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:_.zeroOneNumber,triggersBounds:b.any},{name:"source-endpoint",type:_.edgeEndpoint,triggersBounds:b.any},{name:"target-endpoint",type:_.edgeEndpoint,triggersBounds:b.any},{name:"control-point-step-size",type:_.size,triggersBounds:b.any},{name:"control-point-distances",type:_.bidirectionalSizes,triggersBounds:b.any},{name:"control-point-weights",type:_.numbers,triggersBounds:b.any},{name:"segment-distances",type:_.bidirectionalSizes,triggersBounds:b.any},{name:"segment-weights",type:_.numbers,triggersBounds:b.any},{name:"taxi-turn",type:_.bidirectionalSizeMaybePercent,triggersBounds:b.any},{name:"taxi-turn-min-distance",type:_.size,triggersBounds:b.any},{name:"taxi-direction",type:_.axisDirection,triggersBounds:b.any},{name:"edge-distances",type:_.edgeDistances,triggersBounds:b.any},{name:"arrow-scale",type:_.positiveNumber,triggersBounds:b.any},{name:"loop-direction",type:_.angle,triggersBounds:b.any},{name:"loop-sweep",type:_.angle,triggersBounds:b.any},{name:"source-distance-from-node",type:_.size,triggersBounds:b.any},{name:"target-distance-from-node",type:_.size,triggersBounds:b.any}],X=[{name:"ghost",type:_.bool,triggersBounds:b.any},{name:"ghost-offset-x",type:_.bidirectionalSize,triggersBounds:b.any},{name:"ghost-offset-y",type:_.bidirectionalSize,triggersBounds:b.any},{name:"ghost-opacity",type:_.zeroOneNumber}],J=[{name:"selection-box-color",type:_.color},{name:"selection-box-opacity",type:_.zeroOneNumber},{name:"selection-box-border-color",type:_.color},{name:"selection-box-border-width",type:_.size},{name:"active-bg-color",type:_.color},{name:"active-bg-opacity",type:_.zeroOneNumber},{name:"active-bg-size",type:_.size},{name:"outside-texture-bg-color",type:_.color},{name:"outside-texture-bg-opacity",type:_.zeroOneNumber}],W=[];_i.pieBackgroundN=16,W.push({name:"pie-size",type:_.sizeMaybePercent});for(var oe=1;oe<=_i.pieBackgroundN;oe++)W.push({name:"pie-"+oe+"-background-color",type:_.color}),W.push({name:"pie-"+oe+"-background-size",type:_.percent}),W.push({name:"pie-"+oe+"-background-opacity",type:_.zeroOneNumber});var Q=[],me=_i.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:_.arrowShape,triggersBounds:b.any},{name:"arrow-color",type:_.color},{name:"arrow-fill",type:_.arrowFill}].forEach(function(ye){me.forEach(function(qe){Q.push({name:qe+"-"+ye.name,type:ye.type,triggersBounds:ye.triggersBounds})})},{});var ae=_i.properties=[].concat(A,L,I,R,F,X,M,S,w,x,E,K,Z,H,W,Y,U,Q,J),ce=_i.propertyGroups={behavior:A,transition:L,visibility:I,overlay:R,underlay:F,ghost:X,commonLabel:M,labelDimensions:S,mainLabel:w,sourceLabel:x,targetLabel:E,nodeBody:K,nodeBorder:Z,backgroundImage:H,pie:W,compound:Y,edgeLine:U,edgeArrow:Q,core:J},be=_i.propertyGroupNames={};(_i.propertyGroupKeys=Object.keys(ce)).forEach(function(ye){be[ye]=ce[ye].map(function(qe){return qe.name}),ce[ye].forEach(function(qe){return qe.groupKey=ye})});var Oe=_i.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];_i.propertyNames=ae.map(function(ye){return ye.name});for(var De=0;De<ae.length;De++){var Ie=ae[De];ae[Ie.name]=Ie}for(var We=0;We<Oe.length;We++){var Ye=Oe[We],Re={name:Ye.name,alias:!0,pointsTo:ae[Ye.pointsTo]};ae.push(Re),ae[Ye.name]=Re}})(),_i.getDefaultProperty=function(c){return this.getDefaultProperties()[c]},_i.getDefaultProperties=function(){var c=this._private;if(null!=c.defaultProperties)return c.defaultProperties;for(var o=qt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(b,_){for(var w=1;w<=_i.pieBackgroundN;w++)b[_.name.replace("{{i}}",w)]=_.value;return b},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(b,_){return _i.arrowPrefixes.forEach(function(w){b[w+"-"+_.name]=_.value}),b},{})),u={},d=0;d<this.properties.length;d++){var f=this.properties[d];if(!f.pointsTo){var p=f.name,y=this.parse(p,o[p]);u[p]=y}}return c.defaultProperties=u,c.defaultProperties},_i.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var hu={parse:function(c,o,u,d){var f=this;if(ft(o))return f.parseImplWarn(c,o,u,d);var w,b=zv(c,""+o,u?"t":"f","mapping"===d||!0===d||!1===d||null==d?"dontcare":d),_=f.propCache=f.propCache||[];return(w=_[b])||(w=_[b]=f.parseImplWarn(c,o,u,d)),(u||"mapping"===d)&&(w=vo(w))&&(w.value=vo(w.value)),w},parseImplWarn:function(c,o,u,d){var f=this.parseImpl(c,o,u,d);return!f&&null!=o&&ei("The style property `".concat(c,": ").concat(o,"` is invalid")),f&&("width"===f.name||"height"===f.name)&&"label"===o&&ei("The style value of `label` is deprecated for `"+f.name+"`"),f}};hu.parseImpl=function(c,o,u,d){var f=this;c=Jr(c);var p=f.properties[c],g=o,y=f.types;if(!p||void 0===o)return null;p.alias&&(c=(p=p.pointsTo).name);var b=Te(o);b&&(o=o.trim());var w,x,_=p.type;if(!_)return null;if(u&&(""===o||null===o))return{name:c,value:o,bypass:!0,deleteBypass:!0};if(ft(o))return{name:c,value:o,strValue:"fn",mapped:y.fn,bypass:u};if(!(!b||d||o.length<7||"a"!==o[1])){if(o.length>=7&&"d"===o[0]&&(w=new RegExp(y.data.regex).exec(o)))return!u&&{name:c,value:w,strValue:""+o,mapped:y.data,field:w[1],bypass:u};if(o.length>=10&&"m"===o[0]&&(x=new RegExp(y.mapData.regex).exec(o))){if(u||_.multiple)return!1;var S=y.mapData;if(!_.color&&!_.number)return!1;var M=this.parse(c,x[4]);if(!M||M.mapped)return!1;var A=this.parse(c,x[5]);if(!A||A.mapped)return!1;if(M.pfValue===A.pfValue||M.strValue===A.strValue)return ei("`"+c+": "+o+"` is not a valid mapper because the output range is zero; converting to `"+c+": "+M.strValue+"`"),this.parse(c,M.strValue);if(_.color){var I=M.value,R=A.value;if(!(I[0]!==R[0]||I[1]!==R[1]||I[2]!==R[2]||I[3]!==R[3]&&(null!=I[3]&&1!==I[3]||null!=R[3]&&1!==R[3])))return!1}return{name:c,value:x,strValue:""+o,mapped:S,field:x[1],fieldMin:parseFloat(x[2]),fieldMax:parseFloat(x[3]),valueMin:M.value,valueMax:A.value,bypass:u}}}if(_.multiple&&"multiple"!==d){var L;if(L=b?o.split(/\s+/):Mt(o)?o:[o],_.evenMultiple&&L.length%2!=0)return null;for(var z=[],K=[],Z=[],H="",Y=!1,U=0;U<L.length;U++){var X=f.parse(c,L[U],u,"multiple");Y=Y||Te(X.value),z.push(X.value),Z.push(null!=X.pfValue?X.pfValue:X.value),K.push(X.units),H+=(U>0?" ":"")+X.strValue}return _.validate&&!_.validate(z,K)?null:_.singleEnum&&Y?1===z.length&&Te(z[0])?{name:c,value:z[0],strValue:z[0],bypass:u}:null:{name:c,value:z,pfValue:Z,strValue:H,bypass:u,units:K}}var J=function(){for(var Je=0;Je<_.enums.length;Je++)if(_.enums[Je]===o)return{name:c,value:o,strValue:""+o,bypass:u};return null};if(_.number){var W,oe="px";if(_.units&&(W=_.units),_.implicitUnits&&(oe=_.implicitUnits),!_.unitless)if(b){var Q="px|em"+(_.allowPercent?"|\\%":"");W&&(Q=W);var me=o.match("^("+Jn+")("+Q+")?$");me&&(o=me[1],W=me[2]||oe)}else(!W||_.implicitUnits)&&(W=oe);if(o=parseFloat(o),isNaN(o)&&void 0===_.enums)return null;if(isNaN(o)&&void 0!==_.enums)return o=g,J();if(_.integer&&!function(o){return Fe(o)&&Math.floor(o)===o}(o)||void 0!==_.min&&(o<_.min||_.strictMin&&o===_.min)||void 0!==_.max&&(o>_.max||_.strictMax&&o===_.max))return null;var ae={name:c,value:o,strValue:""+o+(W||""),units:W,bypass:u};return ae.pfValue=_.unitless||"px"!==W&&"em"!==W?o:"px"!==W&&W?this.getEmSizeInPixels()*o:o,("ms"===W||"s"===W)&&(ae.pfValue="ms"===W?o:1e3*o),("deg"===W||"rad"===W)&&(ae.pfValue="rad"===W?o:function(o){return Math.PI*o/180}(o)),"%"===W&&(ae.pfValue=o/100),ae}if(_.propList){var ce=[],be=""+o;if("none"!==be){for(var Se=be.split(/\s*,\s*|\s+/),Oe=0;Oe<Se.length;Oe++){var De=Se[Oe].trim();f.properties[De]?ce.push(De):ei("`"+De+"` is not a valid property name")}if(0===ce.length)return null}return{name:c,value:ce,strValue:0===ce.length?"none":ce.join(" "),bypass:u}}if(_.color){var Ie=function(o){return(Mt(o)?o:null)||function(o){return Hv[o.toLowerCase()]}(o)||function(o){if((4===o.length||7===o.length)&&"#"===o[0]){var d,f,p,g=16;return 4===o.length?(d=parseInt(o[1]+o[1],g),f=parseInt(o[2]+o[2],g),p=parseInt(o[3]+o[3],g)):(d=parseInt(o[1]+o[2],g),f=parseInt(o[3]+o[4],g),p=parseInt(o[5]+o[6],g)),[d,f,p]}}(o)||function(o){var u,d=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(o);if(d){u=[];for(var f=[],p=1;p<=3;p++){var g=d[p];if("%"===g[g.length-1]&&(f[p]=!0),g=parseFloat(g),f[p]&&(g=g/100*255),g<0||g>255)return;u.push(Math.floor(g))}if((f[1]||f[2]||f[3])&&!(f[1]&&f[2]&&f[3]))return;var _=d[4];if(void 0!==_){if((_=parseFloat(_))<0||_>1)return;u.push(_)}}return u}(o)||function(o){var u,d,f,p,g,y,b,_;function w(M,A,I){return I<0&&(I+=1),I>1&&(I-=1),I<1/6?M+6*(A-M)*I:I<.5?A:I<2/3?M+(A-M)*(2/3-I)*6:M}var x=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(o);if(x){if((d=parseInt(x[1]))<0?d=(360- -1*d%360)%360:d>360&&(d%=360),d/=360,(f=parseFloat(x[2]))<0||f>100||(f/=100,(p=parseFloat(x[3]))<0||p>100)||(p/=100,void 0!==(g=x[4])&&((g=parseFloat(g))<0||g>1)))return;if(0===f)y=b=_=Math.round(255*p);else{var E=p<.5?p*(1+f):p+f-p*f,S=2*p-E;y=Math.round(255*w(S,E,d+1/3)),b=Math.round(255*w(S,E,d)),_=Math.round(255*w(S,E,d-1/3))}u=[y,b,_,g]}return u}(o)}(o);return Ie?{name:c,value:Ie,pfValue:Ie,strValue:"rgb("+Ie[0]+","+Ie[1]+","+Ie[2]+")",bypass:u}:null}if(_.regex||_.regexes){if(_.enums){var We=J();if(We)return We}for(var Ye=_.regexes?_.regexes:[_.regex],Ge=0;Ge<Ye.length;Ge++){var ye=new RegExp(Ye[Ge]).exec(o);if(ye)return{name:c,value:_.singleRegexMatchValue?ye[1]:ye,strValue:""+o,bypass:u}}return null}return _.string?{name:c,value:""+o,strValue:""+o,bypass:u}:_.enums?J():null};var sr=function c(o){if(!(this instanceof c))return new c(o);fn(o)?(this._private={cy:o,coreStyle:{}},this.length=0,this.resetToDefault()):Fi("A style must have a core reference")},vs=sr.prototype;vs.instanceString=function(){return"style"},vs.clear=function(){for(var c=this._private,u=c.cy.elements(),d=0;d<this.length;d++)this[d]=void 0;return this.length=0,c.contextStyles={},c.propDiffs={},this.cleanElements(u,!0),u.forEach(function(f){var p=f[0]._private;p.styleDirty=!0,p.appliedInitStyle=!1}),this},vs.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},vs.core=function(c){return this._private.coreStyle[c]||this.getDefaultProperty(c)},vs.selector=function(c){var o="core"===c?null:new Uo(c),u=this.length++;return this[u]={selector:o,properties:[],mappedProperties:[],index:u},this},vs.css=function(){var c=this,o=arguments;if(1===o.length)for(var u=o[0],d=0;d<c.properties.length;d++){var f=c.properties[d],p=u[f.name];void 0===p&&(p=u[es(f.name)]),void 0!==p&&this.cssRule(f.name,p)}else 2===o.length&&this.cssRule(o[0],o[1]);return this},vs.style=vs.css,vs.cssRule=function(c,o){var u=this.parse(c,o);if(u){var d=this.length-1;this[d].properties.push(u),this[d].properties[u.name]=u,u.name.match(/pie-(\d+)-background-size/)&&u.value&&(this._private.hasPie=!0),u.mapped&&this[d].mappedProperties.push(u),!this[d].selector&&(this._private.coreStyle[u.name]=u)}return this},vs.append=function(c){return In(c)?c.appendToStyle(this):Mt(c)?this.appendFromJson(c):Te(c)&&this.appendFromString(c),this},sr.fromJson=function(c,o){var u=new sr(c);return u.fromJson(o),u},sr.fromString=function(c,o){return new sr(c).fromString(o)},[Er,_d,fg,Ma,pg,cf,_i,hu].forEach(function(c){qt(vs,c)}),sr.types=vs.types,sr.properties=vs.properties,sr.propertyGroups=vs.propertyGroups,sr.propertyGroupNames=vs.propertyGroupNames,sr.propertyGroupKeys=vs.propertyGroupKeys;var by={style:function(o){return o&&this.setStyle(o).update(),this._private.style},setStyle:function(o){var u=this._private;return u.style=In(o)?o.generateStyle(this):Mt(o)?sr.fromJson(this,o):Te(o)?sr.fromString(this,o):sr(this),u.style},updateStyle:function(){this.mutableElements().updateStyle()}},ec={autolock:function(o){return void 0===o?this._private.autolock:(this._private.autolock=!!o,this)},autoungrabify:function(o){return void 0===o?this._private.autoungrabify:(this._private.autoungrabify=!!o,this)},autounselectify:function(o){return void 0===o?this._private.autounselectify:(this._private.autounselectify=!!o,this)},selectionType:function(o){var u=this._private;return null==u.selectionType&&(u.selectionType="single"),void 0===o?u.selectionType:(("additive"===o||"single"===o)&&(u.selectionType=o),this)},panningEnabled:function(o){return void 0===o?this._private.panningEnabled:(this._private.panningEnabled=!!o,this)},userPanningEnabled:function(o){return void 0===o?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!o,this)},zoomingEnabled:function(o){return void 0===o?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!o,this)},userZoomingEnabled:function(o){return void 0===o?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!o,this)},boxSelectionEnabled:function(o){return void 0===o?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!o,this)},pan:function(){var d,f,p,g,y,o=arguments,u=this._private.pan;switch(o.length){case 0:return u;case 1:if(Te(o[0]))return u[d=o[0]];if(it(o[0])){if(!this._private.panningEnabled)return this;y=(p=o[0]).y,Fe(g=p.x)&&(u.x=g),Fe(y)&&(u.y=y),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;f=o[1],("x"===(d=o[0])||"y"===d)&&Fe(f)&&(u[d]=f),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(o,u){var p,g,y,b,_,d=arguments,f=this._private.pan;if(!this._private.panningEnabled)return this;switch(d.length){case 1:it(o)&&(_=(y=d[0]).y,Fe(b=y.x)&&(f.x+=b),Fe(_)&&(f.y+=_),this.emit("pan viewport"));break;case 2:g=u,("x"===(p=o)||"y"===p)&&Fe(g)&&(f[p]+=g),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(o,u){var d=this.getFitViewport(o,u);if(d){var f=this._private;f.zoom=d.zoom,f.pan=d.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(o,u){var d;if((Fe(o)&&void 0===u&&(u=o,o=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Te(o)?o=this.$(o):!function(o){return it(o)&&Fe(o.x1)&&Fe(o.x2)&&Fe(o.y1)&&Fe(o.y2)}(o)?Ue(o)||(o=this.mutableElements()):((d={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=d.x2-d.x1,d.h=d.y2-d.y1),!Ue(o)||!o.empty())){d=d||o.boundingBox();var b,g=this.width(),y=this.height();if(u=Fe(u)?u:0,!isNaN(g)&&!isNaN(y)&&g>0&&y>0&&!isNaN(d.w)&&!isNaN(d.h)&&d.w>0&&d.h>0)return{zoom:b=(b=(b=Math.min((g-2*u)/d.w,(y-2*u)/d.h))>this._private.maxZoom?this._private.maxZoom:b)<this._private.minZoom?this._private.minZoom:b,pan:{x:(g-b*(d.x1+d.x2))/2,y:(y-b*(d.y1+d.y2))/2}}}},zoomRange:function(o,u){var d=this._private;if(null==u){var f=o;o=f.min,u=f.max}return Fe(o)&&Fe(u)&&o<=u?(d.minZoom=o,d.maxZoom=u):Fe(o)&&void 0===u&&o<=d.maxZoom?d.minZoom=o:Fe(u)&&void 0===o&&u>=d.minZoom&&(d.maxZoom=u),this},minZoom:function(o){return void 0===o?this._private.minZoom:this.zoomRange({min:o})},maxZoom:function(o){return void 0===o?this._private.maxZoom:this.zoomRange({max:o})},getZoomedViewport:function(o){var p,g,u=this._private,d=u.pan,f=u.zoom,y=!1;return u.zoomingEnabled||(y=!0),Fe(o)?g=o:it(o)&&(g=o.level,null!=o.position?p=Gp(o.position,f,d):null!=o.renderedPosition&&(p=o.renderedPosition),null!=p&&!u.panningEnabled&&(y=!0)),g=(g=g>u.maxZoom?u.maxZoom:g)<u.minZoom?u.minZoom:g,!y&&Fe(g)&&g!==f&&(null==p||Fe(p.x)&&Fe(p.y))?null!=p?{zoomed:!0,panned:!0,zoom:g,pan:{x:-g/f*(p.x-d.x)+p.x,y:-g/f*(p.y-d.y)+p.y}}:{zoomed:!0,panned:!1,zoom:g,pan:d}:null},zoom:function(o){if(void 0===o)return this._private.zoom;var u=this.getZoomedViewport(o),d=this._private;return null!=u&&u.zoomed?(d.zoom=u.zoom,u.panned&&(d.pan.x=u.pan.x,d.pan.y=u.pan.y),this.emit("zoom"+(u.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(o){var u=this._private,d=!0,f=!0,p=[],g=!1,y=!1;if(!o)return this;if(Fe(o.zoom)||(d=!1),it(o.pan)||(f=!1),!d&&!f)return this;if(d){var b=o.zoom;b<u.minZoom||b>u.maxZoom||!u.zoomingEnabled?g=!0:(u.zoom=b,p.push("zoom"))}if(f&&(!g||!o.cancelOnFailedZoom)&&u.panningEnabled){var _=o.pan;Fe(_.x)&&(u.pan.x=_.x,y=!1),Fe(_.y)&&(u.pan.y=_.y,y=!1),y||p.push("pan")}return p.length>0&&(p.push("viewport"),this.emit(p.join(" ")),this.notify("viewport")),this},center:function(o){var u=this.getCenterPan(o);return u&&(this._private.pan=u,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(o,u){if(this._private.panningEnabled){if(Te(o)){var d=o;o=this.mutableElements().filter(d)}else Ue(o)||(o=this.mutableElements());if(0!==o.length){var f=o.boundingBox(),p=this.width(),g=this.height();return{x:(p-(u=void 0===u?this._private.zoom:u)*(f.x1+f.x2))/2,y:(g-u*(f.y1+f.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var d,f,o=this._private,u=o.container;return o.sizeCache=o.sizeCache||(u?(d=At.getComputedStyle(u),{width:u.clientWidth-(f=function(g){return parseFloat(d.getPropertyValue(g))})("padding-left")-f("padding-right"),height:u.clientHeight-f("padding-top")-f("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var o=this._private.pan,u=this._private.zoom,d=this.renderedExtent(),f={x1:(d.x1-o.x)/u,x2:(d.x2-o.x)/u,y1:(d.y1-o.y)/u,y2:(d.y2-o.y)/u};return f.w=f.x2-f.x1,f.h=f.y2-f.y1,f},renderedExtent:function(){var o=this.width(),u=this.height();return{x1:0,y1:0,x2:o,y2:u,w:o,h:u}},multiClickDebounceTime:function(o){return o?(this._private.multiClickDebounceTime=o,this):this._private.multiClickDebounceTime}};ec.centre=ec.center,ec.autolockNodes=ec.autolock,ec.autoungrabifyNodes=ec.autoungrabify;var bd={data:Rn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Rn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Rn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Rn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};bd.attr=bd.data,bd.removeAttr=bd.removeData;var wd=function(o){var u=this,d=(o=qt({},o)).container;d&&!Qn(d)&&Qn(d[0])&&(d=d[0]);var f=d?d._cyreg:null;(f=f||{})&&f.cy&&(f.cy.destroy(),f={});var p=f.readies=f.readies||[];d&&(d._cyreg=f),f.cy=u;var g=void 0!==At&&void 0!==d&&!o.headless,y=o;y.layout=qt({name:g?"grid":"null"},y.layout),y.renderer=qt({name:g?"canvas":"null"},y.renderer);var b=function(M,A,I){return void 0!==A?A:void 0!==I?I:M},_=this._private={container:d,ready:!1,options:y,elements:new Br(this),listeners:[],aniEles:new Br(this),data:y.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:b(!0,y.zoomingEnabled),userZoomingEnabled:b(!0,y.userZoomingEnabled),panningEnabled:b(!0,y.panningEnabled),userPanningEnabled:b(!0,y.userPanningEnabled),boxSelectionEnabled:b(!0,y.boxSelectionEnabled),autolock:b(!1,y.autolock,y.autolockNodes),autoungrabify:b(!1,y.autoungrabify,y.autoungrabifyNodes),autounselectify:b(!1,y.autounselectify),styleEnabled:void 0===y.styleEnabled?g:y.styleEnabled,zoom:Fe(y.zoom)?y.zoom:1,pan:{x:it(y.pan)&&Fe(y.pan.x)?y.pan.x:0,y:it(y.pan)&&Fe(y.pan.y)?y.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:b(250,y.multiClickDebounceTime)};this.createEmitter(),this.selectionType(y.selectionType),this.zoomRange({min:y.minZoom,max:y.maxZoom}),_.styleEnabled&&u.setStyle([]);var x=qt({},y,y.renderer);u.initRenderer(x),function(M,A){if(M.some(Vi))return tu.all(M).then(A);A(M)}([y.style,y.elements],function(S){var M=S[0],A=S[1];_.styleEnabled&&u.style().append(M),function(M,A,I){u.notifications(!1);var R=u.mutableElements();R.length>0&&R.remove(),null!=M&&(it(M)||Mt(M))&&u.add(M),u.one("layoutready",function(L){u.notifications(!0),u.emit(L),u.one("load",A),u.emitAndNotify("load")}).one("layoutstop",function(){u.one("done",I),u.emit("done")});var F=qt({},u._private.options.layout);F.eles=u.elements(),u.layout(F).run()}(A,function(){u.startAnimationLoop(),_.ready=!0,ft(y.ready)&&u.on("ready",y.ready);for(var I=0;I<p.length;I++)u.on("ready",p[I]);f&&(f.readies=[]),u.emit("ready")},y.done)})},uf=wd.prototype;qt(uf,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(o){return this.isReady()?this.emitter().emit("ready",[],o):this.on("ready",o),this},destroy:function(){var o=this;if(!o.destroyed())return o.stopAnimationLoop(),o.destroyRenderer(),this.emit("destroy"),o._private.destroyed=!0,o},hasElementWithId:function(o){return this._private.elements.hasElementWithId(o)},getElementById:function(o){return this._private.elements.getElementById(o)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(o){return this._private.elements.merge(o),this},removeFromPool:function(o){return this._private.elements.unmerge(o),this},container:function(){return this._private.container||null},mount:function(o){if(null!=o){var u=this,d=u._private,f=d.options;return!Qn(o)&&Qn(o[0])&&(o=o[0]),u.stopAnimationLoop(),u.destroyRenderer(),d.container=o,d.styleEnabled=!0,u.invalidateSize(),u.initRenderer(qt({},f,f.renderer,{name:"null"===f.renderer.name?"canvas":f.renderer.name})),u.startAnimationLoop(),u.style(f.style),u.emit("mount"),u}},unmount:function(){var o=this;return o.stopAnimationLoop(),o.destroyRenderer(),o.initRenderer({name:"null"}),o.emit("unmount"),o},options:function(){return vo(this._private.options)},json:function(o){var u=this,d=u._private,f=u.mutableElements();if(it(o)){if(u.startBatch(),o.elements){var g={},y=function(z,K){for(var Z=[],H=[],Y=0;Y<z.length;Y++){var U=z[Y];if(U.data.id){var X=""+U.data.id,J=u.getElementById(X);g[X]=!0,0!==J.length?H.push({ele:J,json:U}):(K&&(U.group=K),Z.push(U))}else ei("cy.json() cannot handle elements without an ID attribute")}u.add(Z);for(var W=0;W<H.length;W++){var oe=H[W];oe.ele.json(oe.json)}};if(Mt(o.elements))y(o.elements);else for(var b=["nodes","edges"],_=0;_<b.length;_++){var w=b[_],x=o.elements[w];Mt(x)&&y(x,w)}var E=u.collection();f.filter(function(L){return!g[L.id()]}).forEach(function(L){L.isParent()?E.merge(L):L.remove()}),E.forEach(function(L){return L.children().move({parent:null})}),E.forEach(function(L){return(z=L,u.getElementById(z.id())).remove();var z})}o.style&&u.style(o.style),null!=o.zoom&&o.zoom!==d.zoom&&u.zoom(o.zoom),o.pan&&(o.pan.x!==d.pan.x||o.pan.y!==d.pan.y)&&u.pan(o.pan),o.data&&u.data(o.data);for(var S=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],M=0;M<S.length;M++){var A=S[M];null!=o[A]&&u[A](o[A])}return u.endBatch(),this}var R={};o?R.elements=this.elements().map(function(L){return L.json()}):(R.elements={},f.forEach(function(L){var z=L.group();R.elements[z]||(R.elements[z]=[]),R.elements[z].push(L.json())})),this._private.styleEnabled&&(R.style=u.style().json()),R.data=vo(u.data());var F=d.options;return R.zoomingEnabled=d.zoomingEnabled,R.userZoomingEnabled=d.userZoomingEnabled,R.zoom=d.zoom,R.minZoom=d.minZoom,R.maxZoom=d.maxZoom,R.panningEnabled=d.panningEnabled,R.userPanningEnabled=d.userPanningEnabled,R.pan=vo(d.pan),R.boxSelectionEnabled=d.boxSelectionEnabled,R.renderer=vo(F.renderer),R.hideEdgesOnViewport=F.hideEdgesOnViewport,R.textureOnViewport=F.textureOnViewport,R.wheelSensitivity=F.wheelSensitivity,R.motionBlur=F.motionBlur,R.multiClickDebounceTime=F.multiClickDebounceTime,R}}),uf.$id=uf.getElementById,[uu,SA,lf,Jl,hg,UC,xo,yd,by,ec,bd].forEach(function(c){qt(uf,c)});var WC={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,u){return!0},ready:void 0,stop:void 0,transform:function(o,u){return u}},hl=function(o){return o.scratch("breadthfirst")},Cd=function(o,u){return o.scratch("breadthfirst",u)};function qC(c){this.options=qt({},WC,c)}qC.prototype.run=function(){var _,c=this.options,o=c,u=c.cy,d=o.eles,f=d.nodes().filter(function(wt){return!wt.isParent()}),p=d,g=o.directed,y=o.maximal||o.maximalAdjustments>0,b=Wr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()});if(Ue(o.roots))_=o.roots;else if(Mt(o.roots)){for(var w=[],x=0;x<o.roots.length;x++){var S=u.getElementById(o.roots[x]);w.push(S)}_=u.collection(w)}else if(Te(o.roots))_=u.$(o.roots);else if(g)_=f.roots();else{var M=d.components();_=u.collection();for(var A=function(mt){var Ut=M[mt],Ft=Ut.maxDegree(!1),Dt=Ut.filter(function(Vt){return Vt.degree(!1)===Ft});_=_.add(Dt)},I=0;I<M.length;I++)A(I)}var R=[],F={},L=function(mt,Ut){null==R[Ut]&&(R[Ut]=[]);var Ft=R[Ut].length;R[Ut].push(mt),Cd(mt,{index:Ft,depth:Ut})};p.bfs({roots:_,directed:o.directed,visit:function(mt,Ut,Ft,Dt,Vt){var jn=mt[0],xn=jn.id();L(jn,Vt),F[xn]=!0}});for(var K=[],Z=0;Z<f.length;Z++){var H=f[Z];F[H.id()]||K.push(H)}var Y=function(mt){for(var Ut=R[mt],Ft=0;Ft<Ut.length;Ft++){var Dt=Ut[Ft];null!=Dt?Cd(Dt,{depth:mt,index:Ft}):(Ut.splice(Ft,1),Ft--)}},U=function(){for(var mt=0;mt<R.length;mt++)Y(mt)},X=function(mt,Ut){for(var Ft=hl(mt),Dt=mt.incomers().filter(function(G){return G.isNode()&&d.has(G)}),Vt=-1,jn=mt.id(),xn=0;xn<Dt.length;xn++){var lt=hl(Dt[xn]);Vt=Math.max(Vt,lt.depth)}return Ft.depth<=Vt&&(Ut[jn]?null:(function(mt,Ut){var Ft=hl(mt);R[Ft.depth][Ft.index]=null,L(mt,Ut)}(mt,Vt+1),Ut[jn]=!0,!0))};if(g&&y){var J=[],W={},oe=function(mt){return J.push(mt)};for(f.forEach(function(wt){return J.push(wt)});J.length>0;){var me=J.shift(),ae=X(me,W);if(ae)me.outgoers().filter(function(wt){return wt.isNode()&&d.has(wt)}).forEach(oe);else if(null===ae){ei("Detected double maximal shift for node `"+me.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}U();var ce=0;if(o.avoidOverlap)for(var be=0;be<f.length;be++){var Oe=f[be].layoutDimensions(o);ce=Math.max(ce,Oe.w,Oe.h)}var We={},Ye=function(mt){if(We[mt.id()])return We[mt.id()];for(var Ut=hl(mt).depth,Ft=mt.neighborhood(),Dt=0,Vt=0,jn=0;jn<Ft.length;jn++){var xn=Ft[jn];if(!xn.isEdge()&&!xn.isParent()&&f.has(xn)){var en=hl(xn);if(null!=en){var lt=en.index,G=en.depth;null!=lt&&null!=G&&G<Ut&&(Dt+=lt/R[G].length,Vt++)}}}return Dt/=Vt=Math.max(1,Vt),0===Vt&&(Dt=0),We[mt.id()]=Dt,Dt},Ge=function(mt,Ut){var Vt=Ye(mt)-Ye(Ut);return 0===Vt?io(mt.id(),Ut.id()):Vt};void 0!==o.depthSort&&(Ge=o.depthSort);for(var Re=0;Re<R.length;Re++)R[Re].sort(Ge),Y(Re);for(var ye=[],qe=0;qe<K.length;qe++)ye.push(K[qe]);R.unshift(ye),U();for(var Je=0,nt=0;nt<R.length;nt++)Je=Math.max(R[nt].length,Je);var gt_x=b.x1+b.w/2,gt_y=b.x1+b.h/2,nn=R.reduce(function(wt,mt){return Math.max(wt,mt.length)},0);return d.nodes().layoutPositions(this,o,function(mt){var Ut=hl(mt),Ft=Ut.depth,Dt=Ut.index,Vt=R[Ft].length,jn=Math.max(b.w/((o.grid?nn:Vt)+1),ce),xn=Math.max(b.h/(R.length+1),ce),en=Math.min(b.w/2/R.length,b.h/2/R.length);if(en=Math.max(en,ce),o.circle){var G=en*Ft+en-(R.length>0&&R[0].length<=3?en/2:0),Me=2*Math.PI/R[Ft].length*Dt;return 0===Ft&&1===R[0].length&&(G=1),{x:gt_x+G*Math.cos(Me),y:gt_y+G*Math.sin(Me)}}return{x:gt_x+(Dt+1-(Vt+1)/2)*jn,y:(Ft+1)*xn}}),this};var xd={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,u){return!0},ready:void 0,stop:void 0,transform:function(o,u){return u}};function df(c){this.options=qt({},xd,c)}df.prototype.run=function(){var c=this.options,o=c,u=c.cy,d=o.eles,f=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,p=d.nodes().not(":parent");o.sort&&(p=p.sort(o.sort));for(var w,g=Wr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()}),y={x:g.x1+g.w/2,y:g.y1+g.h/2},_=(void 0===o.sweep?2*Math.PI-2*Math.PI/p.length:o.sweep)/Math.max(1,p.length-1),x=0,E=0;E<p.length;E++){var M=p[E].layoutDimensions(o);x=Math.max(x,M.w,M.h)}if(w=Fe(o.radius)?o.radius:p.length<=1?0:Math.min(g.h,g.w)/2-x,p.length>1&&o.avoidOverlap){x*=1.75;var R=Math.cos(_)-Math.cos(0),F=Math.sin(_)-Math.sin(0),L=Math.sqrt(x*x/(R*R+F*F));w=Math.max(L,w)}return d.nodes().layoutPositions(this,o,function(Z,H){var Y=o.startAngle+H*_*(f?1:-1),U=w*Math.cos(Y),X=w*Math.sin(Y);return{x:y.x+U,y:y.y+X}}),this};var hf={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(o){return o.degree()},levelWidth:function(o){return o.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,u){return!0},ready:void 0,stop:void 0,transform:function(o,u){return u}};function wy(c){this.options=qt({},hf,c)}wy.prototype.run=function(){for(var c=this.options,o=c,u=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,d=c.cy,f=o.eles,p=f.nodes().not(":parent"),g=Wr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()}),y={x:g.x1+g.w/2,y:g.y1+g.h/2},b=[],_=0,w=0;w<p.length;w++){var E,x=p[w];E=o.concentric(x),b.push({value:E,node:x}),x._private.scratch.concentric=E}p.updateStyle();for(var S=0;S<p.length;S++){var A=p[S].layoutDimensions(o);_=Math.max(_,A.w,A.h)}b.sort(function(wt,mt){return mt.value-wt.value});for(var I=o.levelWidth(p),R=[[]],F=R[0],L=0;L<b.length;L++){var z=b[L];F.length>0&&Math.abs(F[0].value-z.value)>=I&&R.push(F=[]),F.push(z)}var Z=_+o.minNodeSpacing;if(!o.avoidOverlap){var H=R.length>0&&R[0].length>1,Y=Math.min(g.w,g.h)/2-Z;Z=Math.min(Z,Y/(R.length+H?1:0))}for(var X=0,J=0;J<R.length;J++){var W=R[J],oe=void 0===o.sweep?2*Math.PI-2*Math.PI/W.length:o.sweep,Q=W.dTheta=oe/Math.max(1,W.length-1);if(W.length>1&&o.avoidOverlap){var me=Math.cos(Q)-Math.cos(0),ae=Math.sin(Q)-Math.sin(0),ce=Math.sqrt(Z*Z/(me*me+ae*ae));X=Math.max(ce,X)}W.r=X,X+=Z}if(o.equidistant){for(var be=0,Se=0,Oe=0;Oe<R.length;Oe++)be=Math.max(be,R[Oe].r-Se);Se=0;for(var We=0;We<R.length;We++){var Ye=R[We];0===We&&(Se=Ye.r),Ye.r=Se,Se+=be}}for(var Ge={},Re=0;Re<R.length;Re++)for(var ye=R[Re],qe=ye.dTheta,Je=ye.r,nt=0;nt<ye.length;nt++){var gt=ye[nt],nn=o.startAngle+(u?1:-1)*qe*nt,vn={x:y.x+Je*Math.cos(nn),y:y.y+Je*Math.sin(nn)};Ge[gt.node.id()]=vn}return f.nodes().layoutPositions(this,o,function(wt){var mt=wt.id();return Ge[mt]}),this};var gg,KC={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(o,u){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(o){return 2048},nodeOverlap:4,idealEdgeLength:function(o){return 32},edgeElasticity:function(o){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Dd(c){this.options=qt({},KC,c),this.options.layout=this}Dd.prototype.run=function(){var c=this.options,o=c.cy,u=this;u.stopped=!1,(!0===c.animate||!1===c.animate)&&u.emit({type:"layoutstart",layout:u}),gg=!0===c.debug;var d=Ed(o,u,c);gg&&(void 0)(d),c.randomize&&Cy(d);var f=Ls(),p=function(){mg(d,o,c),!0===c.fit&&o.fit(c.padding)},g=function(E){return!(u.stopped||E>=c.numIter||(Sd(d,c),d.temperature=d.temperature*c.coolingFactor,d.temperature<c.minTemp))},y=function(){if(!0===c.animate||!1===c.animate)p(),u.one("layoutstop",c.stop),u.emit({type:"layoutstop",layout:u});else{var E=c.eles.nodes(),S=bi(d,c,E);E.layoutPositions(u,c,S)}},b=0,_=!0;if(!0===c.animate)!function x(){for(var E=0;_&&E<c.refresh;)_=g(b),b++,E++;_?(Ls()-f>=c.animationThreshold&&p(),Qa(x)):(yg(d,c),y())}();else{for(;_;)_=g(b),b++;yg(d,c),y()}return this},Dd.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Dd.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Ed=function(o,u,d){for(var f=d.eles.edges(),p=d.eles.nodes(),g={isCompound:o.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:p.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:f.size(),temperature:d.initialTemp,clientWidth:o.width(),clientHeight:o.width(),boundingBox:Wr(d.boundingBox?d.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()})},y=d.eles.components(),b={},_=0;_<y.length;_++)for(var w=y[_],x=0;x<w.length;x++)b[w[x].id()]=_;for(_=0;_<g.nodeSize;_++){var M=(S=p[_]).layoutDimensions(d);(A={}).isLocked=S.locked(),A.id=S.data("id"),A.parentId=S.data("parent"),A.cmptId=b[S.id()],A.children=[],A.positionX=S.position("x"),A.positionY=S.position("y"),A.offsetX=0,A.offsetY=0,A.height=M.w,A.width=M.h,A.maxX=A.positionX+A.width/2,A.minX=A.positionX-A.width/2,A.maxY=A.positionY+A.height/2,A.minY=A.positionY-A.height/2,A.padLeft=parseFloat(S.style("padding")),A.padRight=parseFloat(S.style("padding")),A.padTop=parseFloat(S.style("padding")),A.padBottom=parseFloat(S.style("padding")),A.nodeRepulsion=ft(d.nodeRepulsion)?d.nodeRepulsion(S):d.nodeRepulsion,g.layoutNodes.push(A),g.idToIndex[A.id]=_}var I=[],R=0,F=-1,L=[];for(_=0;_<g.nodeSize;_++){var S,z=(S=g.layoutNodes[_]).parentId;null!=z?g.layoutNodes[g.idToIndex[z]].children.push(S.id):(I[++F]=S.id,L.push(S.id))}for(g.graphSet.push(L);R<=F;){var K=I[R++],H=g.layoutNodes[g.idToIndex[K]].children;if(H.length>0)for(g.graphSet.push(H),_=0;_<H.length;_++)I[++F]=H[_]}for(_=0;_<g.graphSet.length;_++){var Y=g.graphSet[_];for(x=0;x<Y.length;x++)g.indexToGraph[g.idToIndex[Y[x]]]=_}for(_=0;_<g.edgeSize;_++){var X=f[_],J={};J.id=X.data("id"),J.sourceId=X.data("source"),J.targetId=X.data("target");var W=ft(d.idealEdgeLength)?d.idealEdgeLength(X):d.idealEdgeLength,oe=ft(d.edgeElasticity)?d.edgeElasticity(X):d.edgeElasticity,Q=g.idToIndex[J.sourceId],me=g.idToIndex[J.targetId];if(g.indexToGraph[Q]!=g.indexToGraph[me]){for(var be=fu(J.sourceId,J.targetId,g),Se=g.graphSet[be],Oe=0,A=g.layoutNodes[Q];-1===Se.indexOf(A.id);)A=g.layoutNodes[g.idToIndex[A.parentId]],Oe++;for(A=g.layoutNodes[me];-1===Se.indexOf(A.id);)A=g.layoutNodes[g.idToIndex[A.parentId]],Oe++;W*=Oe*d.nestingFactor}J.idealLength=W,J.elasticity=oe,g.layoutEdges.push(J)}return g},fu=function(o,u,d){var f=YC(o,u,0,d);return 2>f.count?0:f.graph},YC=function c(o,u,d,f){var p=f.graphSet[d];if(-1<p.indexOf(o)&&-1<p.indexOf(u))return{count:2,graph:d};for(var g=0,y=0;y<p.length;y++){var w=f.layoutNodes[f.idToIndex[p[y]]].children;if(0!==w.length){var E=c(o,u,f.indexToGraph[f.idToIndex[w[0]]],f);if(0!==E.count){if(1!==E.count)return E;if(2==++g)break}}}return{count:g,graph:d}},Cy=function(o,u){for(var d=o.clientWidth,f=o.clientHeight,p=0;p<o.nodeSize;p++){var g=o.layoutNodes[p];0===g.children.length&&!g.isLocked&&(g.positionX=Math.random()*d,g.positionY=Math.random()*f)}},bi=function(o,u,d){var f=o.boundingBox,p={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return u.boundingBox&&(d.forEach(function(g){var y=o.layoutNodes[o.idToIndex[g.data("id")]];p.x1=Math.min(p.x1,y.positionX),p.x2=Math.max(p.x2,y.positionX),p.y1=Math.min(p.y1,y.positionY),p.y2=Math.max(p.y2,y.positionY)}),p.w=p.x2-p.x1,p.h=p.y2-p.y1),function(g,y){var b=o.layoutNodes[o.idToIndex[g.data("id")]];return u.boundingBox?{x:f.x1+(b.positionX-p.x1)/p.w*f.w,y:f.y1+(b.positionY-p.y1)/p.h*f.h}:{x:b.positionX,y:b.positionY}}},mg=function(o,u,d){var f=d.layout,p=d.eles.nodes(),g=bi(o,d,p);p.positions(g),!0!==o.ready&&(o.ready=!0,f.one("layoutready",d.ready),f.emit({type:"layoutready",layout:this}))},Sd=function(o,u,d){ZC(o,u),Dy(o),fl(o,u),QC(o),Ey(o)},ZC=function(o,u){for(var d=0;d<o.graphSet.length;d++)for(var f=o.graphSet[d],p=f.length,g=0;g<p;g++)for(var y=o.layoutNodes[o.idToIndex[f[g]]],b=g+1;b<p;b++)XC(y,o.layoutNodes[o.idToIndex[f[b]]],o,u)},xy=function(o){return-o+2*o*Math.random()},XC=function(o,u,d,f){if(o.cmptId===u.cmptId||d.isCompound){var y=u.positionX-o.positionX,b=u.positionY-o.positionY;0===y&&0===b&&(y=xy(1),b=xy(1));var w=vg(o,u,y,b);if(w>0)var S=(x=f.nodeOverlap*w)*y/(E=Math.sqrt(y*y+b*b)),M=x*b/E;else{var x,A=qs(o,y,b),I=qs(u,-1*y,-1*b),R=I.x-A.x,F=I.y-A.y,L=R*R+F*F,E=Math.sqrt(L);S=(x=(o.nodeRepulsion+u.nodeRepulsion)/L)*R/E,M=x*F/E}o.isLocked||(o.offsetX-=S,o.offsetY-=M),u.isLocked||(u.offsetX+=S,u.offsetY+=M)}},vg=function(o,u,d,f){if(d>0)var p=o.maxX-u.minX;else p=u.maxX-o.minX;if(f>0)var g=o.maxY-u.minY;else g=u.maxY-o.minY;return p>=0&&g>=0?Math.sqrt(p*p+g*g):0},qs=function(o,u,d){var f=o.positionX,p=o.positionY,g=o.height||1,y=o.width||1,b=d/u,_=g/y,w={};return 0===u&&0<d||0===u&&0>d?(w.x=f,w.y=p+g/2,w):0<u&&-1*_<=b&&b<=_?(w.x=f+y/2,w.y=p+y*d/2/u,w):0>u&&-1*_<=b&&b<=_?(w.x=f-y/2,w.y=p-y*d/2/u,w):0<d&&(b<=-1*_||b>=_)?(w.x=f+g*u/2/d,w.y=p+g/2,w):(0>d&&(b<=-1*_||b>=_)&&(w.x=f-g*u/2/d,w.y=p-g/2),w)},Dy=function(o,u){for(var d=0;d<o.edgeSize;d++){var f=o.layoutEdges[d],g=o.layoutNodes[o.idToIndex[f.sourceId]],b=o.layoutNodes[o.idToIndex[f.targetId]],_=b.positionX-g.positionX,w=b.positionY-g.positionY;if(0!==_||0!==w){var x=qs(g,_,w),E=qs(b,-1*_,-1*w),S=E.x-x.x,M=E.y-x.y,A=Math.sqrt(S*S+M*M),I=Math.pow(f.idealLength-A,2)/f.elasticity;if(0!==A)var R=I*S/A,F=I*M/A;else R=0,F=0;g.isLocked||(g.offsetX+=R,g.offsetY+=F),b.isLocked||(b.offsetX-=R,b.offsetY-=F)}}},fl=function(o,u){if(0!==u.gravity)for(var f=0;f<o.graphSet.length;f++){var p=o.graphSet[f],g=p.length;if(0===f)var y=o.clientHeight/2,b=o.clientWidth/2;else{var w=o.layoutNodes[o.idToIndex[o.layoutNodes[o.idToIndex[p[0]]].parentId]];y=w.positionX,b=w.positionY}for(var x=0;x<g;x++){var E=o.layoutNodes[o.idToIndex[p[x]]];if(!E.isLocked){var S=y-E.positionX,M=b-E.positionY,A=Math.sqrt(S*S+M*M);if(A>1){var R=u.gravity*M/A;E.offsetX+=u.gravity*S/A,E.offsetY+=R}}}}},QC=function(o,u){var d=[],f=0,p=-1;for(d.push.apply(d,o.graphSet[0]),p+=o.graphSet[0].length;f<=p;){var g=d[f++],b=o.layoutNodes[o.idToIndex[g]],_=b.children;if(0<_.length&&!b.isLocked){for(var w=b.offsetX,x=b.offsetY,E=0;E<_.length;E++){var S=o.layoutNodes[o.idToIndex[_[E]]];S.offsetX+=w,S.offsetY+=x,d[++p]=_[E]}b.offsetX=0,b.offsetY=0}}},Ey=function(o,u){for(var d=0;d<o.nodeSize;d++)0<(f=o.layoutNodes[d]).children.length&&(f.maxX=void 0,f.minX=void 0,f.maxY=void 0,f.minY=void 0);for(d=0;d<o.nodeSize;d++)if(!(0<(f=o.layoutNodes[d]).children.length||f.isLocked)){var p=Md(f.offsetX,f.offsetY,o.temperature);f.positionX+=p.x,f.positionY+=p.y,f.offsetX=0,f.offsetY=0,f.minX=f.positionX-f.width,f.maxX=f.positionX+f.width,f.minY=f.positionY-f.height,f.maxY=f.positionY+f.height,ff(f,o)}for(d=0;d<o.nodeSize;d++){var f;0<(f=o.layoutNodes[d]).children.length&&!f.isLocked&&(f.positionX=(f.maxX+f.minX)/2,f.positionY=(f.maxY+f.minY)/2,f.width=f.maxX-f.minX,f.height=f.maxY-f.minY)}},Md=function(o,u,d){var f=Math.sqrt(o*o+u*u);if(f>d)var p={x:d*o/f,y:d*u/f};else p={x:o,y:u};return p},ff=function c(o,u){var d=o.parentId;if(null!=d){var f=u.layoutNodes[u.idToIndex[d]],p=!1;if((null==f.maxX||o.maxX+f.padRight>f.maxX)&&(f.maxX=o.maxX+f.padRight,p=!0),(null==f.minX||o.minX-f.padLeft<f.minX)&&(f.minX=o.minX-f.padLeft,p=!0),(null==f.maxY||o.maxY+f.padBottom>f.maxY)&&(f.maxY=o.maxY+f.padBottom,p=!0),(null==f.minY||o.minY-f.padTop<f.minY)&&(f.minY=o.minY-f.padTop,p=!0),p)return c(f,u)}},yg=function(o,u){for(var d=o.layoutNodes,f=[],p=0;p<d.length;p++){var g=d[p],y=g.cmptId;(f[y]=f[y]||[]).push(g)}var _=0;for(p=0;p<f.length;p++)if(w=f[p]){w.x1=1/0,w.x2=-1/0,w.y1=1/0,w.y2=-1/0;for(var x=0;x<w.length;x++){var E=w[x];w.x1=Math.min(w.x1,E.positionX-E.width/2),w.x2=Math.max(w.x2,E.positionX+E.width/2),w.y1=Math.min(w.y1,E.positionY-E.height/2),w.y2=Math.max(w.y2,E.positionY+E.height/2)}w.w=w.x2-w.x1,w.h=w.y2-w.y1,_+=w.w*w.h}f.sort(function(F,L){return L.w*L.h-F.w*F.h});var S=0,M=0,A=0,I=0,R=Math.sqrt(_)*o.clientWidth/o.clientHeight;for(p=0;p<f.length;p++){var w;if(w=f[p]){for(x=0;x<w.length;x++)(E=w[x]).isLocked||(E.positionX+=S-w.x1,E.positionY+=M-w.y1);S+=w.w+u.componentSpacing,A+=w.w+u.componentSpacing,I=Math.max(I,w.h),A>R&&(M+=I+u.componentSpacing,S=0,A=0,I=0)}}},JC={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(o){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,u){return!0},ready:void 0,stop:void 0,transform:function(o,u){return u}};function Sy(c){this.options=qt({},JC,c)}Sy.prototype.run=function(){var c=this.options,o=c,u=c.cy,d=o.eles,f=d.nodes().not(":parent");o.sort&&(f=f.sort(o.sort));var p=Wr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()});if(0===p.h||0===p.w)d.nodes().layoutPositions(this,o,function(We){return{x:p.x1,y:p.y1}});else{var g=f.size(),y=Math.sqrt(g*p.h/p.w),b=Math.round(y),_=Math.round(p.w/p.h*y),w=function(Ye){if(null==Ye)return Math.min(b,_);Math.min(b,_)==b?b=Ye:_=Ye},x=function(Ye){if(null==Ye)return Math.max(b,_);Math.max(b,_)==b?b=Ye:_=Ye},E=o.rows,S=null!=o.cols?o.cols:o.columns;if(null!=E&&null!=S)b=E,_=S;else if(null!=E&&null==S)b=E,_=Math.ceil(g/b);else if(null==E&&null!=S)_=S,b=Math.ceil(g/_);else if(_*b>g){var M=w(),A=x();(M-1)*A>=g?w(M-1):(A-1)*M>=g&&x(A-1)}else for(;_*b<g;){var I=w(),R=x();(R+1)*I>=g?x(R+1):w(I+1)}var F=p.w/_,L=p.h/b;if(o.condense&&(F=0,L=0),o.avoidOverlap)for(var z=0;z<f.length;z++){var K=f[z],Z=K._private.position;(null==Z.x||null==Z.y)&&(Z.x=0,Z.y=0);var H=K.layoutDimensions(o),Y=o.avoidOverlapPadding,X=H.h+Y;F=Math.max(F,H.w+Y),L=Math.max(L,X)}for(var J={},W=function(Ye,Ge){return!!J["c-"+Ye+"-"+Ge]},oe=function(Ye,Ge){J["c-"+Ye+"-"+Ge]=!0},Q=0,me=0,ae=function(){++me>=_&&(me=0,Q++)},ce={},be=0;be<f.length;be++){var Se=f[be],Oe=o.position(Se);if(Oe&&(void 0!==Oe.row||void 0!==Oe.col)){var De={row:Oe.row,col:Oe.col};if(void 0===De.col)for(De.col=0;W(De.row,De.col);)De.col++;else if(void 0===De.row)for(De.row=0;W(De.row,De.col);)De.row++;ce[Se.id()]=De,oe(De.row,De.col)}}f.layoutPositions(this,o,function(Ye,Ge){var Re,ye;if(Ye.locked()||Ye.isParent())return!1;var qe=ce[Ye.id()];if(qe)Re=qe.col*F+F/2+p.x1,ye=qe.row*L+L/2+p.y1;else{for(;W(Q,me);)ae();Re=me*F+F/2+p.x1,ye=Q*L+L/2+p.y1,oe(Q,me),ae()}return{x:Re,y:ye}})}return this};var pu={ready:function(){},stop:function(){}};function tc(c){this.options=qt({},pu,c)}tc.prototype.run=function(){var c=this.options,o=c.eles,u=this;return u.emit("layoutstart"),o.nodes().positions(function(){return{x:0,y:0}}),u.one("layoutready",c.ready),u.emit("layoutready"),u.one("layoutstop",c.stop),u.emit("layoutstop"),this},tc.prototype.stop=function(){return this};var ex={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,u){return!0},ready:void 0,stop:void 0,transform:function(o,u){return u}};function tx(c){this.options=qt({},ex,c)}tx.prototype.run=function(){var c=this.options,u=c.eles.nodes(),d=ft(c.positions);return u.layoutPositions(this,c,function(p,g){var y=function f(p){return null==c.positions?function(o){return{x:o.x,y:o.y}}(p.position()):d?c.positions(p):c.positions[p._private.data.id]??null}(p);return!p.locked()&&null!=y&&y}),this};var My={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,u){return!0},ready:void 0,stop:void 0,transform:function(o,u){return u}};function Ty(c){this.options=qt({},My,c)}Ty.prototype.run=function(){var c=this.options,o=c.cy,u=c.eles,d=Wr(c.boundingBox?c.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});return u.nodes().layoutPositions(this,c,function(g,y){return{x:d.x1+Math.round(Math.random()*d.w),y:d.y1+Math.round(Math.random()*d.h)}}),this};var TA=[{name:"breadthfirst",impl:qC},{name:"circle",impl:df},{name:"concentric",impl:wy},{name:"cose",impl:Dd},{name:"grid",impl:Sy},{name:"null",impl:tc},{name:"preset",impl:tx},{name:"random",impl:Ty}];function Ay(c){this.options=c,this.notifications=0}var ky=function(){},Iy=function(){throw new Error("A headless instance can not render images")};Ay.prototype={recalculateRenderedStyle:ky,notify:function(){this.notifications++},init:ky,isHeadless:function(){return!0},png:Iy,jpg:Iy};var gu={arrowShapeWidth:.3,registerArrowShapes:function(){var c=this.arrowShapes={},o=this,u=function(_,w,x,E,S,M,A){return S.x-x/2-A<=_&&_<=S.x+x/2+A&&S.y-x/2-A<=w&&w<=S.y+x/2+A},d=function(_,w,x,E,S){var M=_*Math.cos(E)-w*Math.sin(E),A=_*Math.sin(E)+w*Math.cos(E);return{x:M*x+S.x,y:A*x+S.y}},f=function(_,w,x,E){for(var S=[],M=0;M<_.length;M+=2)S.push(d(_[M],_[M+1],w,x,E));return S},p=function(_){for(var w=[],x=0;x<_.length;x++){var E=_[x];w.push(E.x,E.y)}return w},g=function(_){return _.pstyle("width").pfValue*_.pstyle("arrow-scale").pfValue*2},y=function(_,w){Te(w)&&(w=c[w]),c[_]=qt({name:_,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(E,S,M,A,I,R){var F=p(f(this.points,M+2*R,A,I));return Bs(E,S,F)},roughCollide:u,draw:function(E,S,M,A){var I=f(this.points,S,M,A);o.arrowShapeImpl("polygon")(E,I)},spacing:function(E){return 0},gap:g},w)};y("none",{collide:zp,roughCollide:zp,draw:Ah,spacing:$v,gap:$v}),y("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),y("arrow","triangle"),y("triangle-backcurve",{points:c.triangle.points,controlPoint:[0,-.15],roughCollide:u,draw:function(_,w,x,E,S){var M=f(this.points,w,x,E),A=this.controlPoint,I=d(A[0],A[1],w,x,E);o.arrowShapeImpl(this.name)(_,M,I)},gap:function(_){return.8*g(_)}}),y("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(_,w,x,E,S,M,A){var I=p(f(this.points,x+2*A,E,S)),R=p(f(this.pointsTee,x+2*A,E,S));return Bs(_,w,I)||Bs(_,w,R)},draw:function(_,w,x,E,S){var M=f(this.points,w,x,E),A=f(this.pointsTee,w,x,E);o.arrowShapeImpl(this.name)(_,M,A)}}),y("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(_,w,x,E,S,M,A){var I=S,R=Math.pow(I.x-_,2)+Math.pow(I.y-w,2)<=Math.pow((x+2*A)*this.radius,2),F=p(f(this.points,x+2*A,E,S));return Bs(_,w,F)||R},draw:function(_,w,x,E,S){var M=f(this.pointsTr,w,x,E);o.arrowShapeImpl(this.name)(_,M,E.x,E.y,this.radius*w)},spacing:function(_){return o.getArrowWidth(_.pstyle("width").pfValue,_.pstyle("arrow-scale").value)*this.radius}}),y("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(_,w){var x=this.baseCrossLinePts.slice(),E=w/_;return x[3]=x[3]-E,x[5]=x[5]-E,x},collide:function(_,w,x,E,S,M,A){var I=p(f(this.points,x+2*A,E,S)),R=p(f(this.crossLinePts(x,M),x+2*A,E,S));return Bs(_,w,I)||Bs(_,w,R)},draw:function(_,w,x,E,S){var M=f(this.points,w,x,E),A=f(this.crossLinePts(w,S),w,x,E);o.arrowShapeImpl(this.name)(_,M,A)}}),y("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(_){return.525*g(_)}}),y("circle",{radius:.15,collide:function(_,w,x,E,S,M,A){var I=S;return Math.pow(I.x-_,2)+Math.pow(I.y-w,2)<=Math.pow((x+2*A)*this.radius,2)},draw:function(_,w,x,E,S){o.arrowShapeImpl(this.name)(_,E.x,E.y,this.radius*w)},spacing:function(_){return o.getArrowWidth(_.pstyle("width").pfValue,_.pstyle("arrow-scale").value)*this.radius}}),y("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(_){return 1},gap:function(_){return 1}}),y("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),y("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(_){return _.pstyle("width").pfValue*_.pstyle("arrow-scale").value}}),y("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(_){return.95*_.pstyle("width").pfValue*_.pstyle("arrow-scale").value}})}},pl={projectIntoViewport:function(c,o){var u=this.cy,d=this.findContainerClientCoords(),f=d[0],p=d[1],g=d[4],y=u.pan(),b=u.zoom();return[((c-f)/g-y.x)/b,((o-p)/g-y.y)/b]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var c=this.container,o=c.getBoundingClientRect(),u=At.getComputedStyle(c),d=function(R){return parseFloat(u.getPropertyValue(R))},f_left=d("padding-left"),f_right=d("padding-right"),f_top=d("padding-top"),f_bottom=d("padding-bottom"),p_left=d("border-left-width"),p_right=d("border-right-width"),p_top=d("border-top-width"),g=(d("border-bottom-width"),c.clientWidth);return this.containerBB=[o.left+f_left+p_left,o.top+f_top+p_top,g-(f_left+f_right),c.clientHeight-(f_top+f_bottom),o.width/(g+(p_left+p_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(c,o,u,d){return this.findNearestElements(c,o,u,d)[0]},findNearestElements:function(c,o,u,d){var M,A,f=this,p=this,g=p.getCachedZSortedEles(),y=[],b=p.cy.zoom(),_=p.cy.hasCompoundNodes(),w=(d?24:8)/b,x=(d?8:2)/b,E=(d?8:2)/b,S=1/0;function I(H,Y){if(H.isNode()){if(A)return;A=H,y.push(H)}if(H.isEdge()&&(null==Y||Y<S))if(M){if(M.pstyle("z-compound-depth").value===H.pstyle("z-compound-depth").value&&M.pstyle("z-compound-depth").value===H.pstyle("z-compound-depth").value)for(var U=0;U<y.length;U++)if(y[U].isEdge()){y[U]=H,M=H,S=Y??S;break}}else y.push(H),M=H,S=Y??S}function R(H){var Y=H.outerWidth()+2*x,U=H.outerHeight()+2*x,X=Y/2,J=U/2,W=H.position();if(W.x-X<=c&&c<=W.x+X&&W.y-J<=o&&o<=W.y+J&&p.nodeShapes[f.getNodeShape(H)].checkPoint(c,o,0,Y,U,W.x,W.y))return I(H,0),!0}function F(H){var me,Y=H._private,U=Y.rscratch,X=H.pstyle("width").pfValue,J=H.pstyle("arrow-scale").value,W=X/2+w,oe=W*W,Q=2*W,be=Y.source,Se=Y.target;if("segments"===U.edgeType||"straight"===U.edgeType||"haystack"===U.edgeType){for(var ae=U.allpts,ce=0;ce+3<ae.length;ce+=2)if(so(c,o,ae[ce],ae[ce+1],ae[ce+2],ae[ce+3],Q)&&oe>(me=sA(c,o,ae[ce],ae[ce+1],ae[ce+2],ae[ce+3])))return I(H,me),!0}else if("bezier"===U.edgeType||"multibezier"===U.edgeType||"self"===U.edgeType||"compound"===U.edgeType)for(ae=U.allpts,ce=0;ce+5<U.allpts.length;ce+=4)if(Xv(c,o,ae[ce],ae[ce+1],ae[ce+2],ae[ce+3],ae[ce+4],ae[ce+5],Q)&&oe>(me=yo(c,o,ae[ce],ae[ce+1],ae[ce+2],ae[ce+3],ae[ce+4],ae[ce+5])))return I(H,me),!0;be=be||Y.source,Se=Se||Y.target;var Oe=f.getArrowWidth(X,J),De=[{name:"source",x:U.arrowStartX,y:U.arrowStartY,angle:U.srcArrowAngle},{name:"target",x:U.arrowEndX,y:U.arrowEndY,angle:U.tgtArrowAngle},{name:"mid-source",x:U.midX,y:U.midY,angle:U.midsrcArrowAngle},{name:"mid-target",x:U.midX,y:U.midY,angle:U.midtgtArrowAngle}];for(ce=0;ce<De.length;ce++){var Ie=De[ce],We=p.arrowShapes[H.pstyle(Ie.name+"-arrow-shape").value],Ye=H.pstyle("width").pfValue;if(We.roughCollide(c,o,Oe,Ie.angle,{x:Ie.x,y:Ie.y},Ye,w)&&We.collide(c,o,Oe,Ie.angle,{x:Ie.x,y:Ie.y},Ye,w))return I(H),!0}_&&y.length>0&&(R(be),R(Se))}function L(H,Y,U){return ui(H,Y,U)}function z(H,Y){var J,U=H._private,X=E;J=Y?Y+"-":"",H.boundingBox();var W=U.labelBounds[Y||"main"],oe=H.pstyle(J+"label").value;if("yes"===H.pstyle("text-events").strValue&&oe){var me=L(U.rscratch,"labelX",Y),ae=L(U.rscratch,"labelY",Y),ce=L(U.rscratch,"labelAngle",Y),be=H.pstyle(J+"text-margin-x").pfValue,Se=H.pstyle(J+"text-margin-y").pfValue,Oe=W.x1-X-be,De=W.x2+X-be,Ie=W.y1-X-Se,We=W.y2+X-Se;if(ce){var Ye=Math.cos(ce),Ge=Math.sin(ce),Re=function(vn,wt){return{x:(vn-=me)*Ye-(wt-=ae)*Ge+me,y:vn*Ge+wt*Ye+ae}},ye=Re(Oe,Ie),qe=Re(Oe,We),Je=Re(De,Ie),nt=Re(De,We);if(Bs(c,o,[ye.x+be,ye.y+Se,Je.x+be,Je.y+Se,nt.x+be,nt.y+Se,qe.x+be,qe.y+Se]))return I(H),!0}else if(Wc(W,c,o))return I(H),!0}}u&&(g=g.interactive);for(var K=g.length-1;K>=0;K--){var Z=g[K];Z.isNode()?R(Z)||z(Z):F(Z)||z(Z)||z(Z,"source")||z(Z,"target")}return y},getAllInBox:function(c,o,u,d){for(var f=this.getCachedZSortedEles().interactive,p=[],g=Math.min(c,u),y=Math.max(c,u),b=Math.min(o,d),_=Math.max(o,d),w=Wr({x1:c=g,y1:o=b,x2:u=y,y2:d=_}),x=0;x<f.length;x++){var E=f[x];if(E.isNode()){var S=E,M=S.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Fh(w,M)&&!Lh(M,w)&&p.push(S)}else{var A=E,I=A._private,R=I.rscratch;if(null!=R.startX&&null!=R.startY&&!Wc(w,R.startX,R.startY)||null!=R.endX&&null!=R.endY&&!Wc(w,R.endX,R.endY))continue;if("bezier"===R.edgeType||"multibezier"===R.edgeType||"self"===R.edgeType||"compound"===R.edgeType||"segments"===R.edgeType||"haystack"===R.edgeType){for(var F=I.rstyle.bezierPts||I.rstyle.linePts||I.rstyle.haystackPts,L=!0,z=0;z<F.length;z++)if(!Jt(w,F[z])){L=!1;break}L&&p.push(A)}else("haystack"===R.edgeType||"straight"===R.edgeType)&&p.push(A)}}return p}},pf={calculateArrowAngles:function(c){var b,_,w,x,E,S,o=c._private.rscratch,u="haystack"===o.edgeType,d="bezier"===o.edgeType,f="multibezier"===o.edgeType,p="segments"===o.edgeType,g="compound"===o.edgeType,y="self"===o.edgeType;u?(w=o.haystackPts[0],x=o.haystackPts[1],E=o.haystackPts[2],S=o.haystackPts[3]):(w=o.arrowStartX,x=o.arrowStartY,E=o.arrowEndX,S=o.arrowEndY),R=o.midX,F=o.midY,p?(b=w-o.segpts[0],_=x-o.segpts[1]):f||g||y||d?(b=w-Gr((M=o.allpts)[0],M[2],M[4],.1),_=x-Gr(M[1],M[3],M[5],.1)):(b=w-R,_=x-F),o.srcArrowAngle=Oh(b,_);var R=o.midX,F=o.midY;if(u&&(R=(w+E)/2,F=(x+S)/2),b=E-w,_=S-x,p)if((M=o.allpts).length/2%2==0)b=M[L=M.length/2]-M[z=L-2],_=M[L+1]-M[z+1];else{var L,z,K=2+(L=M.length/2-1);b=M[L]-M[z=L-2],_=M[L+1]-M[z+1]}else if(f||g||y){var H,Y,U,X,W,J,oe,M=o.allpts;o.ctrlpts.length/2%2==0?(H=Gr(M[J=M.length/2-1],M[W=J+2],M[oe=W+2],0),Y=Gr(M[J+1],M[W+1],M[oe+1],0),U=Gr(M[J],M[W],M[oe],1e-4),X=Gr(M[J+1],M[W+1],M[oe+1],1e-4)):(H=Gr(M[J=(W=M.length/2-1)-2],M[W],M[oe=W+2],.4999),Y=Gr(M[J+1],M[W+1],M[oe+1],.4999),U=Gr(M[J],M[W],M[oe],.5),X=Gr(M[J+1],M[W+1],M[oe+1],.5)),b=U-H,_=X-Y}if(o.midtgtArrowAngle=Oh(b,_),o.midDispX=b,o.midDispY=_,b*=-1,_*=-1,p&&(M=o.allpts).length/2%2!=0&&(b=-(M[K=2+(L=M.length/2-1)]-M[L]),_=-(M[K+1]-M[L+1])),o.midsrcArrowAngle=Oh(b,_),p)b=E-o.segpts[o.segpts.length-2],_=S-o.segpts[o.segpts.length-1];else if(f||g||y||d){var Q=(M=o.allpts).length;b=E-Gr(M[Q-6],M[Q-4],M[Q-2],.9),_=S-Gr(M[Q-5],M[Q-3],M[Q-1],.9)}else b=E-R,_=S-F;o.tgtArrowAngle=Oh(b,_)}};pf.getArrowWidth=pf.getArrowHeight=function(c,o){var u=this.arrowWidthCache=this.arrowWidthCache||{},d=u[c+", "+o];return d||(d=Math.max(Math.pow(13.37*c,.9),29)*o,u[c+", "+o]=d,d)};var os={};function nx(c){var o=[];if(null!=c){for(var u=0;u<c.length;u+=2)o.push({x:c[u],y:c[u+1]});return o}}os.findHaystackPoints=function(c){for(var o=0;o<c.length;o++){var u=c[o],d=u._private,f=d.rscratch;if(!f.haystack){var p=2*Math.random()*Math.PI;f.source={x:Math.cos(p),y:Math.sin(p)},p=2*Math.random()*Math.PI,f.target={x:Math.cos(p),y:Math.sin(p)}}var g=d.source,y=d.target,b=g.position(),_=y.position(),w=g.width(),x=y.width(),E=g.height(),S=y.height(),A=u.pstyle("haystack-radius").value/2;f.haystackPts=f.allpts=[f.source.x*w*A+b.x,f.source.y*E*A+b.y,f.target.x*x*A+_.x,f.target.y*S*A+_.y],f.midX=(f.allpts[0]+f.allpts[2])/2,f.midY=(f.allpts[1]+f.allpts[3])/2,f.edgeType="haystack",f.haystack=!0,this.storeEdgeProjections(u),this.calculateArrowAngles(u),this.recalculateEdgeLabelProjections(u),this.calculateLabelAngles(u)}},os.findSegmentsPoints=function(c,o){var u=c._private.rscratch,d=o.posPts,f=o.intersectionPts,p=o.vectorNormInverse,g=c.pstyle("edge-distances").value,y=c.pstyle("segment-weights"),b=c.pstyle("segment-distances"),_=Math.min(y.pfValue.length,b.pfValue.length);u.edgeType="segments",u.segpts=[];for(var w=0;w<_;w++){var x=y.pfValue[w],E=b.pfValue[w],S=1-x,A="node-position"===g?d:f,I={x:A.x1*S+A.x2*x,y:A.y1*S+A.y2*x};u.segpts.push(I.x+p.x*E,I.y+p.y*E)}},os.findLoopPoints=function(c,o,u,d){var f=c._private.rscratch,p=o.dirCounts,g=o.srcPos,y=c.pstyle("control-point-distances"),b=y?y.pfValue[0]:void 0,_=c.pstyle("loop-direction").pfValue,w=c.pstyle("loop-sweep").pfValue,x=c.pstyle("control-point-step-size").pfValue;f.edgeType="self";var E=u,S=x;d&&(E=0,S=b);var M=_-Math.PI/2,A=M-w/2,I=M+w/2,R=String(_+"_"+w);E=void 0===p[R]?p[R]=0:++p[R],f.ctrlpts=[g.x+1.4*Math.cos(A)*S*(E/3+1),g.y+1.4*Math.sin(A)*S*(E/3+1),g.x+1.4*Math.cos(I)*S*(E/3+1),g.y+1.4*Math.sin(I)*S*(E/3+1)]},os.findCompoundLoopPoints=function(c,o,u,d){var f=c._private.rscratch;f.edgeType="compound";var p=o.srcPos,g=o.tgtPos,y=o.srcW,b=o.srcH,_=o.tgtW,w=o.tgtH,x=c.pstyle("control-point-step-size").pfValue,E=c.pstyle("control-point-distances"),M=u,A=x;d&&(M=0,A=E?E.pfValue[0]:void 0);var R={x:p.x-y/2,y:p.y-b/2},F={x:g.x-_/2,y:g.y-w/2},L={x:Math.min(R.x,F.x),y:Math.min(R.y,F.y)},K=Math.max(.5,Math.log(.01*y)),Z=Math.max(.5,Math.log(.01*_));f.ctrlpts=[L.x,L.y-(1+Math.pow(50,1.12)/100)*A*(M/3+1)*K,L.x-(1+Math.pow(50,1.12)/100)*A*(M/3+1)*Z,L.y]},os.findStraightEdgePoints=function(c){c._private.rscratch.edgeType="straight"},os.findBezierPoints=function(c,o,u,d,f){var p=c._private.rscratch,g=o.vectorNormInverse,y=o.posPts,b=o.intersectionPts,_=c.pstyle("edge-distances").value,w=c.pstyle("control-point-step-size").pfValue,x=c.pstyle("control-point-distances"),E=c.pstyle("control-point-weights"),S=x&&E?Math.min(x.value.length,E.value.length):1,M=x?x.pfValue[0]:void 0,A=E.value[0],I=d;p.edgeType=I?"multibezier":"bezier",p.ctrlpts=[];for(var R=0;R<S;R++){var L,F=(.5-o.eles.length/2+u)*w*(f?-1:1),z=ws(F);I&&(M=x?x.pfValue[R]:w,A=E.value[R]);var K=void 0!==(L=d?M:void 0!==M?z*M:void 0)?L:F,Z=1-A,Y="node-position"===_?y:b,U={x:Y.x1*Z+Y.x2*A,y:Y.y1*Z+Y.y2*A};p.ctrlpts.push(U.x+g.x*K,U.y+g.y*K)}},os.findTaxiPoints=function(c,o){var u=c._private.rscratch;u.edgeType="segments";var d="vertical",f="horizontal",p="leftward",g="rightward",y="downward",b="upward",w=o.posPts,x=o.srcW,E=o.srcH,S=o.tgtW,M=o.tgtH,I="node-position"!==c.pstyle("edge-distances").value,R=c.pstyle("taxi-direction").value,F=R,L=c.pstyle("taxi-turn"),z="%"===L.units,K=L.pfValue,Z=K<0,H=c.pstyle("taxi-turn-min-distance").pfValue,U=I?(E+M)/2:0,X=w.x2-w.x1,J=w.y2-w.y1,W=function(Nt,ni){return Nt>0?Math.max(Nt-ni,0):Math.min(Nt+ni,0)},oe=W(X,I?(x+S)/2:0),Q=W(J,U),me=!1;"auto"===F?R=Math.abs(oe)>Math.abs(Q)?f:d:F===b||F===y?(R=d,me=!0):(F===p||F===g)&&(R=f,me=!0);var De,ae=R===d,ce=ae?Q:oe,be=ae?J:X,Se=ws(be),Oe=!1;(!me||!z&&!Z)&&(F===y&&be<0||F===b&&be>0||F===p&&be>0||F===g&&be<0)&&(ce=(Se*=-1)*Math.abs(ce),Oe=!0);var Ye=function(Nt){return Math.abs(Nt)<H||Math.abs(Nt)>=Math.abs(ce)},Ge=Ye(De=z?(K<0?1+K:K)*ce:(K<0?ce:0)+K*Se),Re=Ye(Math.abs(ce)-Math.abs(De));if(!Ge&&!Re||Oe)if(ae){var G=w.y1+De+(I?E/2*Se:0);u.segpts=[w.x1,G,w.x2,G]}else{var ze=w.x1+De+(I?x/2*Se:0);u.segpts=[ze,w.y1,ze,w.y2]}else if(ae){var qe=Math.abs(be)<=E/2,Je=Math.abs(X)<=S/2;if(qe){var nt=(w.x1+w.x2)/2;u.segpts=[nt,w.y1,nt,w.y2]}else if(Je){var vn=(w.y1+w.y2)/2;u.segpts=[w.x1,vn,w.x2,vn]}else u.segpts=[w.x1,w.y2]}else{var Ut=Math.abs(be)<=x/2,Ft=Math.abs(J)<=M/2;if(Ut){var Dt=(w.y1+w.y2)/2;u.segpts=[w.x1,Dt,w.x2,Dt]}else if(Ft){var xn=(w.x1+w.x2)/2;u.segpts=[xn,w.y1,xn,w.y2]}else u.segpts=[w.x2,w.y1]}},os.tryToCorrectInvalidPoints=function(c,o){var u=c._private.rscratch;if("bezier"===u.edgeType){var d=o.srcPos,f=o.tgtPos,p=o.srcW,g=o.srcH,y=o.tgtW,b=o.tgtH,_=o.srcShape,w=o.tgtShape,x=!Fe(u.startX)||!Fe(u.startY),E=!Fe(u.arrowStartX)||!Fe(u.arrowStartY),S=!Fe(u.endX)||!Fe(u.endY),M=!Fe(u.arrowEndX)||!Fe(u.arrowEndY),R=this.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,F=Kn({x:u.ctrlpts[0],y:u.ctrlpts[1]},{x:u.startX,y:u.startY}),L=F<R,z=Kn({x:u.ctrlpts[0],y:u.ctrlpts[1]},{x:u.endX,y:u.endY}),K=z<R,Z=!1;if(x||E||L){Z=!0;var H={x:u.ctrlpts[0]-d.x,y:u.ctrlpts[1]-d.y},Y=Math.sqrt(H.x*H.x+H.y*H.y),U={x:H.x/Y,y:H.y/Y},X=Math.max(p,g),J={x:u.ctrlpts[0]+2*U.x*X,y:u.ctrlpts[1]+2*U.y*X},W=_.intersectLine(d.x,d.y,p,g,J.x,J.y,0);L?(u.ctrlpts[0]=u.ctrlpts[0]+U.x*(R-F),u.ctrlpts[1]=u.ctrlpts[1]+U.y*(R-F)):(u.ctrlpts[0]=W[0]+U.x*R,u.ctrlpts[1]=W[1]+U.y*R)}if(S||M||K){Z=!0;var oe={x:u.ctrlpts[0]-f.x,y:u.ctrlpts[1]-f.y},Q=Math.sqrt(oe.x*oe.x+oe.y*oe.y),me={x:oe.x/Q,y:oe.y/Q},ae=Math.max(p,g),ce={x:u.ctrlpts[0]+2*me.x*ae,y:u.ctrlpts[1]+2*me.y*ae},be=w.intersectLine(f.x,f.y,y,b,ce.x,ce.y,0);K?(u.ctrlpts[0]=u.ctrlpts[0]+me.x*(R-z),u.ctrlpts[1]=u.ctrlpts[1]+me.y*(R-z)):(u.ctrlpts[0]=be[0]+me.x*R,u.ctrlpts[1]=be[1]+me.y*R)}Z&&this.findEndpoints(c)}},os.storeAllpts=function(c){var o=c._private.rscratch;if("multibezier"===o.edgeType||"bezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType){o.allpts=[],o.allpts.push(o.startX,o.startY);for(var u=0;u+1<o.ctrlpts.length;u+=2)o.allpts.push(o.ctrlpts[u],o.ctrlpts[u+1]),u+3<o.ctrlpts.length&&o.allpts.push((o.ctrlpts[u]+o.ctrlpts[u+2])/2,(o.ctrlpts[u+1]+o.ctrlpts[u+3])/2);var d;o.allpts.push(o.endX,o.endY),o.ctrlpts.length/2%2==0?(o.midX=o.allpts[d=o.allpts.length/2-1],o.midY=o.allpts[d+1]):(o.midX=Gr(o.allpts[d=o.allpts.length/2-3],o.allpts[d+2],o.allpts[d+4],.5),o.midY=Gr(o.allpts[d+1],o.allpts[d+3],o.allpts[d+5],.5))}else if("straight"===o.edgeType)o.allpts=[o.startX,o.startY,o.endX,o.endY],o.midX=(o.startX+o.endX+o.arrowStartX+o.arrowEndX)/4,o.midY=(o.startY+o.endY+o.arrowStartY+o.arrowEndY)/4;else if("segments"===o.edgeType)if(o.allpts=[],o.allpts.push(o.startX,o.startY),o.allpts.push.apply(o.allpts,o.segpts),o.allpts.push(o.endX,o.endY),o.segpts.length%4==0){var p=o.segpts.length/2,g=p-2;o.midX=(o.segpts[g]+o.segpts[p])/2,o.midY=(o.segpts[g+1]+o.segpts[p+1])/2}else{var y=o.segpts.length/2-1;o.midX=o.segpts[y],o.midY=o.segpts[y+1]}},os.checkForInvalidEdgeWarning=function(c){var o=c[0]._private.rscratch;o.nodesOverlap||Fe(o.startX)&&Fe(o.startY)&&Fe(o.endX)&&Fe(o.endY)?o.loggedErr=!1:o.loggedErr||(o.loggedErr=!0,ei("Edge `"+c.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},os.findEdgeControlPoints=function(c){var o=this;if(c&&0!==c.length){for(var u=this,f=u.cy.hasCompoundNodes(),p={map:new ro,get:function(H){var Y=this.map.get(H[0]);return null!=Y?Y.get(H[1]):null},set:function(H,Y){var U=this.map.get(H[0]);null==U&&(U=new ro,this.map.set(H[0],U)),U.set(H[1],Y)}},g=[],y=[],b=0;b<c.length;b++){var _=c[b],w=_._private,x=_.pstyle("curve-style").value;if(!_.removed()&&_.takesUpSpace()){if("haystack"===x){y.push(_);continue}var E="unbundled-bezier"===x||"segments"===x||"straight"===x||"straight-triangle"===x||"taxi"===x,S="unbundled-bezier"===x||"bezier"===x,A=w.target,F=[w.source.poolIndex(),A.poolIndex()].sort(),L=p.get(F);null==L&&(p.set(F,L={eles:[]}),g.push(F)),L.eles.push(_),E&&(L.hasUnbundled=!0),S&&(L.hasBezier=!0)}}for(var z=function(H){var U=p.get(g[H]),X=void 0;if(!U.hasUnbundled){var J=U.eles[0].parallelEdges().filter(function(lt){return lt.isBundledBezier()});$p(U.eles),J.forEach(function(lt){return U.eles.push(lt)}),U.eles.sort(function(lt,G){return lt.poolIndex()-G.poolIndex()})}var W=U.eles[0],oe=W.source(),Q=W.target();if(oe.poolIndex()>Q.poolIndex()){var me=oe;oe=Q,Q=me}var ae=U.srcPos=oe.position(),ce=U.tgtPos=Q.position(),be=U.srcW=oe.outerWidth(),Se=U.srcH=oe.outerHeight(),Oe=U.tgtW=Q.outerWidth(),De=U.tgtH=Q.outerHeight(),Ie=U.srcShape=u.nodeShapes[o.getNodeShape(oe)],We=U.tgtShape=u.nodeShapes[o.getNodeShape(Q)];U.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Ye=0;Ye<U.eles.length;Ye++){var Ge=U.eles[Ye],Re=Ge[0]._private.rscratch,ye=Ge.pstyle("curve-style").value,qe="unbundled-bezier"===ye||"segments"===ye||"taxi"===ye,Je=!oe.same(Ge.source());if(!U.calculatedIntersection&&oe!==Q&&(U.hasBezier||U.hasUnbundled)){U.calculatedIntersection=!0;var nt=Ie.intersectLine(ae.x,ae.y,be,Se,ce.x,ce.y,0),gt=U.srcIntn=nt,nn=We.intersectLine(ce.x,ce.y,Oe,De,ae.x,ae.y,0),vn=U.tgtIntn=nn,wt=U.intersectionPts={x1:nt[0],x2:nn[0],y1:nt[1],y2:nn[1]},mt=U.posPts={x1:ae.x,x2:ce.x,y1:ae.y,y2:ce.y},Ut=nn[1]-nt[1],Ft=nn[0]-nt[0],Dt=Math.sqrt(Ft*Ft+Ut*Ut),Vt=U.vector={x:Ft,y:Ut},jn=U.vectorNorm={x:Vt.x/Dt,y:Vt.y/Dt},xn={x:-jn.y,y:jn.x};U.nodesOverlap=!Fe(Dt)||We.checkPoint(nt[0],nt[1],0,Oe,De,ce.x,ce.y)||Ie.checkPoint(nn[0],nn[1],0,be,Se,ae.x,ae.y),U.vectorNormInverse=xn,X={nodesOverlap:U.nodesOverlap,dirCounts:U.dirCounts,calculatedIntersection:!0,hasBezier:U.hasBezier,hasUnbundled:U.hasUnbundled,eles:U.eles,srcPos:ce,tgtPos:ae,srcW:Oe,srcH:De,tgtW:be,tgtH:Se,srcIntn:vn,tgtIntn:gt,srcShape:We,tgtShape:Ie,posPts:{x1:mt.x2,y1:mt.y2,x2:mt.x1,y2:mt.y1},intersectionPts:{x1:wt.x2,y1:wt.y2,x2:wt.x1,y2:wt.y1},vector:{x:-Vt.x,y:-Vt.y},vectorNorm:{x:-jn.x,y:-jn.y},vectorNormInverse:{x:-xn.x,y:-xn.y}}}var en=Je?X:U;Re.nodesOverlap=en.nodesOverlap,Re.srcIntn=en.srcIntn,Re.tgtIntn=en.tgtIntn,f&&(oe.isParent()||oe.isChild()||Q.isParent()||Q.isChild())&&(oe.parents().anySame(Q)||Q.parents().anySame(oe)||oe.same(Q)&&oe.isParent())?o.findCompoundLoopPoints(Ge,en,Ye,qe):oe===Q?o.findLoopPoints(Ge,en,Ye,qe):"segments"===ye?o.findSegmentsPoints(Ge,en):"taxi"===ye?o.findTaxiPoints(Ge,en):"straight"===ye||!qe&&U.eles.length%2==1&&Ye===Math.floor(U.eles.length/2)?o.findStraightEdgePoints(Ge):o.findBezierPoints(Ge,en,Ye,qe,Je),o.findEndpoints(Ge),o.tryToCorrectInvalidPoints(Ge,en),o.checkForInvalidEdgeWarning(Ge),o.storeAllpts(Ge),o.storeEdgeProjections(Ge),o.calculateArrowAngles(Ge),o.recalculateEdgeLabelProjections(Ge),o.calculateLabelAngles(Ge)}},K=0;K<g.length;K++)z(K);this.findHaystackPoints(y)}},os.getSegmentPoints=function(c){var o=c[0]._private.rscratch;if("segments"===o.edgeType)return this.recalculateRenderedStyle(c),nx(o.segpts)},os.getControlPoints=function(c){var o=c[0]._private.rscratch,u=o.edgeType;if("bezier"===u||"multibezier"===u||"self"===u||"compound"===u)return this.recalculateRenderedStyle(c),nx(o.ctrlpts)},os.getEdgeMidpoint=function(c){var o=c[0]._private.rscratch;return this.recalculateRenderedStyle(c),{x:o.midX,y:o.midY}};var mu={manualEndptToPx:function(c,o){var d=c.position(),f=c.outerWidth(),p=c.outerHeight();if(2===o.value.length){var g=[o.pfValue[0],o.pfValue[1]];return"%"===o.units[0]&&(g[0]=g[0]*f),"%"===o.units[1]&&(g[1]=g[1]*p),g[0]+=d.x,g[1]+=d.y,g}var y=o.pfValue[0];y=-Math.PI/2+y;var b=2*Math.max(f,p),_=[d.x+Math.cos(y)*b,d.y+Math.sin(y)*b];return this.nodeShapes[this.getNodeShape(c)].intersectLine(d.x,d.y,f,p,_[0],_[1],0)},findEndpoints:function(c){var u,X,J,W,oe,o=this,d=c.source()[0],f=c.target()[0],p=d.position(),g=f.position(),y=c.pstyle("target-arrow-shape").value,b=c.pstyle("source-arrow-shape").value,_=c.pstyle("target-distance-from-node").pfValue,w=c.pstyle("source-distance-from-node").pfValue,x=c.pstyle("curve-style").value,E=c._private.rscratch,S=E.edgeType,A="self"===S||"compound"===S,I="bezier"===S||"multibezier"===S||A,R="bezier"!==S,F="straight"===S||"segments"===S,L="segments"===S,z=I||R||F,K=A||"taxi"===x,Z=c.pstyle("source-endpoint"),H=K?"outside-to-node":Z.value,Y=c.pstyle("target-endpoint"),U=K?"outside-to-node":Y.value;if(E.srcManEndpt=Z,E.tgtManEndpt=Y,I){var Q=[E.ctrlpts[0],E.ctrlpts[1]];X=R?[E.ctrlpts[E.ctrlpts.length-2],E.ctrlpts[E.ctrlpts.length-1]]:Q,J=Q}else if(F){var ae=L?E.segpts.slice(0,2):[g.x,g.y];X=L?E.segpts.slice(E.segpts.length-2):[p.x,p.y],J=ae}if("inside-to-node"===U)u=[g.x,g.y];else if(Y.units)u=this.manualEndptToPx(f,Y);else if("outside-to-line"===U)u=E.tgtIntn;else if("outside-to-node"===U||"outside-to-node-or-label"===U?W=X:("outside-to-line"===U||"outside-to-line-or-label"===U)&&(W=[p.x,p.y]),u=o.nodeShapes[this.getNodeShape(f)].intersectLine(g.x,g.y,f.outerWidth(),f.outerHeight(),W[0],W[1],0),"outside-to-node-or-label"===U||"outside-to-line-or-label"===U){var be=f._private.rscratch,De=be.labelX,Ie=be.labelY,We=be.labelWidth/2,Ye=be.labelHeight/2,Ge=f.pstyle("text-valign").value;"top"===Ge?Ie-=Ye:"bottom"===Ge&&(Ie+=Ye);var Re=f.pstyle("text-halign").value;"left"===Re?De-=We:"right"===Re&&(De+=We);var ye=Kc(W[0],W[1],[De-We,Ie-Ye,De+We,Ie-Ye,De+We,Ie+Ye,De-We,Ie+Ye],g.x,g.y);if(ye.length>0){var qe=p,Je=Uc(qe,Qu(u)),nt=Uc(qe,Qu(ye)),gt=Je;nt<Je&&(u=ye,gt=nt),ye.length>2&&Uc(qe,{x:ye[2],y:ye[3]})<gt&&(u=[ye[2],ye[3]])}}var vn=rl(u,X,o.arrowShapes[y].spacing(c)+_),wt=rl(u,X,o.arrowShapes[y].gap(c)+_);if(E.endX=wt[0],E.endY=wt[1],E.arrowEndX=vn[0],E.arrowEndY=vn[1],"inside-to-node"===H)u=[p.x,p.y];else if(Z.units)u=this.manualEndptToPx(d,Z);else if("outside-to-line"===H)u=E.srcIntn;else if("outside-to-node"===H||"outside-to-node-or-label"===H?oe=J:("outside-to-line"===H||"outside-to-line-or-label"===H)&&(oe=[g.x,g.y]),u=o.nodeShapes[this.getNodeShape(d)].intersectLine(p.x,p.y,d.outerWidth(),d.outerHeight(),oe[0],oe[1],0),"outside-to-node-or-label"===H||"outside-to-line-or-label"===H){var mt=d._private.rscratch,Dt=mt.labelX,Vt=mt.labelY,jn=mt.labelWidth/2,xn=mt.labelHeight/2,en=d.pstyle("text-valign").value;"top"===en?Vt-=xn:"bottom"===en&&(Vt+=xn);var lt=d.pstyle("text-halign").value;"left"===lt?Dt-=jn:"right"===lt&&(Dt+=jn);var G=Kc(oe[0],oe[1],[Dt-jn,Vt-xn,Dt+jn,Vt-xn,Dt+jn,Vt+xn,Dt-jn,Vt+xn],p.x,p.y);if(G.length>0){var Me=g,Ze=Uc(Me,Qu(u)),ze=Uc(Me,Qu(G)),$e=Ze;ze<Ze&&(u=[G[0],G[1]],$e=ze),G.length>2&&Uc(Me,{x:G[2],y:G[3]})<$e&&(u=[G[2],G[3]])}}var ct=rl(u,J,o.arrowShapes[b].spacing(c)+w),Nt=rl(u,J,o.arrowShapes[b].gap(c)+w);E.startX=Nt[0],E.startY=Nt[1],E.arrowStartX=ct[0],E.arrowStartY=ct[1],z&&(E.badLine=!(Fe(E.startX)&&Fe(E.startY)&&Fe(E.endX)&&Fe(E.endY)))},getSourceEndpoint:function(c){var o=c[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(c),o.edgeType)?{x:o.haystackPts[0],y:o.haystackPts[1]}:{x:o.arrowStartX,y:o.arrowStartY}},getTargetEndpoint:function(c){var o=c[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(c),o.edgeType)?{x:o.haystackPts[2],y:o.haystackPts[3]}:{x:o.arrowEndX,y:o.arrowEndY}}},Ry={};function _g(c,o,u){for(var d=function(_,w,x,E){return Gr(_,w,x,E)},p=o._private.rstyle.bezierPts,g=0;g<c.bezierProjPcts.length;g++){var y=c.bezierProjPcts[g];p.push({x:d(u[0],u[2],u[4],y),y:d(u[1],u[3],u[5],y)})}}Ry.storeEdgeProjections=function(c){var o=c._private,u=o.rscratch,d=u.edgeType;if(o.rstyle.bezierPts=null,o.rstyle.linePts=null,o.rstyle.haystackPts=null,"multibezier"===d||"bezier"===d||"self"===d||"compound"===d){o.rstyle.bezierPts=[];for(var f=0;f+5<u.allpts.length;f+=4)_g(this,c,u.allpts.slice(f,f+6))}else if("segments"===d){var p=o.rstyle.linePts=[];for(f=0;f+1<u.allpts.length;f+=2)p.push({x:u.allpts[f],y:u.allpts[f+1]})}else if("haystack"===d){var g=u.haystackPts;o.rstyle.haystackPts=[{x:g[0],y:g[1]},{x:g[2],y:g[3]}]}o.rstyle.arrowWidth=this.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.arrowShapeWidth},Ry.recalculateEdgeProjections=function(c){this.findEdgeControlPoints(c)};var Xo={recalculateNodeLabelProjection:function(c){var o=c.pstyle("label").strValue;if(!vt(o)){var u,d,f=c._private,p=c.width(),g=c.height(),y=c.padding(),b=c.position(),_=c.pstyle("text-halign").strValue,w=c.pstyle("text-valign").strValue,x=f.rscratch,E=f.rstyle;switch(_){case"left":u=b.x-p/2-y;break;case"right":u=b.x+p/2+y;break;default:u=b.x}switch(w){case"top":d=b.y-g/2-y;break;case"bottom":d=b.y+g/2+y;break;default:d=b.y}x.labelX=u,x.labelY=d,E.labelX=u,E.labelY=d,this.calculateLabelAngles(c),this.applyLabelDimensions(c)}}},bg=function(o,u){var d=Math.atan(u/o);return 0===o&&d<0&&(d*=-1),d},Td=function(o,u){return bg(u.x-o.x,u.y-o.y)};Xo.recalculateEdgeLabelProjections=function(c){var o,u=c._private,d=u.rscratch,f=this,p={mid:c.pstyle("label").strValue,source:c.pstyle("source-label").strValue,target:c.pstyle("target-label").strValue};if(p.mid||p.source||p.target){var g=function(x,E,S){rr(u.rscratch,x,E,S),rr(u.rstyle,x,E,S)};g("labelX",null,(o={x:d.midX,y:d.midY}).x),g("labelY",null,o.y);var y=bg(d.midDispX,d.midDispY);g("labelAutoAngle",null,y);var b=function w(){if(w.cache)return w.cache;for(var x=[],E=0;E+5<d.allpts.length;E+=4)x.push({p0:{x:d.allpts[E],y:d.allpts[E+1]},p1:{x:d.allpts[E+2],y:d.allpts[E+3]},p2:{x:d.allpts[E+4],y:d.allpts[E+5]},startDist:0,length:0,segments:[]});var I=u.rstyle.bezierPts,R=f.bezierProjPcts.length;function F(H,Y,U,X,J){var W=Kn(Y,U),oe=H.segments[H.segments.length-1];H.segments.push({p0:Y,p1:U,t0:X,t1:J,startDist:oe?oe.startDist+oe.length:0,length:W}),H.length+=W}for(var L=0;L<x.length;L++){var z=x[L],K=x[L-1];K&&(z.startDist=K.startDist+K.length),F(z,z.p0,I[L*R],0,f.bezierProjPcts[0]);for(var Z=0;Z<R-1;Z++)F(z,I[L*R+Z],I[L*R+Z+1],f.bezierProjPcts[Z],f.bezierProjPcts[Z+1]);F(z,I[L*R+R-1],z.p2,f.bezierProjPcts[R-1],1)}return w.cache=x},_=function(x){var E,S="source"===x;if(p[x]){var M=c.pstyle(x+"-text-offset").pfValue;switch(d.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var I,A=b(),R=0,F=0,L=0;L<A.length;L++){for(var z=A[S?L:A.length-1-L],K=0;K<z.segments.length;K++){var Z=z.segments[S?K:z.segments.length-1-K];if(R=F,(F+=Z.length)>=M||L===A.length-1&&K===z.segments.length-1){I={cp:z,segment:Z};break}}if(I)break}var Y=I.cp,U=I.segment,X=(M-R)/U.length,J=U.t1-U.t0,W=S?U.t0+J*X:U.t1-J*X;W=Qt(0,W,1),o=Pe(Y.p0,Y.p1,Y.p2,W),E=function(o,u,d,f){var p=Qt(0,f-.001,1),g=Qt(0,f+.001,1),y=Pe(o,u,d,p),b=Pe(o,u,d,g);return Td(y,b)}(Y.p0,Y.p1,Y.p2,W);break;case"straight":case"segments":case"haystack":for(var Q,me,ae,ce,oe=0,be=d.allpts.length,Se=0;Se+3<be&&(S?(ae={x:d.allpts[Se],y:d.allpts[Se+1]},ce={x:d.allpts[Se+2],y:d.allpts[Se+3]}):(ae={x:d.allpts[be-2-Se],y:d.allpts[be-1-Se]},ce={x:d.allpts[be-4-Se],y:d.allpts[be-3-Se]}),me=oe,!((oe+=Q=Kn(ae,ce))>=M));Se+=2);var De=(M-me)/Q;De=Qt(0,De,1),o=function(o,u,d,f){var p_x=u.x-o.x,p_y=u.y-o.y,g=Kn(o,u);return d=d??0,{x:o.x+p_x/g*(f=f??d*g),y:o.y+p_y/g*f}}(ae,ce,De),E=Td(ae,ce)}g("labelX",x,o.x),g("labelY",x,o.y),g("labelAutoAngle",x,E)}};_("source"),_("target"),this.applyLabelDimensions(c)}},Xo.applyLabelDimensions=function(c){this.applyPrefixedLabelDimensions(c),c.isEdge()&&(this.applyPrefixedLabelDimensions(c,"source"),this.applyPrefixedLabelDimensions(c,"target"))},Xo.applyPrefixedLabelDimensions=function(c,o){var u=c._private,d=this.getLabelText(c,o),f=this.calculateLabelDimensions(c,d),p=c.pstyle("line-height").pfValue,g=c.pstyle("text-wrap").strValue,y=ui(u.rscratch,"labelWrapCachedLines",o)||[],b="wrap"!==g?1:Math.max(y.length,1),_=f.height/b,w=_*p,x=f.width,E=f.height+(b-1)*(p-1)*_;rr(u.rstyle,"labelWidth",o,x),rr(u.rscratch,"labelWidth",o,x),rr(u.rstyle,"labelHeight",o,E),rr(u.rscratch,"labelHeight",o,E),rr(u.rscratch,"labelLineHeight",o,w)},Xo.getLabelText=function(c,o){var u=c._private,f=c.pstyle((o?o+"-":"")+"label").strValue,p=c.pstyle("text-transform").value,g=function(Oe,De){return De?(rr(u.rscratch,Oe,o,De),De):ui(u.rscratch,Oe,o)};if(!f)return"";"none"==p||("uppercase"==p?f=f.toUpperCase():"lowercase"==p&&(f=f.toLowerCase()));var y=c.pstyle("text-wrap").value;if("wrap"===y){var b=g("labelKey");if(null!=b&&g("labelWrapKey")===b)return g("labelWrapCachedText");for(var w=f.split("\n"),x=c.pstyle("text-max-width").pfValue,S="anywhere"===c.pstyle("text-overflow-wrap").value,M=[],A=/[\s\u200b]+/,I=S?"":" ",R=0;R<w.length;R++){var F=w[R],z=this.calculateLabelDimensions(c,F).width;if(S){var K=F.split("").join("\u200b");F=K}if(z>x){for(var Z=F.split(A),H="",Y=0;Y<Z.length;Y++){var U=Z[Y];this.calculateLabelDimensions(c,0===H.length?U:H+I+U).width<=x?H+=U+I:(H&&M.push(H),H=U+I)}H.match(/^[\s\u200b]+$/)||M.push(H)}else M.push(F)}g("labelWrapCachedLines",M),f=g("labelWrapCachedText",M.join("\n")),g("labelWrapKey",b)}else if("ellipsis"===y){var oe=c.pstyle("text-max-width").pfValue,Q="",ae=!1;if(this.calculateLabelDimensions(c,f).width<oe)return f;for(var ce=0;ce<f.length&&!(this.calculateLabelDimensions(c,Q+f[ce]+"\u2026").width>oe);ce++)Q+=f[ce],ce===f.length-1&&(ae=!0);return ae||(Q+="\u2026"),Q}return f},Xo.getLabelJustification=function(c){var o=c.pstyle("text-justification").strValue,u=c.pstyle("text-halign").strValue;if("auto"!==o)return o;if(!c.isNode())return"center";switch(u){case"left":return"right";case"right":return"left";default:return"center"}},Xo.calculateLabelDimensions=function(c,o){var d=el(o,c._private.labelDimsKey),f=this.labelDimCache||(this.labelDimCache=[]),p=f[d];if(null!=p)return p;var y=c.pstyle("font-style").strValue,b=c.pstyle("font-size").pfValue,_=c.pstyle("font-family").strValue,w=c.pstyle("font-weight").strValue,x=this.labelCalcCanvas,E=this.labelCalcCanvasContext;if(!x){x=this.labelCalcCanvas=document.createElement("canvas"),E=this.labelCalcCanvasContext=x.getContext("2d");var S=x.style;S.position="absolute",S.left="-9999px",S.top="-9999px",S.zIndex="-1",S.visibility="hidden",S.pointerEvents="none"}E.font="".concat(y," ").concat(w," ").concat(b,"px ").concat(_);for(var M=0,A=0,I=o.split("\n"),R=0;R<I.length;R++){var L=E.measureText(I[R]),z=Math.ceil(L.width),K=b;M=Math.max(z,M),A+=K}return f[d]={width:M+=0,height:A+=0}},Xo.calculateLabelAngle=function(c,o){var d=c._private.rscratch,f=c.isEdge(),g=c.pstyle((o?o+"-":"")+"text-rotation"),y=g.strValue;return"none"===y?0:f&&"autorotate"===y?d.labelAutoAngle:"autorotate"===y?0:g.pfValue},Xo.calculateLabelAngles=function(c){var o=this,u=c.isEdge(),f=c._private.rscratch;f.labelAngle=o.calculateLabelAngle(c),u&&(f.sourceLabelAngle=o.calculateLabelAngle(c,"source"),f.targetLabelAngle=o.calculateLabelAngle(c,"target"))};var nc={},Py=!1;nc.getNodeShape=function(c){var u=c.pstyle("shape").value;if("cutrectangle"===u&&(c.width()<28||c.height()<28))return Py||(ei("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Py=!0),"rectangle";if(c.isParent())return"rectangle"===u||"roundrectangle"===u||"round-rectangle"===u||"cutrectangle"===u||"cut-rectangle"===u||"barrel"===u?u:"rectangle";if("polygon"===u){var d=c.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(d).name}return u};var ic={updateCachedGrabbedEles:function(){var c=this.cachedZSortedEles;if(c){c.drag=[],c.nondrag=[];for(var o=[],u=0;u<c.length;u++){var f=(d=c[u])._private.rscratch;d.grabbed()&&!d.isParent()?o.push(d):f.inDragLayer?c.drag.push(d):c.nondrag.push(d)}for(u=0;u<o.length;u++){var d;c.drag.push(d=o[u])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(c){if(c||!this.cachedZSortedEles){var o=this.cy.mutableElements().toArray();o.sort(lu),o.interactive=o.filter(function(u){return u.interactive()}),this.cachedZSortedEles=o,this.updateCachedGrabbedEles()}else o=this.cachedZSortedEles;return o}},gf={};[pl,pf,os,mu,Ry,Xo,nc,{registerCalculationListeners:function(){var c=this.cy,o=c.collection(),u=this,d=function(g){var y=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o.merge(g),y)for(var b=0;b<g.length;b++){var _=g[b],w=_._private,x=w.rstyle;x.clean=!1,x.cleanConnected=!1}};u.binder(c).on("bounds.* dirty.*",function(g){d(g.target)}).on("style.* background.*",function(g){d(g.target,!1)});var f=function(g){if(g){var y=u.onUpdateEleCalcsFns;o.cleanStyle();for(var b=0;b<o.length;b++){var _=o[b],w=_._private.rstyle;_.isNode()&&!w.cleanConnected&&(d(_.connectedEdges()),w.cleanConnected=!0)}if(y)for(var x=0;x<y.length;x++)(0,y[x])(g,o);u.recalculateRenderedStyle(o),o=c.collection()}};u.flushRenderedStyleQueue=function(){f(!0)},u.beforeRender(f,u.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(c){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(c)},recalculateRenderedStyle:function(c,o){var u=function(z){return z._private.rstyle.cleanConnected},d=[],f=[];if(!this.destroyed){void 0===o&&(o=!0);for(var p=0;p<c.length;p++){var g=c[p],y=g._private,b=y.rstyle;g.isEdge()&&(!u(g.source())||!u(g.target()))&&(b.clean=!1),!(o&&b.clean||g.removed())&&"none"!==g.pstyle("display").value&&("nodes"===y.group?f.push(g):d.push(g),b.clean=!0)}for(var _=0;_<f.length;_++){var w=f[_],E=w._private.rstyle,S=w.position();this.recalculateNodeLabelProjection(w),E.nodeX=S.x,E.nodeY=S.y,E.nodeW=w.pstyle("width").pfValue,E.nodeH=w.pstyle("height").pfValue}this.recalculateEdgeProjections(d);for(var M=0;M<d.length;M++){var I=d[M]._private,R=I.rstyle,F=I.rscratch;R.srcX=F.arrowStartX,R.srcY=F.arrowStartY,R.tgtX=F.arrowEndX,R.tgtY=F.arrowEndY,R.midX=F.midX,R.midY=F.midY,R.labelAngle=F.labelAngle,R.sourceLabelAngle=F.sourceLabelAngle,R.targetLabelAngle=F.targetLabelAngle}}}},ic].forEach(function(c){qt(gf,c)});var xg={getCachedImage:function(c,o,u){var f=this.imageCache=this.imageCache||{},p=f[c];if(p)return p.image.complete||p.image.addEventListener("load",u),p.image;var g=(p=f[c]=f[c]||{}).image=new Image;g.addEventListener("load",u),g.addEventListener("error",function(){g.error=!0});var y="data:";return c.substring(0,y.length).toLowerCase()===y||(g.crossOrigin=o),g.src=c,g}},rc={registerBinding:function(c,o,u,d){var f=Array.prototype.slice.apply(arguments,[1]),p=this.binder(c);return p.on.apply(p,f)},binder:function(c){var o=this,u=c===window||c===document||c===document.body||function(o){return!(typeof HTMLElement>"u")&&o instanceof HTMLElement}(c);if(null==o.supportsPassiveEvents){var d=!1;try{var f=Object.defineProperty({},"passive",{get:function(){return d=!0,!0}});window.addEventListener("test",null,f)}catch{}o.supportsPassiveEvents=d}var p=function(y,b,_){var w=Array.prototype.slice.call(arguments);return u&&o.supportsPassiveEvents&&(w[2]={capture:_??!1,passive:!1,once:!1}),o.bindings.push({target:c,args:w}),(c.addEventListener||c.on).apply(c,w),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(c){return c&&c.isNode()&&!c.locked()&&c.grabbable()},nodeIsGrabbable:function(c){return this.nodeIsDraggable(c)&&c.interactive()}};rc.load=function(){var c=this,o=function(G){return G.selected()},u=function(G,Me,Ze,ze){null==G&&(G=c.cy);for(var $e=0;$e<Me.length;$e++)G.emit({originalEvent:Ze,type:Me[$e],position:ze})},d=function(G){return G.shiftKey||G.metaKey||G.ctrlKey},f=function(G,Me){var Ze=!0;if(c.cy.hasCompoundNodes()&&G&&G.pannable()){for(var ze=0;Me&&ze<Me.length;ze++)if((G=Me[ze]).isNode()&&G.isParent()&&!G.pannable()){Ze=!1;break}}else Ze=!0;return Ze},y=function(G){G[0]._private.rscratch.inDragLayer=!0},_=function(G){G[0]._private.rscratch.isGrabTarget=!0},x=function(G,Me){var Ze=Me.addToList;!Ze.has(G)&&G.grabbable()&&!G.locked()&&(Ze.merge(G),function(G){G[0]._private.grabbed=!0}(G))},S=function(G,Me){Me=Me||{};var Ze=G.cy().hasCompoundNodes();Me.inDragLayer&&(G.forEach(y),G.neighborhood().stdFilter(function(ze){return!Ze||ze.isEdge()}).forEach(y)),Me.addToList&&G.forEach(function(ze){x(ze,Me)}),function(G,Me){if(G.cy().hasCompoundNodes()&&(null!=Me.inDragLayer||null!=Me.addToList)){var Ze=G.descendants();Me.inDragLayer&&(Ze.forEach(y),Ze.connectedEdges().forEach(y)),Me.addToList&&x(Ze,Me)}}(G,Me),I(G,{inDragLayer:Me.inDragLayer}),c.updateCachedGrabbedEles()},M=S,A=function(G){!G||(c.getCachedZSortedEles().forEach(function(Me){(function(G){G[0]._private.grabbed=!1})(Me),function(G){G[0]._private.rscratch.inDragLayer=!1}(Me),function(G){G[0]._private.rscratch.isGrabTarget=!1}(Me)}),c.updateCachedGrabbedEles())},I=function(G,Me){if((null!=Me.inDragLayer||null!=Me.addToList)&&G.cy().hasCompoundNodes()){var Ze=G.ancestors().orphans();if(!Ze.same(G)){var ze=Ze.descendants().spawnSelf().merge(Ze).unmerge(G).unmerge(G.descendants()),$e=ze.connectedEdges();Me.inDragLayer&&($e.forEach(y),ze.forEach(y)),Me.addToList&&ze.forEach(function(Mn){x(Mn,Me)})}}},R=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},F=typeof MutationObserver<"u",L=typeof ResizeObserver<"u";F?(c.removeObserver=new MutationObserver(function(lt){for(var G=0;G<lt.length;G++){var Ze=lt[G].removedNodes;if(Ze)for(var ze=0;ze<Ze.length;ze++)if(Ze[ze]===c.container){c.destroy();break}}}),c.container.parentNode&&c.removeObserver.observe(c.container.parentNode,{childList:!0})):c.registerBinding(c.container,"DOMNodeRemoved",function(lt){c.destroy()});var z=ue.default(function(){c.cy.resize()},100);F&&(c.styleObserver=new MutationObserver(z),c.styleObserver.observe(c.container,{attributes:!0})),c.registerBinding(window,"resize",z),L&&(c.resizeObserver=new ResizeObserver(z),c.resizeObserver.observe(c.container));var Z=function(){c.invalidateContainerClientCoordsCache()};(function(G,Me){for(;null!=G;)c.registerBinding(lt=G,"transitionend",Z),c.registerBinding(lt,"animationend",Z),c.registerBinding(lt,"scroll",Z),G=G.parentNode;var lt})(c.container),c.registerBinding(c.container,"contextmenu",function(lt){lt.preventDefault()});var U,X,J,Y=function(G){for(var Me=c.findContainerClientCoords(),Ze=Me[0],ze=Me[1],$e=Me[2],Mn=Me[3],ct=G.touches?G.touches:[G],Nt=!1,ni=0;ni<ct.length;ni++){var Tn=ct[ni];if(Ze<=Tn.clientX&&Tn.clientX<=Ze+$e&&ze<=Tn.clientY&&Tn.clientY<=ze+Mn){Nt=!0;break}}if(!Nt)return!1;for(var An=c.container,Dn=G.target.parentNode,Pn=!1;Dn;){if(Dn===An){Pn=!0;break}Dn=Dn.parentNode}return!!Pn};c.registerBinding(c.container,"mousedown",function(G){if(Y(G)){G.preventDefault(),R(),c.hoverData.capture=!0,c.hoverData.which=G.which;var Me=c.cy,Ze=[G.clientX,G.clientY],ze=c.projectIntoViewport(Ze[0],Ze[1]),$e=c.selection,Mn=c.findNearestElements(ze[0],ze[1],!0,!1),ct=Mn[0],Nt=c.dragData.possibleDragElements;if(c.hoverData.mdownPos=ze,c.hoverData.mdownGPos=Ze,3==G.which){c.hoverData.cxtStarted=!0;var Tn={originalEvent:G,type:"cxttapstart",position:{x:ze[0],y:ze[1]}};ct?(ct.activate(),ct.emit(Tn),c.hoverData.down=ct):Me.emit(Tn),c.hoverData.downTime=(new Date).getTime(),c.hoverData.cxtDragged=!1}else if(1==G.which){if(ct&&ct.activate(),null!=ct&&c.nodeIsGrabbable(ct)){var An=function(Qi){return{originalEvent:G,type:Qi,position:{x:ze[0],y:ze[1]}}};if(_(ct),ct.selected()){Nt=c.dragData.possibleDragElements=Me.collection();var Dn=Me.$(function(Pn){return Pn.isNode()&&Pn.selected()&&c.nodeIsGrabbable(Pn)});S(Dn,{addToList:Nt}),ct.emit(An("grabon")),Dn.forEach(function(Qi){Qi.emit(An("grab"))})}else Nt=c.dragData.possibleDragElements=Me.collection(),M(ct,{addToList:Nt}),ct.emit(An("grabon")).emit(An("grab"));c.redrawHint("eles",!0),c.redrawHint("drag",!0)}c.hoverData.down=ct,c.hoverData.downs=Mn,c.hoverData.downTime=(new Date).getTime(),u(ct,["mousedown","tapstart","vmousedown"],G,{x:ze[0],y:ze[1]}),null==ct?($e[4]=1,c.data.bgActivePosistion={x:ze[0],y:ze[1]},c.redrawHint("select",!0),c.redraw()):ct.pannable()&&($e[4]=1),c.hoverData.tapholdCancelled=!1,clearTimeout(c.hoverData.tapholdTimeout),c.hoverData.tapholdTimeout=setTimeout(function(){if(!c.hoverData.tapholdCancelled){var Qi=c.hoverData.down;Qi?Qi.emit({originalEvent:G,type:"taphold",position:{x:ze[0],y:ze[1]}}):Me.emit({originalEvent:G,type:"taphold",position:{x:ze[0],y:ze[1]}})}},c.tapholdDuration)}$e[0]=$e[2]=ze[0],$e[1]=$e[3]=ze[1]}},!1),c.registerBinding(window,"mousemove",function(G){var ta;if(c.hoverData.capture||Y(G)){var Ze=!1,ze=c.cy,$e=ze.zoom(),Mn=[G.clientX,G.clientY],ct=c.projectIntoViewport(Mn[0],Mn[1]),Nt=c.hoverData.mdownPos,ni=c.hoverData.mdownGPos,Tn=c.selection,An=null;!c.hoverData.draggingEles&&!c.hoverData.dragging&&!c.hoverData.selecting&&(An=c.findNearestElement(ct[0],ct[1],!0,!1));var ar,si=c.hoverData.last,Dn=c.hoverData.down,Pn=[ct[0]-Tn[2],ct[1]-Tn[3]],Qi=c.dragData.possibleDragElements;if(ni){var To=Mn[0]-ni[0],Mr=Mn[1]-ni[1];c.hoverData.isOverThresholdDrag=ar=To*To+Mr*Mr>=c.desktopTapThreshold2}var yl=d(G);ar&&(c.hoverData.tapholdCancelled=!0),Ze=!0,u(An,["mousemove","vmousemove","tapdrag"],G,{x:ct[0],y:ct[1]});var _l=function(){c.data.bgActivePosistion=void 0,c.hoverData.selecting||ze.emit({originalEvent:G,type:"boxstart",position:{x:ct[0],y:ct[1]}}),Tn[4]=1,c.hoverData.selecting=!0,c.redrawHint("select",!0),c.redraw()};if(3===c.hoverData.which){if(ar){var bl={originalEvent:G,type:"cxtdrag",position:{x:ct[0],y:ct[1]}};Dn?Dn.emit(bl):ze.emit(bl),c.hoverData.cxtDragged=!0,(!c.hoverData.cxtOver||An!==c.hoverData.cxtOver)&&(c.hoverData.cxtOver&&c.hoverData.cxtOver.emit({originalEvent:G,type:"cxtdragout",position:{x:ct[0],y:ct[1]}}),c.hoverData.cxtOver=An,An&&An.emit({originalEvent:G,type:"cxtdragover",position:{x:ct[0],y:ct[1]}}))}}else if(c.hoverData.dragging){if(Ze=!0,ze.panningEnabled()&&ze.userPanningEnabled()){var _u;if(c.hoverData.justStartedPan){var bu=c.hoverData.mdownPos;_u={x:(ct[0]-bu[0])*$e,y:(ct[1]-bu[1])*$e},c.hoverData.justStartedPan=!1}else _u={x:Pn[0]*$e,y:Pn[1]*$e};ze.panBy(_u),ze.emit("dragpan"),c.hoverData.dragged=!0}ct=c.projectIntoViewport(G.clientX,G.clientY)}else if(1!=Tn[4]||null!=Dn&&!Dn.pannable()){if(Dn&&Dn.pannable()&&Dn.active()&&Dn.unactivate(),(!Dn||!Dn.grabbed())&&An!=si&&(si&&u(si,["mouseout","tapdragout"],G,{x:ct[0],y:ct[1]}),An&&u(An,["mouseover","tapdragover"],G,{x:ct[0],y:ct[1]}),c.hoverData.last=An),Dn)if(ar){if(ze.boxSelectionEnabled()&&yl)Dn&&Dn.grabbed()&&(A(Qi),Dn.emit("freeon"),Qi.emit("free"),c.dragData.didDrag&&(Dn.emit("dragfreeon"),Qi.emit("dragfree"))),_l();else if(Dn&&Dn.grabbed()&&c.nodeIsDraggable(Dn)){var Ms=!c.dragData.didDrag;Ms&&c.redrawHint("eles",!0),c.dragData.didDrag=!0,c.hoverData.draggingEles||S(Qi,{inDragLayer:!0});var ls={x:0,y:0};if(Fe(Pn[0])&&Fe(Pn[1])&&(ls.x+=Pn[0],ls.y+=Pn[1],Ms)){var Ts=c.hoverData.dragDelta;Ts&&Fe(Ts[0])&&Fe(Ts[1])&&(ls.x+=Ts[0],ls.y+=Ts[1])}c.hoverData.draggingEles=!0,Qi.silentShift(ls).emit("position drag"),c.redrawHint("drag",!0),c.redraw()}}else 0===(ta=c.hoverData.dragDelta=c.hoverData.dragDelta||[]).length?(ta.push(Pn[0]),ta.push(Pn[1])):(ta[0]+=Pn[0],ta[1]+=Pn[1]);Ze=!0}else ar&&(c.hoverData.dragging||!ze.boxSelectionEnabled()||!yl&&ze.panningEnabled()&&ze.userPanningEnabled()?!c.hoverData.selecting&&ze.panningEnabled()&&ze.userPanningEnabled()&&f(Dn,c.hoverData.downs)&&(c.hoverData.dragging=!0,c.hoverData.justStartedPan=!0,Tn[4]=0,c.data.bgActivePosistion=Qu(Nt),c.redrawHint("select",!0),c.redraw()):_l(),Dn&&Dn.pannable()&&Dn.active()&&Dn.unactivate());if(Tn[2]=ct[0],Tn[3]=ct[1],Ze)return G.stopPropagation&&G.stopPropagation(),G.preventDefault&&G.preventDefault(),!1}},!1),c.registerBinding(window,"mouseup",function(G){if(c.hoverData.capture){c.hoverData.capture=!1;var Ze=c.cy,ze=c.projectIntoViewport(G.clientX,G.clientY),$e=c.selection,Mn=c.findNearestElement(ze[0],ze[1],!0,!1),ct=c.dragData.possibleDragElements,Nt=c.hoverData.down,ni=d(G);if(c.data.bgActivePosistion&&(c.redrawHint("select",!0),c.redraw()),c.hoverData.tapholdCancelled=!0,c.data.bgActivePosistion=void 0,Nt&&Nt.unactivate(),3===c.hoverData.which){var Tn={originalEvent:G,type:"cxttapend",position:{x:ze[0],y:ze[1]}};if(Nt?Nt.emit(Tn):Ze.emit(Tn),!c.hoverData.cxtDragged){var An={originalEvent:G,type:"cxttap",position:{x:ze[0],y:ze[1]}};Nt?Nt.emit(An):Ze.emit(An)}c.hoverData.cxtDragged=!1,c.hoverData.which=null}else if(1===c.hoverData.which){if(u(Mn,["mouseup","tapend","vmouseup"],G,{x:ze[0],y:ze[1]}),!c.dragData.didDrag&&!c.hoverData.dragged&&!c.hoverData.selecting&&!c.hoverData.isOverThresholdDrag&&(u(Nt,["click","tap","vclick"],G,{x:ze[0],y:ze[1]}),X=!1,G.timeStamp-J<=Ze.multiClickDebounceTime()?(U&&clearTimeout(U),X=!0,J=null,u(Nt,["dblclick","dbltap","vdblclick"],G,{x:ze[0],y:ze[1]})):(U=setTimeout(function(){X||u(Nt,["oneclick","onetap","voneclick"],G,{x:ze[0],y:ze[1]})},Ze.multiClickDebounceTime()),J=G.timeStamp)),null==Nt&&!c.dragData.didDrag&&!c.hoverData.selecting&&!c.hoverData.dragged&&!d(G)&&(Ze.$(o).unselect(["tapunselect"]),ct.length>0&&c.redrawHint("eles",!0),c.dragData.possibleDragElements=ct=Ze.collection()),Mn==Nt&&!c.dragData.didDrag&&!c.hoverData.selecting&&null!=Mn&&Mn._private.selectable&&(c.hoverData.dragging||("additive"===Ze.selectionType()||ni?Mn.selected()?Mn.unselect(["tapunselect"]):Mn.select(["tapselect"]):ni||(Ze.$(o).unmerge(Mn).unselect(["tapunselect"]),Mn.select(["tapselect"]))),c.redrawHint("eles",!0)),c.hoverData.selecting){var si=Ze.collection(c.getAllInBox($e[0],$e[1],$e[2],$e[3]));c.redrawHint("select",!0),si.length>0&&c.redrawHint("eles",!0),Ze.emit({type:"boxend",originalEvent:G,position:{x:ze[0],y:ze[1]}}),"additive"===Ze.selectionType()||ni||Ze.$(o).unmerge(si).unselect(),si.emit("box").stdFilter(function(ar){return ar.selectable()&&!ar.selected()}).select().emit("boxselect"),c.redraw()}if(c.hoverData.dragging&&(c.hoverData.dragging=!1,c.redrawHint("select",!0),c.redrawHint("eles",!0),c.redraw()),!$e[4]){c.redrawHint("drag",!0),c.redrawHint("eles",!0);var Pn=Nt&&Nt.grabbed();A(ct),Pn&&(Nt.emit("freeon"),ct.emit("free"),c.dragData.didDrag&&(Nt.emit("dragfreeon"),ct.emit("dragfree")))}}$e[4]=0,c.hoverData.down=null,c.hoverData.cxtStarted=!1,c.hoverData.draggingEles=!1,c.hoverData.selecting=!1,c.hoverData.isOverThresholdDrag=!1,c.dragData.didDrag=!1,c.hoverData.dragged=!1,c.hoverData.dragDelta=[],c.hoverData.mdownPos=null,c.hoverData.mdownGPos=null}},!1);var W=function(G){if(!c.scrollingPage){var Me=c.cy,Ze=Me.zoom(),ze=Me.pan(),$e=c.projectIntoViewport(G.clientX,G.clientY),Mn=[$e[0]*Ze+ze.x,$e[1]*Ze+ze.y];if(c.hoverData.draggingEles||c.hoverData.dragging||c.hoverData.cxtStarted||0!==c.selection[4])return void G.preventDefault();if(Me.panningEnabled()&&Me.userPanningEnabled()&&Me.zoomingEnabled()&&Me.userZoomingEnabled()){var ct;G.preventDefault(),c.data.wheelZooming=!0,clearTimeout(c.data.wheelTimeout),c.data.wheelTimeout=setTimeout(function(){c.data.wheelZooming=!1,c.redrawHint("eles",!0),c.redraw()},150),ct=null!=G.deltaY?G.deltaY/-250:null!=G.wheelDeltaY?G.wheelDeltaY/1e3:G.wheelDelta/1e3,ct*=c.wheelSensitivity,1===G.deltaMode&&(ct*=33);var ni=Me.zoom()*Math.pow(10,ct);"gesturechange"===G.type&&(ni=c.gestureStartZoom*G.scale),Me.zoom({level:ni,renderedPosition:{x:Mn[0],y:Mn[1]}}),Me.emit("gesturechange"===G.type?"pinchzoom":"scrollzoom")}}};c.registerBinding(c.container,"wheel",W,!0),c.registerBinding(window,"scroll",function(G){c.scrollingPage=!0,clearTimeout(c.scrollingPageTimeout),c.scrollingPageTimeout=setTimeout(function(){c.scrollingPage=!1},250)},!0),c.registerBinding(c.container,"gesturestart",function(G){c.gestureStartZoom=c.cy.zoom(),c.hasTouchStarted||G.preventDefault()},!0),c.registerBinding(c.container,"gesturechange",function(lt){c.hasTouchStarted||W(lt)},!0),c.registerBinding(c.container,"mouseout",function(G){var Me=c.projectIntoViewport(G.clientX,G.clientY);c.cy.emit({originalEvent:G,type:"mouseout",position:{x:Me[0],y:Me[1]}})},!1),c.registerBinding(c.container,"mouseover",function(G){var Me=c.projectIntoViewport(G.clientX,G.clientY);c.cy.emit({originalEvent:G,type:"mouseover",position:{x:Me[0],y:Me[1]}})},!1);var oe,Q,me,ae,ce,be,Se,Oe,De,Ie,We,Ye,Ge,qe,Je,nt,gt,nn,vn,wt,Re=function(G,Me,Ze,ze){return Math.sqrt((Ze-G)*(Ze-G)+(ze-Me)*(ze-Me))},ye=function(G,Me,Ze,ze){return(Ze-G)*(Ze-G)+(ze-Me)*(ze-Me)};if(c.registerBinding(c.container,"touchstart",qe=function(G){if(c.hasTouchStarted=!0,Y(G)){R(),c.touchData.capture=!0,c.data.bgActivePosistion=void 0;var Me=c.cy,Ze=c.touchData.now,ze=c.touchData.earlier;if(G.touches[0]){var $e=c.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);Ze[0]=$e[0],Ze[1]=$e[1]}if(G.touches[1]&&($e=c.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),Ze[2]=$e[0],Ze[3]=$e[1]),G.touches[2]&&($e=c.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),Ze[4]=$e[0],Ze[5]=$e[1]),G.touches[1]){c.touchData.singleTouchMoved=!0,A(c.dragData.touchDragEles);var Mn=c.findContainerClientCoords();We=Mn[2],Ye=Mn[3],Q=G.touches[0].clientY-(Ie=Mn[1]),me=G.touches[1].clientX-(De=Mn[0]),ae=G.touches[1].clientY-Ie,Ge=0<=(oe=G.touches[0].clientX-De)&&oe<=We&&0<=me&&me<=We&&0<=Q&&Q<=Ye&&0<=ae&&ae<=Ye;var ct=Me.pan(),Nt=Me.zoom();if(ce=Re(oe,Q,me,ae),be=ye(oe,Q,me,ae),Oe=[((Se=[(oe+me)/2,(Q+ae)/2])[0]-ct.x)/Nt,(Se[1]-ct.y)/Nt],be<4e4&&!G.touches[2]){var An=c.findNearestElement(Ze[0],Ze[1],!0,!0),si=c.findNearestElement(Ze[2],Ze[3],!0,!0);return An&&An.isNode()?(An.activate().emit({originalEvent:G,type:"cxttapstart",position:{x:Ze[0],y:Ze[1]}}),c.touchData.start=An):si&&si.isNode()?(si.activate().emit({originalEvent:G,type:"cxttapstart",position:{x:Ze[0],y:Ze[1]}}),c.touchData.start=si):Me.emit({originalEvent:G,type:"cxttapstart",position:{x:Ze[0],y:Ze[1]}}),c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxt=!0,c.touchData.cxtDragged=!1,c.data.bgActivePosistion=void 0,void c.redraw()}}if(G.touches[2])Me.boxSelectionEnabled()&&G.preventDefault();else if(!G.touches[1]&&G.touches[0]){var Dn=c.findNearestElements(Ze[0],Ze[1],!0,!0),Pn=Dn[0];if(null!=Pn&&(Pn.activate(),c.touchData.start=Pn,c.touchData.starts=Dn,c.nodeIsGrabbable(Pn))){var Qi=c.dragData.touchDragEles=Me.collection(),ar=null;c.redrawHint("eles",!0),c.redrawHint("drag",!0),Pn.selected()?(ar=Me.$(function(as){return as.selected()&&c.nodeIsGrabbable(as)}),S(ar,{addToList:Qi})):M(Pn,{addToList:Qi}),_(Pn);var To=function(yl){return{originalEvent:G,type:yl,position:{x:Ze[0],y:Ze[1]}}};Pn.emit(To("grabon")),ar?ar.forEach(function(as){as.emit(To("grab"))}):Pn.emit(To("grab"))}u(Pn,["touchstart","tapstart","vmousedown"],G,{x:Ze[0],y:Ze[1]}),null==Pn&&(c.data.bgActivePosistion={x:$e[0],y:$e[1]},c.redrawHint("select",!0),c.redraw()),c.touchData.singleTouchMoved=!1,c.touchData.singleTouchStartTime=+new Date,clearTimeout(c.touchData.tapholdTimeout),c.touchData.tapholdTimeout=setTimeout(function(){!1===c.touchData.singleTouchMoved&&!c.pinching&&!c.touchData.selecting&&u(c.touchData.start,["taphold"],G,{x:Ze[0],y:Ze[1]})},c.tapholdDuration)}if(G.touches.length>=1){for(var Ao=c.touchData.startPosition=[],Mr=0;Mr<Ze.length;Mr++)Ao[Mr]=ze[Mr]=Ze[Mr];var Ss=G.touches[0];c.touchData.startGPosition=[Ss.clientX,Ss.clientY]}}},!1),c.registerBinding(window,"touchmove",Je=function(G){var Me=c.touchData.capture;if(Me||Y(G)){var Ze=c.selection,ze=c.cy,$e=c.touchData.now,Mn=c.touchData.earlier,ct=ze.zoom();if(G.touches[0]){var Nt=c.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);$e[0]=Nt[0],$e[1]=Nt[1]}G.touches[1]&&(Nt=c.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),$e[2]=Nt[0],$e[3]=Nt[1]),G.touches[2]&&(Nt=c.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),$e[4]=Nt[0],$e[5]=Nt[1]);var Tn,ni=c.touchData.startGPosition;if(Me&&G.touches[0]&&ni){for(var An=[],si=0;si<$e.length;si++)An[si]=$e[si]-Mn[si];var Dn=G.touches[0].clientX-ni[0],Qi=G.touches[0].clientY-ni[1];Tn=Dn*Dn+Qi*Qi>=c.touchTapThreshold2}if(Me&&c.touchData.cxt){G.preventDefault();var yl=ye(Ao=G.touches[0].clientX-De,Mr=G.touches[0].clientY-Ie,Ss=G.touches[1].clientX-De,as=G.touches[1].clientY-Ie);if(yl/be>=2.25||yl>=22500){c.touchData.cxt=!1,c.data.bgActivePosistion=void 0,c.redrawHint("select",!0);var uc={originalEvent:G,type:"cxttapend",position:{x:$e[0],y:$e[1]}};c.touchData.start?(c.touchData.start.unactivate().emit(uc),c.touchData.start=null):ze.emit(uc)}}if(Me&&c.touchData.cxt){uc={originalEvent:G,type:"cxtdrag",position:{x:$e[0],y:$e[1]}},c.data.bgActivePosistion=void 0,c.redrawHint("select",!0),c.touchData.start?c.touchData.start.emit(uc):ze.emit(uc),c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxtDragged=!0;var Ms=c.findNearestElement($e[0],$e[1],!0,!0);(!c.touchData.cxtOver||Ms!==c.touchData.cxtOver)&&(c.touchData.cxtOver&&c.touchData.cxtOver.emit({originalEvent:G,type:"cxtdragout",position:{x:$e[0],y:$e[1]}}),c.touchData.cxtOver=Ms,Ms&&Ms.emit({originalEvent:G,type:"cxtdragover",position:{x:$e[0],y:$e[1]}}))}else if(Me&&G.touches[2]&&ze.boxSelectionEnabled())G.preventDefault(),c.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,c.touchData.selecting||ze.emit({originalEvent:G,type:"boxstart",position:{x:$e[0],y:$e[1]}}),c.touchData.selecting=!0,c.touchData.didSelect=!0,Ze[4]=1,Ze&&0!==Ze.length&&void 0!==Ze[0]?(Ze[2]=($e[0]+$e[2]+$e[4])/3,Ze[3]=($e[1]+$e[3]+$e[5])/3):(Ze[0]=($e[0]+$e[2]+$e[4])/3,Ze[1]=($e[1]+$e[3]+$e[5])/3,Ze[2]=($e[0]+$e[2]+$e[4])/3+1,Ze[3]=($e[1]+$e[3]+$e[5])/3+1),c.redrawHint("select",!0),c.redraw();else if(Me&&G.touches[1]&&!c.touchData.didSelect&&ze.zoomingEnabled()&&ze.panningEnabled()&&ze.userZoomingEnabled()&&ze.userPanningEnabled()){if(G.preventDefault(),c.data.bgActivePosistion=void 0,c.redrawHint("select",!0),ls=c.dragData.touchDragEles){c.redrawHint("drag",!0);for(var Ts=0;Ts<ls.length;Ts++){var xf=ls[Ts]._private;xf.grabbed=!1,xf.rscratch.inDragLayer=!1}}var Ao,Mr,Ss,as,ta=c.touchData.start,Pg=Re(Ao=G.touches[0].clientX-De,Mr=G.touches[0].clientY-Ie,Ss=G.touches[1].clientX-De,as=G.touches[1].clientY-Ie),Fg=Pg/ce;if(Ge){var o_=(Ao-oe+(Ss-me))/2,a_=(Mr-Q+(as-ae))/2,ko=ze.zoom(),Df=ko*Fg,Pd=ze.pan(),l_=Oe[0]*ko+Pd.x,Tx=Oe[1]*ko+Pd.y,Ef={x:-Df/ko*(l_-Pd.x-o_)+l_,y:-Df/ko*(Tx-Pd.y-a_)+Tx};ta&&ta.active()&&(A(ls=c.dragData.touchDragEles),c.redrawHint("drag",!0),c.redrawHint("eles",!0),ta.unactivate().emit("freeon"),ls.emit("free"),c.dragData.didDrag&&(ta.emit("dragfreeon"),ls.emit("dragfree"))),ze.viewport({zoom:Df,pan:Ef,cancelOnFailedZoom:!0}),ze.emit("pinchzoom"),ce=Pg,oe=Ao,Q=Mr,me=Ss,ae=as,c.pinching=!0}G.touches[0]&&(Nt=c.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY),$e[0]=Nt[0],$e[1]=Nt[1]),G.touches[1]&&(Nt=c.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),$e[2]=Nt[0],$e[3]=Nt[1]),G.touches[2]&&(Nt=c.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),$e[4]=Nt[0],$e[5]=Nt[1])}else if(G.touches[0]&&!c.touchData.didSelect){var Io=c.touchData.start,Sf=c.touchData.last;if(!c.hoverData.draggingEles&&!c.swipePanning&&(Ms=c.findNearestElement($e[0],$e[1],!0,!0)),Me&&null!=Io&&G.preventDefault(),Me&&null!=Io&&c.nodeIsDraggable(Io))if(Tn){var ls=c.dragData.touchDragEles,Ng=!c.dragData.didDrag;Ng&&S(ls,{inDragLayer:!0}),c.dragData.didDrag=!0;var wu={x:0,y:0};Fe(An[0])&&Fe(An[1])&&(wu.x+=An[0],wu.y+=An[1],Ng)&&(c.redrawHint("eles",!0),(Zs=c.touchData.dragDelta)&&Fe(Zs[0])&&Fe(Zs[1])&&(wu.x+=Zs[0],wu.y+=Zs[1])),c.hoverData.draggingEles=!0,ls.silentShift(wu).emit("position drag"),c.redrawHint("drag",!0),c.touchData.startPosition[0]==Mn[0]&&c.touchData.startPosition[1]==Mn[1]&&c.redrawHint("eles",!0),c.redraw()}else{var Zs;0===(Zs=c.touchData.dragDelta=c.touchData.dragDelta||[]).length?(Zs.push(An[0]),Zs.push(An[1])):(Zs[0]+=An[0],Zs[1]+=An[1])}if(u(Io||Ms,["touchmove","tapdrag","vmousemove"],G,{x:$e[0],y:$e[1]}),(!Io||!Io.grabbed())&&Ms!=Sf&&(Sf&&Sf.emit({originalEvent:G,type:"tapdragout",position:{x:$e[0],y:$e[1]}}),Ms&&Ms.emit({originalEvent:G,type:"tapdragover",position:{x:$e[0],y:$e[1]}})),c.touchData.last=Ms,Me)for(Ts=0;Ts<$e.length;Ts++)$e[Ts]&&c.touchData.startPosition[Ts]&&Tn&&(c.touchData.singleTouchMoved=!0);Me&&(null==Io||Io.pannable())&&ze.panningEnabled()&&ze.userPanningEnabled()&&(f(Io,c.touchData.starts)&&(G.preventDefault(),c.data.bgActivePosistion||(c.data.bgActivePosistion=Qu(c.touchData.startPosition)),c.swipePanning?(ze.panBy({x:An[0]*ct,y:An[1]*ct}),ze.emit("dragpan")):Tn&&(c.swipePanning=!0,ze.panBy({x:Dn*ct,y:Qi*ct}),ze.emit("dragpan"),Io&&(Io.unactivate(),c.redrawHint("select",!0),c.touchData.start=null))),Nt=c.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY),$e[0]=Nt[0],$e[1]=Nt[1])}for(si=0;si<$e.length;si++)Mn[si]=$e[si];Me&&G.touches.length>0&&!c.hoverData.draggingEles&&!c.swipePanning&&null!=c.data.bgActivePosistion&&(c.data.bgActivePosistion=void 0,c.redrawHint("select",!0),c.redraw())}},!1),c.registerBinding(window,"touchcancel",nt=function(G){var Me=c.touchData.start;c.touchData.capture=!1,Me&&Me.unactivate()}),c.registerBinding(window,"touchend",gt=function(G){var Me=c.touchData.start;if(c.touchData.capture){0===G.touches.length&&(c.touchData.capture=!1),G.preventDefault();var ze=c.selection;c.swipePanning=!1,c.hoverData.draggingEles=!1;var Tn,$e=c.cy,Mn=$e.zoom(),ct=c.touchData.now,Nt=c.touchData.earlier;if(G.touches[0]){var ni=c.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);ct[0]=ni[0],ct[1]=ni[1]}if(G.touches[1]&&(ni=c.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),ct[2]=ni[0],ct[3]=ni[1]),G.touches[2]&&(ni=c.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),ct[4]=ni[0],ct[5]=ni[1]),Me&&Me.unactivate(),c.touchData.cxt){if(Tn={originalEvent:G,type:"cxttapend",position:{x:ct[0],y:ct[1]}},Me?Me.emit(Tn):$e.emit(Tn),!c.touchData.cxtDragged){var An={originalEvent:G,type:"cxttap",position:{x:ct[0],y:ct[1]}};Me?Me.emit(An):$e.emit(An)}return c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxt=!1,c.touchData.start=null,void c.redraw()}if(!G.touches[2]&&$e.boxSelectionEnabled()&&c.touchData.selecting){c.touchData.selecting=!1;var si=$e.collection(c.getAllInBox(ze[0],ze[1],ze[2],ze[3]));ze[0]=void 0,ze[1]=void 0,ze[2]=void 0,ze[3]=void 0,ze[4]=0,c.redrawHint("select",!0),$e.emit({type:"boxend",originalEvent:G,position:{x:ct[0],y:ct[1]}}),si.emit("box").stdFilter(function(bl){return bl.selectable()&&!bl.selected()}).select().emit("boxselect"),si.nonempty()&&c.redrawHint("eles",!0),c.redraw()}if(Me?.unactivate(),G.touches[2])c.data.bgActivePosistion=void 0,c.redrawHint("select",!0);else if(!G.touches[1]&&!G.touches[0]&&!G.touches[0]){c.data.bgActivePosistion=void 0,c.redrawHint("select",!0);var Pn=c.dragData.touchDragEles;if(null!=Me){var Qi=Me._private.grabbed;A(Pn),c.redrawHint("drag",!0),c.redrawHint("eles",!0),Qi&&(Me.emit("freeon"),Pn.emit("free"),c.dragData.didDrag&&(Me.emit("dragfreeon"),Pn.emit("dragfree"))),u(Me,["touchend","tapend","vmouseup","tapdragout"],G,{x:ct[0],y:ct[1]}),Me.unactivate(),c.touchData.start=null}else{var ar=c.findNearestElement(ct[0],ct[1],!0,!0);u(ar,["touchend","tapend","vmouseup","tapdragout"],G,{x:ct[0],y:ct[1]})}var To=c.touchData.startPosition[0]-ct[0],Mr=c.touchData.startPosition[1]-ct[1],yl=(To*To+Mr*Mr)*Mn*Mn;c.touchData.singleTouchMoved||(Me||$e.$(":selected").unselect(["tapunselect"]),u(Me,["tap","vclick"],G,{x:ct[0],y:ct[1]}),nn=!1,G.timeStamp-wt<=$e.multiClickDebounceTime()?(vn&&clearTimeout(vn),nn=!0,wt=null,u(Me,["dbltap","vdblclick"],G,{x:ct[0],y:ct[1]})):(vn=setTimeout(function(){nn||u(Me,["onetap","voneclick"],G,{x:ct[0],y:ct[1]})},$e.multiClickDebounceTime()),wt=G.timeStamp)),null!=Me&&!c.dragData.didDrag&&Me._private.selectable&&yl<c.touchTapThreshold2&&!c.pinching&&("single"===$e.selectionType()?($e.$(o).unmerge(Me).unselect(["tapunselect"]),Me.select(["tapselect"])):Me.selected()?Me.unselect(["tapunselect"]):Me.select(["tapselect"]),c.redrawHint("eles",!0)),c.touchData.singleTouchMoved=!0}for(var Ys=0;Ys<ct.length;Ys++)Nt[Ys]=ct[Ys];c.dragData.didDrag=!1,0===G.touches.length&&(c.touchData.dragDelta=[],c.touchData.startPosition=null,c.touchData.startGPosition=null,c.touchData.didSelect=!1),G.touches.length<2&&(1===G.touches.length&&(c.touchData.startGPosition=[G.touches[0].clientX,G.touches[0].clientY]),c.pinching=!1,c.redrawHint("eles",!0),c.redraw())}},!1),typeof TouchEvent>"u"){var mt=[],Ut=function(G){return{clientX:G.clientX,clientY:G.clientY,force:1,identifier:G.pointerId,pageX:G.pageX,pageY:G.pageY,radiusX:G.width/2,radiusY:G.height/2,screenX:G.screenX,screenY:G.screenY,target:G.target}},Vt=function(G){for(var Me=0;Me<mt.length;Me++)if(mt[Me].event.pointerId===G.pointerId)return void mt.splice(Me,1)},xn=function(G){G.touches=mt.map(function(Me){return Me.touch})},en=function(G){return"mouse"===G.pointerType||4===G.pointerType};c.registerBinding(c.container,"pointerdown",function(lt){en(lt)||(lt.preventDefault(),mt.push(function(G){return{event:G,touch:Ut(G)}}(lt)),xn(lt),qe(lt))}),c.registerBinding(c.container,"pointerup",function(lt){en(lt)||(Vt(lt),xn(lt),gt(lt))}),c.registerBinding(c.container,"pointercancel",function(lt){en(lt)||(Vt(lt),xn(lt),nt())}),c.registerBinding(c.container,"pointermove",function(lt){var G,Me;en(lt)||(lt.preventDefault(),G=lt,(Me=mt.filter(function(Ze){return Ze.event.pointerId===G.pointerId})[0]).event=G,Me.touch=Ut(G),xn(lt),Je(lt))})}};var Qo={generatePolygon:function(c,o){return this.nodeShapes[c]={renderer:this,name:c,points:o,draw:function(d,f,p,g,y){this.renderer.nodeShapeImpl("polygon",d,f,p,g,y,this.points)},intersectLine:function(d,f,p,g,y,b,_){return Kc(y,b,this.points,d,f,p/2,g/2,_)},checkPoint:function(d,f,p,g,y,b,_){return Dr(d,f,this.points,b,_,g,y,[0,-1],p)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(o,u,d,f,p){this.renderer.nodeShapeImpl(this.name,o,u,d,f,p)},intersectLine:function(o,u,d,f,p,g,y){return function(o,u,d,f,p,g){var y=d-o,b=f-u;y/=p,b/=g;var _=Math.sqrt(y*y+b*b),w=_-1;if(w<0)return[];var x=w/_;return[(d-o)*x+o,(f-u)*x+u]}(p,g,o,u,d/2+y,f/2+y)},checkPoint:function(o,u,d,f,p,g,y){return Wn(o,u,f,p,g,y,d)}}},generateRoundPolygon:function(c,o){for(var u=new Array(2*o.length),d=0;d<o.length/2;d++){var p,f=2*d;p=d<o.length/2-1?2*(d+1):0,u[4*d]=o[f],u[4*d+1]=o[f+1];var g=o[p]-o[f],y=o[p+1]-o[f+1],b=Math.sqrt(g*g+y*y);u[4*d+2]=g/b,u[4*d+3]=y/b}return this.nodeShapes[c]={renderer:this,name:c,points:u,draw:function(w,x,E,S,M){this.renderer.nodeShapeImpl("round-polygon",w,x,E,S,M,this.points)},intersectLine:function(w,x,E,S,M,A,I){return function(o,u,d,f,p,g,y,b){for(var w,_=[],x=new Array(d.length),E=g/2,S=y/2,M=Nh(g,y),A=0;A<d.length/4;A++){var R,I;I=0===A?d.length-2:4*A-2,R=4*A+2;var F=f+E*d[4*A],L=p+S*d[4*A+1],K=M/Math.tan(Math.acos(-d[I]*d[R]-d[I+1]*d[R+1])/2),Z=F-K*d[I],H=L-K*d[I+1],Y=F+K*d[R],U=L+K*d[R+1];0===A?(x[d.length-2]=Z,x[d.length-1]=H):(x[4*A-2]=Z,x[4*A-1]=H),x[4*A]=Y,x[4*A+1]=U;var X=d[I+1],J=-d[I];X*d[R]+J*d[R+1]<0&&(X*=-1,J*=-1),0!==(w=il(o,u,f,p,Z+X*M,H+J*M,M)).length&&_.push(w[0],w[1])}for(var me=0;me<x.length/4;me++)0!==(w=$o(o,u,f,p,x[4*me],x[4*me+1],x[4*me+2],x[4*me+3],!1)).length&&_.push(w[0],w[1]);if(_.length>2){for(var ae=[_[0],_[1]],ce=Math.pow(ae[0]-o,2)+Math.pow(ae[1]-u,2),be=1;be<_.length/2;be++){var Se=Math.pow(_[2*be]-o,2)+Math.pow(_[2*be+1]-u,2);Se<=ce&&(ae[0]=_[2*be],ae[1]=_[2*be+1],ce=Se)}return ae}return _}(M,A,this.points,w,x,E,S)},checkPoint:function(w,x,E,S,M,A,I){return function(o,u,d,f,p,g,y){for(var b=new Array(d.length),_=g/2,w=y/2,x=Nh(g,y),E=x*x,S=0;S<d.length/4;S++){var A,M;M=0===S?d.length-2:4*S-2,A=4*S+2;var I=f+_*d[4*S],R=p+w*d[4*S+1],L=x/Math.tan(Math.acos(-d[M]*d[A]-d[M+1]*d[A+1])/2),z=I-L*d[M],K=R-L*d[M+1],Z=I+L*d[A],H=R+L*d[A+1];b[4*S]=z,b[4*S+1]=K,b[4*S+2]=Z,b[4*S+3]=H;var Y=d[M+1],U=-d[M];Y*d[A]+U*d[A+1]<0&&(Y*=-1,U*=-1);var W=K+U*x;if(Math.pow(z+Y*x-o,2)+Math.pow(W-u,2)<=E)return!0}return Bs(o,u,b)}(w,x,this.points,A,I,S,M)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:gs(4,0),draw:function(o,u,d,f,p){this.renderer.nodeShapeImpl(this.name,o,u,d,f,p)},intersectLine:function(o,u,d,f,p,g,y){return Zv(p,g,o,u,d,f,y)},checkPoint:function(o,u,d,f,p,g,y){var b=Yc(f,p),_=2*b;return!!(Dr(o,u,this.points,g,y,f,p-_,[0,-1],d)||Dr(o,u,this.points,g,y,f-_,p,[0,-1],d)||Wn(o,u,_,_,g-f/2+b,y-p/2+b,d)||Wn(o,u,_,_,g+f/2-b,y-p/2+b,d)||Wn(o,u,_,_,g+f/2-b,y+p/2-b,d)||Wn(o,u,_,_,g-f/2+b,y+p/2-b,d))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:gs(4,0),draw:function(o,u,d,f,p){this.renderer.nodeShapeImpl(this.name,o,u,d,f,p)},generateCutTrianglePts:function(o,u,d,f){var p=this.cornerLength,g=u/2,y=o/2,b=d-y,_=d+y,w=f-g,x=f+g;return{topLeft:[b,w+p,b+p,w,b+p,w+p],topRight:[_-p,w,_,w+p,_-p,w+p],bottomRight:[_,x-p,_-p,x,_-p,x-p],bottomLeft:[b+p,x,b,x-p,b+p,x-p]}},intersectLine:function(o,u,d,f,p,g,y){var b=this.generateCutTrianglePts(d+2*y,f+2*y,o,u),_=[].concat.apply([],[b.topLeft.splice(0,4),b.topRight.splice(0,4),b.bottomRight.splice(0,4),b.bottomLeft.splice(0,4)]);return Kc(p,g,_,o,u)},checkPoint:function(o,u,d,f,p,g,y){if(Dr(o,u,this.points,g,y,f,p-2*this.cornerLength,[0,-1],d)||Dr(o,u,this.points,g,y,f-2*this.cornerLength,p,[0,-1],d))return!0;var b=this.generateCutTrianglePts(f,p,g,y);return Bs(o,u,b.topLeft)||Bs(o,u,b.topRight)||Bs(o,u,b.bottomRight)||Bs(o,u,b.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:gs(4,0),draw:function(o,u,d,f,p){this.renderer.nodeShapeImpl(this.name,o,u,d,f,p)},intersectLine:function(o,u,d,f,p,g,y){var x=this.generateBarrelBezierPts(d+2*y,f+2*y,o,u),E=function(A){var I=Pe({x:A[0],y:A[1]},{x:A[2],y:A[3]},{x:A[4],y:A[5]},.15),R=Pe({x:A[0],y:A[1]},{x:A[2],y:A[3]},{x:A[4],y:A[5]},.5),F=Pe({x:A[0],y:A[1]},{x:A[2],y:A[3]},{x:A[4],y:A[5]},.85);return[A[0],A[1],I.x,I.y,R.x,R.y,F.x,F.y,A[4],A[5]]},S=[].concat(E(x.topLeft),E(x.topRight),E(x.bottomRight),E(x.bottomLeft));return Kc(p,g,S,o,u)},generateBarrelBezierPts:function(o,u,d,f){var p=u/2,g=o/2,y=d-g,b=d+g,_=f-p,w=f+p,x=Bh(o,u),E=x.heightOffset,S=x.widthOffset,M=x.ctrlPtOffsetPct*o,A={topLeft:[y,_+E,y+M,_,y+S,_],topRight:[b-S,_,b-M,_,b,_+E],bottomRight:[b,w-E,b-M,w,b-S,w],bottomLeft:[y+S,w,y+M,w,y,w-E]};return A.topLeft.isTop=!0,A.topRight.isTop=!0,A.bottomLeft.isBottom=!0,A.bottomRight.isBottom=!0,A},checkPoint:function(o,u,d,f,p,g,y){var b=Bh(f,p),w=b.widthOffset;if(Dr(o,u,this.points,g,y,f,p-2*b.heightOffset,[0,-1],d)||Dr(o,u,this.points,g,y,f-2*w,p,[0,-1],d))return!0;for(var x=this.generateBarrelBezierPts(f,p,g,y),E=function(H,Y,U){var X=U[4],J=U[2],W=U[0],oe=U[5],Q=U[1],me=Math.min(X,W),ae=Math.max(X,W),ce=Math.min(oe,Q),be=Math.max(oe,Q);if(me<=H&&H<=ae&&ce<=Y&&Y<=be){var Se=function(o,u,d){return[o-2*u+d,2*(u-o),o]}(X,J,W),Oe=function(o,u,d,f){var p=u*u-4*o*(d-=f);if(p<0)return[];var g=Math.sqrt(p),y=2*o;return[(-u+g)/y,(-u-g)/y]}(Se[0],Se[1],Se[2],H),De=Oe.filter(function(Ie){return 0<=Ie&&Ie<=1});if(De.length>0)return De[0]}return null},S=Object.keys(x),M=0;M<S.length;M++){var I=x[S[M]],R=E(o,u,I);if(null!=R){var K=Gr(I[5],I[3],I[1],R);if(I.isTop&&K<=u||I.isBottom&&u<=K)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:gs(4,0),draw:function(o,u,d,f,p){this.renderer.nodeShapeImpl(this.name,o,u,d,f,p)},intersectLine:function(o,u,d,f,p,g,y){var _=u-(f/2+y),E=$o(p,g,o,u,o-(d/2+y),_,o+(d/2+y),_,!1);return E.length>0?E:Zv(p,g,o,u,d,f,y)},checkPoint:function(o,u,d,f,p,g,y){var b=Yc(f,p),_=2*b;if(Dr(o,u,this.points,g,y,f,p-_,[0,-1],d)||Dr(o,u,this.points,g,y,f-_,p,[0,-1],d))return!0;var w=f/2+2*d,x=p/2+2*d;return!!(Bs(o,u,[g-w,y-x,g-w,y,g+w,y,g+w,y-x])||Wn(o,u,_,_,g+f/2-b,y+p/2-b,d)||Wn(o,u,_,_,g-f/2+b,y+p/2-b,d))}}},registerNodeShapes:function(){var c=this.nodeShapes={},o=this;this.generateEllipse(),this.generatePolygon("triangle",gs(3,0)),this.generateRoundPolygon("round-triangle",gs(3,0)),this.generatePolygon("rectangle",gs(4,0)),c.square=c.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var u=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",u),this.generateRoundPolygon("round-diamond",u),this.generatePolygon("pentagon",gs(5,0)),this.generateRoundPolygon("round-pentagon",gs(5,0)),this.generatePolygon("hexagon",gs(6,0)),this.generateRoundPolygon("round-hexagon",gs(6,0)),this.generatePolygon("heptagon",gs(7,0)),this.generateRoundPolygon("round-heptagon",gs(7,0)),this.generatePolygon("octagon",gs(8,0)),this.generateRoundPolygon("round-octagon",gs(8,0));var d=new Array(20),f=Wp(5,0),p=Wp(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var y=0;y<p.length/2;y++)p[2*y]*=g,p[2*y+1]*=g;for(y=0;y<5;y++)d[4*y]=f[2*y],d[4*y+1]=f[2*y+1],d[4*y+2]=p[2*y],d[4*y+3]=p[2*y+1];d=pn(d),this.generatePolygon("star",d),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var b=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",b),this.generateRoundPolygon("round-tag",b),c.makePolygon=function(_){var E,x="polygon-"+_.join("$");return(E=this[x])?E:o.generatePolygon(x,_)}}},Do={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(c){c=c||Gv();var o=this;void 0===o.averageRedrawTime&&(o.averageRedrawTime=0),void 0===o.lastRedrawTime&&(o.lastRedrawTime=0),void 0===o.lastDrawTime&&(o.lastDrawTime=0),o.requestedFrame=!0,o.renderOptions=c},beforeRender:function(c,o){if(!this.destroyed){null==o&&Fi("Priority is not optional for beforeRender");var u=this.beforeRenderCallbacks;u.push({fn:c,priority:o}),u.sort(function(d,f){return f.priority-d.priority})}}},Fy=function(o,u,d){for(var f=o.beforeRenderCallbacks,p=0;p<f.length;p++)f[p].fn(u,d)};Do.startRenderLoop=function(){var c=this,o=c.cy;c.renderLoopStarted||(c.renderLoopStarted=!0,Qa(function d(f){if(!c.destroyed){if(!o.batching())if(c.requestedFrame&&!c.skipFrame){Fy(c,!0,f);var p=Ls();c.render(c.renderOptions);var g=c.lastDrawTime=Ls();void 0===c.averageRedrawTime&&(c.averageRedrawTime=g-p),void 0===c.redrawCount&&(c.redrawCount=0),c.redrawCount++,void 0===c.redrawTotalTime&&(c.redrawTotalTime=0);var y=g-p;c.redrawTotalTime+=y,c.lastRedrawTime=y,c.averageRedrawTime=c.averageRedrawTime/2+y/2,c.requestedFrame=!1}else Fy(c,!1,f);c.skipFrame=!1,Qa(d)}}))};var Ly=function(o){this.init(o)},vu=Ly.prototype;vu.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],vu.init=function(c){var o=this;o.options=c,o.cy=c.cy;var u=o.container=c.cy.container();if(At){var d=At.document,f=d.head,p="__________cytoscape_stylesheet",g="__________cytoscape_container",y=null!=d.getElementById(p);if(u.className.indexOf(g)<0&&(u.className=(u.className||"")+" "+g),!y){var b=d.createElement("style");b.id=p,b.innerHTML="."+g+" { position: relative; }",f.insertBefore(b,f.children[0])}"static"===At.getComputedStyle(u).getPropertyValue("position")&&ei("A Cytoscape container has style position:static and so can not use UI extensions properly")}o.selection=[void 0,void 0,void 0,void 0,0],o.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],o.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},o.dragData={possibleDragElements:[]},o.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},o.redraws=0,o.showFps=c.showFps,o.debug=c.debug,o.hideEdgesOnViewport=c.hideEdgesOnViewport,o.textureOnViewport=c.textureOnViewport,o.wheelSensitivity=c.wheelSensitivity,o.motionBlurEnabled=c.motionBlur,o.forcedPixelRatio=Fe(c.pixelRatio)?c.pixelRatio:null,o.motionBlur=c.motionBlur,o.motionBlurOpacity=c.motionBlurOpacity,o.motionBlurTransparency=1-o.motionBlurOpacity,o.motionBlurPxRatio=1,o.mbPxRBlurry=1,o.minMbLowQualFrames=4,o.fullQualityMb=!1,o.clearedForMotionBlur=[],o.desktopTapThreshold=c.desktopTapThreshold,o.desktopTapThreshold2=c.desktopTapThreshold*c.desktopTapThreshold,o.touchTapThreshold=c.touchTapThreshold,o.touchTapThreshold2=c.touchTapThreshold*c.touchTapThreshold,o.tapholdDuration=500,o.bindings=[],o.beforeRenderCallbacks=[],o.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},o.registerNodeShapes(),o.registerArrowShapes(),o.registerCalculationListeners()},vu.notify=function(c,o){var u=this,d=u.cy;if(!this.destroyed){if("init"===c)return void u.load();if("destroy"===c)return void u.destroy();("add"===c||"remove"===c||"move"===c&&d.hasCompoundNodes()||"load"===c||"zorder"===c||"mount"===c)&&u.invalidateCachedZSortedEles(),"viewport"===c&&u.redrawHint("select",!0),("load"===c||"resize"===c||"mount"===c)&&(u.invalidateContainerClientCoordsCache(),u.matchCanvasSize(u.container)),u.redrawHint("eles",!0),u.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},vu.destroy=function(){var c=this;c.destroyed=!0,c.cy.stopAnimationLoop();for(var o=0;o<c.bindings.length;o++){var u=c.bindings[o],f=u.target;(f.off||f.removeEventListener).apply(f,u.args)}if(c.bindings=[],c.beforeRenderCallbacks=[],c.onUpdateEleCalcsFns=[],c.removeObserver&&c.removeObserver.disconnect(),c.styleObserver&&c.styleObserver.disconnect(),c.resizeObserver&&c.resizeObserver.disconnect(),c.labelCalcDiv)try{document.body.removeChild(c.labelCalcDiv)}catch{}},vu.isHeadless=function(){return!1},[gu,gf,xg,rc,Qo,Do].forEach(function(c){qt(vu,c)});var Dg=1e3/60,Es_setupDequeueing=function(o){return function(){var d=this,f=this.renderer;if(!d.dequeueingSetup){d.dequeueingSetup=!0;var p=ue.default(function(){f.redrawHint("eles",!0),f.redrawHint("drag",!0),f.redraw()},o.deqRedrawThreshold);f.beforeRender(function(_,w){var x=Ls(),E=f.averageRedrawTime,S=f.lastRedrawTime,M=[],A=f.cy.extent(),I=f.getPixelRatio();for(_||f.flushRenderedStyleQueue();;){var R=Ls(),F=R-x,L=R-w;if(S<Dg){if(L>=o.deqFastCost*(Dg-(_?E:0)))break}else if(_){if(F>=o.deqCost*S||F>=o.deqAvgCost*E)break}else if(L>=o.deqNoDrawCost*Dg)break;var K=o.deq(d,I,A);if(!(K.length>0))break;for(var Z=0;Z<K.length;Z++)M.push(K[Z])}M.length>0&&(o.onDeqd(d,M),!_&&o.shouldRedraw(d,M,I,A)&&p())},(o.priority||Ah)(d))}}},Jo=function(){function c(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zp;tt(this,c),this.idsByKey=new ro,this.keyForId=new ro,this.cachesByLvl=new ro,this.lvls=[],this.getKey=o,this.doesEleInvalidateKey=u}return we(c,[{key:"getIdsFor",value:function(u){null==u&&Fi("Can not get id list for null key");var d=this.idsByKey,f=this.idsByKey.get(u);return f||(f=new oi,d.set(u,f)),f}},{key:"addIdForKey",value:function(u,d){null!=u&&this.getIdsFor(u).add(d)}},{key:"deleteIdForKey",value:function(u,d){null!=u&&this.getIdsFor(u).delete(d)}},{key:"getNumberOfIdsForKey",value:function(u){return null==u?0:this.getIdsFor(u).size}},{key:"updateKeyMappingFor",value:function(u){var d=u.id(),f=this.keyForId.get(d),p=this.getKey(u);this.deleteIdForKey(f,d),this.addIdForKey(p,d),this.keyForId.set(d,p)}},{key:"deleteKeyMappingFor",value:function(u){var d=u.id(),f=this.keyForId.get(d);this.deleteIdForKey(f,d),this.keyForId.delete(d)}},{key:"keyHasChangedFor",value:function(u){var d=u.id();return this.keyForId.get(d)!==this.getKey(u)}},{key:"isInvalid",value:function(u){return this.keyHasChangedFor(u)||this.doesEleInvalidateKey(u)}},{key:"getCachesAt",value:function(u){var d=this.cachesByLvl,f=this.lvls,p=d.get(u);return p||(p=new ro,d.set(u,p),f.push(u)),p}},{key:"getCache",value:function(u,d){return this.getCachesAt(d).get(u)}},{key:"get",value:function(u,d){var f=this.getKey(u),p=this.getCache(f,d);return null!=p&&this.updateKeyMappingFor(u),p}},{key:"getForCachedKey",value:function(u,d){var f=this.keyForId.get(u.id());return this.getCache(f,d)}},{key:"hasCache",value:function(u,d){return this.getCachesAt(d).has(u)}},{key:"has",value:function(u,d){var f=this.getKey(u);return this.hasCache(f,d)}},{key:"setCache",value:function(u,d,f){f.key=u,this.getCachesAt(d).set(u,f)}},{key:"set",value:function(u,d,f){var p=this.getKey(u);this.setCache(p,d,f),this.updateKeyMappingFor(u)}},{key:"deleteCache",value:function(u,d){this.getCachesAt(d).delete(u)}},{key:"delete",value:function(u,d){var f=this.getKey(u);this.deleteCache(f,d)}},{key:"invalidateKey",value:function(u){var d=this;this.lvls.forEach(function(f){return d.deleteCache(u,f)})}},{key:"invalidate",value:function(u){var d=u.id(),f=this.keyForId.get(d);this.deleteKeyMappingFor(u);var p=this.doesEleInvalidateKey(u);return p&&this.invalidateKey(f),p||0===this.getNumberOfIdsForKey(f)}}]),c}(),kd={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},kA=Ur({getKey:null,doesEleInvalidateKey:zp,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Ns,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),sc=function(o,u){var d=this;d.renderer=o,d.onDequeues=[];var f=kA(u);qt(d,f),d.lookup=new Jo(f.getKey,f.doesEleInvalidateKey),d.setupDequeueing()},or=sc.prototype;or.reasons=kd,or.getTextureQueue=function(c){var o=this;return o.eleImgCaches=o.eleImgCaches||{},o.eleImgCaches[c]=o.eleImgCaches[c]||[]},or.getRetiredTextureQueue=function(c){var u=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return u[c]=u[c]||[]},or.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new ge.default(function(u,d){return d.reqs-u.reqs})},or.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},or.getElement=function(c,o,u,d,f){var p=this,g=this.renderer,y=g.cy.zoom(),b=this.lookup;if(!o||0===o.w||0===o.h||isNaN(o.w)||isNaN(o.h)||!c.visible()||c.removed()||!p.allowEdgeTxrCaching&&c.isEdge()||!p.allowParentTxrCaching&&c.isParent())return null;if(null==d&&(d=Math.ceil(Kv(y*u))),d<-4)d=-4;else if(y>=7.99||d>3)return null;var _=Math.pow(2,d),w=o.h*_,x=o.w*_,E=g.eleTextBiggerThanMin(c,_);if(!this.isVisible(c,E))return null;var M,S=b.get(c,d);if(S&&S.invalidated&&(S.invalidated=!1,S.texture.invalidatedWidth-=S.width),S)return S;if(M=w<=25?25:w<=50?50:50*Math.ceil(w/50),w>1024||x>1024)return null;var A=p.getTextureQueue(M),I=A[A.length-2],R=function(){return p.recycleTexture(M,x)||p.addTexture(M,x)};I||(I=A[A.length-1]),I||(I=R()),I.width-I.usedWidth<x&&(I=R());for(var Z,F=function(ae){return ae&&ae.scaledLabelShown===E},L=f&&f===kd.dequeue,z=f&&f===kd.highQuality,K=f&&f===kd.downscale,H=d+1;H<=3;H++){var Y=b.get(c,H);if(Y){Z=Y;break}}var U=Z&&Z.level===d+1?Z:null,X=function(){I.context.drawImage(U.texture.canvas,U.x,0,U.width,U.height,I.usedWidth,0,x,w)};if(I.context.setTransform(1,0,0,1,0,0),I.context.clearRect(I.usedWidth,0,x,M),F(U))X();else if(F(Z)){if(!z)return p.queueElement(c,Z.level-1),Z;for(var J=Z.level;J>d;J--)U=p.getElement(c,o,u,J,kd.downscale);X()}else{var W;if(!L&&!z&&!K)for(var oe=d-1;oe>=-4;oe--){var Q=b.get(c,oe);if(Q){W=Q;break}}if(F(W))return p.queueElement(c,d),W;I.context.translate(I.usedWidth,0),I.context.scale(_,_),this.drawElement(I.context,c,o,E,!1),I.context.scale(1/_,1/_),I.context.translate(-I.usedWidth,0)}return S={x:I.usedWidth,texture:I,level:d,scale:_,width:x,height:w,scaledLabelShown:E},I.usedWidth+=Math.ceil(x+8),I.eleCaches.push(S),b.set(c,d,S),p.checkTextureFullness(I),S},or.invalidateElements=function(c){for(var o=0;o<c.length;o++)this.invalidateElement(c[o])},or.invalidateElement=function(c){var o=this,u=o.lookup,d=[];if(u.isInvalid(c)){for(var p=-4;p<=3;p++){var g=u.getForCachedKey(c,p);g&&d.push(g)}if(u.invalidate(c))for(var b=0;b<d.length;b++){var _=d[b],w=_.texture;w.invalidatedWidth+=_.width,_.invalidated=!0,o.checkTextureUtility(w)}o.removeFromQueue(c)}},or.checkTextureUtility=function(c){c.invalidatedWidth>=.2*c.width&&this.retireTexture(c)},or.checkTextureFullness=function(c){var u=this.getTextureQueue(c.height);c.usedWidth/c.width>.8&&c.fullnessChecks>=10?wa(u,c):c.fullnessChecks++},or.retireTexture=function(c){var u=c.height,d=this.getTextureQueue(u),f=this.lookup;wa(d,c),c.retired=!0;for(var p=c.eleCaches,g=0;g<p.length;g++){var y=p[g];f.deleteCache(y.key,y.level)}$p(p),this.getRetiredTextureQueue(u).push(c)},or.addTexture=function(c,o){var f={};return this.getTextureQueue(c).push(f),f.eleCaches=[],f.height=c,f.width=Math.max(1024,o),f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,f.canvas=this.renderer.makeOffscreenCanvas(f.width,f.height),f.context=f.canvas.getContext("2d"),f},or.recycleTexture=function(c,o){for(var d=this.getTextureQueue(c),f=this.getRetiredTextureQueue(c),p=0;p<f.length;p++){var g=f[p];if(g.width>=o)return g.retired=!1,g.usedWidth=0,g.invalidatedWidth=0,g.fullnessChecks=0,$p(g.eleCaches),g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(0,0,g.width,g.height),wa(f,g),d.push(g),g}},or.queueElement=function(c,o){var d=this.getElementQueue(),f=this.getElementKeyToQueue(),p=this.getKey(c),g=f[p];if(g)g.level=Math.max(g.level,o),g.eles.merge(c),g.reqs++,d.updateItem(g);else{var y={eles:c.spawn().merge(c),level:o,reqs:1,key:p};d.push(y),f[p]=y}},or.dequeue=function(c){for(var o=this,u=o.getElementQueue(),d=o.getElementKeyToQueue(),f=[],p=o.lookup,g=0;g<1&&u.size()>0;g++){var y=u.pop(),b=y.key,_=y.eles[0],w=p.hasCache(_,y.level);if(d[b]=null,!w){f.push(y);var x=o.getBoundingBox(_);o.getElement(_,x,c,y.level,kd.dequeue)}}return f},or.removeFromQueue=function(c){var u=this.getElementQueue(),d=this.getElementKeyToQueue(),f=this.getKey(c),p=d[f];null!=p&&(1===p.eles.length?(p.reqs=tl,u.updateItem(p),u.pop(),d[f]=null):p.eles.unmerge(c))},or.onDequeue=function(c){this.onDequeues.push(c)},or.offDequeue=function(c){wa(this.onDequeues,c)},or.setupDequeueing=Es_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,u,d){return o.dequeue(u,d)},onDeqd:function(o,u){for(var d=0;d<o.onDequeues.length;d++)(0,o.onDequeues[d])(u)},shouldRedraw:function(o,u,d,f){for(var p=0;p<u.length;p++)for(var g=u[p].eles,y=0;y<g.length;y++){var b=g[y].boundingBox();if(Fh(b,f))return!0}return!1},priority:function(o){return o.renderer.beforeRenderPriorities.eleTxrDeq}});var Gy=function(o){var u=this,d=u.renderer=o,f=d.cy;u.layersByLevel={},u.firstGet=!0,u.lastInvalidationTime=Ls()-500,u.skipping=!1,u.eleTxrDeqs=f.collection(),u.scheduleElementRefinement=ue.default(function(){u.refineElementTextures(u.eleTxrDeqs),u.eleTxrDeqs.unmerge(u.eleTxrDeqs)},50),d.beforeRender(function(g,y){u.skipping=y-u.lastInvalidationTime<=250},d.beforeRenderPriorities.lyrTxrSkip),u.layersQueue=new ge.default(function(y,b){return b.reqs-y.reqs}),u.setupDequeueing()},Sr=Gy.prototype,Mg=0,gx=Math.pow(2,53)-1;Sr.makeLayer=function(c,o){var u=Math.pow(2,o),d=Math.ceil(c.w*u),f=Math.ceil(c.h*u),p=this.renderer.makeOffscreenCanvas(d,f),g={id:Mg=++Mg%gx,bb:c,level:o,width:d,height:f,canvas:p,context:p.getContext("2d"),eles:[],elesQueue:[],reqs:0},y=g.context,b=-g.bb.x1,_=-g.bb.y1;return y.scale(u,u),y.translate(b,_),g},Sr.getLayers=function(c,o,u){var d=this,g=d.renderer.cy.zoom(),y=d.firstGet;if(d.firstGet=!1,null==u)if((u=Math.ceil(Kv(g*o)))<-4)u=-4;else if(g>=3.99||u>2)return null;d.validateLayersElesOrdering(u,c);var x,S,b=d.layersByLevel,_=Math.pow(2,u),w=b[u]=b[u]||[];if(d.levelIsComplete(u,c))return w;!function(){var X=function(me){if(d.validateLayersElesOrdering(me,c),d.levelIsComplete(me,c))return S=b[me],!0},J=function(me){if(!S)for(var ae=u+me;-4<=ae&&ae<=2&&!X(ae);ae+=me);};J(1),J(-1);for(var W=w.length-1;W>=0;W--){var oe=w[W];oe.invalid&&wa(w,oe)}}();var I=function(X){var J=(X=X||{}).after;if(function(){if(!x){x=Wr();for(var X=0;X<c.length;X++)cC(x,c[X].boundingBox())}}(),x.w*_*(x.h*_)>16e6)return null;var oe=d.makeLayer(x,u);if(null!=J){var Q=w.indexOf(J)+1;w.splice(Q,0,oe)}else(void 0===X.insert||X.insert)&&w.unshift(oe);return oe};if(d.skipping&&!y)return null;for(var R=null,F=c.length/1,L=!y,z=0;z<c.length;z++){var K=c[z],Z=K._private.rscratch,H=Z.imgLayerCaches=Z.imgLayerCaches||{},Y=H[u];if(Y)R=Y;else{if((!R||R.eles.length>=F||!Lh(R.bb,K.boundingBox()))&&!(R=I({insert:!0,after:R})))return null;S||L?d.queueLayer(R,K):d.drawEleInLayer(R,K,u,o),R.eles.push(K),H[u]=R}}return S||(L?null:w)},Sr.getEleLevelForLayerLevel=function(c,o){return c},Sr.drawEleInLayer=function(c,o,u,d){var p=this.renderer,g=c.context,y=o.boundingBox();0===y.w||0===y.h||!o.visible()||(u=this.getEleLevelForLayerLevel(u,d),p.setImgSmoothing(g,!1),p.drawCachedElement(g,o,null,null,u,!0),p.setImgSmoothing(g,!0))},Sr.levelIsComplete=function(c,o){var d=this.layersByLevel[c];if(!d||0===d.length)return!1;for(var f=0,p=0;p<d.length;p++){var g=d[p];if(g.reqs>0||g.invalid)return!1;f+=g.eles.length}return f===o.length},Sr.validateLayersElesOrdering=function(c,o){var u=this.layersByLevel[c];if(u)for(var d=0;d<u.length;d++){for(var f=u[d],p=-1,g=0;g<o.length;g++)if(f.eles[0]===o[g]){p=g;break}if(p<0)this.invalidateLayer(f);else{var y=p;for(g=0;g<f.eles.length;g++)if(f.eles[g]!==o[y+g]){this.invalidateLayer(f);break}}}},Sr.updateElementsInLayers=function(c,o){for(var d=ki(c[0]),f=0;f<c.length;f++)for(var p=d?null:c[f],g=d?c[f]:c[f].ele,y=g._private.rscratch,b=y.imgLayerCaches=y.imgLayerCaches||{},_=-4;_<=2;_++){var w=b[_];!w||p&&this.getEleLevelForLayerLevel(w.level)!==p.level||o(w,g,p)}},Sr.haveLayers=function(){for(var o=!1,u=-4;u<=2;u++){var d=this.layersByLevel[u];if(d&&d.length>0){o=!0;break}}return o},Sr.invalidateElements=function(c){var o=this;0!==c.length&&(o.lastInvalidationTime=Ls(),0!==c.length&&o.haveLayers()&&o.updateElementsInLayers(c,function(d,f,p){o.invalidateLayer(d)}))},Sr.invalidateLayer=function(c){if(this.lastInvalidationTime=Ls(),!c.invalid){var o=c.level,u=c.eles;wa(this.layersByLevel[o],c),c.elesQueue=[],c.invalid=!0,c.replacement&&(c.replacement.invalid=!0);for(var f=0;f<u.length;f++){var p=u[f]._private.rscratch.imgLayerCaches;p&&(p[o]=null)}}},Sr.refineElementTextures=function(c){var o=this;o.updateElementsInLayers(c,function(d,f,p){var g=d.replacement;if(g||((g=d.replacement=o.makeLayer(d.bb,d.level)).replaces=d,g.eles=d.eles),!g.reqs)for(var y=0;y<g.eles.length;y++)o.queueLayer(g,g.eles[y])})},Sr.enqueueElementRefinement=function(c){this.eleTxrDeqs.merge(c),this.scheduleElementRefinement()},Sr.queueLayer=function(c,o){var d=this.layersQueue,f=c.elesQueue,p=f.hasId=f.hasId||{};if(!c.replacement){if(o){if(p[o.id()])return;f.push(o),p[o.id()]=!0}c.reqs?(c.reqs++,d.updateItem(c)):(c.reqs=1,d.push(c))}},Sr.dequeue=function(c){for(var o=this,u=o.layersQueue,d=[],f=0;f<1&&0!==u.size();){var p=u.peek();if(p.replacement)u.pop();else if(p.replaces&&p!==p.replaces.replacement)u.pop();else if(p.invalid)u.pop();else{var g=p.elesQueue.shift();g&&(o.drawEleInLayer(p,g,p.level,c),f++),0===d.length&&d.push(!0),0===p.elesQueue.length&&(u.pop(),p.reqs=0,p.replaces&&o.applyLayerReplacement(p),o.requestRedraw())}}return d},Sr.applyLayerReplacement=function(c){var u=this.layersByLevel[c.level],d=c.replaces,f=u.indexOf(d);if(!(f<0||d.invalid)){u[f]=c;for(var p=0;p<c.eles.length;p++){var g=c.eles[p]._private,y=g.imgLayerCaches=g.imgLayerCaches||{};y&&(y[c.level]=c)}this.requestRedraw()}},Sr.requestRedraw=ue.default(function(){var c=this.renderer;c.redrawHint("eles",!0),c.redrawHint("drag",!0),c.redraw()},100),Sr.setupDequeueing=Es_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,u){return o.dequeue(u)},onDeqd:Ah,shouldRedraw:Ns,priority:function(o){return o.renderer.beforeRenderPriorities.lyrTxrDeq}});var qy,Wy={};function mx(c,o){for(var u=0;u<o.length;u++){var d=o[u];c.lineTo(d.x,d.y)}}function vx(c,o,u){for(var d,f=0;f<o.length;f++){var p=o[f];0===f&&(d=p),c.lineTo(p.x,p.y)}c.quadraticCurveTo(u.x,u.y,d.x,d.y)}function yx(c,o,u){c.beginPath&&c.beginPath();for(var d=o,f=0;f<d.length;f++)c.lineTo((p=d[f]).x,p.y);var g=u,y=u[0];for(c.moveTo(y.x,y.y),f=1;f<g.length;f++){var p;c.lineTo((p=g[f]).x,p.y)}c.closePath&&c.closePath()}function RA(c,o,u,d,f){c.beginPath&&c.beginPath(),c.arc(u,d,f,0,2*Math.PI,!1);var p=o,g=p[0];c.moveTo(g.x,g.y);for(var y=0;y<p.length;y++){var b=p[y];c.lineTo(b.x,b.y)}c.closePath&&c.closePath()}function Rd(c,o,u,d){c.arc(o,u,d,0,2*Math.PI,!1)}Wy.arrowShapeImpl=function(c){return(qy||(qy={polygon:mx,"triangle-backcurve":vx,"triangle-tee":yx,"circle-triangle":RA,"triangle-cross":yx,circle:Rd}))[c]};var co={drawElement:function(c,o,u,d,f,p){o.isNode()?this.drawNode(c,o,u,d,f,p):this.drawEdge(c,o,u,d,f,p)},drawElementOverlay:function(c,o){o.isNode()?this.drawNodeOverlay(c,o):this.drawEdgeOverlay(c,o)},drawElementUnderlay:function(c,o){o.isNode()?this.drawNodeUnderlay(c,o):this.drawEdgeUnderlay(c,o)},drawCachedElementPortion:function(c,o,u,d,f,p,g,y){var b=this,_=u.getBoundingBox(o);if(0!==_.w&&0!==_.h){var w=u.getElement(o,_,d,f,p);if(null!=w){var x=y(b,o);if(0===x)return;var R,F,L,z,K,Y,E=g(b,o),S=_.x1,M=_.y1,A=_.w,I=_.h;if(0!==E){var Z=u.getRotationPoint(o);c.translate(L=Z.x,z=Z.y),c.rotate(E),(K=b.getImgSmoothing(c))||b.setImgSmoothing(c,!0);var H=u.getRotationOffset(o);R=H.x,F=H.y}else R=S,F=M;1!==x&&(c.globalAlpha=(Y=c.globalAlpha)*x),c.drawImage(w.texture.canvas,w.x,0,w.width,w.height,R,F,A,I),1!==x&&(c.globalAlpha=Y),0!==E&&(c.rotate(-E),c.translate(-L,-z),K||b.setImgSmoothing(c,!1))}else u.drawElement(c,o)}}},Ky=function(){return 0},Yy=function(o,u){return o.getTextAngle(u,null)},Zy=function(o,u){return o.getTextAngle(u,"source")},_x=function(o,u){return o.getTextAngle(u,"target")},Xy=function(o,u){return u.effectiveOpacity()},wf=function(o,u){return u.pstyle("text-opacity").pfValue*u.effectiveOpacity()};co.drawCachedElement=function(c,o,u,d,f,p){var g=this,y=g.data,b=y.eleTxrCache,_=y.lblTxrCache,w=y.slbTxrCache,x=y.tlbTxrCache,E=o.boundingBox(),S=!0===p?b.reasons.highQuality:null;if(0!==E.w&&0!==E.h&&o.visible()&&(!d||Fh(E,d))){var M=o.isEdge(),A=o.element()._private.rscratch.badLine;g.drawElementUnderlay(c,o),g.drawCachedElementPortion(c,o,b,u,f,S,Ky,Xy),(!M||!A)&&g.drawCachedElementPortion(c,o,_,u,f,S,Yy,wf),M&&!A&&(g.drawCachedElementPortion(c,o,w,u,f,S,Zy,wf),g.drawCachedElementPortion(c,o,x,u,f,S,_x,wf)),g.drawElementOverlay(c,o)}},co.drawElements=function(c,o){for(var d=0;d<o.length;d++)this.drawElement(c,o[d])},co.drawCachedElements=function(c,o,u,d){for(var p=0;p<o.length;p++)this.drawCachedElement(c,o[p],u,d)},co.drawCachedNodes=function(c,o,u,d){for(var p=0;p<o.length;p++){var g=o[p];!g.isNode()||this.drawCachedElement(c,g,u,d)}},co.drawLayeredElements=function(c,o,u,d){var p=this.data.lyrTxrCache.getLayers(o,u);if(p)for(var g=0;g<p.length;g++){var y=p[g],b=y.bb;0===b.w||0===b.h||c.drawImage(y.canvas,b.x1,b.y1,b.w,b.h)}else this.drawCachedElements(c,o,u,d)};var Eo={drawEdge:function(c,o,u){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,y=o._private.rscratch;if((!p||o.visible())&&!y.badLine&&null!=y.allpts&&!isNaN(y.allpts[0])){var b;u&&c.translate(-(b=u).x1,-b.y1);var _=p?o.pstyle("opacity").value:1,w=p?o.pstyle("line-opacity").value:1,x=o.pstyle("curve-style").value,E=o.pstyle("line-style").value,S=o.pstyle("width").pfValue,M=o.pstyle("line-cap").value,A=_*w,I=_*w,R=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;"straight-triangle"===x?(g.eleStrokeStyle(c,o,W),g.drawEdgeTrianglePath(o,c,y.allpts)):(c.lineWidth=S,c.lineCap=M,g.eleStrokeStyle(c,o,W),g.drawEdgePath(o,c,y.allpts,E),c.lineCap="butt")},F=function(){!f||g.drawEdgeOverlay(c,o)},L=function(){!f||g.drawEdgeUnderlay(c,o)},z=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;g.drawArrowheads(c,o,W)},K=function(){g.drawElementText(c,o,null,d)};c.lineJoin="round";var Z="yes"===o.pstyle("ghost").value;if(Z){var H=o.pstyle("ghost-offset-x").pfValue,Y=o.pstyle("ghost-offset-y").pfValue,U=o.pstyle("ghost-opacity").value,X=A*U;c.translate(H,Y),R(X),z(X),c.translate(-H,-Y)}L(),R(),z(),F(),K(),u&&c.translate(b.x1,b.y1)}}},bx=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(u,d){if(d.visible()){var f=d.pstyle("".concat(o,"-opacity")).value;if(0!==f){var p=this,g=p.usePaths(),y=d._private.rscratch,_=2*d.pstyle("".concat(o,"-padding")).pfValue,w=d.pstyle("".concat(o,"-color")).value;u.lineWidth=_,u.lineCap="self"!==y.edgeType||g?"round":"butt",p.colorStrokeStyle(u,w[0],w[1],w[2],f),p.drawEdgePath(d,u,y.allpts,"solid")}}}};Eo.drawEdgeOverlay=bx("overlay"),Eo.drawEdgeUnderlay=bx("underlay"),Eo.drawEdgePath=function(c,o,u,d){var g,f=c._private.rscratch,p=o,y=!1,b=this.usePaths(),_=c.pstyle("line-dash-pattern").pfValue,w=c.pstyle("line-dash-offset").pfValue;if(b){var x=u.join("$");f.pathCacheKey&&f.pathCacheKey===x?(g=o=f.pathCache,y=!0):(g=o=new Path2D,f.pathCacheKey=x,f.pathCache=g)}if(p.setLineDash)switch(d){case"dotted":p.setLineDash([1,1]);break;case"dashed":p.setLineDash(_),p.lineDashOffset=w;break;case"solid":p.setLineDash([])}if(!y&&!f.badLine)switch(o.beginPath&&o.beginPath(),o.moveTo(u[0],u[1]),f.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var S=2;S+3<u.length;S+=4)o.quadraticCurveTo(u[S],u[S+1],u[S+2],u[S+3]);break;case"straight":case"segments":case"haystack":for(var M=2;M+1<u.length;M+=2)o.lineTo(u[M],u[M+1])}o=p,b?o.stroke(g):o.stroke(),o.setLineDash&&o.setLineDash([])},Eo.drawEdgeTrianglePath=function(c,o,u){o.fillStyle=o.strokeStyle;for(var d=c.pstyle("width").pfValue,f=0;f+1<u.length;f+=2){var p=[u[f+2]-u[f],u[f+3]-u[f+1]],g=Math.sqrt(p[0]*p[0]+p[1]*p[1]),y=[p[1]/g,-p[0]/g],b=[y[0]*d/2,y[1]*d/2];o.beginPath(),o.moveTo(u[f]-b[0],u[f+1]-b[1]),o.lineTo(u[f]+b[0],u[f+1]+b[1]),o.lineTo(u[f+2],u[f+3]),o.closePath(),o.fill()}},Eo.drawArrowheads=function(c,o,u){var d=o._private.rscratch,f="haystack"===d.edgeType;f||this.drawArrowhead(c,o,"source",d.arrowStartX,d.arrowStartY,d.srcArrowAngle,u),this.drawArrowhead(c,o,"mid-target",d.midX,d.midY,d.midtgtArrowAngle,u),this.drawArrowhead(c,o,"mid-source",d.midX,d.midY,d.midsrcArrowAngle,u),f||this.drawArrowhead(c,o,"target",d.arrowEndX,d.arrowEndY,d.tgtArrowAngle,u)},Eo.drawArrowhead=function(c,o,u,d,f,p,g){if(!(isNaN(d)||null==d||isNaN(f)||null==f||isNaN(p)||null==p)){var y=this,b=o.pstyle(u+"-arrow-shape").value;if("none"!==b){var _="hollow"===o.pstyle(u+"-arrow-fill").value?"both":"filled",w=o.pstyle(u+"-arrow-fill").value,x=o.pstyle("width").pfValue,E=o.pstyle("opacity").value;void 0===g&&(g=E);var S=c.globalCompositeOperation;(1!==g||"hollow"===w)&&(c.globalCompositeOperation="destination-out",y.colorFillStyle(c,255,255,255,1),y.colorStrokeStyle(c,255,255,255,1),y.drawArrowShape(o,c,_,x,b,d,f,p),c.globalCompositeOperation=S);var M=o.pstyle(u+"-arrow-color").value;y.colorFillStyle(c,M[0],M[1],M[2],g),y.colorStrokeStyle(c,M[0],M[1],M[2],g),y.drawArrowShape(o,c,w,x,b,d,f,p)}}},Eo.drawArrowShape=function(c,o,u,d,f,p,g,y){var x,b=this,_=this.usePaths()&&"triangle-cross"!==f,w=!1,E=o,S={x:p,y:g},M=c.pstyle("arrow-scale").value,A=this.getArrowWidth(d,M),I=b.arrowShapes[f];if(_){var R=b.arrowPathCache=b.arrowPathCache||[],F=el(f),L=R[F];null!=L?(x=o=L,w=!0):(x=o=new Path2D,R[F]=x)}w||(o.beginPath&&o.beginPath(),_?I.draw(o,1,0,{x:0,y:0},1):I.draw(o,A,y,S,d),o.closePath&&o.closePath()),o=E,_&&(o.translate(p,g),o.rotate(y),o.scale(A,A)),("filled"===u||"both"===u)&&(_?o.fill(x):o.fill()),("hollow"===u||"both"===u)&&(o.lineWidth=(I.matchEdgeWidth?d:1)/(_?A:1),o.lineJoin="miter",_?o.stroke(x):o.stroke()),_&&(o.scale(1/A,1/A),o.rotate(-y),o.translate(-p,-g))};var Tg={safeDrawImage:function(c,o,u,d,f,p,g,y,b,_){if(!(f<=0||p<=0||b<=0||_<=0))try{c.drawImage(o,u,d,f,p,g,y,b,_)}catch(w){ei(w)}},drawInscribedImage:function(c,o,u,d,f){var p=this,g=u.position(),y=g.x,b=g.y,_=u.cy().style(),w=_.getIndexedStyle.bind(_),x=w(u,"background-fit","value",d),E=w(u,"background-repeat","value",d),S=u.width(),M=u.height(),A=2*u.padding(),I=S+("inner"===w(u,"background-width-relative-to","value",d)?0:A),R=M+("inner"===w(u,"background-height-relative-to","value",d)?0:A),F=u._private.rscratch,z="node"===w(u,"background-clip","value",d),K=w(u,"background-image-opacity","value",d)*f,Z=w(u,"background-image-smoothing","value",d),H=o.width||o.cachedW,Y=o.height||o.cachedH;(null==H||null==Y)&&(document.body.appendChild(o),H=o.cachedW=o.width||o.offsetWidth,Y=o.cachedH=o.height||o.offsetHeight,document.body.removeChild(o));var U=H,X=Y;if("auto"!==w(u,"background-width","value",d)&&(U="%"===w(u,"background-width","units",d)?w(u,"background-width","pfValue",d)*I:w(u,"background-width","pfValue",d)),"auto"!==w(u,"background-height","value",d)&&(X="%"===w(u,"background-height","units",d)?w(u,"background-height","pfValue",d)*R:w(u,"background-height","pfValue",d)),0!==U&&0!==X){if("contain"===x)U*=J=Math.min(I/U,R/X),X*=J;else if("cover"===x){var J;U*=J=Math.max(I/U,R/X),X*=J}var W=y-I/2,oe=w(u,"background-position-x","units",d),Q=w(u,"background-position-x","pfValue",d);W+="%"===oe?(I-U)*Q:Q;var me=w(u,"background-offset-x","units",d),ae=w(u,"background-offset-x","pfValue",d);W+="%"===me?(I-U)*ae:ae;var ce=b-R/2,be=w(u,"background-position-y","units",d),Se=w(u,"background-position-y","pfValue",d);ce+="%"===be?(R-X)*Se:Se;var Oe=w(u,"background-offset-y","units",d),De=w(u,"background-offset-y","pfValue",d);ce+="%"===Oe?(R-X)*De:De,F.pathCache&&(W-=y,ce-=b,y=0,b=0);var Ie=c.globalAlpha;c.globalAlpha=K;var We=p.getImgSmoothing(c),Ye=!1;if("no"===Z&&We?(p.setImgSmoothing(c,!1),Ye=!0):"yes"===Z&&!We&&(p.setImgSmoothing(c,!0),Ye=!0),"no-repeat"===E)z&&(c.save(),F.pathCache?c.clip(F.pathCache):(p.nodeShapes[p.getNodeShape(u)].draw(c,y,b,I,R),c.clip())),p.safeDrawImage(c,o,0,0,H,Y,W,ce,U,X),z&&c.restore();else{var Ge=c.createPattern(o,E);c.fillStyle=Ge,p.nodeShapes[p.getNodeShape(u)].draw(c,y,b,I,R),c.translate(W,ce),c.fill(),c.translate(-W,-ce)}c.globalAlpha=Ie,Ye&&p.setImgSmoothing(c,We)}}},Aa={};function Qy(c,o,u,d,f){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;c.beginPath(),c.moveTo(o+p,u),c.lineTo(o+d-p,u),c.quadraticCurveTo(o+d,u,o+d,u+p),c.lineTo(o+d,u+f-p),c.quadraticCurveTo(o+d,u+f,o+d-p,u+f),c.lineTo(o+p,u+f),c.quadraticCurveTo(o,u+f,o,u+f-p),c.lineTo(o,u+p),c.quadraticCurveTo(o,u,o+p,u),c.closePath(),c.fill()}Aa.eleTextBiggerThanMin=function(c,o){if(!o){var u=c.cy().zoom(),d=this.getPixelRatio(),f=Math.ceil(Kv(u*d));o=Math.pow(2,f)}return!(c.pstyle("font-size").pfValue*o<c.pstyle("min-zoomed-font-size").pfValue)},Aa.drawElementText=function(c,o,u,d,f){var p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this;if(null==d){if(p&&!g.eleTextBiggerThanMin(o))return}else if(!1===d)return;if(o.isNode()){var y=o.pstyle("label");if(!y||!y.value)return;var b=g.getLabelJustification(o);c.textAlign=b,c.textBaseline="bottom"}else{var _=o.element()._private.rscratch.badLine,w=o.pstyle("label"),x=o.pstyle("source-label"),E=o.pstyle("target-label");if(_||(!w||!w.value)&&(!x||!x.value)&&(!E||!E.value))return;c.textAlign="center",c.textBaseline="bottom"}var M,S=!u;u&&c.translate(-(M=u).x1,-M.y1),null==f?(g.drawText(c,o,null,S,p),o.isEdge()&&(g.drawText(c,o,"source",S,p),g.drawText(c,o,"target",S,p))):g.drawText(c,o,f,S,p),u&&c.translate(M.x1,M.y1)},Aa.getFontCache=function(c){var o;this.fontCaches=this.fontCaches||[];for(var u=0;u<this.fontCaches.length;u++)if((o=this.fontCaches[u]).context===c)return o;return this.fontCaches.push(o={context:c}),o},Aa.setupTextStyle=function(c,o){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=o.pstyle("font-style").strValue,f=o.pstyle("font-size").pfValue+"px",p=o.pstyle("font-family").strValue,g=o.pstyle("font-weight").strValue,y=u?o.effectiveOpacity()*o.pstyle("text-opacity").value:1,b=o.pstyle("text-outline-opacity").value*y,_=o.pstyle("color").value,w=o.pstyle("text-outline-color").value;c.font=d+" "+g+" "+f+" "+p,c.lineJoin="round",this.colorFillStyle(c,_[0],_[1],_[2],y),this.colorStrokeStyle(c,w[0],w[1],w[2],b)},Aa.getTextAngle=function(c,o){var f=c._private.rscratch,g=c.pstyle((o?o+"-":"")+"text-rotation"),y=ui(f,"labelAngle",o);return"autorotate"===g.strValue?c.isEdge()?y:0:"none"===g.strValue?0:g.pfValue},Aa.drawText=function(c,o,u){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=o._private,g=p.rscratch,y=f?o.effectiveOpacity():1;if(!f||0!==y&&0!==o.pstyle("text-opacity").value){"main"===u&&(u=null);var w,x,b=ui(g,"labelX",u),_=ui(g,"labelY",u),E=this.getLabelText(o,u);if(null!=E&&""!==E&&!isNaN(b)&&!isNaN(_)){this.setupTextStyle(c,o,f);var K,S=u?u+"-":"",M=ui(g,"labelWidth",u),A=ui(g,"labelHeight",u),I=o.pstyle(S+"text-margin-x").pfValue,R=o.pstyle(S+"text-margin-y").pfValue,F=o.isEdge(),L=o.pstyle("text-halign").value,z=o.pstyle("text-valign").value;switch(F&&(L="center",z="center"),b+=I,_+=R,0!==(K=d?this.getTextAngle(o,u):0)&&(c.translate(w=b,x=_),c.rotate(K),b=0,_=0),z){case"top":break;case"center":_+=A/2;break;case"bottom":_+=A}var Z=o.pstyle("text-background-opacity").value,H=o.pstyle("text-border-opacity").value,Y=o.pstyle("text-border-width").pfValue,U=o.pstyle("text-background-padding").pfValue;if(Z>0||Y>0&&H>0){var X=b-U;switch(L){case"left":X-=M;break;case"center":X-=M/2}var J=_-A-U,W=M+2*U,oe=A+2*U;if(Z>0){var Q=c.fillStyle,me=o.pstyle("text-background-color").value;c.fillStyle="rgba("+me[0]+","+me[1]+","+me[2]+","+Z*y+")";var ae=o.pstyle("text-background-shape").strValue;0===ae.indexOf("round")?Qy(c,X,J,W,oe,2):c.fillRect(X,J,W,oe),c.fillStyle=Q}if(Y>0&&H>0){var ce=c.strokeStyle,be=c.lineWidth,Se=o.pstyle("text-border-color").value,Oe=o.pstyle("text-border-style").value;if(c.strokeStyle="rgba("+Se[0]+","+Se[1]+","+Se[2]+","+H*y+")",c.lineWidth=Y,c.setLineDash)switch(Oe){case"dotted":c.setLineDash([1,1]);break;case"dashed":c.setLineDash([4,2]);break;case"double":c.lineWidth=Y/4,c.setLineDash([]);break;case"solid":c.setLineDash([])}if(c.strokeRect(X,J,W,oe),"double"===Oe){var De=Y/2;c.strokeRect(X+De,J+De,W-2*De,oe-2*De)}c.setLineDash&&c.setLineDash([]),c.lineWidth=be,c.strokeStyle=ce}}var Ie=2*o.pstyle("text-outline-width").pfValue;if(Ie>0&&(c.lineWidth=Ie),"wrap"===o.pstyle("text-wrap").value){var We=ui(g,"labelWrapCachedLines",u),Ye=ui(g,"labelLineHeight",u),Ge=M/2,Re=this.getLabelJustification(o);switch("auto"===Re||("left"===L?"left"===Re?b+=-M:"center"===Re&&(b+=-Ge):"center"===L?"left"===Re?b+=-Ge:"right"===Re&&(b+=Ge):"right"===L&&("center"===Re?b+=Ge:"right"===Re&&(b+=M))),z){case"top":case"center":case"bottom":_-=(We.length-1)*Ye}for(var ye=0;ye<We.length;ye++)Ie>0&&c.strokeText(We[ye],b,_),c.fillText(We[ye],b,_),_+=Ye}else Ie>0&&c.strokeText(E,b,_),c.fillText(E,b,_);0!==K&&(c.rotate(-K),c.translate(-w,-x))}}};var oc={drawNode:function(c,o,u){var y,b,d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,_=o._private,w=_.rscratch,x=o.position();if(Fe(x.x)&&Fe(x.y)&&(!p||o.visible())){var M,R,E=p?o.effectiveOpacity():1,S=g.usePaths(),A=!1,I=o.padding();y=o.width()+2*I,b=o.height()+2*I,u&&c.translate(-(R=u).x1,-R.y1);for(var F=o.pstyle("background-image"),L=F.value,z=new Array(L.length),K=new Array(L.length),Z=0,H=0;H<L.length;H++){var Y=L[H],U=z[H]=null!=Y&&"none"!==Y;if(U){var X=o.cy().style().getIndexedStyle(o,"background-image-crossorigin","value",H);Z++,K[H]=g.getCachedImage(Y,X,function(){_.backgroundTimestamp=Date.now(),o.emitAndNotify("background")})}}var J=o.pstyle("background-blacken").value,W=o.pstyle("border-width").pfValue,oe=o.pstyle("background-opacity").value*E,Q=o.pstyle("border-color").value,me=o.pstyle("border-style").value,ae=o.pstyle("border-opacity").value*E;c.lineJoin="miter";var ce=function(){var Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe;g.eleFillStyle(c,o,Dt)},be=function(){var Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae;g.colorStrokeStyle(c,Q[0],Q[1],Q[2],Dt)},Se=o.pstyle("shape").strValue,Oe=o.pstyle("shape-polygon-points").pfValue;if(S){c.translate(x.x,x.y);var De=g.nodePathCache=g.nodePathCache||[],Ie=zv("polygon"===Se?Se+","+Oe.join(","):Se,""+b,""+y),We=De[Ie];null!=We?(A=!0,w.pathCache=M=We):(M=new Path2D,De[Ie]=w.pathCache=M)}var Ye=function(){if(!A){var Dt=x;S&&(Dt={x:0,y:0}),g.nodeShapes[g.getNodeShape(o)].draw(M||c,Dt.x,Dt.y,y,b)}S?c.fill(M):c.fill()},Ge=function(){for(var Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,Vt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],jn=_.backgrounding,xn=0,en=0;en<K.length;en++){var lt=o.cy().style().getIndexedStyle(o,"background-image-containment","value",en);Vt&&"over"===lt||!Vt&&"inside"===lt?xn++:z[en]&&K[en].complete&&!K[en].error&&(xn++,g.drawInscribedImage(c,K[en],o,en,Dt))}_.backgrounding=xn!==Z,jn!==_.backgrounding&&o.updateStyle(!1)},Re=function(){var Dt=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;g.hasPie(o)&&(g.drawPie(c,o,Vt),Dt&&(S||g.nodeShapes[g.getNodeShape(o)].draw(c,x.x,x.y,y,b)))},ye=function(){var Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,Vt=(J>0?J:-J)*Dt,jn=J>0?0:255;0!==J&&(g.colorFillStyle(c,jn,jn,jn,Vt),S?c.fill(M):c.fill())},qe=function(){if(W>0){if(c.lineWidth=W,c.lineCap="butt",c.setLineDash)switch(me){case"dotted":c.setLineDash([1,1]);break;case"dashed":c.setLineDash([4,2]);break;case"solid":case"double":c.setLineDash([])}if(S?c.stroke(M):c.stroke(),"double"===me){c.lineWidth=W/3;var Dt=c.globalCompositeOperation;c.globalCompositeOperation="destination-out",S?c.stroke(M):c.stroke(),c.globalCompositeOperation=Dt}c.setLineDash&&c.setLineDash([])}},Je=function(){f&&g.drawNodeOverlay(c,o,x,y,b)},nt=function(){f&&g.drawNodeUnderlay(c,o,x,y,b)},gt=function(){g.drawElementText(c,o,null,d)},nn="yes"===o.pstyle("ghost").value;if(nn){var vn=o.pstyle("ghost-offset-x").pfValue,wt=o.pstyle("ghost-offset-y").pfValue,mt=o.pstyle("ghost-opacity").value,Ut=mt*E;c.translate(vn,wt),ce(mt*oe),Ye(),Ge(Ut,!0),be(mt*ae),qe(),Re(0!==J||0!==W),Ge(Ut,!1),ye(Ut),c.translate(-vn,-wt)}S&&c.translate(-x.x,-x.y),nt(),S&&c.translate(x.x,x.y),ce(),Ye(),Ge(E,!0),be(),qe(),Re(0!==J||0!==W),Ge(E,!1),ye(),S&&c.translate(-x.x,-x.y),gt(),Je(),u&&c.translate(R.x1,R.y1)}}},gl=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(u,d,f,p,g){if(d.visible()){var b=d.pstyle("".concat(o,"-padding")).pfValue,_=d.pstyle("".concat(o,"-opacity")).value,w=d.pstyle("".concat(o,"-color")).value,x=d.pstyle("".concat(o,"-shape")).value;if(_>0){if(f=f||d.position(),null==p||null==g){var E=d.padding();p=d.width()+2*E,g=d.height()+2*E}this.colorFillStyle(u,w[0],w[1],w[2],_),this.nodeShapes[x].draw(u,f.x,f.y,p+2*b,g+2*b),u.fill()}}}};oc.drawNodeOverlay=gl("overlay"),oc.drawNodeUnderlay=gl("underlay"),oc.hasPie=function(c){return(c=c[0])._private.hasPie},oc.drawPie=function(c,o,u,d){o=o[0],d=d||o.position();var f=o.cy().style(),p=o.pstyle("pie-size"),g=d.x,y=d.y,b=o.width(),_=o.height(),w=Math.min(b,_)/2,x=0;this.usePaths()&&(g=0,y=0),"%"===p.units?w*=p.pfValue:void 0!==p.pfValue&&(w=p.pfValue/2);for(var S=1;S<=f.pieBackgroundN;S++){var M=o.pstyle("pie-"+S+"-background-size").value,A=o.pstyle("pie-"+S+"-background-color").value,I=o.pstyle("pie-"+S+"-background-opacity").value*u,R=M/100;R+x>1&&(R=1-x);var F=1.5*Math.PI+2*Math.PI*x,z=F+2*Math.PI*R;0===M||x>=1||x+R>1||(c.beginPath(),c.moveTo(g,y),c.arc(g,y,w,F,z),c.closePath(),this.colorFillStyle(c,A[0],A[1],A[2],I),c.fill(),x+=R)}};for(var Ks={getPixelRatio:function(){var c=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(c.backingStorePixelRatio||c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1)},paintCache:function(c){for(var d,o=this.paintCaches=this.paintCaches||[],u=!0,f=0;f<o.length;f++)if((d=o[f]).context===c){u=!1;break}return u&&o.push(d={context:c}),d},createGradientStyleFor:function(c,o,u,d,f){var p,g=this.usePaths(),y=u.pstyle(o+"-gradient-stop-colors").value,b=u.pstyle(o+"-gradient-stop-positions").pfValue;if("radial-gradient"===d)if(u.isEdge()){var _=u.sourceEndpoint(),w=u.targetEndpoint(),x=u.midpoint(),E=Kn(_,x),S=Kn(w,x);p=c.createRadialGradient(x.x,x.y,0,x.x,x.y,Math.max(E,S))}else{var M=g?{x:0,y:0}:u.position(),A=u.paddedWidth(),I=u.paddedHeight();p=c.createRadialGradient(M.x,M.y,0,M.x,M.y,Math.max(A,I))}else if(u.isEdge()){var R=u.sourceEndpoint(),F=u.targetEndpoint();p=c.createLinearGradient(R.x,R.y,F.x,F.y)}else{var L=g?{x:0,y:0}:u.position(),Z=u.paddedWidth()/2,H=u.paddedHeight()/2;switch(u.pstyle("background-gradient-direction").value){case"to-bottom":p=c.createLinearGradient(L.x,L.y-H,L.x,L.y+H);break;case"to-top":p=c.createLinearGradient(L.x,L.y+H,L.x,L.y-H);break;case"to-left":p=c.createLinearGradient(L.x+Z,L.y,L.x-Z,L.y);break;case"to-right":p=c.createLinearGradient(L.x-Z,L.y,L.x+Z,L.y);break;case"to-bottom-right":case"to-right-bottom":p=c.createLinearGradient(L.x-Z,L.y-H,L.x+Z,L.y+H);break;case"to-top-right":case"to-right-top":p=c.createLinearGradient(L.x-Z,L.y+H,L.x+Z,L.y-H);break;case"to-bottom-left":case"to-left-bottom":p=c.createLinearGradient(L.x+Z,L.y-H,L.x-Z,L.y+H);break;case"to-top-left":case"to-left-top":p=c.createLinearGradient(L.x+Z,L.y+H,L.x-Z,L.y-H)}}if(!p)return null;for(var U=b.length===y.length,X=y.length,J=0;J<X;J++)p.addColorStop(U?b[J]:J/(X-1),"rgba("+y[J][0]+","+y[J][1]+","+y[J][2]+","+f+")");return p},gradientFillStyle:function(c,o,u,d){var f=this.createGradientStyleFor(c,"background",o,u,d);if(!f)return null;c.fillStyle=f},colorFillStyle:function(c,o,u,d,f){c.fillStyle="rgba("+o+","+u+","+d+","+f+")"},eleFillStyle:function(c,o,u){var d=o.pstyle("background-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientFillStyle(c,o,d,u);else{var f=o.pstyle("background-color").value;this.colorFillStyle(c,f[0],f[1],f[2],u)}},gradientStrokeStyle:function(c,o,u,d){var f=this.createGradientStyleFor(c,"line",o,u,d);if(!f)return null;c.strokeStyle=f},colorStrokeStyle:function(c,o,u,d,f){c.strokeStyle="rgba("+o+","+u+","+d+","+f+")"},eleStrokeStyle:function(c,o,u){var d=o.pstyle("line-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientStrokeStyle(c,o,d,u);else{var f=o.pstyle("line-color").value;this.colorStrokeStyle(c,f[0],f[1],f[2],u)}},matchCanvasSize:function(c){var o=this,u=o.data,d=o.findContainerClientCoords(),f=d[2],p=d[3],g=o.getPixelRatio();(c===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE]||c===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG])&&(g=o.motionBlurPxRatio);var w,b=f*g,_=p*g;if(b!==o.canvasWidth||_!==o.canvasHeight){o.fontCaches=null;var x=u.canvasContainer;x.style.width=f+"px",x.style.height=p+"px";for(var E=0;E<o.CANVAS_LAYERS;E++)(w=u.canvases[E]).width=b,w.height=_,w.style.width=f+"px",w.style.height=p+"px";for(E=0;E<o.BUFFER_COUNT;E++)(w=u.bufferCanvases[E]).width=b,w.height=_,w.style.width=f+"px",w.style.height=p+"px";o.textureMult=1,g<=1&&(w=u.bufferCanvases[o.TEXTURE_BUFFER],o.textureMult=2,w.width=b*o.textureMult,w.height=_*o.textureMult),o.canvasWidth=b,o.canvasHeight=_}},renderTo:function(c,o,u,d){this.render({forcedContext:c,forcedZoom:o,forcedPan:u,drawAllLayers:!0,forcedPxRatio:d})},render:function(c){var o=(c=c||Gv()).forcedContext,u=c.drawAllLayers,d=c.drawOnlyNodeLayer,f=c.forcedZoom,p=c.forcedPan,g=this,y=void 0===c.forcedPxRatio?this.getPixelRatio():c.forcedPxRatio,b=g.cy,_=g.data,w=_.canvasNeedsRedraw,x=g.textureOnViewport&&!o&&(g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming),E=void 0!==c.motionBlur?c.motionBlur:g.motionBlur,S=g.motionBlurPxRatio,M=b.hasCompoundNodes(),A=g.hoverData.draggingEles,R=E=E&&!o&&g.motionBlurEnabled&&!(g.hoverData.selecting||g.touchData.selecting);o||(g.prevPxRatio!==y&&(g.invalidateContainerClientCoordsCache(),g.matchCanvasSize(g.container),g.redrawHint("eles",!0),g.redrawHint("drag",!0)),g.prevPxRatio=y),!o&&g.motionBlurTimeout&&clearTimeout(g.motionBlurTimeout),E&&(null==g.mbFrames&&(g.mbFrames=0),g.mbFrames++,g.mbFrames<3&&(R=!1),g.mbFrames>g.minMbLowQualFrames&&(g.motionBlurPxRatio=g.mbPxRBlurry)),g.clearingMotionBlur&&(g.motionBlurPxRatio=1),g.textureDrawLastFrame&&!x&&(w[g.NODE]=!0,w[g.SELECT_BOX]=!0);var F=b.style(),L=b.zoom(),z=void 0!==f?f:L,K=b.pan(),Z={x:K.x,y:K.y},H={zoom:L,pan:{x:K.x,y:K.y}},Y=g.prevViewport;!(void 0===Y||H.zoom!==Y.zoom||H.pan.x!==Y.pan.x||H.pan.y!==Y.pan.y)&&!(A&&!M)&&(g.motionBlurPxRatio=1),p&&(Z=p),z*=y,Z.x*=y,Z.y*=y;var X=g.getCachedZSortedEles();function J(wt,mt,Ut,Ft,Dt){var Vt=wt.globalCompositeOperation;wt.globalCompositeOperation="destination-out",g.colorFillStyle(wt,255,255,255,g.motionBlurTransparency),wt.fillRect(mt,Ut,Ft,Dt),wt.globalCompositeOperation=Vt}function W(wt,mt){var Ut,Ft,Dt,Vt;g.clearingMotionBlur||wt!==_.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]&&wt!==_.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]?(Ut=Z,Ft=z,Dt=g.canvasWidth,Vt=g.canvasHeight):(Ut={x:K.x*S,y:K.y*S},Ft=L*S,Dt=g.canvasWidth*S,Vt=g.canvasHeight*S),wt.setTransform(1,0,0,1,0,0),"motionBlur"===mt?J(wt,0,0,Dt,Vt):!o&&(void 0===mt||mt)&&wt.clearRect(0,0,Dt,Vt),u||(wt.translate(Ut.x,Ut.y),wt.scale(Ft,Ft)),p&&wt.translate(p.x,p.y),f&&wt.scale(f,f)}if(x||(g.textureDrawLastFrame=!1),x){if(g.textureDrawLastFrame=!0,!g.textureCache){g.textureCache={},g.textureCache.bb=b.mutableElements().boundingBox(),g.textureCache.texture=g.data.bufferCanvases[g.TEXTURE_BUFFER];var oe=g.data.bufferContexts[g.TEXTURE_BUFFER];oe.setTransform(1,0,0,1,0,0),oe.clearRect(0,0,g.canvasWidth*g.textureMult,g.canvasHeight*g.textureMult),g.render({forcedContext:oe,drawOnlyNodeLayer:!0,forcedPxRatio:y*g.textureMult}),(H=g.textureCache.viewport={zoom:b.zoom(),pan:b.pan(),width:g.canvasWidth,height:g.canvasHeight}).mpan={x:(0-H.pan.x)/H.zoom,y:(0-H.pan.y)/H.zoom}}w[g.DRAG]=!1,w[g.NODE]=!1;var me=g.textureCache.texture;H=g.textureCache.viewport,(Q=_.contexts[g.NODE]).setTransform(1,0,0,1,0,0),E?J(Q,0,0,H.width,H.height):Q.clearRect(0,0,H.width,H.height);var ae=F.core("outside-texture-bg-color").value,ce=F.core("outside-texture-bg-opacity").value;g.colorFillStyle(Q,ae[0],ae[1],ae[2],ce),Q.fillRect(0,0,H.width,H.height),L=b.zoom(),W(Q,!1),Q.clearRect(H.mpan.x,H.mpan.y,H.width/H.zoom/y,H.height/H.zoom/y),Q.drawImage(me,H.mpan.x,H.mpan.y,H.width/H.zoom/y,H.height/H.zoom/y)}else g.textureOnViewport&&!o&&(g.textureCache=null);var be=b.extent(),Se=g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming||g.hoverData.draggingEles||g.cy.animated(),Oe=g.hideEdgesOnViewport&&Se,De=[];if(De[g.NODE]=!w[g.NODE]&&E&&!g.clearedForMotionBlur[g.NODE]||g.clearingMotionBlur,De[g.NODE]&&(g.clearedForMotionBlur[g.NODE]=!0),De[g.DRAG]=!w[g.DRAG]&&E&&!g.clearedForMotionBlur[g.DRAG]||g.clearingMotionBlur,De[g.DRAG]&&(g.clearedForMotionBlur[g.DRAG]=!0),w[g.NODE]||u||d||De[g.NODE]){var Ie=E&&!De[g.NODE]&&1!==S;W(Q=o||(Ie?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]:_.contexts[g.NODE]),E&&!Ie?"motionBlur":void 0),Oe?g.drawCachedNodes(Q,X.nondrag,y,be):g.drawLayeredElements(Q,X.nondrag,y,be),g.debug&&g.drawDebugPoints(Q,X.nondrag),!u&&!E&&(w[g.NODE]=!1)}if(!d&&(w[g.DRAG]||u||De[g.DRAG])&&(Ie=E&&!De[g.DRAG]&&1!==S,W(Q=o||(Ie?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]:_.contexts[g.DRAG]),E&&!Ie?"motionBlur":void 0),Oe?g.drawCachedNodes(Q,X.drag,y,be):g.drawCachedElements(Q,X.drag,y,be),g.debug&&g.drawDebugPoints(Q,X.drag),!u&&!E&&(w[g.DRAG]=!1)),g.showFps||!d&&w[g.SELECT_BOX]&&!u){var Q;if(W(Q=o||_.contexts[g.SELECT_BOX]),1==g.selection[4]&&(g.hoverData.selecting||g.touchData.selecting)){L=g.cy.zoom();var Ye=F.core("selection-box-border-width").value/L;Q.lineWidth=Ye,Q.fillStyle="rgba("+F.core("selection-box-color").value[0]+","+F.core("selection-box-color").value[1]+","+F.core("selection-box-color").value[2]+","+F.core("selection-box-opacity").value+")",Q.fillRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]),Ye>0&&(Q.strokeStyle="rgba("+F.core("selection-box-border-color").value[0]+","+F.core("selection-box-border-color").value[1]+","+F.core("selection-box-border-color").value[2]+","+F.core("selection-box-opacity").value+")",Q.strokeRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]))}if(_.bgActivePosistion&&!g.hoverData.selecting){L=g.cy.zoom();var Ge=_.bgActivePosistion;Q.fillStyle="rgba("+F.core("active-bg-color").value[0]+","+F.core("active-bg-color").value[1]+","+F.core("active-bg-color").value[2]+","+F.core("active-bg-opacity").value+")",Q.beginPath(),Q.arc(Ge.x,Ge.y,F.core("active-bg-size").pfValue/L,0,2*Math.PI),Q.fill()}var Re=g.lastRedrawTime;if(g.showFps&&Re){Re=Math.round(Re);var ye=Math.round(1e3/Re);Q.setTransform(1,0,0,1,0,0),Q.fillStyle="rgba(255, 0, 0, 0.75)",Q.strokeStyle="rgba(255, 0, 0, 0.75)",Q.lineWidth=1,Q.fillText("1 frame = "+Re+" ms = "+ye+" fps",0,20),Q.strokeRect(0,30,250,20),Q.fillRect(0,30,250*Math.min(ye/60,1),20)}u||(w[g.SELECT_BOX]=!1)}if(E&&1!==S){var gt=_.contexts[g.DRAG],nn=g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_DRAG],vn=function(mt,Ut,Ft){mt.setTransform(1,0,0,1,0,0),Ft||!R?mt.clearRect(0,0,g.canvasWidth,g.canvasHeight):J(mt,0,0,g.canvasWidth,g.canvasHeight),mt.drawImage(Ut,0,0,g.canvasWidth*S,g.canvasHeight*S,0,0,g.canvasWidth,g.canvasHeight)};(w[g.NODE]||De[g.NODE])&&(vn(_.contexts[g.NODE],g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_NODE],De[g.NODE]),w[g.NODE]=!1),(w[g.DRAG]||De[g.DRAG])&&(vn(gt,nn,De[g.DRAG]),w[g.DRAG]=!1)}g.prevViewport=H,g.clearingMotionBlur&&(g.clearingMotionBlur=!1,g.motionBlurCleared=!0,g.motionBlur=!0),E&&(g.motionBlurTimeout=setTimeout(function(){g.motionBlurTimeout=null,g.clearedForMotionBlur[g.NODE]=!1,g.clearedForMotionBlur[g.DRAG]=!1,g.motionBlur=!1,g.clearingMotionBlur=!x,g.mbFrames=0,w[g.NODE]=!0,w[g.DRAG]=!0,g.redraw()},100)),o||b.emit("render")}},So={drawPolygonPath:function(c,o,u,d,f,p){var g=d/2,y=f/2;c.beginPath&&c.beginPath(),c.moveTo(o+g*p[0],u+y*p[1]);for(var b=1;b<p.length/2;b++)c.lineTo(o+g*p[2*b],u+y*p[2*b+1]);c.closePath()},drawRoundPolygonPath:function(c,o,u,d,f,p){var g=d/2,y=f/2,b=Nh(d,f);c.beginPath&&c.beginPath();for(var _=0;_<p.length/4;_++){var x,w;w=0===_?p.length-2:4*_-2,x=4*_+2;var E=o+g*p[4*_],S=u+y*p[4*_+1],A=b/Math.tan(Math.acos(-p[w]*p[x]-p[w+1]*p[x+1])/2),I=E-A*p[w],R=S-A*p[w+1],F=E+A*p[x],L=S+A*p[x+1];0===_?c.moveTo(I,R):c.lineTo(I,R),c.arcTo(E,S,F,L,b)}c.closePath()},drawRoundRectanglePath:function(c,o,u,d,f){var p=d/2,g=f/2,y=Yc(d,f);c.beginPath&&c.beginPath(),c.moveTo(o,u-g),c.arcTo(o+p,u-g,o+p,u,y),c.arcTo(o+p,u+g,o,u+g,y),c.arcTo(o-p,u+g,o-p,u,y),c.arcTo(o-p,u-g,o,u-g,y),c.lineTo(o,u-g),c.closePath()},drawBottomRoundRectanglePath:function(c,o,u,d,f){var p=d/2,g=f/2,y=Yc(d,f);c.beginPath&&c.beginPath(),c.moveTo(o,u-g),c.lineTo(o+p,u-g),c.lineTo(o+p,u),c.arcTo(o+p,u+g,o,u+g,y),c.arcTo(o-p,u+g,o-p,u,y),c.lineTo(o-p,u-g),c.lineTo(o,u-g),c.closePath()},drawCutRectanglePath:function(c,o,u,d,f){var p=d/2,g=f/2;c.beginPath&&c.beginPath(),c.moveTo(o-p+8,u-g),c.lineTo(o+p-8,u-g),c.lineTo(o+p,u-g+8),c.lineTo(o+p,u+g-8),c.lineTo(o+p-8,u+g),c.lineTo(o-p+8,u+g),c.lineTo(o-p,u+g-8),c.lineTo(o-p,u-g+8),c.closePath()},drawBarrelPath:function(c,o,u,d,f){var p=d/2,g=f/2,y=o-p,b=o+p,_=u-g,w=u+g,x=Bh(d,f),E=x.widthOffset,S=x.heightOffset,M=x.ctrlPtOffsetPct*E;c.beginPath&&c.beginPath(),c.moveTo(y,_+S),c.lineTo(y,w-S),c.quadraticCurveTo(y+M,w,y+E,w),c.lineTo(b-E,w),c.quadraticCurveTo(b-M,w,b,w-S),c.lineTo(b,_+S),c.quadraticCurveTo(b-M,_,b-E,_),c.lineTo(y+E,_),c.quadraticCurveTo(y+M,_,y,_+S),c.closePath()}},Jy=Math.sin(0),Cf=Math.cos(0),yu={},ea={},kg=Math.PI/40,ml=0*Math.PI;ml<2*Math.PI;ml+=kg)yu[ml]=Math.sin(ml),ea[ml]=Math.cos(ml);So.drawEllipsePath=function(c,o,u,d,f){if(c.beginPath&&c.beginPath(),c.ellipse)c.ellipse(o,u,d/2,f/2,0,0,2*Math.PI);else for(var p,g,y=d/2,b=f/2,_=0*Math.PI;_<2*Math.PI;_+=kg)p=o-y*yu[_]*Jy+y*ea[_]*Cf,g=u+b*ea[_]*Jy+b*yu[_]*Cf,0===_?c.moveTo(p,g):c.lineTo(p,g);c.closePath()};var Od={};function Ig(c){var o=c.indexOf(",");return c.substr(o+1)}function ac(c,o,u){var d=function(){return o.toDataURL(u,c.quality)};switch(c.output){case"blob-promise":return new tu(function(f,p){try{o.toBlob(function(g){null!=g?f(g):p(new Error("`canvas.toBlob()` sent a null value in its callback"))},u,c.quality)}catch(g){p(g)}});case"blob":return function wx(c,o){for(var u=atob(c),d=new ArrayBuffer(u.length),f=new Uint8Array(d),p=0;p<u.length;p++)f[p]=u.charCodeAt(p);return new Blob([d],{type:o})}(Ig(d()),u);case"base64":return Ig(d());default:return d()}}Od.createBuffer=function(c,o){var u=document.createElement("canvas");return u.width=c,u.height=o,[u,u.getContext("2d")]},Od.bufferCanvasImage=function(c){var o=this.cy,d=o.mutableElements().boundingBox(),f=this.findContainerClientCoords(),p=c.full?Math.ceil(d.w):f[2],g=c.full?Math.ceil(d.h):f[3],y=Fe(c.maxWidth)||Fe(c.maxHeight),b=this.getPixelRatio(),_=1;if(void 0!==c.scale)p*=c.scale,g*=c.scale,_=c.scale;else if(y){var w=1/0,x=1/0;Fe(c.maxWidth)&&(w=_*c.maxWidth/p),Fe(c.maxHeight)&&(x=_*c.maxHeight/g),p*=_=Math.min(w,x),g*=_}y||(p*=b,g*=b,_*=b);var E=document.createElement("canvas");E.width=p,E.height=g,E.style.width=p+"px",E.style.height=g+"px";var S=E.getContext("2d");if(p>0&&g>0){S.clearRect(0,0,p,g),S.globalCompositeOperation="source-over";var M=this.getCachedZSortedEles();if(c.full)S.translate(-d.x1*_,-d.y1*_),S.scale(_,_),this.drawElements(S,M),S.scale(1/_,1/_),S.translate(d.x1*_,d.y1*_);else{var A=o.pan(),I={x:A.x*_,y:A.y*_};_*=o.zoom(),S.translate(I.x,I.y),S.scale(_,_),this.drawElements(S,M),S.scale(1/_,1/_),S.translate(-I.x,-I.y)}c.bg&&(S.globalCompositeOperation="destination-over",S.fillStyle=c.bg,S.rect(0,0,p,g),S.fill())}return E},Od.png=function(c){return ac(c,this.bufferCanvasImage(c),"image/png")},Od.jpg=function(c){return ac(c,this.bufferCanvasImage(c),"image/jpeg")};var Cx=t_,ci=t_.prototype;function t_(c){var o=this;o.data={canvases:new Array(ci.CANVAS_LAYERS),contexts:new Array(ci.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ci.CANVAS_LAYERS),bufferCanvases:new Array(ci.BUFFER_COUNT),bufferContexts:new Array(ci.CANVAS_LAYERS)};var u="-webkit-tap-highlight-color",d="rgba(0,0,0,0)";o.data.canvasContainer=document.createElement("div");var f=o.data.canvasContainer.style;o.data.canvasContainer.style[u]=d,f.position="relative",f.zIndex="0",f.overflow="hidden";var p=c.cy.container();p.appendChild(o.data.canvasContainer),p.style[u]=d;var g={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Ot&&Ot.userAgent.match(/msie|trident|edge/i)&&(g["-ms-touch-action"]="none",g["touch-action"]="none");for(var y=0;y<ci.CANVAS_LAYERS;y++){var b=o.data.canvases[y]=document.createElement("canvas");o.data.contexts[y]=b.getContext("2d"),Object.keys(g).forEach(function(Re){b.style[Re]=g[Re]}),b.style.position="absolute",b.setAttribute("data-id","layer"+y),b.style.zIndex=String(ci.CANVAS_LAYERS-y),o.data.canvasContainer.appendChild(b),o.data.canvasNeedsRedraw[y]=!1}for(o.data.topCanvas=o.data.canvases[0],o.data.canvases[ci.NODE].setAttribute("data-id","layer"+ci.NODE+"-node"),o.data.canvases[ci.SELECT_BOX].setAttribute("data-id","layer"+ci.SELECT_BOX+"-selectbox"),o.data.canvases[ci.DRAG].setAttribute("data-id","layer"+ci.DRAG+"-drag"),y=0;y<ci.BUFFER_COUNT;y++)o.data.bufferCanvases[y]=document.createElement("canvas"),o.data.bufferContexts[y]=o.data.bufferCanvases[y].getContext("2d"),o.data.bufferCanvases[y].style.position="absolute",o.data.bufferCanvases[y].setAttribute("data-id","buffer"+y),o.data.bufferCanvases[y].style.zIndex=String(-y-1),o.data.bufferCanvases[y].style.visibility="hidden";o.pathsEnabled=!0;var _=Wr(),x=function(ye){return{x:-ye.w/2,y:-ye.h/2}},K=function(ye){return ye.boundingBox(),ye[0]._private.bodyBounds},Z=function(ye){return ye.boundingBox(),ye[0]._private.labelBounds.main||_},H=function(ye){return ye.boundingBox(),ye[0]._private.labelBounds.source||_},Y=function(ye){return ye.boundingBox(),ye[0]._private.labelBounds.target||_},U=function(ye,qe){return qe},J=function(ye,qe,Je){var nt=ye?ye+"-":"";return{x:qe.x+Je.pstyle(nt+"text-margin-x").pfValue,y:qe.y+Je.pstyle(nt+"text-margin-y").pfValue}},W=function(ye,qe,Je){var nt=ye[0]._private.rscratch;return{x:nt[qe],y:nt[Je]}},Oe=o.data.eleTxrCache=new sc(o,{getKey:function(ye){return ye[0]._private.nodeKey},doesEleInvalidateKey:function(ye){var qe=ye[0]._private;return!(qe.oldBackgroundTimestamp===qe.backgroundTimestamp)},drawElement:function(ye,qe,Je,nt,gt){return o.drawElement(ye,qe,Je,!1,!1,gt)},getBoundingBox:K,getRotationPoint:function(ye){return function(ye){return{x:(ye.x1+ye.x2)/2,y:(ye.y1+ye.y2)/2}}(K(ye))},getRotationOffset:function(ye){return x(K(ye))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),De=o.data.lblTxrCache=new sc(o,{getKey:function(ye){return ye[0]._private.labelStyleKey},drawElement:function(ye,qe,Je,nt,gt){return o.drawElementText(ye,qe,Je,nt,"main",gt)},getBoundingBox:Z,getRotationPoint:function(ye){return J("",W(ye,"labelX","labelY"),ye)},getRotationOffset:function(ye){var qe=Z(ye),Je=x(Z(ye));if(ye.isNode()){switch(ye.pstyle("text-halign").value){case"left":Je.x=-qe.w;break;case"right":Je.x=0}switch(ye.pstyle("text-valign").value){case"top":Je.y=-qe.h;break;case"bottom":Je.y=0}}return Je},isVisible:U}),Ie=o.data.slbTxrCache=new sc(o,{getKey:function(ye){return ye[0]._private.sourceLabelStyleKey},drawElement:function(ye,qe,Je,nt,gt){return o.drawElementText(ye,qe,Je,nt,"source",gt)},getBoundingBox:H,getRotationPoint:function(ye){return J("source",W(ye,"sourceLabelX","sourceLabelY"),ye)},getRotationOffset:function(ye){return x(H(ye))},isVisible:U}),We=o.data.tlbTxrCache=new sc(o,{getKey:function(ye){return ye[0]._private.targetLabelStyleKey},drawElement:function(ye,qe,Je,nt,gt){return o.drawElementText(ye,qe,Je,nt,"target",gt)},getBoundingBox:Y,getRotationPoint:function(ye){return J("target",W(ye,"targetLabelX","targetLabelY"),ye)},getRotationOffset:function(ye){return x(Y(ye))},isVisible:U}),Ye=o.data.lyrTxrCache=new Gy(o);o.onUpdateEleCalcs(function(ye,qe){Oe.invalidateElements(qe),De.invalidateElements(qe),Ie.invalidateElements(qe),We.invalidateElements(qe),Ye.invalidateElements(qe);for(var Je=0;Je<qe.length;Je++){var nt=qe[Je]._private;nt.oldBackgroundTimestamp=nt.backgroundTimestamp}});var Ge=function(ye){for(var qe=0;qe<ye.length;qe++)Ye.enqueueElementRefinement(ye[qe].ele)};Oe.onDequeue(Ge),De.onDequeue(Ge),Ie.onDequeue(Ge),We.onDequeue(Ge)}ci.CANVAS_LAYERS=3,ci.SELECT_BOX=0,ci.DRAG=1,ci.NODE=2,ci.BUFFER_COUNT=3,ci.TEXTURE_BUFFER=0,ci.MOTIONBLUR_BUFFER_NODE=1,ci.MOTIONBLUR_BUFFER_DRAG=2,ci.redrawHint=function(c,o){var u=this;switch(c){case"eles":u.data.canvasNeedsRedraw[ci.NODE]=o;break;case"drag":u.data.canvasNeedsRedraw[ci.DRAG]=o;break;case"select":u.data.canvasNeedsRedraw[ci.SELECT_BOX]=o}};var Rg=typeof Path2D<"u";ci.path2dEnabled=function(c){if(void 0===c)return this.pathsEnabled;this.pathsEnabled=!!c},ci.usePaths=function(){return Rg&&this.pathsEnabled},ci.setImgSmoothing=function(c,o){null!=c.imageSmoothingEnabled?c.imageSmoothingEnabled=o:(c.webkitImageSmoothingEnabled=o,c.mozImageSmoothingEnabled=o,c.msImageSmoothingEnabled=o)},ci.getImgSmoothing=function(c){return null!=c.imageSmoothingEnabled?c.imageSmoothingEnabled:c.webkitImageSmoothingEnabled||c.mozImageSmoothingEnabled||c.msImageSmoothingEnabled},ci.makeOffscreenCanvas=function(c,o){var u;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":ot(OffscreenCanvas))?u=new OffscreenCanvas(c,o):((u=document.createElement("canvas")).width=c,u.height=o),u},[Wy,co,Eo,Tg,Aa,oc,Ks,So,Od,{nodeShapeImpl:function(c,o,u,d,f,p,g){switch(c){case"ellipse":return this.drawEllipsePath(o,u,d,f,p);case"polygon":return this.drawPolygonPath(o,u,d,f,p,g);case"round-polygon":return this.drawRoundPolygonPath(o,u,d,f,p,g);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(o,u,d,f,p);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(o,u,d,f,p);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(o,u,d,f,p);case"barrel":return this.drawBarrelPath(o,u,d,f,p)}}}].forEach(function(c){qt(ci,c)});var n_=[{type:"layout",extensions:TA},{type:"renderer",extensions:[{name:"null",impl:Ay},{name:"base",impl:Ly},{name:"canvas",impl:Cx}]}],i_={},Og={};function Dx(c,o,u){var d=u,f=function(Y){ei("Can not register `"+o+"` for `"+c+"` since `"+Y+"` already exists in the prototype and can not be overridden")};if("core"===c){if(wd.prototype[o])return f(o);wd.prototype[o]=u}else if("collection"===c){if(Br.prototype[o])return f(o);Br.prototype[o]=u}else if("layout"===c){for(var p=function(Y){this.options=Y,u.call(this,Y),it(this._private)||(this._private={}),this._private.cy=Y.cy,this._private.listeners=[],this.createEmitter()},g=p.prototype=Object.create(u.prototype),y=[],b=0;b<y.length;b++){var _=y[b];g[_]=g[_]||function(){return this}}g.start&&!g.run?g.run=function(){return this.start(),this}:!g.start&&g.run&&(g.start=function(){return this.run(),this});var w=u.prototype.stop;g.stop=function(){var H=this.options;if(H&&H.animate){var Y=this.animations;if(Y)for(var U=0;U<Y.length;U++)Y[U].stop()}return w?w.call(this):this.emit("layoutstop"),this},g.destroy||(g.destroy=function(){return this}),g.cy=function(){return this._private.cy};var x=function(Y){return Y._private.cy},E={addEventFields:function(Y,U){U.layout=Y,U.cy=x(Y),U.target=Y},bubble:function(){return!0},parent:function(Y){return x(Y)}};qt(g,{createEmitter:function(){return this._private.emitter=new Da(E,this),this},emitter:function(){return this._private.emitter},on:function(Y,U){return this.emitter().on(Y,U),this},one:function(Y,U){return this.emitter().one(Y,U),this},once:function(Y,U){return this.emitter().one(Y,U),this},removeListener:function(Y,U){return this.emitter().removeListener(Y,U),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Y,U){return this.emitter().emit(Y,U),this}}),Rn.eventAliasesOn(g),d=p}else if("renderer"===c&&"null"!==o&&"base"!==o){var S=r_("renderer","base"),M=S.prototype,A=u,I=u.prototype,R=function(){S.apply(this,arguments),A.apply(this,arguments)},F=R.prototype;for(var L in M){var z=M[L];if(null!=I[L])return f(L);F[L]=z}for(var Z in I)F[Z]=I[Z];M.clientFunctions.forEach(function(H){F[H]=F[H]||function(){Fi("Renderer does not implement `renderer."+H+"()` on its prototype")}}),d=R}else if("__proto__"===c||"constructor"===c||"prototype"===c)return Fi(c+" is an illegal type to be registered, possibly lead to prototype pollutions");return _a({map:i_,keys:[c,o],value:d})}function r_(c,o){return Nc({map:i_,keys:[c,o]})}function lc(c,o,u,d,f){return _a({map:Og,keys:[c,o,u,d],value:f})}function Ex(c,o,u,d){return Nc({map:Og,keys:[c,o,u,d]})}var vl=function(){return 2===arguments.length?r_.apply(null,arguments):3===arguments.length?Dx.apply(null,arguments):4===arguments.length?Ex.apply(null,arguments):5===arguments.length?lc.apply(null,arguments):void Fi("Invalid extension access syntax")};wd.prototype.extension=vl,n_.forEach(function(c){c.extensions.forEach(function(o){Dx(c.type,o.name,o.impl)})});var St=function c(){if(!(this instanceof c))return new c;this.length=0},cc=St.prototype;cc.instanceString=function(){return"stylesheet"},cc.selector=function(c){return this[this.length++]={selector:c,properties:[]},this},cc.css=function(c,o){var u=this.length-1;if(Te(c))this[u].properties.push({name:c,value:o});else if(it(c))for(var d=c,f=Object.keys(d),p=0;p<f.length;p++){var g=f[p],y=d[g];if(null!=y){var b=sr.properties[g]||sr.properties[es(g)];null!=b&&this[u].properties.push({name:b.name,value:y})}}return this},cc.style=cc.css,cc.generateStyle=function(c){var o=new sr(c);return this.appendToStyle(o)},cc.appendToStyle=function(c){for(var o=0;o<this.length;o++){var u=this[o],f=u.properties;c.selector(u.selector);for(var p=0;p<f.length;p++){var g=f[p];c.css(g.name,g.value)}}return c};var Mo=function(o){return void 0===o&&(o={}),it(o)?new wd(o):Te(o)?vl.apply(vl,arguments):void 0};Mo.use=function(c){var o=Array.prototype.slice.call(arguments,1);return o.unshift(Mo),c.apply(null,o),this},Mo.warnings=function(c){return kh(c)},Mo.version="3.23.0",Mo.stylesheet=Mo.Stylesheet=St,he.exports=Mo},5203:(he,ve,B)=>{he.exports=B(8732)},8732:function(he,ve){var B,j,ee;(function(){var se,ie,ne,re,ue,ge,Ce,Ne,st,ot,tt,Be,we,et,xt;ne=Math.floor,ot=Math.min,ie=function(xe,at){return xe<at?-1:xe>at?1:0},st=function(xe,at,ut,yt,Ht){var At;if(null==ut&&(ut=0),null==Ht&&(Ht=ie),ut<0)throw new Error("lo must be non-negative");for(null==yt&&(yt=xe.length);ut<yt;)Ht(at,xe[At=ne((ut+yt)/2)])<0?yt=At:ut=At+1;return[].splice.apply(xe,[ut,ut-ut].concat(at)),at},ge=function(xe,at,ut){return null==ut&&(ut=ie),xe.push(at),et(xe,0,xe.length-1,ut)},ue=function(xe,at){var ut,yt;return null==at&&(at=ie),ut=xe.pop(),xe.length?(yt=xe[0],xe[0]=ut,xt(xe,0,at)):yt=ut,yt},Ne=function(xe,at,ut){var yt;return null==ut&&(ut=ie),yt=xe[0],xe[0]=at,xt(xe,0,ut),yt},Ce=function(xe,at,ut){var yt;return null==ut&&(ut=ie),xe.length&&ut(xe[0],at)<0&&(at=(yt=[xe[0],at])[0],xe[0]=yt[1],xt(xe,0,ut)),at},re=function(xe,at){var yt,At,on,wn,ht;for(null==at&&(at=ie),wn=[],yt=0,At=(on=function(){ht=[];for(var _t=0,He=ne(xe.length/2);0<=He?_t<He:_t>He;0<=He?_t++:_t--)ht.push(_t);return ht}.apply(this).reverse()).length;yt<At;yt++)wn.push(xt(xe,on[yt],at));return wn},we=function(xe,at,ut){var yt;if(null==ut&&(ut=ie),-1!==(yt=xe.indexOf(at)))return et(xe,0,yt,ut),xt(xe,yt,ut)},tt=function(xe,at,ut){var Ht,At,Ot,on;if(null==ut&&(ut=ie),!(Ht=xe.slice(0,at)).length)return Ht;for(re(Ht,ut),At=0,Ot=(on=xe.slice(at)).length;At<Ot;At++)Ce(Ht,on[At],ut);return Ht.sort(ut).reverse()},Be=function(xe,at,ut){var yt,At,Ot,on,wn,ht,_t,He,Te;if(null==ut&&(ut=ie),10*at<=xe.length){if(!(Ot=xe.slice(0,at).sort(ut)).length)return Ot;for(At=Ot[Ot.length-1],on=0,ht=(_t=xe.slice(at)).length;on<ht;on++)ut(yt=_t[on],At)<0&&(st(Ot,yt,0,null,ut),Ot.pop(),At=Ot[Ot.length-1]);return Ot}for(re(xe,ut),Te=[],wn=0,He=ot(at,xe.length);0<=He?wn<He:wn>He;0<=He?++wn:--wn)Te.push(ue(xe,ut));return Te},et=function(xe,at,ut,yt){var Ht,At,Ot;for(null==yt&&(yt=ie),Ht=xe[ut];ut>at&&yt(Ht,At=xe[Ot=ut-1>>1])<0;)xe[ut]=At,ut=Ot;return xe[ut]=Ht},xt=function(xe,at,ut){var yt,Ht,At,Ot,on;for(null==ut&&(ut=ie),Ht=xe.length,on=at,At=xe[at],yt=2*at+1;yt<Ht;)(Ot=yt+1)<Ht&&!(ut(xe[yt],xe[Ot])<0)&&(yt=Ot),xe[at]=xe[yt],yt=2*(at=yt)+1;return xe[at]=At,et(xe,on,at,ut)},se=function(){function xe(at){this.cmp=at??ie,this.nodes=[]}return xe.push=ge,xe.pop=ue,xe.replace=Ne,xe.pushpop=Ce,xe.heapify=re,xe.updateItem=we,xe.nlargest=tt,xe.nsmallest=Be,xe.prototype.push=function(at){return ge(this.nodes,at,this.cmp)},xe.prototype.pop=function(){return ue(this.nodes,this.cmp)},xe.prototype.peek=function(){return this.nodes[0]},xe.prototype.contains=function(at){return-1!==this.nodes.indexOf(at)},xe.prototype.replace=function(at){return Ne(this.nodes,at,this.cmp)},xe.prototype.pushpop=function(at){return Ce(this.nodes,at,this.cmp)},xe.prototype.heapify=function(){return re(this.nodes,this.cmp)},xe.prototype.updateItem=function(at){return we(this.nodes,at,this.cmp)},xe.prototype.clear=function(){return this.nodes=[]},xe.prototype.empty=function(){return 0===this.nodes.length},xe.prototype.size=function(){return this.nodes.length},xe.prototype.clone=function(){var at;return(at=new xe).nodes=this.nodes.slice(0),at},xe.prototype.toArray=function(){return this.nodes.slice(0)},xe.prototype.insert=xe.prototype.push,xe.prototype.top=xe.prototype.peek,xe.prototype.front=xe.prototype.peek,xe.prototype.has=xe.prototype.contains,xe.prototype.copy=xe.prototype.clone,xe}(),j=[],void 0===(ee="function"==typeof(B=function(){return se})?B.apply(ve,j):B)||(he.exports=ee)}).call(this)},4994:(he,ve,B)=>{var j=B(4312),ee=B(6421),se=B(5764),ie=B(8685),ne=B(6676);function re(ue){var ge=-1,Ce=null==ue?0:ue.length;for(this.clear();++ge<Ce;){var Ne=ue[ge];this.set(Ne[0],Ne[1])}}re.prototype.clear=j,re.prototype.delete=ee,re.prototype.get=se,re.prototype.has=ie,re.prototype.set=ne,he.exports=re},9215:(he,ve,B)=>{var j=B(1840),ee=B(4378),se=B(4981),ie=B(7343),ne=B(8895);function re(ue){var ge=-1,Ce=null==ue?0:ue.length;for(this.clear();++ge<Ce;){var Ne=ue[ge];this.set(Ne[0],Ne[1])}}re.prototype.clear=j,re.prototype.delete=ee,re.prototype.get=se,re.prototype.has=ie,re.prototype.set=ne,he.exports=re},1501:(he,ve,B)=>{var se=B(3436)(B(2119),"Map");he.exports=se},9850:(he,ve,B)=>{var j=B(638),ee=B(1184),se=B(866),ie=B(3771),ne=B(1772);function re(ue){var ge=-1,Ce=null==ue?0:ue.length;for(this.clear();++ge<Ce;){var Ne=ue[ge];this.set(Ne[0],Ne[1])}}re.prototype.clear=j,re.prototype.delete=ee,re.prototype.get=se,re.prototype.has=ie,re.prototype.set=ne,he.exports=re},443:(he,ve,B)=>{var j=B(2119);he.exports=j.Symbol},4633:he=>{he.exports=function ve(B,j){for(var ee=-1,se=null==B?0:B.length,ie=Array(se);++ee<se;)ie[ee]=j(B[ee],ee,B);return ie}},9719:(he,ve,B)=>{var j=B(5683),ee=B(217),ie=Object.prototype.hasOwnProperty;he.exports=function ne(re,ue,ge){var Ce=re[ue];(!ie.call(re,ue)||!ee(Ce,ge)||void 0===ge&&!(ue in re))&&j(re,ue,ge)}},3503:(he,ve,B)=>{var j=B(217);he.exports=function ee(se,ie){for(var ne=se.length;ne--;)if(j(se[ne][0],ie))return ne;return-1}},5683:(he,ve,B)=>{var j=B(6713);he.exports=function ee(se,ie,ne){"__proto__"==ie&&j?j(se,ie,{configurable:!0,enumerable:!0,value:ne,writable:!0}):se[ie]=ne}},5456:(he,ve,B)=>{var j=B(6884),ee=B(8533);he.exports=function se(ie,ne){for(var re=0,ue=(ne=j(ne,ie)).length;null!=ie&&re<ue;)ie=ie[ee(ne[re++])];return re&&re==ue?ie:void 0}},3337:(he,ve,B)=>{var j=B(443),ee=B(1318),se=B(2902),re=j?j.toStringTag:void 0;he.exports=function ue(ge){return null==ge?void 0===ge?"[object Undefined]":"[object Null]":re&&re in Object(ge)?ee(ge):se(ge)}},7304:(he,ve,B)=>{var j=B(5946),ee=B(1943),se=B(5940),ie=B(2827),re=/^\[object .+?Constructor\]$/,st=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");he.exports=function ot(tt){return!(!se(tt)||ee(tt))&&(j(tt)?st:re).test(ie(tt))}},5963:(he,ve,B)=>{var j=B(9719),ee=B(6884),se=B(8442),ie=B(5940),ne=B(8533);he.exports=function re(ue,ge,Ce,Ne){if(!ie(ue))return ue;for(var st=-1,ot=(ge=ee(ge,ue)).length,tt=ot-1,Be=ue;null!=Be&&++st<ot;){var we=ne(ge[st]),et=Ce;if("__proto__"===we||"constructor"===we||"prototype"===we)return ue;if(st!=tt){var xt=Be[we];void 0===(et=Ne?Ne(xt,we,Be):void 0)&&(et=ie(xt)?xt:se(ge[st+1])?[]:{})}j(Be,we,et),Be=Be[we]}return ue}},3935:(he,ve,B)=>{var j=B(443),ee=B(4633),se=B(1503),ie=B(4129),re=j?j.prototype:void 0,ue=re?re.toString:void 0;he.exports=function ge(Ce){if("string"==typeof Ce)return Ce;if(se(Ce))return ee(Ce,ge)+"";if(ie(Ce))return ue?ue.call(Ce):"";var Ne=Ce+"";return"0"==Ne&&1/Ce==-1/0?"-0":Ne}},3348:(he,ve,B)=>{var j=B(2760),ee=/^\s+/;he.exports=function se(ie){return ie&&ie.slice(0,j(ie)+1).replace(ee,"")}},6884:(he,ve,B)=>{var j=B(1503),ee=B(5352),se=B(2855),ie=B(3943);he.exports=function ne(re,ue){return j(re)?re:ee(re,ue)?[re]:se(ie(re))}},9454:he=>{he.exports=function ve(B,j){var ee=-1,se=B.length;for(j||(j=Array(se));++ee<se;)j[ee]=B[ee];return j}},4610:(he,ve,B)=>{var j=B(2119);he.exports=j["__core-js_shared__"]},6713:(he,ve,B)=>{var j=B(3436),ee=function(){try{var se=j(Object,"defineProperty");return se({},"",{}),se}catch{}}();he.exports=ee},9122:he=>{var ve="object"==typeof global&&global&&global.Object===Object&&global;he.exports=ve},4537:(he,ve,B)=>{var j=B(3819);he.exports=function ee(se,ie){var ne=se.__data__;return j(ie)?ne["string"==typeof ie?"string":"hash"]:ne.map}},3436:(he,ve,B)=>{var j=B(7304),ee=B(1990);he.exports=function se(ie,ne){var re=ee(ie,ne);return j(re)?re:void 0}},1318:(he,ve,B)=>{var j=B(443),ee=Object.prototype,se=ee.hasOwnProperty,ie=ee.toString,ne=j?j.toStringTag:void 0;he.exports=function re(ue){var ge=se.call(ue,ne),Ce=ue[ne];try{ue[ne]=void 0;var Ne=!0}catch{}var st=ie.call(ue);return Ne&&(ge?ue[ne]=Ce:delete ue[ne]),st}},1990:he=>{he.exports=function ve(B,j){return B?.[j]}},4312:(he,ve,B)=>{var j=B(862);he.exports=function ee(){this.__data__=j?j(null):{},this.size=0}},6421:he=>{he.exports=function ve(B){var j=this.has(B)&&delete this.__data__[B];return this.size-=j?1:0,j}},5764:(he,ve,B)=>{var j=B(862),ie=Object.prototype.hasOwnProperty;he.exports=function ne(re){var ue=this.__data__;if(j){var ge=ue[re];return"__lodash_hash_undefined__"===ge?void 0:ge}return ie.call(ue,re)?ue[re]:void 0}},8685:(he,ve,B)=>{var j=B(862),se=Object.prototype.hasOwnProperty;he.exports=function ie(ne){var re=this.__data__;return j?void 0!==re[ne]:se.call(re,ne)}},6676:(he,ve,B)=>{var j=B(862);he.exports=function se(ie,ne){var re=this.__data__;return this.size+=this.has(ie)?0:1,re[ie]=j&&void 0===ne?"__lodash_hash_undefined__":ne,this}},8442:he=>{var B=/^(?:0|[1-9]\d*)$/;he.exports=function j(ee,se){var ie=typeof ee;return!!(se=se??9007199254740991)&&("number"==ie||"symbol"!=ie&&B.test(ee))&&ee>-1&&ee%1==0&&ee<se}},5352:(he,ve,B)=>{var j=B(1503),ee=B(4129),se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ie=/^\w*$/;he.exports=function ne(re,ue){if(j(re))return!1;var ge=typeof re;return!("number"!=ge&&"symbol"!=ge&&"boolean"!=ge&&null!=re&&!ee(re))||ie.test(re)||!se.test(re)||null!=ue&&re in Object(ue)}},3819:he=>{he.exports=function ve(B){var j=typeof B;return"string"==j||"number"==j||"symbol"==j||"boolean"==j?"__proto__"!==B:null===B}},1943:(he,ve,B)=>{var ie,j=B(4610),ee=(ie=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+ie:"";he.exports=function se(ie){return!!ee&&ee in ie}},1840:he=>{he.exports=function ve(){this.__data__=[],this.size=0}},4378:(he,ve,B)=>{var j=B(3503),se=Array.prototype.splice;he.exports=function ie(ne){var re=this.__data__,ue=j(re,ne);return!(ue<0||(ue==re.length-1?re.pop():se.call(re,ue,1),--this.size,0))}},4981:(he,ve,B)=>{var j=B(3503);he.exports=function ee(se){var ie=this.__data__,ne=j(ie,se);return ne<0?void 0:ie[ne][1]}},7343:(he,ve,B)=>{var j=B(3503);he.exports=function ee(se){return j(this.__data__,se)>-1}},8895:(he,ve,B)=>{var j=B(3503);he.exports=function ee(se,ie){var ne=this.__data__,re=j(ne,se);return re<0?(++this.size,ne.push([se,ie])):ne[re][1]=ie,this}},638:(he,ve,B)=>{var j=B(4994),ee=B(9215),se=B(1501);he.exports=function ie(){this.size=0,this.__data__={hash:new j,map:new(se||ee),string:new j}}},1184:(he,ve,B)=>{var j=B(4537);he.exports=function ee(se){var ie=j(this,se).delete(se);return this.size-=ie?1:0,ie}},866:(he,ve,B)=>{var j=B(4537);he.exports=function ee(se){return j(this,se).get(se)}},3771:(he,ve,B)=>{var j=B(4537);he.exports=function ee(se){return j(this,se).has(se)}},1772:(he,ve,B)=>{var j=B(4537);he.exports=function ee(se,ie){var ne=j(this,se),re=ne.size;return ne.set(se,ie),this.size+=ne.size==re?0:1,this}},719:(he,ve,B)=>{var j=B(535);he.exports=function se(ie){var ne=j(ie,function(ue){return 500===re.size&&re.clear(),ue}),re=ne.cache;return ne}},862:(he,ve,B)=>{var ee=B(3436)(Object,"create");he.exports=ee},2902:he=>{var B=Object.prototype.toString;he.exports=function j(ee){return B.call(ee)}},2119:(he,ve,B)=>{var j=B(9122),ee="object"==typeof self&&self&&self.Object===Object&&self,se=j||ee||Function("return this")();he.exports=se},2855:(he,ve,B)=>{var j=B(719),ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,se=/\\(\\)?/g,ie=j(function(ne){var re=[];return 46===ne.charCodeAt(0)&&re.push(""),ne.replace(ee,function(ue,ge,Ce,Ne){re.push(Ce?Ne.replace(se,"$1"):ge||ue)}),re});he.exports=ie},8533:(he,ve,B)=>{var j=B(4129);he.exports=function se(ie){if("string"==typeof ie||j(ie))return ie;var ne=ie+"";return"0"==ne&&1/ie==-1/0?"-0":ne}},2827:he=>{var B=Function.prototype.toString;he.exports=function j(ee){if(null!=ee){try{return B.call(ee)}catch{}try{return ee+""}catch{}}return""}},2760:he=>{var ve=/\s/;he.exports=function B(j){for(var ee=j.length;ee--&&ve.test(j.charAt(ee)););return ee}},406:(he,ve,B)=>{var j=B(5940),ee=B(1710),se=B(1467),ne=Math.max,re=Math.min;he.exports=function ue(ge,Ce,Ne){var st,ot,tt,Be,we,et,xt=0,xe=!1,at=!1,ut=!0;if("function"!=typeof ge)throw new TypeError("Expected a function");function yt(Te){var ft=st,Mt=ot;return st=ot=void 0,xt=Te,Be=ge.apply(Mt,ft)}function Ht(Te){return xt=Te,we=setTimeout(on,Ce),xe?yt(Te):Be}function Ot(Te){var ft=Te-et;return void 0===et||ft>=Ce||ft<0||at&&Te-xt>=tt}function on(){var Te=ee();if(Ot(Te))return wn(Te);we=setTimeout(on,function At(Te){var it=Ce-(Te-et);return at?re(it,tt-(Te-xt)):it}(Te))}function wn(Te){return we=void 0,ut&&st?yt(Te):(st=ot=void 0,Be)}function He(){var Te=ee(),ft=Ot(Te);if(st=arguments,ot=this,et=Te,ft){if(void 0===we)return Ht(et);if(at)return clearTimeout(we),we=setTimeout(on,Ce),yt(et)}return void 0===we&&(we=setTimeout(on,Ce)),Be}return Ce=se(Ce)||0,j(Ne)&&(xe=!!Ne.leading,tt=(at="maxWait"in Ne)?ne(se(Ne.maxWait)||0,Ce):tt,ut="trailing"in Ne?!!Ne.trailing:ut),He.cancel=function ht(){void 0!==we&&clearTimeout(we),xt=0,st=et=ot=we=void 0},He.flush=function _t(){return void 0===we?Be:wn(ee())},He}},217:he=>{he.exports=function ve(B,j){return B===j||B!=B&&j!=j}},8817:(he,ve,B)=>{var j=B(5456);he.exports=function ee(se,ie,ne){var re=null==se?void 0:j(se,ie);return void 0===re?ne:re}},1503:he=>{he.exports=Array.isArray},5946:(he,ve,B)=>{var j=B(3337),ee=B(5940);he.exports=function ue(ge){if(!ee(ge))return!1;var Ce=j(ge);return"[object Function]"==Ce||"[object GeneratorFunction]"==Ce||"[object AsyncFunction]"==Ce||"[object Proxy]"==Ce}},5940:he=>{he.exports=function ve(B){var j=typeof B;return null!=B&&("object"==j||"function"==j)}},2671:he=>{he.exports=function ve(B){return null!=B&&"object"==typeof B}},4129:(he,ve,B)=>{var j=B(3337),ee=B(2671);he.exports=function ie(ne){return"symbol"==typeof ne||ee(ne)&&"[object Symbol]"==j(ne)}},535:(he,ve,B)=>{var j=B(9850);function se(ie,ne){if("function"!=typeof ie||null!=ne&&"function"!=typeof ne)throw new TypeError("Expected a function");var re=function(){var ue=arguments,ge=ne?ne.apply(this,ue):ue[0],Ce=re.cache;if(Ce.has(ge))return Ce.get(ge);var Ne=ie.apply(this,ue);return re.cache=Ce.set(ge,Ne)||Ce,Ne};return re.cache=new(se.Cache||j),re}se.Cache=j,he.exports=se},1710:(he,ve,B)=>{var j=B(2119);he.exports=function(){return j.Date.now()}},4793:(he,ve,B)=>{var j=B(5963);he.exports=function ee(se,ie,ne){return null==se?se:j(se,ie,ne)}},1467:(he,ve,B)=>{var j=B(3348),ee=B(5940),se=B(4129),ne=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,ue=/^0o[0-7]+$/i,ge=parseInt;he.exports=function Ce(Ne){if("number"==typeof Ne)return Ne;if(se(Ne))return NaN;if(ee(Ne)){var st="function"==typeof Ne.valueOf?Ne.valueOf():Ne;Ne=ee(st)?st+"":st}if("string"!=typeof Ne)return 0===Ne?Ne:+Ne;Ne=j(Ne);var ot=re.test(Ne);return ot||ue.test(Ne)?ge(Ne.slice(2),ot?2:8):ne.test(Ne)?NaN:+Ne}},4152:(he,ve,B)=>{var j=B(4633),ee=B(9454),se=B(1503),ie=B(4129),ne=B(2855),re=B(8533),ue=B(3943);he.exports=function ge(Ce){return se(Ce)?j(Ce,re):ie(Ce)?[Ce]:ee(ne(ue(Ce)))}},3943:(he,ve,B)=>{var j=B(3935);he.exports=function ee(se){return null==se?"":j(se)}}},he=>{he(he.s=2421)}]);